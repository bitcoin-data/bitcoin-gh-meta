[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "In general this seems good, but I think you could shrink the PR and improve it by not exposing `ArgsManager` to low-level BDB and sqlite code, by instead adding fields to the existing [`DatabaseOptions` struct](https://github.com/bitcoin/bitcoin/blob/65b49f60a4cf521889297b2006f66efa11d769c5/src/wallet/db.h#L203-L210)\r\n\r\n```c++\r\nstruct DatabaseOptions {\r\n  ...\r\n  bool use_unsafe_sync = false;\r\n  bool use_shared_memory = !DEFAULT_WALLET_PRIVDB;\r\n  int64_t checkpoint_log_size = DEFAULT_WALLET_DBLOGSIZE;\r\n};\r\n```\r\n\r\nand adding corresponding `m_` members to the `SQLiteDatabse` and `BerkeleyEnvironment` classes where necessary. This way, database options are consolidated in one location, less code needs to change, and `ArgsManager` is not involved in database setup or operation.",
      "created_at" : "2021-12-10T14:35:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-991024592",
      "id" : 991024592,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847EdXQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991024592/reactions"
      },
      "updated_at" : "2021-12-10T14:35:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991024592",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you for the suggestion! Yes, that is an alternative. From the design point of view, we seem to balance the following properties:\r\n\r\n* Easiness to use new arguments in bdb and sqlite code.\r\n* Whether `ArgsManager` is meant to be basic class for all other code to use. In your approach, it hints it is not. I guess it makes sense not to expand what we consider to be \"basic\" unless really needed.\r\n* Both approaches remove `gArgs` which is my main goal really.\r\n\r\nYour sugestion seems reasonable. I'll try to modify it.",
      "created_at" : "2021-12-10T15:10:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-991051482",
      "id" : 991051482,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847Ej7a",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991051482/reactions"
      },
      "updated_at" : "2021-12-10T15:10:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991051482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24470](https://github.com/bitcoin/bitcoin/pull/24470) (Disallow more unsafe string->path conversions allowed by path append operators by ryanofsky)\n* [#20205](https://github.com/bitcoin/bitcoin/pull/20205) (wallet: Properly support a wallet id by achow101)\n* [#19873](https://github.com/bitcoin/bitcoin/pull/19873) (Flush dbcache early if system is under memory pressure by luke-jr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-12-10T17:49:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-991172417",
      "id" : 991172417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847FBdB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991172417/reactions"
      },
      "updated_at" : "2022-03-04T05:56:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991172417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I agree with @ryanofsky. I don't think we should be adding `ArgsManager` to the low level db implementations.",
      "created_at" : "2021-12-15T21:43:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-995236510",
      "id" : 995236510,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847Uhqe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995236510/reactions"
      },
      "updated_at" : "2021-12-15T21:43:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995236510",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-12-16T07:54:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-995525173",
      "id" : 995525173,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847VoI1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995525173/reactions"
      },
      "updated_at" : "2021-12-16T07:54:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995525173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you. I'm slowly trying to refactor it to follow ryanofsky's suggestion.",
      "created_at" : "2021-12-16T10:28:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-995641025",
      "id" : 995641025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847WEbB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995641025/reactions"
      },
      "updated_at" : "2021-12-16T10:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995641025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ryanofsky Would the latest approach make more sense to you? There are still rough edges - i.e.:\r\n\r\n* the [new names](https://github.com/bitcoin/bitcoin/pull/23732/files#diff-ddc91db5a0eada73500678ef50829608172baf44719b7477623d4c731a9fafccR216) of `DatabaseOptions` parameters\r\n* whether it is acceptable to [force construction](https://github.com/bitcoin/bitcoin/pull/23732/files#diff-ddc91db5a0eada73500678ef50829608172baf44719b7477623d4c731a9fafccR220) of `DatabaseOptions` via `ArgsManager`.\r\n* whether `std::shared_ptr` is appropriate for [passing of `DatabaseOptions`](https://github.com/bitcoin/bitcoin/pull/23732/files#diff-b06753f6e4621f5bcd6cd27fed4137e70a262596b08f7f3a1416ea21977c53d4R61). Attempt to go with `std::unique_ptr` instead?\r\n* we can also strive for `std::shared_ptr<const DatabaseOptions>` (with the `const` modifier).",
      "created_at" : "2021-12-19T09:32:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-997357288",
      "id" : 997357288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847cnbo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997357288/reactions"
      },
      "updated_at" : "2021-12-19T09:32:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997357288",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @ryanofsky Would the latest approach make more sense to you?\r\n\r\nThere are some good changes here, but I think it is a mistake change `DatabaseOptions` usage so much and share it so widely. The goal of the suggestion was really to make PR smaller, not larger.\r\n\r\nHere's an implementation that just adds a few fields to the `DatabaseOptions` struct without changing how the struct is used: 17176efddb1b9afaacc1e4c8411d1c505cae4740 ([branch](https://github.com/ryanofsky/bitcoin/commits/review.23732.2-edit)). This version (+90/-60 lines) is smaller than both the original version (+121/-101) e0500ac13b50e0953e6cc188570b6b8f941fb3d4 and the current version (+157/-133) 869fab49bfd7032f3fe5b65504f9c0a66e451026.\r\n\r\nI think `DatabaseOptions` shouldn't be a part of the BerkeleyEnvironment / BerkeleyDatabase / SQLiteDatabase classes, because most of the information it exposes is stale and not relevant to them.\r\n\r\nI also think ArgsManager shouldn't be required to use the MakeDatabase function or database functionality in general. It should be possible to get database options from other sources like RPC parameters, or GUI selections, or choose different options depending on whether database is opened for a batch operation or continuous use. The point of getting rid of gArgs is not just to get rid of the variable, but to use less shared state in general and make option setting more explicit.",
      "created_at" : "2021-12-21T03:59:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-998451106",
      "id" : 998451106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847gyei",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/998451106/reactions"
      },
      "updated_at" : "2021-12-21T03:59:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/998451106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think `DatabaseOptions` shouldn't be a part of the BerkeleyEnvironment / BerkeleyDatabase / SQLiteDatabase classes, because most of the information it exposes is stale and not relevant to them.\r\n\r\nI couldn't decide what approach to choose. I went with the more flexible one (in the sense that adding a new option is easy) because that is what `gArgs` provides too. This of course makes the assumption that we need that flexibility and I understand now that is not needed. Anyway, I like your code and how nicely it is written.\r\n\r\n> I also think ArgsManager shouldn't be required to use the MakeDatabase function or database functionality in general. \r\n\r\nI see. I did it because it helps find all the places where `DatabaseOptions` are being instantiated and also I like the guarrantee that the object cannot be instantiated incorrectly. \r\n",
      "created_at" : "2021-12-21T13:57:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-998800129",
      "id" : 998800129,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847iHsB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/998800129/reactions"
      },
      "updated_at" : "2021-12-21T13:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/998800129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-12-23T14:50:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-1000353941",
      "id" : 1000353941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5847oDCV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1000353941/reactions"
      },
      "updated_at" : "2021-12-23T14:50:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1000353941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r779022414"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/779022414"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What's the rationale for using \"shared memory\" here instead of just \"private\"? Especially as it comes from a \"-privdb\" flag and is eventually converted to a `DB_PRIVATE` flag. I don't think any flavor of actual shared memory is used here?\r\nAnother option would be to use `std::option<fs::path>` and a single argument. After all, the path is irrelevant in case of a private database.",
      "commit_id" : "c1ef77498c1c1f45b100eaa2bc2c7899278b552c",
      "created_at" : "2022-01-05T17:53:34Z",
      "diff_hunk" : "@@ -58,12 +58,12 @@ bool WalletDatabaseFileId::operator==(const WalletDatabaseFileId& rhs) const\n  * erases the weak pointer from the g_dbenvs map.\n  * @post A new BerkeleyEnvironment weak pointer is inserted into g_dbenvs if the directory path key was not already in the map.\n  */\n-std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory)\n+std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory, bool use_shared_memory)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r779022414",
      "id" : 779022414,
      "line" : 61,
      "node_id" : "PRRC_kwDOABII584ubvBO",
      "original_commit_id" : "c1ef77498c1c1f45b100eaa2bc2c7899278b552c",
      "original_line" : 61,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : 5,
      "pull_request_review_id" : 844896616,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/779022414/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-05T17:53:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/779022414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r779032304"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/779032304"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I've never heard of a \"private database\" before this PR and I think that terminology is a little arcane, but shared memory is a concept I'm familiar with, and that's what the flag controls, so that's what i called the DatabaseOptions member. This particular function argument and a few local variables are named to be consistent with the DatabaseOptions field name, but if you want to call them something different, that sounds fine. Maybe say what specific variables you would like to rename and what you would like to call them. If you want everything in bdb.h/bdb.cpp to use a `bool db_private` instead of `bool use_shared_memory` that seems reasonable (though IMO use_shared_memory is still clearer).",
      "commit_id" : "c1ef77498c1c1f45b100eaa2bc2c7899278b552c",
      "created_at" : "2022-01-05T18:08:31Z",
      "diff_hunk" : "@@ -58,12 +58,12 @@ bool WalletDatabaseFileId::operator==(const WalletDatabaseFileId& rhs) const\n  * erases the weak pointer from the g_dbenvs map.\n  * @post A new BerkeleyEnvironment weak pointer is inserted into g_dbenvs if the directory path key was not already in the map.\n  */\n-std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory)\n+std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory, bool use_shared_memory)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r779032304",
      "id" : 779032304,
      "in_reply_to_id" : 779022414,
      "line" : 61,
      "node_id" : "PRRC_kwDOABII584ubxbw",
      "original_commit_id" : "c1ef77498c1c1f45b100eaa2bc2c7899278b552c",
      "original_line" : 61,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : 5,
      "pull_request_review_id" : 844911154,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/779032304/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-05T18:10:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/779032304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-01-11T10:36:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-1009830376",
      "id" : 1009830376,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5848MMno",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009830376/reactions"
      },
      "updated_at" : "2022-01-11T10:36:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009830376",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r782268366"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/782268366"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/observerdev/db-4.8.30/blob/3c75267f11336acb1be06bed419e8056cc689d09/dbinc/region.h#L26-L28 - Is this possibly the correct explanation of `DB_PRIVATE`? ",
      "commit_id" : "e51943ab5c06adff95b63e0b6b9e985ed156bd7f",
      "created_at" : "2022-01-11T15:38:40Z",
      "diff_hunk" : "@@ -58,12 +58,12 @@ bool WalletDatabaseFileId::operator==(const WalletDatabaseFileId& rhs) const\n  * erases the weak pointer from the g_dbenvs map.\n  * @post A new BerkeleyEnvironment weak pointer is inserted into g_dbenvs if the directory path key was not already in the map.\n  */\n-std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory)\n+std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory, bool use_shared_memory)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r782268366",
      "id" : 782268366,
      "in_reply_to_id" : 779022414,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII584uoHfO",
      "original_commit_id" : "c1ef77498c1c1f45b100eaa2bc2c7899278b552c",
      "original_line" : 62,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : 5,
      "pull_request_review_id" : 849354964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/782268366/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-11T15:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/782268366",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r782303489"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/782303489"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> https://github.com/observerdev/db-4.8.30/blob/3c75267f11336acb1be06bed419e8056cc689d09/dbinc/region.h#L26-L28 - Is this possibly the correct explanation of `DB_PRIVATE`?\r\n\r\nI'm sure it's correct. I don't think is any question about what that flag does. The questions here are just about readability and variable names in this PR. I don't think there's anything that needs to be done yet, except rebase",
      "commit_id" : "e51943ab5c06adff95b63e0b6b9e985ed156bd7f",
      "created_at" : "2022-01-11T16:12:01Z",
      "diff_hunk" : "@@ -58,12 +58,12 @@ bool WalletDatabaseFileId::operator==(const WalletDatabaseFileId& rhs) const\n  * erases the weak pointer from the g_dbenvs map.\n  * @post A new BerkeleyEnvironment weak pointer is inserted into g_dbenvs if the directory path key was not already in the map.\n  */\n-std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory)\n+std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory, bool use_shared_memory)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r782303489",
      "id" : 782303489,
      "in_reply_to_id" : 779022414,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII584uoQEB",
      "original_commit_id" : "c1ef77498c1c1f45b100eaa2bc2c7899278b552c",
      "original_line" : 62,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : 5,
      "pull_request_review_id" : 849413109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/782303489/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-11T16:12:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/782303489",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r782311894"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/782311894"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "That was supposed to be for my information :)",
      "commit_id" : "e51943ab5c06adff95b63e0b6b9e985ed156bd7f",
      "created_at" : "2022-01-11T16:21:02Z",
      "diff_hunk" : "@@ -58,12 +58,12 @@ bool WalletDatabaseFileId::operator==(const WalletDatabaseFileId& rhs) const\n  * erases the weak pointer from the g_dbenvs map.\n  * @post A new BerkeleyEnvironment weak pointer is inserted into g_dbenvs if the directory path key was not already in the map.\n  */\n-std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory)\n+std::shared_ptr<BerkeleyEnvironment> GetBerkeleyEnv(const fs::path& env_directory, bool use_shared_memory)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r782311894",
      "id" : 782311894,
      "in_reply_to_id" : 779022414,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII584uoSHW",
      "original_commit_id" : "c1ef77498c1c1f45b100eaa2bc2c7899278b552c",
      "original_line" : 62,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : 5,
      "pull_request_review_id" : 849425334,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/782311894/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-11T16:21:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/782311894",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-02-09T23:09:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-1034294504",
      "id" : 1034294504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII5849phTo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1034294504/reactions"
      },
      "updated_at" : "2022-02-09T23:09:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1034294504",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ryanofsky Would you mind re-ACKing, please?",
      "created_at" : "2022-03-09T21:42:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-1063400851",
      "id" : 1063400851,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII584_YjWT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1063400851/reactions"
      },
      "updated_at" : "2022-03-09T21:42:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1063400851",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827100855"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827100855"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is the IsArgSet check needed? Looks like this either makes the default argument path unused, or the default argument path makes this redundant. ",
      "commit_id" : "3f730adbdf1467744f722bd43ccc4c7249cd3dc9",
      "created_at" : "2022-03-15T15:19:46Z",
      "diff_hunk" : "@@ -137,4 +138,12 @@ bool IsSQLiteFile(const fs::path& path)\n     // Check the application id matches our network magic\n     return memcmp(Params().MessageStart(), app_id, 4) == 0;\n }\n+\n+void ReadDatabaseArgs(const ArgsManager& args, DatabaseOptions& options)\n+{\n+    if (args.IsArgSet(\"-unsafesqlitesync\")) options.use_unsafe_sync = args.GetBoolArg(\"-unsafesqlitesync\", options.use_unsafe_sync);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827100855",
      "id" : 827100855,
      "line" : 144,
      "node_id" : "PRRC_kwDOABII584xTI63",
      "original_commit_id" : "3f730adbdf1467744f722bd43ccc4c7249cd3dc9",
      "original_line" : 144,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/wallet/db.cpp",
      "position" : 15,
      "pull_request_review_id" : 910386441,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827100855/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-15T15:23:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827100855",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827140844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827140844"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Why is the IsArgSet check needed? Looks like this either makes the default argument path unused, or the default argument path makes this redundant.\r\n\r\nThat's true. I think I suggested IsArgSet to try to make it clear that all the current option values would be unchanged if they weren't explicitly overridden by ArgsManager. But probably better to simplify. Maybe:\r\n\r\n```c++\r\n// Override current options with args values, if any were specified\r\noptions.use_unsafe_sync = args.GetBoolArg(\"-unsafesqlitesync\", options.use_unsafe_sync);\r\noptions.use_shared_memory = !args.GetBoolArg(\"-privdb\", !options.use_shared_memory);\r\noptions.max_log_mb = args.GetIntArg(\"-dblogsize\", options.max_log_mb);\r\n```",
      "commit_id" : "3f730adbdf1467744f722bd43ccc4c7249cd3dc9",
      "created_at" : "2022-03-15T15:54:20Z",
      "diff_hunk" : "@@ -137,4 +138,12 @@ bool IsSQLiteFile(const fs::path& path)\n     // Check the application id matches our network magic\n     return memcmp(Params().MessageStart(), app_id, 4) == 0;\n }\n+\n+void ReadDatabaseArgs(const ArgsManager& args, DatabaseOptions& options)\n+{\n+    if (args.IsArgSet(\"-unsafesqlitesync\")) options.use_unsafe_sync = args.GetBoolArg(\"-unsafesqlitesync\", options.use_unsafe_sync);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827140844",
      "id" : 827140844,
      "in_reply_to_id" : 827100855,
      "line" : 144,
      "node_id" : "PRRC_kwDOABII584xTSrs",
      "original_commit_id" : "3f730adbdf1467744f722bd43ccc4c7249cd3dc9",
      "original_line" : 144,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/wallet/db.cpp",
      "position" : 15,
      "pull_request_review_id" : 910442826,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827140844/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-15T15:54:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827140844",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827146802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827146802"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    if (!m_use_shared_memory) {\r\n```\r\n\r\nnit (if you retouch)",
      "commit_id" : "3f730adbdf1467744f722bd43ccc4c7249cd3dc9",
      "created_at" : "2022-03-15T15:59:25Z",
      "diff_hunk" : "@@ -145,7 +145,7 @@ bool BerkeleyEnvironment::Open(bilingual_str& err)\n     LogPrintf(\"BerkeleyEnvironment::Open: LogDir=%s ErrorFile=%s\\n\", fs::PathToString(pathLogDir), fs::PathToString(pathErrorFile));\n \n     unsigned int nEnvFlags = 0;\n-    if (gArgs.GetBoolArg(\"-privdb\", DEFAULT_WALLET_PRIVDB))\n+    if (!m_use_shared_memory)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827146802",
      "id" : 827146802,
      "line" : 148,
      "node_id" : "PRRC_kwDOABII584xTUIy",
      "original_commit_id" : "3f730adbdf1467744f722bd43ccc4c7249cd3dc9",
      "original_line" : 148,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : 29,
      "pull_request_review_id" : 910451440,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827146802/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-15T15:59:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827146802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827699022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827699022"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you. Modified.",
      "commit_id" : "39b1763730177cd7d6a32fd9321da640b0d65e0e",
      "created_at" : "2022-03-16T07:30:00Z",
      "diff_hunk" : "@@ -145,7 +145,7 @@ bool BerkeleyEnvironment::Open(bilingual_str& err)\n     LogPrintf(\"BerkeleyEnvironment::Open: LogDir=%s ErrorFile=%s\\n\", fs::PathToString(pathLogDir), fs::PathToString(pathErrorFile));\n \n     unsigned int nEnvFlags = 0;\n-    if (gArgs.GetBoolArg(\"-privdb\", DEFAULT_WALLET_PRIVDB))\n+    if (!m_use_shared_memory)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827699022",
      "id" : 827699022,
      "in_reply_to_id" : 827146802,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584xVa9O",
      "original_commit_id" : "3f730adbdf1467744f722bd43ccc4c7249cd3dc9",
      "original_line" : 148,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : null,
      "pull_request_review_id" : 911191650,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827699022/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T07:30:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827699022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827699272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827699272"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I have modified it as ryanofsky suggested.",
      "commit_id" : "39b1763730177cd7d6a32fd9321da640b0d65e0e",
      "created_at" : "2022-03-16T07:30:26Z",
      "diff_hunk" : "@@ -137,4 +138,12 @@ bool IsSQLiteFile(const fs::path& path)\n     // Check the application id matches our network magic\n     return memcmp(Params().MessageStart(), app_id, 4) == 0;\n }\n+\n+void ReadDatabaseArgs(const ArgsManager& args, DatabaseOptions& options)\n+{\n+    if (args.IsArgSet(\"-unsafesqlitesync\")) options.use_unsafe_sync = args.GetBoolArg(\"-unsafesqlitesync\", options.use_unsafe_sync);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#discussion_r827699272",
      "id" : 827699272,
      "in_reply_to_id" : 827100855,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584xVbBI",
      "original_commit_id" : "3f730adbdf1467744f722bd43ccc4c7249cd3dc9",
      "original_line" : 144,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/wallet/db.cpp",
      "position" : null,
      "pull_request_review_id" : 911191997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23732",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827699272/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T07:30:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827699272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Since you're basically adding `ReadDatabaseArgs` everywhere a `DatabaseOptions` is created, could this function turned into a constructor for `DatabaseOptions`? This would also help in the future so that we don't forget that we need to set some options based on the cli args.",
      "created_at" : "2022-03-23T17:15:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-1076593898",
      "id" : 1076593898,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII585AK4Tq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076593898/reactions"
      },
      "updated_at" : "2022-03-23T17:15:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076593898",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Since you're basically adding `ReadDatabaseArgs` everywhere a `DatabaseOptions` is created, could this function turned into a constructor for `DatabaseOptions`? This would also help in the future so that we don't forget that we need to set some options based on the cli args.\r\n\r\nMy thinking is that I would like it to be possible to call wallet database functions without having any ArgsManager. It's true if that wallet database code doesn't depend on ArgsManager, it can't require an ArgsManager argument, and it is theoretically possible for a bug to arise where ArgsManager options are not applied despite it making sense to apply them. But I think potential for having this type of bug is a reasonable tradeoff for wallet database code to be more modular.\r\n\r\nI wouldn't oppose if you want to DatabaseOptions to require an ArgsManager instance to be constructed, but I don't think it's the best approach. Also doing this would require changing the AddArg code and maybe reintroducing the DEFAULT_WALLET_DBLOGSIZE and DEFAULT_WALLET_PRIVDB constants I thought we would be happy to get rid of.",
      "created_at" : "2022-03-23T19:22:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-1076732869",
      "id" : 1076732869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII585ALaPF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076732869/reactions"
      },
      "updated_at" : "2022-03-23T19:22:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076732869",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 39b1763730177cd7d6a32fd9321da640b0d65e0e",
      "created_at" : "2022-03-23T19:41:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-1076749897",
      "id" : 1076749897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII585ALeZJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076749897/reactions"
      },
      "updated_at" : "2022-03-23T19:41:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076749897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Since you're basically adding `ReadDatabaseArgs` everywhere a `DatabaseOptions` is created, could this function turned into a constructor for `DatabaseOptions`? This would also help in the future so that we don't forget that we need to set some options based on the cli args.\r\n\r\nI actually did that in a previous iteration of this PR but @ryanofsky persuaded me that it was/is better to avoid doing that.",
      "created_at" : "2022-03-23T20:57:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23732#issuecomment-1076813356",
      "id" : 1076813356,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23732",
      "node_id" : "IC_kwDOABII585ALt4s",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076813356/reactions"
      },
      "updated_at" : "2022-03-23T20:57:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076813356",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   }
]
