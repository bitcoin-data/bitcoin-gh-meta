[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r765797782"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765797782"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's a bit of a shame that this wraps based on a global counter. Perhaps:\r\n\r\n```suggestion\r\n                assert self.counter < 256 ** 2  # Don't allow the returned ip addresses to wrap.\r\n                addr.ip = f\"123.123.{self.counter // 256}.{self.counter % 256}\"\r\n```",
      "commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "created_at" : "2021-12-09T13:40:48Z",
      "diff_hunk" : "@@ -91,13 +91,16 @@ def run_test(self):\n         self.blocksonly_mode_tests()\n         self.rate_limit_tests()\n \n-    def setup_addr_msg(self, num):\n+    def setup_addr_msg(self, num, deterministic_ips=True):\n         addrs = []\n         for i in range(num):\n             addr = CAddress()\n-            addr.time = self.mocktime + i\n+            addr.time = self.mocktime + random.randrange(-100, 100)\n             addr.nServices = P2P_SERVICES\n-            addr.ip = f\"123.123.123.{self.counter % 256}\"\n+            if deterministic_ips:\n+                addr.ip = f\"123.123.123.{self.counter % 256}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r765797782",
      "id" : 765797782,
      "line" : 101,
      "node_id" : "PRRC_kwDOABII584tpSWW",
      "original_commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "original_line" : 101,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : 14,
      "pull_request_review_id" : 827694191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765797782/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T14:21:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765797782",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r765798374"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765798374"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: to bikeshed, I'd suggest calling this parameter `sequential_ips`, since even the \"random\" ips are deterministic based on the random seed set at the start of the test.",
      "commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "created_at" : "2021-12-09T13:41:30Z",
      "diff_hunk" : "@@ -91,13 +91,16 @@ def run_test(self):\n         self.blocksonly_mode_tests()\n         self.rate_limit_tests()\n \n-    def setup_addr_msg(self, num):\n+    def setup_addr_msg(self, num, deterministic_ips=True):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r765798374",
      "id" : 765798374,
      "line" : 94,
      "node_id" : "PRRC_kwDOABII584tpSfm",
      "original_commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "original_line" : 94,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : 5,
      "pull_request_review_id" : 827694191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765798374/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T14:21:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765798374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r765834760"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765834760"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is a bit of a magic number. Perhaps it's worth a comment?\r\n\r\n```diff\r\ndiff --git a/test/functional/p2p_addr_relay.py b/test/functional/p2p_addr_relay.py\r\nindex 5f75670739..1502038b2d 100755\r\n--- a/test/functional/p2p_addr_relay.py\r\n+++ b/test/functional/p2p_addr_relay.py\r\n@@ -272,6 +272,10 @@ class AddrTest(BitcoinTestFramework):\r\n         block_relay_peer.send_and_ping(msg_getaddr())\r\n         inbound_peer.send_and_ping(msg_getaddr())\r\n \r\n+        # `addr` messages are sent on an exponential distribution with mean interval\r\n+        # of 30s. Setting the mocktime 600s forward and waiting for 60s for the\r\n+        # addr message gives a probability of (1 - e^-(660/30)) that the event will\r\n+        # occur (i.e. this fails less than one in 3 billion repeats).\r\n         self.mocktime += 10 * 60\r\n         self.nodes[0].setmocktime(self.mocktime)\r\n         inbound_peer.wait_until(lambda: inbound_peer.addr_received() is True)\r\n```\r\n\r\nIncidentally, I don't like the name `PoissonNextSend` since people often refer to it incorrectly as a \"Poisson distribution\", whereas it is in fact an _exponential distribution_, which gives the probability distribution of the time between events in a _Poisson point process_ (https://en.wikipedia.org/wiki/Exponential_distribution).",
      "commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "created_at" : "2021-12-09T14:21:29Z",
      "diff_hunk" : "@@ -282,7 +272,7 @@ def getaddr_tests(self):\n         block_relay_peer.send_and_ping(msg_getaddr())\n         inbound_peer.send_and_ping(msg_getaddr())\n \n-        self.mocktime += 5 * 60\n+        self.mocktime += 10 * 60",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r765834760",
      "id" : 765834760,
      "line" : 275,
      "node_id" : "PRRC_kwDOABII584tpbYI",
      "original_commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "original_line" : 275,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : 45,
      "pull_request_review_id" : 827694191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765834760/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T14:21:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765834760",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768173176"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768173176"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I added a comment for that - I think we can't count the last 60s because afaik once we set the mocktime once, the internal time won't progress by waiting.\r\n\r\nI think it would make sense to document this feature of PoissonNextSend in `net`, since this has confused me before as well (and others, see e.g. #23347).",
      "commit_id" : "2bd0198fd3cd401155072cf65014f1634aff3185",
      "created_at" : "2021-12-13T22:31:46Z",
      "diff_hunk" : "@@ -282,7 +272,7 @@ def getaddr_tests(self):\n         block_relay_peer.send_and_ping(msg_getaddr())\n         inbound_peer.send_and_ping(msg_getaddr())\n \n-        self.mocktime += 5 * 60\n+        self.mocktime += 10 * 60",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768173176",
      "id" : 768173176,
      "in_reply_to_id" : 765834760,
      "line" : 279,
      "node_id" : "PRRC_kwDOABII584tyWR4",
      "original_commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "original_line" : 279,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : 55,
      "pull_request_review_id" : 830827096,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768173176/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-13T22:31:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768173176",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768173270"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768173270"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "2bd0198fd3cd401155072cf65014f1634aff3185",
      "created_at" : "2021-12-13T22:31:55Z",
      "diff_hunk" : "@@ -91,13 +91,16 @@ def run_test(self):\n         self.blocksonly_mode_tests()\n         self.rate_limit_tests()\n \n-    def setup_addr_msg(self, num):\n+    def setup_addr_msg(self, num, deterministic_ips=True):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768173270",
      "id" : 768173270,
      "in_reply_to_id" : 765798374,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tyWTW",
      "original_commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "original_line" : 94,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : null,
      "pull_request_review_id" : 830827234,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768173270/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-13T22:31:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768173270",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the reviews @jnewbery  @shaavan \r\n\r\n> I suggest you should add the following part of the PR descriptionâ¦\r\n\r\nDone, thanks\r\n\r\n> In `setup_rand_addr_msg`, the masterâs branch, the value of addr.port remains unchanged for each iteration. (...)\r\n> While in the PRâs `setup_addr_msg(self, num, deterministic_ips=False):` the value of addr.port get updated with each iteration, irrespective of if the ips generated are deterministic or random.\r\n\r\nRight, good obsevation! I agree that this is a small change in behavior of the test, but I don't think it's problematic. Adding a bit more variety in terms of ports to the addrs used in `send_addrs_and_test_rate_limiting` should not affect the outcome of this test, and with ongoing efforts to allow more port variety (e.g. #23542) it makes sense to have that variety reflected here too.",
      "created_at" : "2021-12-13T22:58:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#issuecomment-992987040",
      "id" : 992987040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23720",
      "node_id" : "IC_kwDOABII5847L8eg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992987040/reactions"
      },
      "updated_at" : "2021-12-13T22:58:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992987040",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768192425"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768192425"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done as suggested. I also moved the incrementation of the counter into the `sequential_ips` conditional because it is only used there.",
      "commit_id" : "030089d77aca0f3c8b01afa87e78818e28f4c40f",
      "created_at" : "2021-12-13T23:08:58Z",
      "diff_hunk" : "@@ -91,13 +91,16 @@ def run_test(self):\n         self.blocksonly_mode_tests()\n         self.rate_limit_tests()\n \n-    def setup_addr_msg(self, num):\n+    def setup_addr_msg(self, num, deterministic_ips=True):\n         addrs = []\n         for i in range(num):\n             addr = CAddress()\n-            addr.time = self.mocktime + i\n+            addr.time = self.mocktime + random.randrange(-100, 100)\n             addr.nServices = P2P_SERVICES\n-            addr.ip = f\"123.123.123.{self.counter % 256}\"\n+            if deterministic_ips:\n+                addr.ip = f\"123.123.123.{self.counter % 256}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768192425",
      "id" : 768192425,
      "in_reply_to_id" : 765797782,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tya-p",
      "original_commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "original_line" : 101,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : null,
      "pull_request_review_id" : 830854224,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768192425/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-13T23:08:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768192425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768511993"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768511993"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> I think we can't count the last 60s because afaik once we set the mocktime once, the internal time won't progress by waiting.\r\n\r\nAh yes. I think you're right.\r\n\r\n> I think it would make sense to document this feature of PoissonNextSend\r\n\r\nI'll have a crack at this.",
      "commit_id" : "030089d77aca0f3c8b01afa87e78818e28f4c40f",
      "created_at" : "2021-12-14T10:17:07Z",
      "diff_hunk" : "@@ -282,7 +272,7 @@ def getaddr_tests(self):\n         block_relay_peer.send_and_ping(msg_getaddr())\n         inbound_peer.send_and_ping(msg_getaddr())\n \n-        self.mocktime += 5 * 60\n+        self.mocktime += 10 * 60",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768511993",
      "id" : 768511993,
      "in_reply_to_id" : 765834760,
      "line" : 280,
      "node_id" : "PRRC_kwDOABII584tzo_5",
      "original_commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "original_line" : 280,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : 65,
      "pull_request_review_id" : 831284867,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768511993/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-14T10:17:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768511993",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768549368"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768549368"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I have a branch here: https://github.com/jnewbery/bitcoin/tree/2021-12-rename-poisson that renames the poisson functions, expands the comments and moves them to more appropriate places. Let me know what you think.",
      "commit_id" : "030089d77aca0f3c8b01afa87e78818e28f4c40f",
      "created_at" : "2021-12-14T10:57:25Z",
      "diff_hunk" : "@@ -282,7 +272,7 @@ def getaddr_tests(self):\n         block_relay_peer.send_and_ping(msg_getaddr())\n         inbound_peer.send_and_ping(msg_getaddr())\n \n-        self.mocktime += 5 * 60\n+        self.mocktime += 10 * 60",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r768549368",
      "id" : 768549368,
      "in_reply_to_id" : 765834760,
      "line" : 280,
      "node_id" : "PRRC_kwDOABII584tzyH4",
      "original_commit_id" : "f8ff552aa05686d5b08c9b03bb798804039b738d",
      "original_line" : 280,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : 65,
      "pull_request_review_id" : 831334211,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768549368/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-14T10:57:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/768549368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 030089d77aca0f3c8b01afa87e78818e28f4c40f",
      "created_at" : "2021-12-14T11:02:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#issuecomment-993425571",
      "id" : 993425571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23720",
      "node_id" : "IC_kwDOABII5847Nnij",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/993425571/reactions"
      },
      "updated_at" : "2021-12-14T11:02:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/993425571",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r769573747"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/769573747"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This line does not clearly explain where to look for the rationale. Maybe mentioning the function name (where it has been described) might help.\r\n\r\n```suggestion\r\n        # invoke m_next_addr_send timer, see the rationale under definition of send_addr_msg() function\r\n```",
      "commit_id" : "030089d77aca0f3c8b01afa87e78818e28f4c40f",
      "created_at" : "2021-12-15T12:19:23Z",
      "diff_hunk" : "@@ -282,7 +276,8 @@ def getaddr_tests(self):\n         block_relay_peer.send_and_ping(msg_getaddr())\n         inbound_peer.send_and_ping(msg_getaddr())\n \n-        self.mocktime += 5 * 60\n+        # invoke m_next_addr_send timer, see above for rationale",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r769573747",
      "id" : 769573747,
      "line" : 279,
      "node_id" : "PRRC_kwDOABII584t3sNz",
      "original_commit_id" : "030089d77aca0f3c8b01afa87e78818e28f4c40f",
      "original_line" : 279,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : 64,
      "pull_request_review_id" : 832741996,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/769573747/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-15T12:19:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/769573747",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/85434418?v=4",
         "events_url" : "https://api.github.com/users/shaavan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaavan/followers",
         "following_url" : "https://api.github.com/users/shaavan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaavan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaavan",
         "id" : 85434418,
         "login" : "shaavan",
         "node_id" : "MDQ6VXNlcjg1NDM0NDE4",
         "organizations_url" : "https://api.github.com/users/shaavan/orgs",
         "received_events_url" : "https://api.github.com/users/shaavan/received_events",
         "repos_url" : "https://api.github.com/users/shaavan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaavan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaavan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaavan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK https://github.com/bitcoin/bitcoin/commit/030089d77aca0f3c8b01afa87e78818e28f4c40f\r\n\r\nrebased on master and ran the test a few times, looks good. \r\n+1 for the comments in the code; made it easy for me to follow the rationale for the change.",
      "created_at" : "2021-12-15T14:13:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#issuecomment-994829532",
      "id" : 994829532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23720",
      "node_id" : "IC_kwDOABII5847S-Tc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/994829532/reactions"
      },
      "updated_at" : "2021-12-15T14:13:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/994829532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r770506440"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/770506440"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "261dddb92460f57d9a1e2409e7292da598787398",
      "created_at" : "2021-12-16T12:44:44Z",
      "diff_hunk" : "@@ -282,7 +276,8 @@ def getaddr_tests(self):\n         block_relay_peer.send_and_ping(msg_getaddr())\n         inbound_peer.send_and_ping(msg_getaddr())\n \n-        self.mocktime += 5 * 60\n+        # invoke m_next_addr_send timer, see above for rationale",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#discussion_r770506440",
      "id" : 770506440,
      "in_reply_to_id" : 769573747,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584t7P7I",
      "original_commit_id" : "030089d77aca0f3c8b01afa87e78818e28f4c40f",
      "original_line" : 279,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addr_relay.py",
      "position" : null,
      "pull_request_review_id" : 834041919,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23720",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/770506440/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-16T12:44:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/770506440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "reACK https://github.com/bitcoin/bitcoin/pull/23720/commits/261dddb92460f57d9a1e2409e7292da598787398",
      "created_at" : "2021-12-16T13:02:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#issuecomment-995795535",
      "id" : 995795535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23720",
      "node_id" : "IC_kwDOABII5847WqJP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995795535/reactions"
      },
      "updated_at" : "2021-12-16T13:02:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995795535",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 261dddb92460f57d9a1e2409e7292da598787398\r\n\r\nOnly change was in the code comment.",
      "created_at" : "2021-12-16T13:38:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23720#issuecomment-995826644",
      "id" : 995826644,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23720",
      "node_id" : "IC_kwDOABII5847WxvU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995826644/reactions"
      },
      "updated_at" : "2021-12-16T13:38:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/995826644",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
