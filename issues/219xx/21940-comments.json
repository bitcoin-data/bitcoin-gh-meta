[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22500 by MarcoFalke\n* #22498 by MarcoFalke\n* #21129 by vasild\n* #20233 by jnewbery\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-05-13T15:24:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-840636294",
      "id" : 840636294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0MDYzNjI5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-27T20:59:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/840636294",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632436365"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632436365"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Here and line 383 above and 506 below, apparently using `auto` with `{}` can lead to surprising results and it's recommended to use `=` rather than `{}` for objects specified with `auto` when we don't mean a list (at least, for C++11 per my Stroustrup book, not sure if it changed since in 14 or 17, on first skim of https://en.cppreference.com/w/cpp/language/auto I didn't see a change).",
      "commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "created_at" : "2021-05-14T10:28:02Z",
      "diff_hunk" : "@@ -394,8 +398,9 @@ CAddrInfo CAddrMan::Select_(bool newOnly)\n                 nUBucketPos = (nUBucketPos + insecure_rand.randbits(ADDRMAN_BUCKET_SIZE_LOG2)) % ADDRMAN_BUCKET_SIZE;\n             }\n             int nId = vvNew[nUBucket][nUBucketPos];\n-            assert(mapInfo.count(nId) == 1);\n-            CAddrInfo& info = mapInfo[nId];\n+            const auto it_found{mapInfo.find(nId)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632436365",
      "id" : 632436365,
      "line" : 401,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMjQzNjM2NQ==",
      "original_commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "original_line" : 401,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 55,
      "pull_request_review_id" : 659716734,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-14T10:31:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632436365",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632443380"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632443380"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Mind to share an example to illustrate the \"surprise\"?",
      "commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "created_at" : "2021-05-14T10:42:11Z",
      "diff_hunk" : "@@ -394,8 +398,9 @@ CAddrInfo CAddrMan::Select_(bool newOnly)\n                 nUBucketPos = (nUBucketPos + insecure_rand.randbits(ADDRMAN_BUCKET_SIZE_LOG2)) % ADDRMAN_BUCKET_SIZE;\n             }\n             int nId = vvNew[nUBucket][nUBucketPos];\n-            assert(mapInfo.count(nId) == 1);\n-            CAddrInfo& info = mapInfo[nId];\n+            const auto it_found{mapInfo.find(nId)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632443380",
      "id" : 632443380,
      "in_reply_to_id" : 632436365,
      "line" : 401,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMjQ0MzM4MA==",
      "original_commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "original_line" : 401,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 55,
      "pull_request_review_id" : 659725852,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-14T10:42:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632443380",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632446856"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632446856"
         }
      },
      "author_association" : "MEMBER",
      "body" : "![image](https://user-images.githubusercontent.com/2415484/118260513-f3ec0e00-b4a1-11eb-95e7-8c1423580760.jpeg)\n\n![image](https://user-images.githubusercontent.com/2415484/118260555-00706680-b4a2-11eb-8a95-6f8d85e52d9d.jpeg)\n\n(afk, sent from phone)",
      "commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "created_at" : "2021-05-14T10:49:33Z",
      "diff_hunk" : "@@ -394,8 +398,9 @@ CAddrInfo CAddrMan::Select_(bool newOnly)\n                 nUBucketPos = (nUBucketPos + insecure_rand.randbits(ADDRMAN_BUCKET_SIZE_LOG2)) % ADDRMAN_BUCKET_SIZE;\n             }\n             int nId = vvNew[nUBucket][nUBucketPos];\n-            assert(mapInfo.count(nId) == 1);\n-            CAddrInfo& info = mapInfo[nId];\n+            const auto it_found{mapInfo.find(nId)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632446856",
      "id" : 632446856,
      "in_reply_to_id" : 632436365,
      "line" : 401,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMjQ0Njg1Ng==",
      "original_commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "original_line" : 401,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 55,
      "pull_request_review_id" : 659730428,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-14T10:49:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632446856",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632453191"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632453191"
         }
      },
      "author_association" : "MEMBER",
      "body" : "See https://en.cppreference.com/w/cpp/language/template_argument_deduction#auto_type_deduction\r\n\r\nAlso, if this was a list, the code wouldn't compile.",
      "commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "created_at" : "2021-05-14T11:02:53Z",
      "diff_hunk" : "@@ -394,8 +398,9 @@ CAddrInfo CAddrMan::Select_(bool newOnly)\n                 nUBucketPos = (nUBucketPos + insecure_rand.randbits(ADDRMAN_BUCKET_SIZE_LOG2)) % ADDRMAN_BUCKET_SIZE;\n             }\n             int nId = vvNew[nUBucket][nUBucketPos];\n-            assert(mapInfo.count(nId) == 1);\n-            CAddrInfo& info = mapInfo[nId];\n+            const auto it_found{mapInfo.find(nId)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632453191",
      "id" : 632453191,
      "in_reply_to_id" : 632436365,
      "line" : 401,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMjQ1MzE5MQ==",
      "original_commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "original_line" : 401,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 55,
      "pull_request_review_id" : 659738802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-14T11:02:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632453191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632455415"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632455415"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for the link. Seems it changed from 2014: https://isocpp.org/blog/2014/03/n3922, IIUC.",
      "commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "created_at" : "2021-05-14T11:07:41Z",
      "diff_hunk" : "@@ -394,8 +398,9 @@ CAddrInfo CAddrMan::Select_(bool newOnly)\n                 nUBucketPos = (nUBucketPos + insecure_rand.randbits(ADDRMAN_BUCKET_SIZE_LOG2)) % ADDRMAN_BUCKET_SIZE;\n             }\n             int nId = vvNew[nUBucket][nUBucketPos];\n-            assert(mapInfo.count(nId) == 1);\n-            CAddrInfo& info = mapInfo[nId];\n+            const auto it_found{mapInfo.find(nId)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632455415",
      "id" : 632455415,
      "in_reply_to_id" : 632436365,
      "line" : 401,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMjQ1NTQxNQ==",
      "original_commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "original_line" : 401,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 55,
      "pull_request_review_id" : 659741785,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-14T11:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632455415",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632456446"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632456446"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"For direct list-initialization:\r\n\r\n    For a braced-init-list with only a single element, auto deduction will deduce from that entry;\r\n    For a braced-init-list with more than one element, auto deduction will be ill-formed.\"\r\n",
      "commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "created_at" : "2021-05-14T11:09:46Z",
      "diff_hunk" : "@@ -394,8 +398,9 @@ CAddrInfo CAddrMan::Select_(bool newOnly)\n                 nUBucketPos = (nUBucketPos + insecure_rand.randbits(ADDRMAN_BUCKET_SIZE_LOG2)) % ADDRMAN_BUCKET_SIZE;\n             }\n             int nId = vvNew[nUBucket][nUBucketPos];\n-            assert(mapInfo.count(nId) == 1);\n-            CAddrInfo& info = mapInfo[nId];\n+            const auto it_found{mapInfo.find(nId)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r632456446",
      "id" : 632456446,
      "in_reply_to_id" : 632436365,
      "line" : 401,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMjQ1NjQ0Ng==",
      "original_commit_id" : "fa8e3f78751d80fa8bce957387bfc95802af2477",
      "original_line" : 401,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 55,
      "pull_request_review_id" : 659743014,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-14T11:09:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/632456446",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-05-20T20:19:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-845449249",
      "id" : 845449249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NTQ0OTI0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-20T20:19:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/845449249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2021-05-22T07:39:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-846369502",
      "id" : 846369502,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NjM2OTUwMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-22T07:39:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/846369502",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-05-27T15:15:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-849719201",
      "id" : 849719201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0OTcxOTIwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-27T15:15:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/849719201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and added one commit",
      "created_at" : "2021-06-14T07:25:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-860450764",
      "id" : 860450764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDQ1MDc2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-14T07:25:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860450764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-06-14T14:53:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-860749201",
      "id" : 860749201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDc0OTIwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-14T14:53:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860749201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r673010967"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/673010967"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps comment _why_ this can be mutable. `vRandom` is unobservable outside the addrman class, so any changes to it are also unobservable (and hence it can be mutated in const methods).",
      "commit_id" : "fa47bdddbc7fc153c36f8f700099656ec1ce9d5d",
      "created_at" : "2021-07-20T10:44:14Z",
      "diff_hunk" : "@@ -671,7 +671,7 @@ class CAddrMan\n     std::unordered_map<CNetAddr, int, CNetAddrHash> mapAddr GUARDED_BY(cs);\n \n     //! randomly-ordered vector of all nIds",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r673010967",
      "id" : 673010967,
      "line" : 673,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MzAxMDk2Nw==",
      "original_commit_id" : "fa47bdddbc7fc153c36f8f700099656ec1ce9d5d",
      "original_line" : 673,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : 39,
      "pull_request_review_id" : 710434681,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-20T10:54:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/673010967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r674003219"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/674003219"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, done",
      "commit_id" : "fab755b77f88873f01cbd988051de7ad3f0150de",
      "created_at" : "2021-07-21T14:03:46Z",
      "diff_hunk" : "@@ -671,7 +671,7 @@ class CAddrMan\n     std::unordered_map<CNetAddr, int, CNetAddrHash> mapAddr GUARDED_BY(cs);\n \n     //! randomly-ordered vector of all nIds",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r674003219",
      "id" : 674003219,
      "in_reply_to_id" : 673010967,
      "line" : 671,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NDAwMzIxOQ==",
      "original_commit_id" : "fa47bdddbc7fc153c36f8f700099656ec1ce9d5d",
      "original_line" : 671,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : 39,
      "pull_request_review_id" : 711696009,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-21T14:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/674003219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Force pushed to add comment",
      "created_at" : "2021-07-21T14:03:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-884215996",
      "id" : 884215996,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5840tBC8",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-21T14:03:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884215996",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Can GetAddr() also be made const?\r\n\r\nIt already is. (Adjusted title)",
      "created_at" : "2021-07-21T14:05:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-884217236",
      "id" : 884217236,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5840tBWU",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-21T14:05:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884217236",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Perhaps this deserves a comment in addrman.h though, to state that even `const` member functions cannot be used without synchronization?",
      "created_at" : "2021-07-22T18:08:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-885126653",
      "id" : 885126653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5840wfX9",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-22T18:08:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/885126653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added a lock annotation to the mutable member, which can be \"read\" by compilers and developers",
      "created_at" : "2021-07-22T18:41:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-885147360",
      "id" : 885147360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5840wkbg",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-22T18:41:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/885147360",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675406548"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675406548"
         }
      },
      "author_association" : "MEMBER",
      "body" : "An alternative to changing all of these `[]` operator calls to `find()` is to use the `at()` method, which is const. See https://en.cppreference.com/w/cpp/container/map/operator_at:\r\n\r\n> operator[] is non-const because it inserts the key if it doesn't exist. If this behavior is undesirable or if the container is const, at() may be used.",
      "commit_id" : "fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T08:53:55Z",
      "diff_hunk" : "@@ -150,11 +150,13 @@ void CAddrMan::SwapRandom(unsigned int nRndPos1, unsigned int nRndPos2)\n     int nId1 = vRandom[nRndPos1];\n     int nId2 = vRandom[nRndPos2];\n \n-    assert(mapInfo.count(nId1) == 1);\n-    assert(mapInfo.count(nId2) == 1);\n+    const auto it_1{mapInfo.find(nId1)};\n+    const auto it_2{mapInfo.find(nId2)};\n+    assert(it_1 != mapInfo.end());\n+    assert(it_2 != mapInfo.end());\n \n-    mapInfo[nId1].nRandomPos = nRndPos2;\n-    mapInfo[nId2].nRandomPos = nRndPos1;\n+    it_1->second.nRandomPos = nRndPos2;\n+    it_2->second.nRandomPos = nRndPos1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675406548",
      "id" : 675406548,
      "line" : 159,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NTQwNjU0OA==",
      "original_commit_id" : "5555a1dcd60d2dcad82221c90d6ebc653b95aebb",
      "original_line" : 159,
      "original_position" : 23,
      "original_start_line" : 153,
      "path" : "src/addrman.cpp",
      "position" : 23,
      "pull_request_review_id" : 713520318,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : 153,
      "start_side" : "RIGHT",
      "updated_at" : "2021-07-23T09:02:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675406548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675410998"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675410998"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't really like changing all of addrman's private members to be protected. Since this is just to allow the tests to modify `nKey` and `insecure_rand`, what do you think about instead adding a `bool deterministic` argument to `CAddrMan`'s ctor (similar to the `deterministic` argument in `TxRequestTracker::TxRequestTracker`).",
      "commit_id" : "fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T09:01:17Z",
      "diff_hunk" : "@@ -631,9 +631,8 @@ class CAddrMan\n     uint256 nKey;\n \n     //! Source of random numbers for randomization in inner loops\n-    FastRandomContext insecure_rand;\n+    mutable FastRandomContext insecure_rand GUARDED_BY(cs);\n \n-private:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675410998",
      "id" : 675410998,
      "line" : 636,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NTQxMDk5OA==",
      "original_commit_id" : "5555a1dcd60d2dcad82221c90d6ebc653b95aebb",
      "original_line" : 636,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : 34,
      "pull_request_review_id" : 713520318,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-23T09:02:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675410998",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675413402"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675413402"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'll leave that behaviour change (Replacing `assert` with `throw`) for a follow-up",
      "commit_id" : "fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T09:05:20Z",
      "diff_hunk" : "@@ -150,11 +150,13 @@ void CAddrMan::SwapRandom(unsigned int nRndPos1, unsigned int nRndPos2)\n     int nId1 = vRandom[nRndPos1];\n     int nId2 = vRandom[nRndPos2];\n \n-    assert(mapInfo.count(nId1) == 1);\n-    assert(mapInfo.count(nId2) == 1);\n+    const auto it_1{mapInfo.find(nId1)};\n+    const auto it_2{mapInfo.find(nId2)};\n+    assert(it_1 != mapInfo.end());\n+    assert(it_2 != mapInfo.end());\n \n-    mapInfo[nId1].nRandomPos = nRndPos2;\n-    mapInfo[nId2].nRandomPos = nRndPos1;\n+    it_1->second.nRandomPos = nRndPos2;\n+    it_2->second.nRandomPos = nRndPos1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675413402",
      "id" : 675413402,
      "in_reply_to_id" : 675406548,
      "line" : 159,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NTQxMzQwMg==",
      "original_commit_id" : "5555a1dcd60d2dcad82221c90d6ebc653b95aebb",
      "original_line" : 159,
      "original_position" : 23,
      "original_start_line" : 153,
      "path" : "src/addrman.cpp",
      "position" : 23,
      "pull_request_review_id" : 713528987,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : 153,
      "start_side" : "RIGHT",
      "updated_at" : "2021-07-23T09:05:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675413402",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675415382"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675415382"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there any risk allowing the unit tests access? Happy to add `private` back (after the Mutex) if you think it helps.",
      "commit_id" : "fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T09:08:15Z",
      "diff_hunk" : "@@ -631,9 +631,8 @@ class CAddrMan\n     uint256 nKey;\n \n     //! Source of random numbers for randomization in inner loops\n-    FastRandomContext insecure_rand;\n+    mutable FastRandomContext insecure_rand GUARDED_BY(cs);\n \n-private:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675415382",
      "id" : 675415382,
      "in_reply_to_id" : 675410998,
      "line" : 636,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NTQxNTM4Mg==",
      "original_commit_id" : "5555a1dcd60d2dcad82221c90d6ebc653b95aebb",
      "original_line" : 636,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : 34,
      "pull_request_review_id" : 713531314,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-23T09:08:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675415382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675416828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675416828"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's not a behavior change - the code is already asserting that `count(nId1)` and `count(nId2)` are non-zero, done under the `cs` lock so the map can't change from under us.",
      "commit_id" : "fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T09:10:34Z",
      "diff_hunk" : "@@ -150,11 +150,13 @@ void CAddrMan::SwapRandom(unsigned int nRndPos1, unsigned int nRndPos2)\n     int nId1 = vRandom[nRndPos1];\n     int nId2 = vRandom[nRndPos2];\n \n-    assert(mapInfo.count(nId1) == 1);\n-    assert(mapInfo.count(nId2) == 1);\n+    const auto it_1{mapInfo.find(nId1)};\n+    const auto it_2{mapInfo.find(nId2)};\n+    assert(it_1 != mapInfo.end());\n+    assert(it_2 != mapInfo.end());\n \n-    mapInfo[nId1].nRandomPos = nRndPos2;\n-    mapInfo[nId2].nRandomPos = nRndPos1;\n+    it_1->second.nRandomPos = nRndPos2;\n+    it_2->second.nRandomPos = nRndPos1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675416828",
      "id" : 675416828,
      "in_reply_to_id" : 675406548,
      "line" : 159,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NTQxNjgyOA==",
      "original_commit_id" : "5555a1dcd60d2dcad82221c90d6ebc653b95aebb",
      "original_line" : 159,
      "original_position" : 23,
      "original_start_line" : 153,
      "path" : "src/addrman.cpp",
      "position" : 23,
      "pull_request_review_id" : 713533156,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : 153,
      "start_side" : "RIGHT",
      "updated_at" : "2021-07-23T09:10:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675416828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675417111"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675417111"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, I'd prefer for `private` to be added after the mutex to minimize the change.",
      "commit_id" : "fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T09:11:02Z",
      "diff_hunk" : "@@ -631,9 +631,8 @@ class CAddrMan\n     uint256 nKey;\n \n     //! Source of random numbers for randomization in inner loops\n-    FastRandomContext insecure_rand;\n+    mutable FastRandomContext insecure_rand GUARDED_BY(cs);\n \n-private:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675417111",
      "id" : 675417111,
      "in_reply_to_id" : 675410998,
      "line" : 636,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NTQxNzExMQ==",
      "original_commit_id" : "5555a1dcd60d2dcad82221c90d6ebc653b95aebb",
      "original_line" : 636,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : 34,
      "pull_request_review_id" : 713533528,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-23T09:11:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675417111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675419854"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675419854"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Obviously it doesn't matter here, but one lookup might be faster than two lookups, which is why I changed to `find`.",
      "commit_id" : "fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T09:15:31Z",
      "diff_hunk" : "@@ -150,11 +150,13 @@ void CAddrMan::SwapRandom(unsigned int nRndPos1, unsigned int nRndPos2)\n     int nId1 = vRandom[nRndPos1];\n     int nId2 = vRandom[nRndPos2];\n \n-    assert(mapInfo.count(nId1) == 1);\n-    assert(mapInfo.count(nId2) == 1);\n+    const auto it_1{mapInfo.find(nId1)};\n+    const auto it_2{mapInfo.find(nId2)};\n+    assert(it_1 != mapInfo.end());\n+    assert(it_2 != mapInfo.end());\n \n-    mapInfo[nId1].nRandomPos = nRndPos2;\n-    mapInfo[nId2].nRandomPos = nRndPos1;\n+    it_1->second.nRandomPos = nRndPos2;\n+    it_2->second.nRandomPos = nRndPos1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675419854",
      "id" : 675419854,
      "in_reply_to_id" : 675406548,
      "line" : 159,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NTQxOTg1NA==",
      "original_commit_id" : "5555a1dcd60d2dcad82221c90d6ebc653b95aebb",
      "original_line" : 159,
      "original_position" : 23,
      "original_start_line" : 153,
      "path" : "src/addrman.cpp",
      "position" : 23,
      "pull_request_review_id" : 713536997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : 153,
      "start_side" : "RIGHT",
      "updated_at" : "2021-07-23T09:15:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675419854",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675428054"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675428054"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sure. Just a suggestion to minimize the diff (+2/-2 instead of +6/-4 here and similar in other places).",
      "commit_id" : "fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T09:29:47Z",
      "diff_hunk" : "@@ -150,11 +150,13 @@ void CAddrMan::SwapRandom(unsigned int nRndPos1, unsigned int nRndPos2)\n     int nId1 = vRandom[nRndPos1];\n     int nId2 = vRandom[nRndPos2];\n \n-    assert(mapInfo.count(nId1) == 1);\n-    assert(mapInfo.count(nId2) == 1);\n+    const auto it_1{mapInfo.find(nId1)};\n+    const auto it_2{mapInfo.find(nId2)};\n+    assert(it_1 != mapInfo.end());\n+    assert(it_2 != mapInfo.end());\n \n-    mapInfo[nId1].nRandomPos = nRndPos2;\n-    mapInfo[nId2].nRandomPos = nRndPos1;\n+    it_1->second.nRandomPos = nRndPos2;\n+    it_2->second.nRandomPos = nRndPos1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675428054",
      "id" : 675428054,
      "in_reply_to_id" : 675406548,
      "line" : 159,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NTQyODA1NA==",
      "original_commit_id" : "5555a1dcd60d2dcad82221c90d6ebc653b95aebb",
      "original_line" : 159,
      "original_position" : 23,
      "original_start_line" : 153,
      "path" : "src/addrman.cpp",
      "position" : 23,
      "pull_request_review_id" : 713547693,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "RIGHT",
      "start_line" : 153,
      "start_side" : "RIGHT",
      "updated_at" : "2021-07-23T09:30:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675428054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675431708"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675431708"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Force pushed to add `private`",
      "commit_id" : "fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T09:36:10Z",
      "diff_hunk" : "@@ -631,9 +631,8 @@ class CAddrMan\n     uint256 nKey;\n \n     //! Source of random numbers for randomization in inner loops\n-    FastRandomContext insecure_rand;\n+    mutable FastRandomContext insecure_rand GUARDED_BY(cs);\n \n-private:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#discussion_r675431708",
      "id" : 675431708,
      "in_reply_to_id" : 675410998,
      "line" : 636,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NTQzMTcwOA==",
      "original_commit_id" : "5555a1dcd60d2dcad82221c90d6ebc653b95aebb",
      "original_line" : 636,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : 34,
      "pull_request_review_id" : 713552359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21940",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-23T09:36:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/675431708",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK fae108ceb53f61d7338ba205873623ede3c1d3be",
      "created_at" : "2021-07-23T10:05:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-885534621",
      "id" : 885534621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5840yC-d",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-23T10:05:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/885534621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag or @theStack interested in donating a re-ACK?",
      "created_at" : "2021-07-29T11:06:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-889025193",
      "id" : 889025193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5840_XKp",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T11:06:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889025193",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Did any of the reviewers test this change with DEBUG_ADDRMAN defined? It blows up for me.\r\n\r\n```\r\naddrman.cpp:467:15: error: out-of-line definition of 'Check_' does not match any declaration in 'CAddrMan'\r\nint CAddrMan::Check_()\r\n              ^~~~~~\r\n./addrman.h:746:9: note: member declaration does not match because it is const qualified\r\n    int Check_() const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n        ^              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n1 error generated.\r\n```",
      "created_at" : "2021-08-02T11:07:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-890937517",
      "id" : 890937517,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5841GqCt",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T11:08:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890937517",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonatack Good catch. I didn't test this with the CPP flag set and CI doesn't either.\r\n\r\nLuckily the code will be always compiled after #20233, so shouldn't happen again after that pull is merged.",
      "created_at" : "2021-08-02T11:11:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-890939675",
      "id" : 890939675,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5841Gqkb",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T11:11:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890939675",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @jonatack. I'm currently rebasing #20233 and will include a fix for this issue in that PR.",
      "created_at" : "2021-08-02T11:44:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-890959158",
      "id" : 890959158,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5841GvU2",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T11:44:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890959158",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Thanks @jonatack. I'm currently rebasing #20233 and will include a fix for this issue in that PR.\r\n\r\nThanks!",
      "created_at" : "2021-08-02T11:51:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-890962918",
      "id" : 890962918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5841GwPm",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T11:51:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890962918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I created a fix in #22601 , because I didn't see the comment here.",
      "created_at" : "2021-08-02T12:29:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-890986019",
      "id" : 890986019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5841G14j",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T12:29:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890986019",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks, in the meantime will cherry-pick this commit locally.",
      "created_at" : "2021-08-02T12:34:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-890988880",
      "id" : 890988880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5841G2lQ",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T12:34:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890988880",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Did any of the reviewers test this change with DEBUG_ADDRMAN defined? It blows up for me.\r\n\r\nOops, no, I didn't :( thanks for catching this.\r\n\r\nWould it make sense to have a CI instance with DEBUG_ADDRMAN defined or is that overambitious? ð¤ \r\n\r\n\r\n",
      "created_at" : "2021-08-02T16:10:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-891149889",
      "id" : 891149889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5841Hd5B",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T16:10:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/891149889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@theStack please see #20233 which removes the `DEBUG_ADDRMAN` build option and makes consistency checks a runtime option.",
      "created_at" : "2021-08-02T16:49:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21940#issuecomment-891175364",
      "id" : 891175364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21940",
      "node_id" : "IC_kwDOABII5841HkHE",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T16:49:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/891175364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
