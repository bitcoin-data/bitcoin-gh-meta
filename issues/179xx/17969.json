{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "<!-- This issue tracker is only for technical issues related to Bitcoin Core.\r\n\r\nGeneral bitcoin questions and/or support requests are best directed to the Bitcoin StackExchange at https://bitcoin.stackexchange.com.\r\n\r\nFor reporting security issues, please read instructions at https://bitcoincore.org/en/contact/.\r\n\r\nIf the node is \"stuck\" during sync or giving \"block checksum mismatch\" errors, please ensure your hardware is stable by running memtest and observe CPU temperature with a load-test tool such as linpack before creating an issue! -->\r\n\r\n<!-- Describe the issue -->\r\n## What Happens\r\nWhen you click File|Sign Message, the UI asks you to choose an address with which to sign.  You can enter one by hand, paste from clipboard, or \"Choose a previously used address.\"  The third option provides a list of addresses that includes addresses for which there is no private key (P2SH addresses).  This is intimately related to #10542 but the fix _here_ is straightforward.\r\n\r\n<!--- What behavior did you expect? -->\r\n## Expected Behavior\r\nI expect addresses for which no private key is known to be excluded from the list presented.  I realize that the same list is used to select an address to which to receive a payment, but that code could be adjusted to accept a filter, or the private-key-less addresses could be filtered out during display.\r\n\r\n<!--- What was the actual behavior (provide screenshots if the issue is GUI-related)? -->\r\n## To reproduce\r\nEnsure that you have at least one P2SH address in your Bitcoin core wallet.\r\nSelect File | Sign Message\r\nClick the address book.\r\nNote that there are P2SH addresses offered for selection.\r\n\r\nThis is in Bitcoin Core 0.18.",
   "closed_at" : "2020-08-15T00:27:42Z",
   "closed_by" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   },
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17969/comments",
   "created_at" : "2020-01-20T22:31:34Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17969/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/17969",
   "id" : 552535582,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      },
      {
         "color" : "02d7e1",
         "default" : false,
         "description" : null,
         "id" : 135946,
         "name" : "GUI",
         "node_id" : "MDU6TGFiZWwxMzU5NDY=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17969/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU1NTI1MzU1ODI=",
   "number" : 17969,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Sign Message UI allows selection of keyless addresses",
   "updated_at" : "2020-08-15T00:27:43Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17969",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/1767796?v=4",
      "events_url" : "https://api.github.com/users/dscotese/events{/privacy}",
      "followers_url" : "https://api.github.com/users/dscotese/followers",
      "following_url" : "https://api.github.com/users/dscotese/following{/other_user}",
      "gists_url" : "https://api.github.com/users/dscotese/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/dscotese",
      "id" : 1767796,
      "login" : "dscotese",
      "node_id" : "MDQ6VXNlcjE3Njc3OTY=",
      "organizations_url" : "https://api.github.com/users/dscotese/orgs",
      "received_events_url" : "https://api.github.com/users/dscotese/received_events",
      "repos_url" : "https://api.github.com/users/dscotese/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/dscotese/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/dscotese/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/dscotese"
   }
}
