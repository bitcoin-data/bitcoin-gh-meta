{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "`-fno-ident` prevents compilers from emitting compiler name and version number information that can needlessly bloat binaries. \r\n\r\nFor example, in the `v0.19.0.1` Windows release binaries, there are > 1000 GCC compiler version strings embedded: \r\n```bash\r\n# GCC: (GNU) 7.3-posix 20180312... & GCC: (GNU) 6.3.0 20170415.......\r\nstrings bitcoind.exe | rg GCC | wc -l\r\n    1021\r\n```\r\n\r\nThey end up collected in the end of the`.rdata` section, and cannot be removed by `strip`. i.e:\r\n\r\n```bash\r\nobjdump --section=.rdata --full-contents bitcoind.exe\r\n...\r\n cfcc00 00000000 00000000 00000000 00000000  ................\r\n cfcc10 00000000 00000000 00000000 00000000  ................\r\n cfcc20 4743433a 2028474e 55292036 2e332e30  GCC: (GNU) 6.3.0\r\n cfcc30 20323031 37303431 35000000 00000000   20170415.......\r\n cfcc40 4743433a 2028474e 55292037 2e332d70  GCC: (GNU) 7.3-p\r\n cfcc50 6f736978 20323031 38303331 32000000  osix 20180312...\r\n cfcc60 4743433a 2028474e 55292037 2e332d70  GCC: (GNU) 7.3-p\r\n cfcc70 6f736978 20323031 38303331 32000000  osix 20180312...\r\n```\r\n\r\nThe flag is available for [Clang](https://clang.llvm.org/docs/ClangCommandLineReference.html#cmdoption-clang-qn) and [GCC](https://gcc.gnu.org/onlinedocs/gcc/Code-Gen-Options.html#index-fno-ident).\r\n\r\nRelevant code in [GCC](https://github.com/gcc-mirror/gcc/blob/master/gcc/toplev.c#L565-L578):\r\n```c\r\n  /* Attach a special .ident directive to the end of the file to identify\r\n     the version of GCC which compiled this code.  The format of the .ident\r\n     string is patterned after the ones produced by native SVR4 compilers.  */\r\n  if (!flag_no_ident)\r\n    {\r\n      const char *pkg_version = \"(GNU) \";\r\n      char *ident_str;\r\n\r\n\r\n      if (strcmp (\"(GCC) \", pkgversion_string))\r\n\tpkg_version = pkgversion_string;\r\n\r\n\r\n      ident_str = ACONCAT ((\"GCC: \", pkg_version, version_string, NULL));\r\n      targetm.asm_out.output_ident (ident_str);\r\n    }\r\n```",
   "closed_at" : "2020-02-17T11:06:16Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 17,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17948/comments",
   "created_at" : "2020-01-17T13:33:43Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17948/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/17948",
   "id" : 551418106,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17948/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MzY0MTQzODI0",
   "number" : 17948,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/17948.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17948",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/17948.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17948"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "build: pass -fno-ident in Windows gitian descriptor",
   "updated_at" : "2020-02-17T11:06:16Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17948",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
