[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18813171"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18813171"
         }
      },
      "body" : "This conditional could be written much more clearly. It is not clear that IsUnspendable() is actually checking for OP_RETURN at the beginning.",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T07:47:22Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (scriptPubKey.IsUnspendable() && 1 <= scriptPubKey.size() // protect the begin() + 1 below\n+                                     && scriptPubKey.size() <= nMaxOpReturnRelay)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18813171",
      "id" : 18813171,
      "original_commit_id" : "8d6796758740bbcff47b1a4b6478349511234a12",
      "original_position" : 27,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18813171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Aside from that one thing, utACK.",
      "created_at" : "2014-10-14T07:47:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-59002062",
      "id" : 59002062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-10-14T07:47:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59002062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18821690"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18821690"
         }
      },
      "body" : "Fixed",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T11:20:31Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (scriptPubKey.IsUnspendable() && 1 <= scriptPubKey.size() // protect the begin() + 1 below\n+                                     && scriptPubKey.size() <= nMaxOpReturnRelay)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18821690",
      "id" : 18821690,
      "original_commit_id" : "8d6796758740bbcff47b1a4b6478349511234a12",
      "original_position" : 27,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18821690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18843493"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18843493"
         }
      },
      "body" : "1 smaller than scriptPubKey.size, it is. Can we avoid yoda conditionals?",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T17:20:25Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (1 <= scriptPubKey.size() && scriptPubKey[0] == OP_RETURN",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18843493",
      "id" : 18843493,
      "original_commit_id" : "ba78c7640a31aad133a2b94bf4cf564c78bf135e",
      "original_position" : 26,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18843493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "WIth or without yodaspeak, utACK.",
      "created_at" : "2014-10-14T17:20:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-59082544",
      "id" : 59082544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-10-14T17:20:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59082544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18851324"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18851324"
         }
      },
      "body" : "Making a full copy (apart from one byte) of every script in every transaction being relayed seems wasteful. Why is there a requirement that it's push only?",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T19:10:02Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (1 <= scriptPubKey.size() && scriptPubKey[0] == OP_RETURN\n+                                 && scriptPubKey.size() <= nMaxOpReturnRelay)\n+    {\n+        CScript scriptData(scriptPubKey.begin() + 1, scriptPubKey.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18851324",
      "id" : 18851324,
      "original_commit_id" : "ba78c7640a31aad133a2b94bf4cf564c78bf135e",
      "original_position" : 29,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18851324",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18852297"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18852297"
         }
      },
      "body" : "sigops are counted even in scriptPubKeys, so accepting a transaction with an OP_RETURN output containing a bunch of CHECKMULTISIGS - for instance - would use up a lot of your per-block sigop quota.",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T19:25:36Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (1 <= scriptPubKey.size() && scriptPubKey[0] == OP_RETURN\n+                                 && scriptPubKey.size() <= nMaxOpReturnRelay)\n+    {\n+        CScript scriptData(scriptPubKey.begin() + 1, scriptPubKey.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18852297",
      "id" : 18852297,
      "original_commit_id" : "ba78c7640a31aad133a2b94bf4cf564c78bf135e",
      "original_position" : 29,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18852297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18853389"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18853389"
         }
      },
      "body" : "could easily adapt IsPushOnly() to be IsPushOnly(int startingAt), or even an iterator.",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T19:44:35Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (1 <= scriptPubKey.size() && scriptPubKey[0] == OP_RETURN\n+                                 && scriptPubKey.size() <= nMaxOpReturnRelay)\n+    {\n+        CScript scriptData(scriptPubKey.begin() + 1, scriptPubKey.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18853389",
      "id" : 18853389,
      "original_commit_id" : "ba78c7640a31aad133a2b94bf4cf564c78bf135e",
      "original_position" : 29,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18853389",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18854416"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18854416"
         }
      },
      "body" : "@TheBlueMatt Any ideas on the best way of doing that?",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T20:03:17Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (1 <= scriptPubKey.size() && scriptPubKey[0] == OP_RETURN\n+                                 && scriptPubKey.size() <= nMaxOpReturnRelay)\n+    {\n+        CScript scriptData(scriptPubKey.begin() + 1, scriptPubKey.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18854416",
      "id" : 18854416,
      "original_commit_id" : "ba78c7640a31aad133a2b94bf4cf564c78bf135e",
      "original_position" : 29,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18854416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18855768"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18855768"
         }
      },
      "body" : "This is scriptPubKey.IsUnspendable(), btw",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T20:25:24Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (1 <= scriptPubKey.size() && scriptPubKey[0] == OP_RETURN",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18855768",
      "id" : 18855768,
      "original_commit_id" : "ba78c7640a31aad133a2b94bf4cf564c78bf135e",
      "original_position" : 26,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18855768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18855907"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18855907"
         }
      },
      "body" : "@theuni Lol, that's what the code was prior to @TheBlueMatt asking me to change it to something explicit. :)",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T20:27:07Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (1 <= scriptPubKey.size() && scriptPubKey[0] == OP_RETURN",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18855907",
      "id" : 18855907,
      "original_commit_id" : "ba78c7640a31aad133a2b94bf4cf564c78bf135e",
      "original_position" : 26,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18855907",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18856256"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18856256"
         }
      },
      "body" : "@TheBlueMatt I've got no strong feelings about Star Wars, so yoda removed.",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2014-10-14T20:32:10Z",
      "diff_hunk" : "@@ -62,6 +59,23 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    size_t nMaxOpReturnRelay = GetBoolArg(\"-datacarrier\", true) ? MAX_OP_RETURN_RELAY : 1;\n+    if (1 <= scriptPubKey.size() && scriptPubKey[0] == OP_RETURN",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r18856256",
      "id" : 18856256,
      "original_commit_id" : "ba78c7640a31aad133a2b94bf4cf564c78bf135e",
      "original_position" : 26,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2014-11-13T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18856256",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "You could add a IsPushOnly with an arg as follows:\r\n\r\n```C++\r\nbool CScript::IsPushOnly() const\r\n{\r\n  return this->IsPushOnly(begin());\r\n}\r\n\r\nbool CScript::IsPushOnly(const_iterator pc) const\r\n{\r\n...\r\n```\r\n\r\nand then call it with ```begin()+1``` in the OP_RETURN flow.\r\n\r\nAlso add the new definition in script.h",
      "created_at" : "2014-10-15T03:37:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-59153606",
      "id" : 59153606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-10-15T03:41:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59153606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/107096?v=3",
         "events_url" : "https://api.github.com/users/devrandom/events{/privacy}",
         "followers_url" : "https://api.github.com/users/devrandom/followers",
         "following_url" : "https://api.github.com/users/devrandom/following{/other_user}",
         "gists_url" : "https://api.github.com/users/devrandom/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/devrandom",
         "id" : 107096,
         "login" : "devrandom",
         "organizations_url" : "https://api.github.com/users/devrandom/orgs",
         "received_events_url" : "https://api.github.com/users/devrandom/received_events",
         "repos_url" : "https://api.github.com/users/devrandom/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/devrandom/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/devrandom"
      }
   },
   {
      "body" : "Sounds like a good suggestion, @devrandom.",
      "created_at" : "2014-10-15T03:39:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-59153718",
      "id" : 59153718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-10-15T03:39:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59153718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@devrandom I implemented your suggestion re: IsPushOnly() and rebased.",
      "created_at" : "2014-11-04T17:44:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-61682364",
      "id" : 61682364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-11-04T17:44:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61682364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "+1",
      "created_at" : "2014-11-04T17:52:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-61683544",
      "id" : 61683544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-11-04T17:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61683544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/107096?v=3",
         "events_url" : "https://api.github.com/users/devrandom/events{/privacy}",
         "followers_url" : "https://api.github.com/users/devrandom/followers",
         "following_url" : "https://api.github.com/users/devrandom/following{/other_user}",
         "gists_url" : "https://api.github.com/users/devrandom/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/devrandom",
         "id" : 107096,
         "login" : "devrandom",
         "organizations_url" : "https://api.github.com/users/devrandom/orgs",
         "received_events_url" : "https://api.github.com/users/devrandom/received_events",
         "repos_url" : "https://api.github.com/users/devrandom/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/devrandom/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/devrandom"
      }
   },
   {
      "body" : "Since the OP_RETURN doomsday some had predicted did not happen, could we also increase the space in the OP_RETURN? 20 bytes would already go a long way.",
      "created_at" : "2014-11-13T19:08:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-62947757",
      "id" : 62947757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-11-13T19:08:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62947757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/296540?v=3",
         "events_url" : "https://api.github.com/users/Flavien/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flavien/followers",
         "following_url" : "https://api.github.com/users/Flavien/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flavien/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flavien",
         "id" : 296540,
         "login" : "Flavien",
         "organizations_url" : "https://api.github.com/users/Flavien/orgs",
         "received_events_url" : "https://api.github.com/users/Flavien/received_events",
         "repos_url" : "https://api.github.com/users/Flavien/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flavien/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flavien/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flavien"
      }
   },
   {
      "body" : "@Flavien 0.10 is adding a -datacarriersize option to make configuring the size easy. Changing the default value is IMO outside the scope of this PR and should be proposed independently.",
      "created_at" : "2014-11-13T19:19:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-62949423",
      "id" : 62949423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-11-13T19:19:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62949423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Rebased",
      "created_at" : "2014-11-13T21:10:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-62966568",
      "id" : 62966568,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-11-13T21:10:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62966568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@Flavien Yeah, that belongs in a separate pull-req. Also, if you want this merged, do please test it and ACK...",
      "created_at" : "2014-11-13T21:10:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-62966712",
      "id" : 62966712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2014-11-13T21:10:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62966712",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "tested ACK",
      "created_at" : "2015-02-04T23:58:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-72966947",
      "id" : 72966947,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-02-04T23:58:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72966947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/107096?v=3",
         "events_url" : "https://api.github.com/users/devrandom/events{/privacy}",
         "followers_url" : "https://api.github.com/users/devrandom/followers",
         "following_url" : "https://api.github.com/users/devrandom/following{/other_user}",
         "gists_url" : "https://api.github.com/users/devrandom/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/devrandom",
         "id" : 107096,
         "login" : "devrandom",
         "organizations_url" : "https://api.github.com/users/devrandom/orgs",
         "received_events_url" : "https://api.github.com/users/devrandom/received_events",
         "repos_url" : "https://api.github.com/users/devrandom/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/devrandom/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/devrandom"
      }
   },
   {
      "body" : "concept ACK",
      "created_at" : "2015-04-08T13:52:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-90923500",
      "id" : 90923500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-04-08T13:52:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/90923500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/287189?v=3",
         "events_url" : "https://api.github.com/users/maraoz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maraoz/followers",
         "following_url" : "https://api.github.com/users/maraoz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maraoz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maraoz",
         "id" : 287189,
         "login" : "maraoz",
         "organizations_url" : "https://api.github.com/users/maraoz/orgs",
         "received_events_url" : "https://api.github.com/users/maraoz/received_events",
         "repos_url" : "https://api.github.com/users/maraoz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maraoz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maraoz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maraoz"
      }
   },
   {
      "body" : "If this was rebased today, it wouldn't pass the tests. I rebased and fixed that.\r\nYou were adding 2 for the op_return and the op_pushdata, but you also have to add the number expressing the size and the size of that number itself depends on the pushdata type used. So replacing 2 with 3 to fix the tests is not a very convincing option IMO. I would prefer to change the default from 80 to 83 and say that it also counds the op_return and whatever pushdata ops you need.\r\n\r\nYou were also altering the behaviour of the -datacarrier option and I fixed that too.\r\nUltimately I think we could get rid of that option since users can just express the same desire using -datacarriersize=0.\r\n \r\nAlso since you are touching this part of the code already, it is trivial to move the nMaxDatacarrierBytes checks from Solver to IsStandard where it belongs (to be moved with #6068 to policy/policy).\r\n\r\nYou can read and get my suggestions (diff only from what you already had, which had a clean rebase) here: https://github.com/jtimon/bitcoin/compare/pr_5079_rebased...jtimon:pr_5079\r\n\r\nApart from that, utACK.\r\n",
      "created_at" : "2015-04-27T17:21:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-96748846",
      "id" : 96748846,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-04-27T17:21:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96748846",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@jtimon I disagree with some of the things you say above in minor ways, but the big picture is that you're version looks fine to me. How about you submit it as a separate pull-req and I'll close this one?",
      "created_at" : "2015-05-03T22:21:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-98550801",
      "id" : 98550801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-05-03T22:21:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/98550801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Care to be more specific about where you disagree?\r\nSure, I could replace this PR. But if I do that, I would only do it after #6068 (was #5595) if that ever gets merged.",
      "created_at" : "2015-05-07T11:06:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-99816841",
      "id" : 99816841,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-05-07T11:06:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/99816841",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Oh, actually re-reeading it I think it's all fine.\r\n\r\nWell, it's up to you, but I'd see this as separate to #6068, in the sense that it doesn't need to be a blocker.",
      "created_at" : "2015-05-09T19:58:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-100539019",
      "id" : 100539019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-05-09T19:58:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/100539019",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "> matching OP_RETURN contents with bloom filters that operate on a per-PUSHDATA level\r\n\r\nThis seems very useful in my opinon.",
      "created_at" : "2015-06-04T02:02:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-108680506",
      "id" : 108680506,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-06-04T02:02:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/108680506",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "body" : "> @jtimon: https://github.com/jtimon/bitcoin/compare/pr_5079_rebased...jtimon:pr_5079\r\n\r\nIf the size check is removed from `Solver()`, then there are a few consequences.\r\n\r\nThe solver is still successful, even if payloads are larger than `nMaxDatacarrierBytes`. On the first glimpse this has no negative effect, but since `typeRet` is set `TX_NULL_DATA` in these cases, too, then it also affects `ExtractDestinations()`, and ultimately `ScriptPubKeyToJSON()` plus friends.\r\n\r\nThe RPC calls `\"getrawtransaction\"`, `\"decoderawtransaction\"` and `\"decodescript\"` then no longer return `\"type\" : \"nonstandard\"`, but `\"nulldata\"`.\r\n\r\nNevertheless, I think this is the right thing to do, and it would be in line with the behavior related to non-standard m-of-n multisig scripts.",
      "created_at" : "2015-06-13T18:19:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-111738181",
      "id" : 111738181,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-06-13T18:48:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111738181",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34208195"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34208195"
         }
      },
      "body" : "This can be incorporated to the previous ```if```, just another &&. What makes this condition different from the others?",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2015-07-08T22:55:51Z",
      "diff_hunk" : "@@ -68,6 +65,21 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    if (scriptPubKey.size() >= 1 && scriptPubKey[0] == OP_RETURN\n+                                 && scriptPubKey.size() <= nMaxDatacarrierBytes+2) // to account for the pushdata opcodes\n+    {\n+        if (scriptPubKey.IsPushOnly(scriptPubKey.begin()+1))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34208195",
      "id" : 34208195,
      "original_commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "original_position" : 28,
      "path" : "src/script/standard.cpp",
      "position" : 28,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2015-07-08T23:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34208195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34208640"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34208640"
         }
      },
      "body" : "I agree with getting rid of the -datacarrier=0 option, it's just a redundant way to say -datacarriersize=0. But if you're removing the option, you should also get rid of https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L400 and raise a deprecated error when -datacarrier is used before https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L872",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2015-07-08T23:01:56Z",
      "diff_hunk" : "@@ -51,13 +51,10 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n \n         // Sender provides N pubkeys, receivers provides M signatures\n         mTemplates.insert(make_pair(TX_MULTISIG, CScript() << OP_SMALLINTEGER << OP_PUBKEYS << OP_SMALLINTEGER << OP_CHECKMULTISIG));\n-\n-        // Empty, provably prunable, data-carrying output\n-        if (GetBoolArg(\"-datacarrier\", true))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34208640",
      "id" : 34208640,
      "original_commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "original_position" : 6,
      "path" : "src/script/standard.cpp",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2015-07-08T23:01:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34208640",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34209121"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34209121"
         }
      },
      "body" : "The ```scriptPubKey.size() <= nMaxDatacarrierBytes+2``` check belongs in policy/policy.cpp, specifically, in line https://github.com/bitcoin/bitcoin/blob/master/src/policy/policy.cpp#L52 , replacing that line with \r\n```\r\n    } else if (whichType == TX_NULL_DATA && scriptPubKey.size() > nMaxDatacarrierBytes)\r\n        return false;\r\n```\r\nTo do that you will need to also move nMaxDatacarrierBytes and MAX_OP_RETURN_RELAY to policy/policy.o. That would be cleaner after #6068 since the global would be moved only once directly to a CStandardPolicy attribute. But moving the condition and global already makes sense IMO.",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2015-07-08T23:09:03Z",
      "diff_hunk" : "@@ -68,6 +65,21 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    if (scriptPubKey.size() >= 1 && scriptPubKey[0] == OP_RETURN\n+                                 && scriptPubKey.size() <= nMaxDatacarrierBytes+2) // to account for the pushdata opcodes",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34209121",
      "id" : 34209121,
      "original_commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "original_position" : 26,
      "path" : "src/script/standard.cpp",
      "position" : 26,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2015-07-08T23:30:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34209121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34209200"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34209200"
         }
      },
      "body" : "Also, nMaxDatacarrierBytes is only changed from its default value on init, again, why nMaxDatacarrierBytes+2 here instead of just nMaxDatacarrierBytes? If it's to maintain the current default policy, you can just add that constant 2 to MAX_OP_RETURN_RELAY",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2015-07-08T23:10:36Z",
      "diff_hunk" : "@@ -68,6 +65,21 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    if (scriptPubKey.size() >= 1 && scriptPubKey[0] == OP_RETURN\n+                                 && scriptPubKey.size() <= nMaxDatacarrierBytes+2) // to account for the pushdata opcodes",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34209200",
      "id" : 34209200,
      "original_commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "original_position" : 26,
      "path" : "src/script/standard.cpp",
      "position" : 26,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2015-07-08T23:31:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34209200",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34209753"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34209753"
         }
      },
      "body" : "What about adding...\r\n```\r\nBOOST_CHECK_EQUAL(MAX_OP_RETURN_RELAY, t.vout[0].scriptPubKey.size());\r\n```\r\n...or similar somewhere here?",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2015-07-08T23:19:53Z",
      "diff_hunk" : "@@ -349,6 +349,23 @@ BOOST_AUTO_TEST_CASE(test_IsStandard)\n     // 41-byte TX_NULL_DATA (non-standard)\n     t.vout[0].scriptPubKey = CScript() << OP_RETURN << ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef3800\");\n     BOOST_CHECK(!IsStandardTx(t, reason));\n+    t.vout[0].scriptPubKey = CScript() << OP_RETURN << ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38\") << 1;\n+    BOOST_CHECK(!IsStandardTx(t, reason));\n+\n+    // Data payload can be encoded in any way...\n+    t.vout[0].scriptPubKey = CScript() << OP_RETURN << ParseHex(\"\");\n+    BOOST_CHECK(IsStandardTx(t, reason));\n+    t.vout[0].scriptPubKey = CScript() << OP_RETURN << ParseHex(\"00\") << ParseHex(\"01\");\n+    BOOST_CHECK(IsStandardTx(t, reason));\n+    // OP_RESERVED *is* considered to be a PUSHDATA type opcode by IsPushOnly()!\n+    t.vout[0].scriptPubKey = CScript() << OP_RETURN << OP_RESERVED << -1 << 0 << ParseHex(\"01\") << 2 << 3 << 4 << 5 << 6 << 7 << 8 << 9 << 10 << 11 << 12 << 13 << 14 << 15 << 16;\n+    BOOST_CHECK(IsStandardTx(t, reason));\n+    t.vout[0].scriptPubKey = CScript() << OP_RETURN << 0 << ParseHex(\"01\") << 2 << ParseHex(\"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");\n+    BOOST_CHECK(IsStandardTx(t, reason));\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r34209753",
      "id" : 34209753,
      "original_commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "original_position" : 17,
      "path" : "src/test/transaction_tests.cpp",
      "position" : 17,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2015-07-08T23:20:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34209753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Please, rebase. Even if it's not strictly necessary, MAX_OP_RETURN_RELAY has changed its value and  IsStandard() has moved to policy/policy. It will also become easier to compare with #6424, which I just opened (it's a rebased version of this with my nits on top, ready to be squashed).",
      "created_at" : "2015-07-12T14:17:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-120723729",
      "id" : 120723729,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-07-12T14:17:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120723729",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "What still needs to happen here?\r\nEdit: re-triggered travis to see the test failures.",
      "created_at" : "2015-07-21T08:44:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-123216705",
      "id" : 123216705,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-07-21T09:10:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/123216705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj just merge #6424 instead? Well, after I get some more review and I remove the last \"fixup?\" commit.\r\n\r\n@dexX7\r\n> The RPC calls \"getrawtransaction\", \"decoderawtransaction\" and \"decodescript\" then no longer return \"type\" : \"nonstandard\", but \"nulldata\".\r\n\r\nYes, and there's no problem with that.\r\n\r\n> Nevertheless, I think this is the right thing to do, and it would be in line with the behavior related to non-standard m-of-n multisig scripts.\r\n\r\nSo do you agree or not, I'm confused...",
      "created_at" : "2015-07-21T09:13:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-123228627",
      "id" : 123228627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-07-21T09:13:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/123228627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "> @jtimon: So do you agree or not, I'm confused...\r\n\r\nWith https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-111738181 I was just pointing out that your change has an impact on how the scripts are labeled via RPC, but I think it's fine, and I agree with:\r\n\r\n> @jtimon: Yes, and there's no problem with that.",
      "created_at" : "2015-07-21T11:12:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-123264828",
      "id" : 123264828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-07-21T11:12:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/123264828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "body" : "@dexX7 Oh, I see, it was just to inform. Thanks.",
      "created_at" : "2015-07-21T11:20:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-123268218",
      "id" : 123268218,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-07-21T11:20:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/123268218",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "ut ACK as-is\r\n\r\nSuggested improvement:\r\n\r\n* first \"if\" checks only for OP_RETURN\r\n* second \"if\" detects TX_NULL_DATA\r\n* otherwise no need to scan templates - it is an OP_RETURN - we know it is \"unspendable+garbage\" and therefore TX_NONSTANDARD",
      "created_at" : "2015-09-15T17:23:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-140472519",
      "id" : 140472519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-09-15T17:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/140472519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r39913875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/39913875"
         }
      },
      "body" : "+1 on @jtimon's comments",
      "commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "created_at" : "2015-09-19T00:59:30Z",
      "diff_hunk" : "@@ -68,6 +65,21 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n         return true;\n     }\n \n+    // Provably prunable, data-carrying output\n+    //\n+    // So long as script passes the IsUnspendable() test and all but the first\n+    // byte passes the IsPushOnly() test we don't care what exactly is in the\n+    // script.\n+    if (scriptPubKey.size() >= 1 && scriptPubKey[0] == OP_RETURN\n+                                 && scriptPubKey.size() <= nMaxDatacarrierBytes+2) // to account for the pushdata opcodes",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#discussion_r39913875",
      "id" : 39913875,
      "original_commit_id" : "c26370192a33663f587dfa999fcf28b535ee6639",
      "original_position" : 26,
      "path" : "src/script/standard.cpp",
      "position" : 26,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5079",
      "updated_at" : "2015-09-19T00:59:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/39913875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "concept / utACK,  though waiting on @jtimon's comments to be addressed.  +1 on @jgarzik's suggestions.",
      "created_at" : "2015-09-19T01:00:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-141605348",
      "id" : 141605348,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-09-19T01:00:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/141605348",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "Was this rebased? There was already a rebased version (with my nits fixed) in #6424 ...",
      "created_at" : "2015-09-19T04:46:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-141619927",
      "id" : 141619927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-09-19T04:46:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/141619927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Closing in favor of @jtimon's #6424",
      "created_at" : "2015-10-01T16:14:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5079#issuecomment-144775611",
      "id" : 144775611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5079",
      "updated_at" : "2015-10-01T16:14:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/144775611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
