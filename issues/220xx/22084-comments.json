[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22097 (validation: Move package acceptance size limit from KvB to WU by ariard)\n* #21866 ([Bundle 7/7] validation: Farewell, global Chainstate! by dongcarl)\n* #21800 (mempool/validation: mempool ancestor/descendant limits for packages by glozow)\n* #10443 (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-05-27T15:11:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-849716399",
      "id" : 849716399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22084",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0OTcxNjM5OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-03T01:41:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/849716399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think this is ready for rebase and review now :) ",
      "created_at" : "2021-05-28T05:20:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-850139565",
      "id" : 850139565,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22084",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1MDEzOTU2NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-28T05:20:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/850139565",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "yes! CC @ariard and @jnewbery :)",
      "created_at" : "2021-05-28T08:51:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-850261826",
      "id" : 850261826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22084",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1MDI2MTgyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-28T08:51:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/850261826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 94f4946b9b42b3d7c7c87ffc98a2b5248e91cc46.\r\n\r\nThanks for addressing the outstanding review comments!",
      "created_at" : "2021-06-01T12:59:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-852103966",
      "id" : 852103966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22084",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1MjEwMzk2Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-01T12:59:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852103966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643343919"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/643343919"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you switch the magic constant number of 4 by `WITNESS_SCALE_FACTOR` ?\r\n\r\nIt won't be required if #22097 gets first, but I don't care about the order, I can take the change there.",
      "commit_id" : "94f4946b9b42b3d7c7c87ffc98a2b5248e91cc46",
      "created_at" : "2021-06-01T17:30:42Z",
      "diff_hunk" : "@@ -14,6 +15,7 @@\n static constexpr uint32_t MAX_PACKAGE_COUNT{25};\n /** Default maximum total virtual size of transactions in a package in KvB. */\n static constexpr uint32_t MAX_PACKAGE_SIZE{101};\n+static_assert(MAX_PACKAGE_SIZE * 4 * 1000 >= MAX_STANDARD_TX_WEIGHT);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643343919",
      "id" : 643343919,
      "line" : 18,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0MzM0MzkxOQ==",
      "original_commit_id" : "94f4946b9b42b3d7c7c87ffc98a2b5248e91cc46",
      "original_line" : 18,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/policy/packages.h",
      "position" : 12,
      "pull_request_review_id" : 673401418,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-01T17:33:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/643343919",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643345278"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/643345278"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What do you think about updating the reject reason to \"bip125-replacement-disallowed\" ?",
      "commit_id" : "94f4946b9b42b3d7c7c87ffc98a2b5248e91cc46",
      "created_at" : "2021-06-01T17:32:50Z",
      "diff_hunk" : "@@ -619,6 +621,10 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n     {\n         const CTransaction* ptxConflicting = m_pool.GetConflictTx(txin.prevout);\n         if (ptxConflicting) {\n+            if (!args.m_allow_bip125_replacement) {\n+                // Transaction conflicts with a mempool tx, but we're not allowing replacements.\n+                return state.Invalid(TxValidationResult::TX_MEMPOOL_POLICY, \"txn-mempool-conflict\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643345278",
      "id" : 643345278,
      "line" : 626,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0MzM0NTI3OA==",
      "original_commit_id" : "94f4946b9b42b3d7c7c87ffc98a2b5248e91cc46",
      "original_line" : 626,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 28,
      "pull_request_review_id" : 673401418,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-01T17:33:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/643345278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643766064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/643766064"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "yeah that makes sense, done",
      "commit_id" : "5cac95cd15da04b83afa1d31a43be9f5b30a1827",
      "created_at" : "2021-06-02T09:03:46Z",
      "diff_hunk" : "@@ -14,6 +15,7 @@\n static constexpr uint32_t MAX_PACKAGE_COUNT{25};\n /** Default maximum total virtual size of transactions in a package in KvB. */\n static constexpr uint32_t MAX_PACKAGE_SIZE{101};\n+static_assert(MAX_PACKAGE_SIZE * 4 * 1000 >= MAX_STANDARD_TX_WEIGHT);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643766064",
      "id" : 643766064,
      "in_reply_to_id" : 643343919,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Mzc2NjA2NA==",
      "original_commit_id" : "94f4946b9b42b3d7c7c87ffc98a2b5248e91cc46",
      "original_line" : 18,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/policy/packages.h",
      "position" : null,
      "pull_request_review_id" : 673935064,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-02T09:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/643766064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643766086"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/643766086"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "sure, updated",
      "commit_id" : "5cac95cd15da04b83afa1d31a43be9f5b30a1827",
      "created_at" : "2021-06-02T09:03:48Z",
      "diff_hunk" : "@@ -619,6 +621,10 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n     {\n         const CTransaction* ptxConflicting = m_pool.GetConflictTx(txin.prevout);\n         if (ptxConflicting) {\n+            if (!args.m_allow_bip125_replacement) {\n+                // Transaction conflicts with a mempool tx, but we're not allowing replacements.\n+                return state.Invalid(TxValidationResult::TX_MEMPOOL_POLICY, \"txn-mempool-conflict\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643766086",
      "id" : 643766086,
      "in_reply_to_id" : 643345278,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Mzc2NjA4Ng==",
      "original_commit_id" : "94f4946b9b42b3d7c7c87ffc98a2b5248e91cc46",
      "original_line" : 626,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 673935096,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-02T09:03:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/643766086",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed @ariard's comments",
      "created_at" : "2021-06-02T09:42:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-852878277",
      "id" : 852878277,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22084",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1Mjg3ODI3Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-02T09:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852878277",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "reACK 5cac95cd15da04b83afa1d31a43be9f5b30a1827",
      "created_at" : "2021-06-02T10:16:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-852904796",
      "id" : 852904796,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22084",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1MjkwNDc5Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-02T10:16:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/852904796",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ariard I looked back at the PR and just remembered your https://github.com/bitcoin/bitcoin/pull/20833#discussion_r621466059 about encapsulating the package policies, so I've added that commit and co-authored you.",
      "created_at" : "2021-06-02T15:50:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-853142430",
      "id" : 853142430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22084",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1MzE0MjQzMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-02T15:50:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/853142430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r644121103"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644121103"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This local variable is no longer needed:\r\n\r\n```diff\r\ndiff --git a/src/validation.cpp b/src/validation.cpp\r\nindex fef880152a..a5d7966b09 100644\r\n--- a/src/validation.cpp\r\n+++ b/src/validation.cpp\r\n@@ -1083,13 +1083,12 @@ PackageMempoolAcceptResult MemPoolAccept::AcceptMultipleTransactions(const std::\r\n {\r\n     AssertLockHeld(cs_main);\r\n \r\n-    PackageValidationState package_state;\r\n-    const unsigned int package_count = txns.size();\r\n     // These context-free checks can be done before grabbing the mempool lock.\r\n+    PackageValidationState package_state;\r\n     if (!CheckPackage(txns, package_state)) return PackageMempoolAcceptResult(package_state, {});\r\n \r\n     std::vector<Workspace> workspaces{};\r\n-    workspaces.reserve(package_count);\r\n+    workspaces.reserve(txns.size());\r\n     std::transform(txns.cbegin(), txns.cend(), std::back_inserter(workspaces),\r\n                    [](const auto& tx) { return Workspace(tx); });\r\n     std::map<const uint256, const MempoolAcceptResult> results;\r\n```",
      "commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "created_at" : "2021-06-02T16:19:22Z",
      "diff_hunk" : "@@ -1085,63 +1085,14 @@ PackageMempoolAcceptResult MemPoolAccept::AcceptMultipleTransactions(const std::\n \n     PackageValidationState package_state;\n     const unsigned int package_count = txns.size();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r644121103",
      "id" : 644121103,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NDEyMTEwMw==",
      "original_commit_id" : "0d7bbcd9f000a707382bad76516d7a7914dbd65a",
      "original_line" : 1087,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 674414697,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-02T16:20:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644121103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r644128893"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644128893"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "created_at" : "2021-06-02T16:29:33Z",
      "diff_hunk" : "@@ -1085,63 +1085,14 @@ PackageMempoolAcceptResult MemPoolAccept::AcceptMultipleTransactions(const std::\n \n     PackageValidationState package_state;\n     const unsigned int package_count = txns.size();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r644128893",
      "id" : 644128893,
      "in_reply_to_id" : 644121103,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NDEyODg5Mw==",
      "original_commit_id" : "0d7bbcd9f000a707382bad76516d7a7914dbd65a",
      "original_line" : 1087,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 674431736,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-02T16:29:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644128893",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK ee862d6efb4c3c01e55f0d5d7a82cce75323cf40\r\n\r\nChecked that final commit is move-only",
      "created_at" : "2021-06-03T15:28:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-853958028",
      "id" : 853958028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22084",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1Mzk1ODAyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-03T15:28:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/853958028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r646875181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646875181"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In [refactor] comment/naming improvements\r\n\r\nI think this is a bit confusing: the reader hasn't be introduced to the `allowed` field yet, so they don't know it's part of the results.  When I read this, I thought it was an input parameter that I had missed.  I don't think this is important, but if you edit, maybe this would be clearer:\r\n\r\n    \"Transactions that cannot be fully validated due to failures in other transactions will not contain an 'allowed' result.\\n\"",
      "commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "created_at" : "2021-06-07T19:20:08Z",
      "diff_hunk" : "@@ -905,7 +905,7 @@ static RPCHelpMan testmempoolaccept()\n                 RPCResult{\n                     RPCResult::Type::ARR, \"\", \"The result of the mempool acceptance test for each raw transaction in the input array.\\n\"\n                         \"Returns results for each transaction in the same order they were passed in.\\n\"\n-                        \"It is possible for transactions to not be fully validated ('allowed' unset) if an earlier transaction failed.\\n\",\n+                        \"It is possible for transactions to not be fully validated ('allowed' unset) if another transaction failed.\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r646875181",
      "id" : 646875181,
      "line" : 908,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Njg3NTE4MQ==",
      "original_commit_id" : "e8ecc621be6afd3252c0f8147e42c3b4918f7f46",
      "original_line" : 908,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 14,
      "pull_request_review_id" : 677799424,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-07T19:39:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646875181",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/61096?v=4",
         "events_url" : "https://api.github.com/users/harding/events{/privacy}",
         "followers_url" : "https://api.github.com/users/harding/followers",
         "following_url" : "https://api.github.com/users/harding/following{/other_user}",
         "gists_url" : "https://api.github.com/users/harding/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/harding",
         "id" : 61096,
         "login" : "harding",
         "node_id" : "MDQ6VXNlcjYxMDk2",
         "organizations_url" : "https://api.github.com/users/harding/orgs",
         "received_events_url" : "https://api.github.com/users/harding/received_events",
         "repos_url" : "https://api.github.com/users/harding/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/harding/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/harding/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/harding"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r646878232"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646878232"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In [refactor] comment/naming improvements \r\n\r\nÂµ-nit: maybe \"parents must appear *anywhere in the list* before their children\".  Otherwise someone could mistakenly infer that a parent needed to appear immediately before its children.",
      "commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "created_at" : "2021-06-07T19:24:57Z",
      "diff_hunk" : "@@ -234,11 +234,13 @@ MempoolAcceptResult AcceptToMemoryPool(CChainState& active_chainstate, CTxMemPoo\n                                        bool bypass_limits, bool test_accept=false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n /**\n-* Atomically test acceptance of a package. If the package only contains one tx, package rules still apply.\n+* Atomically test acceptance of a package. If the package only contains one tx, package rules still\n+* apply. Package validation does not allow BIP125 replacements, so the transaction(s) cannot spend\n+* the same inputs as any transaction in the mempool.\n * @param[in]    txns                Group of transactions which may be independent or contain\n-*                                   parent-child dependencies. The transactions must not conflict, i.e.\n-*                                   must not spend the same inputs, even if it would be a valid BIP125\n-*                                   replace-by-fee. Parents must appear before children.\n+*                                   parent-child dependencies. The transactions must not conflict\n+*                                   with each other, i.e., must not spend the same inputs. If any\n+*                                   dependencies exist, parents must appear before children.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r646878232",
      "id" : 646878232,
      "line" : 243,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Njg3ODIzMg==",
      "original_commit_id" : "e8ecc621be6afd3252c0f8147e42c3b4918f7f46",
      "original_line" : 243,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 14,
      "pull_request_review_id" : 677799424,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-07T19:39:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646878232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/61096?v=4",
         "events_url" : "https://api.github.com/users/harding/events{/privacy}",
         "followers_url" : "https://api.github.com/users/harding/followers",
         "following_url" : "https://api.github.com/users/harding/following{/other_user}",
         "gists_url" : "https://api.github.com/users/harding/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/harding",
         "id" : 61096,
         "login" : "harding",
         "node_id" : "MDQ6VXNlcjYxMDk2",
         "organizations_url" : "https://api.github.com/users/harding/orgs",
         "received_events_url" : "https://api.github.com/users/harding/received_events",
         "repos_url" : "https://api.github.com/users/harding/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/harding/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/harding/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/harding"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r647804060"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647804060"
         }
      },
      "author_association" : "MEMBER",
      "body" : "plot twist: in fact we may need package *replace-by-feerate* :) ",
      "commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "created_at" : "2021-06-08T21:24:55Z",
      "diff_hunk" : "@@ -1148,10 +1104,10 @@ PackageMempoolAcceptResult MemPoolAccept::AcceptMultipleTransactions(const std::\n             return PackageMempoolAcceptResult(package_state, std::move(results));\n         }\n         // Make the coins created by this transaction available for subsequent transactions in the\n-        // package to spend. Since we already checked conflicts in the package and RBFs are\n-        // impossible, we don't need to track the coins spent. Note that this logic will need to be\n-        // updated if RBFs in packages are allowed in the future.\n-        assert(args.disallow_mempool_conflicts);\n+        // package to spend. Since we already checked conflicts in the package and we don't allow\n+        // replacements, we don't need to track the coins spent. Note that this logic will need to be\n+        // updated if package replace-by-fee is allowed in the future.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r647804060",
      "id" : 647804060,
      "line" : 1109,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NzgwNDA2MA==",
      "original_commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "original_line" : 1109,
      "original_position" : 123,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 123,
      "pull_request_review_id" : 679014485,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-08T21:26:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647804060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r648131073"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648131073"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good point, I'll do this if I need to retouch or in a followup",
      "commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "created_at" : "2021-06-09T09:28:54Z",
      "diff_hunk" : "@@ -905,7 +905,7 @@ static RPCHelpMan testmempoolaccept()\n                 RPCResult{\n                     RPCResult::Type::ARR, \"\", \"The result of the mempool acceptance test for each raw transaction in the input array.\\n\"\n                         \"Returns results for each transaction in the same order they were passed in.\\n\"\n-                        \"It is possible for transactions to not be fully validated ('allowed' unset) if an earlier transaction failed.\\n\",\n+                        \"It is possible for transactions to not be fully validated ('allowed' unset) if another transaction failed.\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r648131073",
      "id" : 648131073,
      "in_reply_to_id" : 646875181,
      "line" : 908,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0ODEzMTA3Mw==",
      "original_commit_id" : "e8ecc621be6afd3252c0f8147e42c3b4918f7f46",
      "original_line" : 908,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 14,
      "pull_request_review_id" : 679423032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-09T09:28:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648131073",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r648131439"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648131439"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Agree, will do this if I need to retouch or in a followup",
      "commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "created_at" : "2021-06-09T09:29:19Z",
      "diff_hunk" : "@@ -234,11 +234,13 @@ MempoolAcceptResult AcceptToMemoryPool(CChainState& active_chainstate, CTxMemPoo\n                                        bool bypass_limits, bool test_accept=false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n /**\n-* Atomically test acceptance of a package. If the package only contains one tx, package rules still apply.\n+* Atomically test acceptance of a package. If the package only contains one tx, package rules still\n+* apply. Package validation does not allow BIP125 replacements, so the transaction(s) cannot spend\n+* the same inputs as any transaction in the mempool.\n * @param[in]    txns                Group of transactions which may be independent or contain\n-*                                   parent-child dependencies. The transactions must not conflict, i.e.\n-*                                   must not spend the same inputs, even if it would be a valid BIP125\n-*                                   replace-by-fee. Parents must appear before children.\n+*                                   parent-child dependencies. The transactions must not conflict\n+*                                   with each other, i.e., must not spend the same inputs. If any\n+*                                   dependencies exist, parents must appear before children.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r648131439",
      "id" : 648131439,
      "in_reply_to_id" : 646878232,
      "line" : 243,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0ODEzMTQzOQ==",
      "original_commit_id" : "e8ecc621be6afd3252c0f8147e42c3b4918f7f46",
      "original_line" : 243,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 14,
      "pull_request_review_id" : 679423464,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-09T09:29:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648131439",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r649069174"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649069174"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added to #21800",
      "commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "created_at" : "2021-06-10T10:47:26Z",
      "diff_hunk" : "@@ -905,7 +905,7 @@ static RPCHelpMan testmempoolaccept()\n                 RPCResult{\n                     RPCResult::Type::ARR, \"\", \"The result of the mempool acceptance test for each raw transaction in the input array.\\n\"\n                         \"Returns results for each transaction in the same order they were passed in.\\n\"\n-                        \"It is possible for transactions to not be fully validated ('allowed' unset) if an earlier transaction failed.\\n\",\n+                        \"It is possible for transactions to not be fully validated ('allowed' unset) if another transaction failed.\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r649069174",
      "id" : 649069174,
      "in_reply_to_id" : 646875181,
      "line" : 908,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTA2OTE3NA==",
      "original_commit_id" : "e8ecc621be6afd3252c0f8147e42c3b4918f7f46",
      "original_line" : 908,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 14,
      "pull_request_review_id" : 680629225,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-10T10:47:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649069174",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r649069230"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649069230"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added to #21800",
      "commit_id" : "ee862d6efb4c3c01e55f0d5d7a82cce75323cf40",
      "created_at" : "2021-06-10T10:47:31Z",
      "diff_hunk" : "@@ -234,11 +234,13 @@ MempoolAcceptResult AcceptToMemoryPool(CChainState& active_chainstate, CTxMemPoo\n                                        bool bypass_limits, bool test_accept=false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n /**\n-* Atomically test acceptance of a package. If the package only contains one tx, package rules still apply.\n+* Atomically test acceptance of a package. If the package only contains one tx, package rules still\n+* apply. Package validation does not allow BIP125 replacements, so the transaction(s) cannot spend\n+* the same inputs as any transaction in the mempool.\n * @param[in]    txns                Group of transactions which may be independent or contain\n-*                                   parent-child dependencies. The transactions must not conflict, i.e.\n-*                                   must not spend the same inputs, even if it would be a valid BIP125\n-*                                   replace-by-fee. Parents must appear before children.\n+*                                   parent-child dependencies. The transactions must not conflict\n+*                                   with each other, i.e., must not spend the same inputs. If any\n+*                                   dependencies exist, parents must appear before children.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22084#discussion_r649069230",
      "id" : 649069230,
      "in_reply_to_id" : 646878232,
      "line" : 243,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTA2OTIzMA==",
      "original_commit_id" : "e8ecc621be6afd3252c0f8147e42c3b4918f7f46",
      "original_line" : 243,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 14,
      "pull_request_review_id" : 680629305,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22084",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-10T10:47:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649069230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   }
]
