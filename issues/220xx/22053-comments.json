[
   {
      "author_association" : "MEMBER",
      "body" : "`m_mutex_message_handling` is taken from #21527, but should be independent and fine to merge in either this pull or the other.",
      "created_at" : "2021-05-25T07:19:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-847614270",
      "id" : 847614270,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NzYxNDI3MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-25T07:19:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847614270",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24273](https://github.com/bitcoin/bitcoin/pull/24273) (p2p: Split network logging into two categories #24247 by anshu-khare-design)\n* [#22778](https://github.com/bitcoin/bitcoin/pull/22778) (net processing: Reduce resource usage for inbound block-relay-only connections by jnewbery)\n* [#21160](https://github.com/bitcoin/bitcoin/pull/21160) (net/net processing: Move tx inventory into net_processing by jnewbery)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-05-25T07:40:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-847629836",
      "id" : 847629836,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NzYyOTgzNg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847629836/reactions"
      },
      "updated_at" : "2022-02-14T10:51:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847629836",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK faca41443120c254f45d7a4dd72d5d80efacaf59",
      "created_at" : "2021-05-25T10:52:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-847766237",
      "id" : 847766237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0Nzc2NjIzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-25T10:52:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847766237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "cc @vasild @ajtowns for Approach ACK/NACK",
      "created_at" : "2021-05-30T14:46:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-851011509",
      "id" : 851011509,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1MTAxMTUwOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-30T14:46:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/851011509",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22053#discussion_r642499845"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22053"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/642499845"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "How guarding with a mutex guarantees \"it's only accessed by a single thread\"? Is the intention to say \"it's only accessed by a single thread _at a given point in time_\"? If yes, then this applies to any mutex and the comment better be removed to avoid confusion. If it means that the mutex guarantees \"it's only accessed by _the_ single thread _ThreadMessageHandler()_\", then it is not true because any other thread can grab the mutex and access the relevant variables.",
      "commit_id" : "faca41443120c254f45d7a4dd72d5d80efacaf59",
      "created_at" : "2021-05-31T13:44:00Z",
      "diff_hunk" : "@@ -278,9 +278,20 @@ class PeerManagerImpl final : public PeerManager\n     void SetBestHeight(int height) override { m_best_height = height; };\n     void Misbehaving(const NodeId pnode, const int howmuch, const std::string& message) override;\n     void ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRecv,\n-                        const std::chrono::microseconds time_received, const std::atomic<bool>& interruptMsgProc) override;\n+                        const std::chrono::microseconds time_received, const std::atomic<bool>& interruptMsgProc) override LOCKS_EXCLUDED(m_mutex_message_handling);\n \n private:\n+    /** Message handling mutex.\n+     *  Message processing is single-threaded, so anything only accessed\n+     *  by ProcessMessage(s) or SendMessages can be guarded by this mutex,\n+     *  which guarantees it's only accessed by a single thread.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#discussion_r642499845",
      "id" : 642499845,
      "line" : 287,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0MjQ5OTg0NQ==",
      "original_commit_id" : "faca41443120c254f45d7a4dd72d5d80efacaf59",
      "original_line" : 287,
      "original_position" : 11,
      "original_start_line" : 285,
      "path" : "src/net_processing.cpp",
      "position" : 11,
      "pull_request_review_id" : 672325629,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22053",
      "side" : "RIGHT",
      "start_line" : 285,
      "start_side" : "RIGHT",
      "updated_at" : "2021-05-31T13:49:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/642499845",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Approach ACK\r\n\r\nSuggest adding a `// GUARDED_BY(...)` comment on `g_filter_rounder` (along the lines of https://github.com/bitcoin/bitcoin/pull/20758/commits/9ac47922a3262a290a3139ba65b95c60b110db8f). ",
      "created_at" : "2021-05-31T13:44:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-851502155",
      "id" : 851502155,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1MTUwMjE1NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-31T13:44:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/851502155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-01-24T09:40:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1019902638",
      "id" : 1019902638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII5848ynqu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019902638/reactions"
      },
      "updated_at" : "2022-01-24T09:40:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019902638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Suggest adding a // GUARDED_BY(...) comment on g_filter_rounder (along the lines of 9ac4792).\r\n\r\nThanks, added a `// needed for ... ` comment.\r\n\r\n> My concerns expressed in #21527 (comment) are valid for this PR too.\r\n\r\nThanks, I've replied there. Though, I think this pull makes sense on its own because it (minimally) increases the performance of blockchain-related RPCs that actually need the cs_main lock. As of now, the cs_main lock is both confusing and (minimally) harmful.\r\n\r\n> this PR introduces the mutex without any GUARDED_BY(the new mutex). So it is unclear what is being protected by it. \r\n\r\nThanks, added a comment `// needed for ...`\r\n\r\n> bool PeerManagerImpl::m_ignore_incoming_txs\r\n\r\nThis is `const`, so there can't possibly be any race.\r\n\r\n> std::unique_ptr<TxRelay> CNode::m_tx_relay\r\n\r\nThis is initialized in the constructor, so there can't possibly be any race.\r\n\r\n>   std::atomic<int> CNode::m_greatest_common_version\r\n\r\nThis is atomic, so there can't possibly be any race. Also, there can't be a *logical* race introduced in this pr, because it is not guarded by cs_main in other threads.\r\n\r\n>   NetPermissionFlags CNode::m_permissionFlags\r\n\r\nThis is initialized before the Peer is initialized in net_processing. MaybeSendFeefilter isn't called for objects without a Peer, so there is no race introduced by this patch.\r\n\r\n> CTxMemPool& PeerManagerImpl::m_mempool\r\n\r\nA reference as member variable is like a `const` pointer, so there can't possibly be any race reading the pointer.\r\n\r\n> ChainstateManager& PeerManagerImpl::m_chainman\r\n\r\nSame\r\n\r\n> ChainstateManager::ActiveChainstate()\r\n\r\nThe lock is taken by this function. Currently we don't allow loading the active chainstate after init, so this reference can be treated like a \"const pointer\". If there is a patch in the future that allows re-seating the active chainstate, a lot more places need to be fixed up. My point is that re-seating shouldn't be done here, but this is a discussion for the future.\r\n\r\n> CChainState::IsInitialBlockDownload()\r\n\r\nThe appropriate locks are taken by this function where needed. This function doesn't care about the return value anyway, as long as it is a bool that goes from true->false.\r\n\r\n> FeeFilterRounder g_filter_rounder\r\n\r\nAdded comment in this pull\r\n\r\n> FeeFilterRounder::round()\r\n\r\nSame\r\n\r\n> CAmount CNode::TxRelay::lastSentFeeFilter\r\n\r\nThis is only read and written by this function. Happy to add the annotation here as well, if reviewers think it is worth it?\r\n\r\n> std::chrono::microseconds CNode::TxRelay::m_next_send_feefilter\r\n\r\nSame\r\n\r\n> (global) CFeeRate minRelayTxFee\r\n\r\nThis is set in init, and treated as `const` afterward. If there is a patch in the future making it mutable, that patch should add the appropriate locks.\r\n\r\n> PeerManagerImpl::m_connman\r\n\r\nA reference as member variable is like a `const` pointer, so there can't possibly be any race reading the pointer.\r\n\r\n> CConnman::PushMessage()\r\n\r\nThis function takes locks where needed and is thread-safe.\r\n\r\n",
      "created_at" : "2022-01-24T16:02:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1020257924",
      "id" : 1020257924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII5848z-aE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020257924/reactions"
      },
      "updated_at" : "2022-01-24T16:02:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020257924",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the review. Addressed all feedback.",
      "created_at" : "2022-01-24T16:03:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1020258799",
      "id" : 1020258799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII5848z-nv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020258799/reactions"
      },
      "updated_at" : "2022-01-24T16:03:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020258799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Trivial to re-ACK with `git range-diff bitcoin-core/master faca414431 fa78edfbf6`",
      "created_at" : "2022-01-24T16:12:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1020267986",
      "id" : 1020267986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII58480A3S",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020267986/reactions"
      },
      "updated_at" : "2022-01-24T16:12:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020267986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and clarified the goals (as initially pointed out in OP) in the source code as well. The new comment also explains the history and future, so that developers don't have to use `git` to lookup this discussion thread.",
      "created_at" : "2022-02-22T08:47:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1047556294",
      "id" : 1047556294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-cHDG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047556294/reactions"
      },
      "updated_at" : "2022-02-22T08:47:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047556294",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Still trivial to re-ACK as there are no code changes: `git range-diff bitcoin-core/master faca414431 fab56fb47d531`.",
      "created_at" : "2022-02-22T08:48:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1047557228",
      "id" : 1047557228,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-cHRs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047557228/reactions"
      },
      "updated_at" : "2022-02-22T08:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047557228",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "After re-reading carefully the comments and the diff, I still think this is flawed because it introduces a mutex that protects \"anything only accessed by\" `func1()`, `func2()` or `func3()`. Mutexes protect data (variables). Those variables must be annotated with `GUARDED_BY()`. No such clause is used with the newly introduced mutex. It is supposed to protect something vague which is hard to check and very easy to change or break in the future - all the variables accessed directly or indirectly by a list of functions.\r\n\r\nWhat about this:\r\n\r\n1. Make the newly introduced mutex global\r\n2. Make `g_filter_rounder` global and annotate it with `GUARDED_BY(the new mutex)`\r\n3. Annotate `CNode::TxRelay::lastSentFeeFilter` and `CNode::TxRelay::m_next_send_feefilter` with `GUARDED_BY(the new mutex)`\r\n\r\n> A reference as member variable is like a `const` pointer\r\n\r\nI don't think so, a `const` pointer cannot change, but a reference member can. The following does not compile:\r\n\r\n<details>\r\n<summary>member reference vs const pointer</summary>\r\n\r\n```cpp\r\n#include <vector>\r\n\r\nclass A\r\n{\r\npublic:\r\n    A(std::vector<int>& arg) : m1{arg}, m2{nullptr} {};\r\n\r\n    std::vector<int>& m1;\r\n    std::vector<int>* const m2;\r\n};\r\n\r\nint main(int, char**)\r\n{\r\n    std::vector<int> v1;\r\n    std::vector<int> v2;\r\n    A a(v1);\r\n\r\n    // ok\r\n    a.m1 = v2;\r\n\r\n    // error: cannot assign to non-static data member 'm2' with const-qualified type 'std::vector<int> *const'\r\n    a.m2 = nullptr;\r\n\r\n    return 0;\r\n}\r\n```\r\n</details>\r\n",
      "created_at" : "2022-02-22T10:33:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1047653883",
      "id" : 1047653883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-ce37",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047653883/reactions"
      },
      "updated_at" : "2022-02-22T10:33:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047653883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't think so, a const pointer cannot change, but a reference member can. The following does not compile:\r\n\r\nTIL",
      "created_at" : "2022-02-22T10:38:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1047657683",
      "id" : 1047657683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-cfzT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047657683/reactions"
      },
      "updated_at" : "2022-02-22T10:38:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047657683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Mutexes protect data (variables).\r\n\r\nYes, but this is not the only use of Mutexes. In this context the mutex is not strictly needed to guard from UB. It is possible to remove the existing cs_main annotation in the function and compile without compiler warnings and run the program without UB.\r\n\r\nThe goal of the mutex here is to allow only one caller to execute the function.\r\n\r\n> very easy to change or break in the future\r\n\r\nThe assumption that I touch here is documented in the source code and has a compiler annotation, both before the changes here and after. Breaking it would require removing the compiler annotation and runtime check, as well as the comment.",
      "created_at" : "2022-02-22T11:04:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1047679860",
      "id" : 1047679860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-clN0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047679860/reactions"
      },
      "updated_at" : "2022-02-22T11:04:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047679860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I mean that \"anything only accessed by ...list of functions...\" is \"something vague which is hard to check and very easy to change or break in the future\".",
      "created_at" : "2022-02-22T15:52:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1047937798",
      "id" : 1047937798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-dkMG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047937798/reactions"
      },
      "updated_at" : "2022-02-22T15:52:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047937798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It is trivial to check with `AssertLockHeld`. Forgetting to add the annotation to a function is no different than forgetting to add the annotation to a data member.\r\n\r\nIn any case, this pull isn't changing anything about that. Previously there was a `AssertLockHeld` for cs_main, now there is one for a different mutex. If you have concerns about the code in current master, it might be best to create a separate discussion thread.\r\n\r\nI think the discussion in this pull request should focus on the goal and how the code changes help to achieve the goal. The goal is to reduce the use of cs_main to mean \"global lock for everything\" and work toward cs_main to mean \"validation lock for validation stuff only\".",
      "created_at" : "2022-02-22T16:03:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1047948682",
      "id" : 1047948682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-dm2K",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047948682/reactions"
      },
      "updated_at" : "2022-02-22T16:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047948682",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Then just moving the call to `MaybeSendFeefilter()` after `cs_main` is released would achieve the goal. It is 1-line change.\r\n\r\nAnother attempt to explain: right now there are e.g. 25 variables accessed directly or indirectly by `ProcessMessage()`, `ProcessMessages()` and `SendMessages()`. If we presume that they are protected by the newly added `m_mutex_message_handling`, then any other change anywhere in the code that touches existent variables has to check (manually by code inspection!) if the touched variable is any of those 25 and if it is, it has to acquire `m_mutex_message_handling`. If it does not acquire it, then there will be a race without a compilation or runtime error. This comment, added in this PR, is confusing (or even bizarre):\r\n\r\n```cpp\r\n/** Message handling mutex.\r\n *  Message processing is single-threaded, so anything only accessed\r\n *  by ProcessMessage(s) or SendMessages can be guarded by this mutex,\r\n *  which guarantees it's only accessed by a single thread.\r\n```\r\n\r\nat least somebody else finds the comment confusing too: https://github.com/bitcoin/bitcoin/pull/21527#discussion_r654705472",
      "created_at" : "2022-02-22T17:51:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1048058772",
      "id" : 1048058772,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-eBuU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048058772/reactions"
      },
      "updated_at" : "2022-02-22T17:51:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048058772",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Then just moving the call to MaybeSendFeefilter() after cs_main is released would achieve the goal. It is 1-line change.\r\n\r\nIt would require also removing the `AssertLockHeld(cs_main);`. If reviewers think this 2-line patch is preferable, I am more than happy to go with it, as long as I can make progress removing cs_main.",
      "created_at" : "2022-02-23T08:05:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1048529255",
      "id" : 1048529255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-f0ln",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048529255/reactions"
      },
      "updated_at" : "2022-02-23T08:05:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048529255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > Then just moving the call to MaybeSendFeefilter() after cs_main is released would achieve the goal. It is 1-line change.\r\n> \r\n> It would require also removing the `AssertLockHeld(cs_main);`. If reviewers think this 2-line patch is preferable, I am more than happy to go with it, as long as I can make progress removing cs_main.\r\n\r\n+1, should be ok, I will review carefully if you go that way.",
      "created_at" : "2022-02-23T09:16:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1048580438",
      "id" : 1048580438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-gBFW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048580438/reactions"
      },
      "updated_at" : "2022-02-23T09:16:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048580438",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing for now. Reviewers, please ACK/NACK #24427 instead.",
      "created_at" : "2022-02-23T09:29:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22053#issuecomment-1048591345",
      "id" : 1048591345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22053",
      "node_id" : "IC_kwDOABII584-gDvx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048591345/reactions"
      },
      "updated_at" : "2022-02-23T09:29:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048591345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
