{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "This is split from #21667.\r\n\r\nFor users, one of the preferred ways to use the Bitcoin Core client is compiling from source, either downloaded as a part of release or acquired via git.\r\n\r\nOnly basic knowledge about terminal is required to run:\r\n```\r\n$ cd bitcoin\r\n$ ./autogen.sh\r\n$ ./configure\r\n$ make check\r\n```\r\n\r\nAlso, it is natural to expect that number of users that have such knowledge is higher than the number of advanced users or developers.\r\n\r\nAssuming the basic knowledge level of users it seems unwise to allow compiler and linker warnings because they could undermine the users' trust in the Bitcoin Core quality/security/reliability.\r\n\r\nOf course, warnings could be emitted by different parts of code: either the code we are responsible for, or third parties code, including sub-trees in our repo:\r\n- https://github.com/google/crc32c\r\n- https://github.com/google/leveldb\r\n\r\nand other dependencies:\r\n- https://github.com/libevent/libevent\r\n- https://github.com/boostorg/boost\r\n- https://github.com/qt/qtbase\r\n- ...\r\n\r\nCurrently, warnings from `leveldb` are suppressed _unconditionally_: https://github.com/bitcoin/bitcoin/blob/599000903e09e5ae3784d15ae078a2e1ed89ab12/src/Makefile.leveldb.include#L39\r\n\r\nOTOH, warnings from Qt and Boost code could be suppressed with the `--enable-suppress-external-warnings` configure option.\r\n\r\nMaking the `--enable-suppress-external-warnings` the default has the following benefits:\r\n- don't alarm users who compile from source\r\n- increase signal/noise ratio for developers when a new warning appears in our code (as an example, Qt warnings on macOS, where Homebrew's Qt is pretty fresh)\r\n- allows to apply more `-W` and `-Werror` options by default (for example, `-Wdocumentation` and `-Werror=documentation` introduced in #21613)\r\n\r\nThere was an [objection](https://github.com/bitcoin/bitcoin/pull/21667#issuecomment-820185228): \r\n> I don't think we should make `--enable-suppress-external-warnings` the default, but it should be better documented. Someone needs to be motivated to fix things upstream and/or notice problems when we update dependencies.\r\n\r\nThe answer to this objection is that fixing \"things upstream\" is not the top priority for developers. It is always possible to build with the `--disable-suppress-external-warnings`. Even more, with this PR the `--disable-suppress-external-warnings` will reveal `leveldb` warning as well.",
   "closed_at" : "2021-11-21T19:51:41Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
      "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
      "followers_url" : "https://api.github.com/users/hebasto/followers",
      "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/hebasto",
      "id" : 32963518,
      "login" : "hebasto",
      "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
      "organizations_url" : "https://api.github.com/users/hebasto/orgs",
      "received_events_url" : "https://api.github.com/users/hebasto/received_events",
      "repos_url" : "https://api.github.com/users/hebasto/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/hebasto"
   },
   "comments" : 8,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22041/comments",
   "created_at" : "2021-05-24T11:20:04Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22041/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/22041",
   "id" : 899568551,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      },
      {
         "color" : "cccccc",
         "default" : false,
         "description" : "",
         "id" : 955867938,
         "name" : "Needs rebase",
         "node_id" : "MDU6TGFiZWw5NTU4Njc5Mzg=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22041/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NjUxMjUyODg5",
   "number" : 22041,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/22041.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22041",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/22041.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22041"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22041/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22041/timeline",
   "title" : "build: Make --enable-suppress-external-warnings the default ",
   "updated_at" : "2021-11-21T19:51:41Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22041",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
      "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
      "followers_url" : "https://api.github.com/users/hebasto/followers",
      "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/hebasto",
      "id" : 32963518,
      "login" : "hebasto",
      "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
      "organizations_url" : "https://api.github.com/users/hebasto/orgs",
      "received_events_url" : "https://api.github.com/users/hebasto/received_events",
      "repos_url" : "https://api.github.com/users/hebasto/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/hebasto"
   }
}
