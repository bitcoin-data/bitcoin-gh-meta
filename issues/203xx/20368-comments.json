[
   {
      "author_association" : "MEMBER",
      "body" : "Please don't remove this unless you add a corresponding MSan job: we urgently need UUM (use of uninitialized memory) testing of also the fuzzers. We've seen way too many recent UUM issues in the last years. See partial list below.\r\n\r\n> It doesn't add a lot of value: Except for one issue in the boost time library, it hasn't found any issues that the existing fuzz,asan,ubsan fuzzer has already found\r\n\r\nPlease note that UUM issues will **not** be found by ASan or UBSan: only MSan or Valgrind will catch these.\r\n\r\n> It is redundant: It is already run in the bitcoin-core/qa-assets repo on every push of new seeds and once daily\r\n\r\nIt is great that you run the this testing on your own, but \"I run this anyways on my own intrastructure\" is really not equivalent to \"everyone can easily confirm that we test this continuously in our shared CI infrastructure\".\r\n\r\n---\r\n\r\nSome recent uninitialized reads (incomplete list):\r\n\r\n* 2020: [Use of uninitialized memory in signet validation code](https://github.com/bitcoin/bitcoin/pull/20035)\r\n* 2020: [Use of uninitialized memory in Taproot deployment for Signet](https://github.com/bitcoin/bitcoin/pull/20157)\r\n* 2020: [Use of uninitialized memory in Erlay networking code](https://github.com/bitcoin/bitcoin/pull/18261#issuecomment-596803815) - found pre-merge\r\n* 2020: [Use of uninitialized memory in BIP324 encrypted p2p transport de-/serializer code](https://github.com/bitcoin/bitcoin/pull/18242#issuecomment-593674721) (truth in advertising: I haven't verified this one by writing a PoC) - found pre-merge\r\n* 2020: [util: Avoid potential uninitialized read in FormatISO8601DateTime(int64_t) by checking gmtime_s/gmtime_r return](https://github.com/bitcoin/bitcoin/pull/18162)\r\n* 2019: [Use of uninitialized memory in networking code when receiving a transaction we already have](https://github.com/bitcoin/bitcoin/pull/17624) - found post-merge\r\n* 2019: [wallet: Uninitialized read in bumpfee(â¦)](https://github.com/bitcoin/bitcoin/issues/17642)\r\n* 2018: [wallet: Fix non-determinism in ParseHDKeypath(...). Avoid using an uninitialized variable in path calculation.](https://github.com/bitcoin/bitcoin/pull/13712)\r\n* 2018: [wallet: Fix use of uninitialized value bnb_used in CWallet::CreateTransaction(...)](https://github.com/bitcoin/bitcoin/pull/13546)\r\n* 2017: [[net] Fix use of uninitialized value in getnetworkinfo(const JSONRPCRequest&)](https://github.com/bitcoin/bitcoin/pull/10977)\r\n* 2017: [[test] Avoid reading a potentially uninitialized variable in tx_invalid-test (transaction_tests.cpp)](https://github.com/bitcoin/bitcoin/pull/9555)",
      "created_at" : "2020-11-11T08:50:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20368#issuecomment-725291743",
      "id" : 725291743,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20368",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNTI5MTc0Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-11T08:57:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/725291743",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> We've seen way too many recent UUM issues in the last two years.\r\n\r\nI am only aware of one memory issue that the *valgrind fuzz* task has found in our time parsing/encoding helper function, excluding issues that have been found by the other fuzz task.\r\n\r\n> It is great that you run the this testing on your own, but \"I run this anyways on my own intrastructure\" is really not equivalent to \"everyone can easily confirm that we test this continuously in our shared CI infrastructure\".\r\n\r\nI don't run this on my own. It runs on the same ci provider completely public: https://cirrus-ci.com/github/bitcoin-core/qa-assets\r\n\r\nRight now the task doesn't run in this repo because it times out after 2 hours. I don't see the value of keeping a task that times out and marks everything red.",
      "created_at" : "2020-11-11T09:00:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20368#issuecomment-725296690",
      "id" : 725296690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20368",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNTI5NjY5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-11T09:00:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/725296690",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I am only aware of one memory issue that the valgrind fuzz task has found in our time parsing/encoding helper function, excluding issues that have been found by the other fuzz task.\r\n\r\nConsidering that the fuzz tests are known to exercise code paths not covered by the unit tests or functional tests I'm not really comfortable with us removing CI Valgrind UUM fuzz testing before we have a replacement in place.\r\n\r\nI think we should add a MSan fuzzing job before we remove the Valgrind fuzzing job. [As discussed in previous PRs MSan is way way faster than Valgrind.](18288)\r\n\r\n> I don't run this on my own. It runs on the same ci provider completely public: https://cirrus-ci.com/github/bitcoin-core/qa-assets\r\n\r\nThanks. I didn't know that. What happens if one of those cron jobs fail due to detected UUM? Will someone catch that, and/or get notified?",
      "created_at" : "2020-11-11T09:19:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20368#issuecomment-725306393",
      "id" : 725306393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20368",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNTMwNjM5Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-11T09:19:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/725306393",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Will someone catch that, and/or get notified?\r\n\r\nYes, pushing new seeds to the repo will be marked red.",
      "created_at" : "2020-11-11T10:04:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20368#issuecomment-725329449",
      "id" : 725329449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20368",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNTMyOTQ0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-11T10:04:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/725329449",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "going to merge this because all pull requests and master builds are red right now",
      "created_at" : "2020-11-11T13:21:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20368#issuecomment-725419811",
      "id" : 725419811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20368",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNTQxOTgxMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-11T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/725419811",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK fa92cf29d971811ff8dd844ee1a1e2e12b79e389 i really wanted to remove this against time out",
      "created_at" : "2020-11-11T14:19:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20368#issuecomment-725449315",
      "id" : 725449315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20368",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNTQ0OTMxNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-11T14:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/725449315",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/60179867?v=4",
         "events_url" : "https://api.github.com/users/decryp2kanon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/decryp2kanon/followers",
         "following_url" : "https://api.github.com/users/decryp2kanon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/decryp2kanon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/decryp2kanon",
         "id" : 60179867,
         "login" : "decryp2kanon",
         "node_id" : "MDQ6VXNlcjYwMTc5ODY3",
         "organizations_url" : "https://api.github.com/users/decryp2kanon/orgs",
         "received_events_url" : "https://api.github.com/users/decryp2kanon/received_events",
         "repos_url" : "https://api.github.com/users/decryp2kanon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/decryp2kanon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/decryp2kanon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/decryp2kanon"
      }
   }
]
