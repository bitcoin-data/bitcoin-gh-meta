[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code review ACK",
      "created_at" : "2020-05-01T16:44:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#issuecomment-622464988",
      "id" : 622464988,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjQ2NDk4OA==",
      "updated_at" : "2020-05-01T16:44:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622464988",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-05-01T18:10:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#issuecomment-622498889",
      "id" : 622498889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjQ5ODg4OQ==",
      "updated_at" : "2020-05-01T18:10:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622498889",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18857 (build: avoid repetitions when enabling warnings in configure.ac by vasild)\n* #18216 (test, build: Enable -Werror=sign-compare by Empact)\n* #16710 (build: Enable -Wsuggest-override if available by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-05-01T18:46:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#issuecomment-622513051",
      "id" : 622513051,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjUxMzA1MQ==",
      "updated_at" : "2020-05-05T18:45:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622513051",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Please don't bundle unrelated changes like https://github.com/bitcoin/bitcoin/pull/18843/commits/fe466a4fdc705d6a368a4babc1c3b44537edf1c9 into a PR like this.\r\n\r\n> r1 would be set to 0 on rdrand failure, so initializing it to 0 is a non-functional change.\r\n\r\nCan you at least link to documentation that says this is the case. ",
      "created_at" : "2020-05-02T01:01:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#issuecomment-622645588",
      "id" : 622645588,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjY0NTU4OA==",
      "updated_at" : "2020-05-02T01:01:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622645588",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Please don't bundle unrelated changes like [fe466a4](https://github.com/bitcoin/bitcoin/commit/fe466a4fdc705d6a368a4babc1c3b44537edf1c9) into a PR like this.\r\n\r\nSorry for that. I considered it would be ok as long as it is a separate commit and the main change in this PR steps on top of it. Now I submitted that dedup as a separate PR at https://github.com/bitcoin/bitcoin/pull/18857, removed it from this PR and made this PR to use the old `AX_CHECK_COMPILE_FLAG()` so that there is no dependency between the two PRs and either one can be merged first. As a result they conflict but it is trivial to resolve - once one of them gets merged (if that happens!) I will adjust the other one.\r\n \r\n> > r1 would be set to 0 on rdrand failure, so initializing it to 0 is a non-functional change.\r\n> \r\n> Can you at least link to documentation that says this is the case.\r\n\r\nDone in the commit message:\r\n\r\n> From \"Intel 64 and IA-32 ArchitecturesSoftware Developer's Manual\" [1],\r\n> page 1711: \"CF=1 indicates that the data in the destination is valid.\r\n> Otherwise CF=0 and the data in the destination operand will be returned\r\n> as zeros for the specified width.\"\r\n> \r\n> [1] https://software.intel.com/sites/default/files/managed/39/c5/325462-sdm-vol-1-2abcd-3abcd.pdf\r\n\r\nThanks for looking into this!",
      "created_at" : "2020-05-03T14:50:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#issuecomment-623121689",
      "id" : 623121689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzEyMTY4OQ==",
      "updated_at" : "2020-05-03T14:50:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623121689",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18843#discussion_r419114946"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/419114946"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    uint32_t r1 = 0, r2 = 0; // ...\r\n```\r\n\r\n Mabye also add an inline comment to explain why setting to zero is not a bug?",
      "commit_id" : "23faed094ecf5f77fa250e57464bab2fb089730c",
      "created_at" : "2020-05-03T14:56:16Z",
      "diff_hunk" : "@@ -116,7 +116,7 @@ static uint64_t GetRdRand() noexcept\n     // RdRand may very rarely fail. Invoke it up to 10 times in a loop to reduce this risk.\n #ifdef __i386__\n     uint8_t ok;\n-    uint32_t r1, r2;\n+    uint32_t r1 = 0, r2 = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#discussion_r419114946",
      "id" : 419114946,
      "line" : 119,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTExNDk0Ng==",
      "original_commit_id" : "23faed094ecf5f77fa250e57464bab2fb089730c",
      "original_line" : 119,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/random.cpp",
      "position" : 5,
      "pull_request_review_id" : 404626851,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18843",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-03T14:56:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/419114946",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It would be more readable to use `_rdrand64_step()` from `immintrin.h` or `__builtin_ia32_rdrand64_step()` instead of `__asm__ volatile (\".byte 0x48, 0x0f, 0xc7, 0xf0; setc %1\" : \"=a\"(r1), \"=q\"(ok) :: \"cc\");` [reference](https://en.wikipedia.org/wiki/RDRAND#Compilers).\r\n\r\nOut of the scope of this PR.",
      "created_at" : "2020-05-03T15:31:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#issuecomment-623127710",
      "id" : 623127710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzEyNzcxMA==",
      "updated_at" : "2020-05-03T15:31:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623127710",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@vasild The annoying part about using intrinsics is that they require moving the code to a separate module and compiling it separately. That's because in order to get access to `_rdrand64_step()`, you need to compile with `-mrdrnd`, which makes the compiler assume that rdrand is available throughout the entire module (which could in theory cause the compiler to emit such instructions even in cases where it's running on a system that doesn't have that instruction).",
      "created_at" : "2020-05-03T18:31:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#issuecomment-623158435",
      "id" : 623158435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzE1ODQzNQ==",
      "updated_at" : "2020-05-03T18:33:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623158435",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 71f183a49b714a28622277fa668d8f9f3dac0aae",
      "created_at" : "2020-05-03T18:56:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#issuecomment-623162402",
      "id" : 623162402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzE2MjQwMg==",
      "updated_at" : "2020-05-03T18:56:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623162402",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 71f183a49b714a28622277fa668d8f9f3dac0aae",
      "created_at" : "2020-05-06T11:49:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18843#issuecomment-624603242",
      "id" : 624603242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNDYwMzI0Mg==",
      "updated_at" : "2020-05-06T11:49:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/624603242",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
