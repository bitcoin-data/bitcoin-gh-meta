[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-04-29T02:42:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-620961027",
      "id" : 620961027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDk2MTAyNw==",
      "updated_at" : "2020-05-02T03:56:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620961027",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-29T08:45:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-621070382",
      "id" : 621070382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMTA3MDM4Mg==",
      "updated_at" : "2020-04-29T08:45:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/621070382",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r417232333"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/417232333"
         }
      },
      "author_association" : "MEMBER",
      "body" : "suggest s/approximately once a day/once every 12-36 hours/",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-04-29T11:02:58Z",
      "diff_hunk" : "@@ -87,6 +92,13 @@ New settings\n Wallet\n ------\n \n+- To improve wallet privacy, the frequency of wallet rebroadcast attempts has\n+  been reduced from approximately once every 15 minutes to approximately once a\n+  day. To maintain a similar level of guarantee for initial broadcast of wallet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r417232333",
      "id" : 417232333,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIzMjMzMw==",
      "original_commit_id" : "0dd03ca9b3531ac8c4ede030bb075b882b588f79",
      "original_line" : 97,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 402563175,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/417232333",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r417234843"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/417234843"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Suggestion as per https://github.com/bitcoin/bitcoin/pull/18038#discussion_r415750840 with only one call to `time.time()` and two info logging statements.\r\n\r\n```python\r\n        # Check transaction is rebroadcast in 12-36 hour time interval.\r\n        time_now = int(time.time())\r\n\r\n        self.log.info(\"Bump time 12 hours from now, check transaction is not yet rebroadcast\")\r\n        rebroadcast_time = time_now  + (12 * 60 * 60)\r\n        node.setmocktime(rebroadcast_time)\r\n        assert_equal(node.p2ps[1].tx_invs_received[txid], 0)\r\n\r\n        self.log.info(\"Bump time 36 hours from now, check transaction is rebroadcast\")\r\n        rebroadcast_time = time_now + (36 * 60 * 60)\r\n        node.setmocktime(rebroadcast_time)\r\n        wait_until(lambda: node.p2ps[1].tx_invs_received[txid] >= 1, lock=mininode_lock)\r\n```",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-04-29T11:08:10Z",
      "diff_hunk" : "@@ -69,9 +54,17 @@ def run_test(self):\n         node.p2ps[1].sync_with_ping()\n         assert_equal(node.p2ps[1].tx_invs_received[txid], 0)\n \n-        self.log.info(\"Transaction should be rebroadcast after 30 minutes\")\n-        # Use mocktime and give an extra 5 minutes to be sure.\n-        rebroadcast_time = int(time.time()) + 41 * 60\n+        # Bump time 12 hours to check the transaction is still not\n+        # rebroadcast\n+        rebroadcast_time = int(time.time()) + 12 * 60 * 60\n+        node.setmocktime(rebroadcast_time)\n+        node.p2ps[1].sync_with_ping()\n+        assert_equal(node.p2ps[1].tx_invs_received[txid], 0)\n+\n+        self.log.info(\"Bump time & check that transaction is rebroadcast\")\n+        # Transaction should be rebroadcast approximately 24 hours in the future,\n+        # but can range from 12-36. So bump 36 hours to be sure.\n+        rebroadcast_time = int(time.time()) + 36 * 60 * 60",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r417234843",
      "id" : 417234843,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIzNDg0Mw==",
      "original_commit_id" : "0dd03ca9b3531ac8c4ede030bb075b882b588f79",
      "original_line" : 67,
      "original_position" : 66,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 402563175,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/417234843",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r417411309"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/417411309"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Format in sentences please",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-04-29T15:35:19Z",
      "diff_hunk" : "@@ -810,6 +810,20 @@ void PeerLogicValidation::InitializeNode(CNode *pnode) {\n         PushNodeVersion(pnode, connman, GetTime());\n }\n \n+void PeerLogicValidation::ReattemptInitialBroadcast(CScheduler& scheduler) const\n+{\n+    std::set<uint256> unbroadcast_txids = m_mempool.GetUnbroadcastTxs();\n+\n+    for (const uint256& txid : unbroadcast_txids) {\n+        RelayTransaction(txid, *connman);\n+    }\n+\n+    // schedule next run for 10-15 minutes in the future\n+    // add randomness on every cycle to avoid possibility of p2p fingerprinting",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r417411309",
      "id" : 417411309,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQxMTMwOQ==",
      "original_commit_id" : "0dd03ca9b3531ac8c4ede030bb075b882b588f79",
      "original_line" : 822,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 402789572,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/417411309",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2020-04-29T16:34:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-621324706",
      "id" : 621324706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMTMyNDcwNg==",
      "updated_at" : "2020-04-29T16:34:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/621324706",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.\r\n\r\nBuilt, run and tested the code on macOS Catalina 10.15.4. Both tests were successful.\r\nCommit 0dd03ca9b3531ac8c4ede030bb075b882b588f79\r\n\r\n```shell\r\n./test/functional/mempool_unbroadcast.py   (13s 854ms) â\r\n2020-04-30T16:35:16.018000Z TestFramework (INFO): Initializing test directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_ngy9nfi0\r\n2020-04-30T16:35:19.438000Z TestFramework (INFO): Test that mempool reattempts delivery of locally submitted transaction\r\n2020-04-30T16:35:19.994000Z TestFramework (INFO): Generate transactions that only node 0 knows about\r\n2020-04-30T16:35:21.479000Z TestFramework (INFO): Reconnect nodes & check if they are sent to node 1\r\n2020-04-30T16:35:25.579000Z TestFramework (INFO): Add another connection & ensure transactions aren't broadcast again\r\n2020-04-30T16:35:27.753000Z TestFramework (INFO): Test that transactions removed from mempool are removed from unbroadcast set\r\n2020-04-30T16:35:28.071000Z TestFramework (INFO): Stopping nodes\r\n2020-04-30T16:35:28.595000Z TestFramework (INFO): Cleaning up /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_ngy9nfi0 on exit\r\n2020-04-30T16:35:28.596000Z TestFramework (INFO): Tests successful\r\n```\r\n\r\n```shell\r\n./test/functional/wallet_resendwallettransactions.py  (13s 961ms)  \r\n2020-04-30T16:36:05.847000Z TestFramework (INFO): Initializing test directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_k0jcybzc\r\n2020-04-30T16:36:07.329000Z TestFramework (INFO): Create a new transaction and wait until it's broadcast\r\n2020-04-30T16:36:17.090000Z TestFramework (INFO): Create a block\r\n2020-04-30T16:36:17.213000Z TestFramework (INFO): Bump time & check that transaction is rebroadcast\r\n2020-04-30T16:36:17.584000Z TestFramework (INFO): Stopping nodes\r\n2020-04-30T16:36:18.055000Z TestFramework (INFO): Cleaning up /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_k0jcybzc on exit\r\n2020-04-30T16:36:18.055000Z TestFramework (INFO): Tests successful\r\n```\r\n\r\nWill do a full review after rebase.",
      "created_at" : "2020-04-30T16:47:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-621971492",
      "id" : 621971492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMTk3MTQ5Mg==",
      "updated_at" : "2020-04-30T16:47:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/621971492",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> the node will try to announce unbroadcast transactions until a peer requests it via a `GETDATA`\r\n\r\nIf I was a bully node, I would send a `GETDATA` back to any node who announces a transaction I haven't seen yet. Is that kind of behaviour punished at the p2p level? Would it make sense to require that the `GETDATA` comes from a node that we never told about the transaction? Or that it comes from at least two nodes?",
      "created_at" : "2020-05-04T18:53:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-623642094",
      "id" : 623642094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzY0MjA5NA==",
      "updated_at" : "2020-05-04T18:53:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623642094",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@gzhao408 has kindly taken over the follow-ups that change the codebase functionality in #18895 .\r\n\r\nI'll use this PR to focus on updates to tests & docs. but currently still WIP. \r\n\r\n-----\r\n\r\n@Sjors \r\n> If I was a bully node, I would send a GETDATA back to any node who announces a transaction I haven't seen yet. Is that kind of behaviour punished at the p2p level?\r\n\r\nnodes requesting announced txns they haven't seen is ... desired :) but I think what you're getting at is the attacker might request but then not propagate. I don't see a way a peer could directly know if the other node propagated the transaction. So yes, we'd have to use another heuristic to try to evaluate that question. \r\n\r\nbut something to keep in mind.. transactions on the unbroadcast set are queued for every peer (`ReattemptInitialBroadcast` calls `RelayTransaction` which iterates through each node). so the attacker sending back a `GETDATA` would also have to somehow interrupt me from sending out to the other peers, be my only connection, etc. \r\n\r\n> Would it make sense to require that the GETDATA comes from a node that we never told about the transaction?\r\n\r\nwe don't usually get unsolicited `GETDATA` messages, but maybe what you're considering here is getting an `INV` from a peer we didn't announce it to. I considered this sort of approach in earlier iterations of the design (announce to some peers, wait for it to come back from others), but it seems unnecessary & a significant change to current txn propagation. \r\n\r\n> Or that it comes from at least two nodes?\r\n\r\nalso considered this approach, but over the course of review comments it didn't seem necessary bc some of the reasons talked about above. all of this design discussion is scattered throughout #18038 if you're interested in digging deeper :) ",
      "created_at" : "2020-05-06T03:28:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-624423419",
      "id" : 624423419,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNDQyMzQxOQ==",
      "updated_at" : "2020-05-14T22:53:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/624423419",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425508497"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425508497"
         }
      },
      "author_association" : "MEMBER",
      "body" : "sure. changed",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T00:54:46Z",
      "diff_hunk" : "@@ -87,6 +92,13 @@ New settings\n Wallet\n ------\n \n+- To improve wallet privacy, the frequency of wallet rebroadcast attempts has\n+  been reduced from approximately once every 15 minutes to approximately once a\n+  day. To maintain a similar level of guarantee for initial broadcast of wallet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425508497",
      "id" : 425508497,
      "in_reply_to_id" : 417232333,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUwODQ5Nw==",
      "original_commit_id" : "0dd03ca9b3531ac8c4ede030bb075b882b588f79",
      "original_line" : 97,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 412279534,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425508497",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425510394"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425510394"
         }
      },
      "author_association" : "MEMBER",
      "body" : "so, I took a closer look at this part of the test, and as @jnewbery pointed out [in that thread](https://github.com/bitcoin/bitcoin/pull/18038#discussion_r417408126), the test wasn't actually checking anything (not just the additional check after 12 hour bump, but the existing one as well).\r\n\r\nI've updated so there's just one \"transaction should not be rebroadcast\" check, and that it occurs after we've bumped almost 12 hours into the future. ",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T01:02:33Z",
      "diff_hunk" : "@@ -69,9 +54,17 @@ def run_test(self):\n         node.p2ps[1].sync_with_ping()\n         assert_equal(node.p2ps[1].tx_invs_received[txid], 0)\n \n-        self.log.info(\"Transaction should be rebroadcast after 30 minutes\")\n-        # Use mocktime and give an extra 5 minutes to be sure.\n-        rebroadcast_time = int(time.time()) + 41 * 60\n+        # Bump time 12 hours to check the transaction is still not\n+        # rebroadcast\n+        rebroadcast_time = int(time.time()) + 12 * 60 * 60\n+        node.setmocktime(rebroadcast_time)\n+        node.p2ps[1].sync_with_ping()\n+        assert_equal(node.p2ps[1].tx_invs_received[txid], 0)\n+\n+        self.log.info(\"Bump time & check that transaction is rebroadcast\")\n+        # Transaction should be rebroadcast approximately 24 hours in the future,\n+        # but can range from 12-36. So bump 36 hours to be sure.\n+        rebroadcast_time = int(time.time()) + 36 * 60 * 60",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425510394",
      "id" : 425510394,
      "in_reply_to_id" : 417234843,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUxMDM5NA==",
      "original_commit_id" : "0dd03ca9b3531ac8c4ede030bb075b882b588f79",
      "original_line" : 67,
      "original_position" : 66,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 412281718,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425510394",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425515503"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425515503"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke I removed the `sync_with_ping()` call because I think its a no-op, but I'd like your review to make sure I'm not (re)introducing a race in weird conditions. \r\n\r\nmy understanding: \r\n`sync_with_ping()` is a p2p interface method that ensures any messages it has sent to the node have been processed by the node. \r\n\r\nthe `syncwithvalidationinterfacequeue()` makes sense to me bc that's making sure the wallet gets notified about the block.\r\n\r\nsince we're trying to check if the wallet kicks off rebroadcasting the transaction, so this synchronization should not be relevant? it was definitely not sufficient. the test previously wasn't checking anything bc it didn't give enough time for a rebroadcast to kickoff, so I've added a `time.sleep()` call. \r\n\r\ntldr; I removed the `sync_with_ping()` bc I think it was a no-op & misleading. I've added a `time.sleep(2)` to actually test that a transaction isn't rebroadcast. please lmk if I'm missing something.",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T01:23:44Z",
      "diff_hunk" : "@@ -49,16 +49,21 @@ def run_test(self):\n         block.solve()\n         node.submitblock(ToHex(block))\n \n-        # Transaction should not be rebroadcast\n         node.syncwithvalidationinterfacequeue()\n-        node.p2ps[1].sync_with_ping()\n+        now = int(time.time())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425515503",
      "id" : 425515503,
      "line" : 53,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUxNTUwMw==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 53,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : 8,
      "pull_request_review_id" : 412287737,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425515503",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425515744"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425515744"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T01:24:54Z",
      "diff_hunk" : "@@ -810,6 +810,20 @@ void PeerLogicValidation::InitializeNode(CNode *pnode) {\n         PushNodeVersion(pnode, connman, GetTime());\n }\n \n+void PeerLogicValidation::ReattemptInitialBroadcast(CScheduler& scheduler) const\n+{\n+    std::set<uint256> unbroadcast_txids = m_mempool.GetUnbroadcastTxs();\n+\n+    for (const uint256& txid : unbroadcast_txids) {\n+        RelayTransaction(txid, *connman);\n+    }\n+\n+    // schedule next run for 10-15 minutes in the future\n+    // add randomness on every cycle to avoid possibility of p2p fingerprinting",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425515744",
      "id" : 425515744,
      "in_reply_to_id" : 417411309,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUxNTc0NA==",
      "original_commit_id" : "0dd03ca9b3531ac8c4ede030bb075b882b588f79",
      "original_line" : 822,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 412288067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425515744",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "review comments addressed, additional release notes added & WIP removed.",
      "created_at" : "2020-05-15T01:54:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-628979697",
      "id" : 628979697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyODk3OTY5Nw==",
      "updated_at" : "2020-05-15T01:54:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628979697",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425711827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425711827"
         }
      },
      "author_association" : "MEMBER",
      "body" : ">  sync_with_ping() is a p2p interface method that ensures any messages it has sent to the node have been processed by the node.\r\n\r\nCorrect. Also, any messages that the node has put in the send buffer (before the pong is sent) will get \"flushed out\" to the mininode.",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T10:29:29Z",
      "diff_hunk" : "@@ -49,16 +49,21 @@ def run_test(self):\n         block.solve()\n         node.submitblock(ToHex(block))\n \n-        # Transaction should not be rebroadcast\n         node.syncwithvalidationinterfacequeue()\n-        node.p2ps[1].sync_with_ping()\n+        now = int(time.time())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425711827",
      "id" : 425711827,
      "in_reply_to_id" : 425515503,
      "line" : 53,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxMTgyNw==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 53,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : 8,
      "pull_request_review_id" : 412530516,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425711827",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425763789"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425763789"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n  unbroadcast transactions until a peer requests it via a `getdata` message, or the\r\n```",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T12:22:04Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425763789",
      "id" : 425763789,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc2Mzc4OQ==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 70,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 412598176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425763789",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425764324"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425764324"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n  custom setup to use P2P messages to submit a transaction that belongs to a loaded wallet to your node\r\n```\r\n\r\nlocal means wallet, right?",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T12:23:06Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the\n+  transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a local transaction to your node",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425764324",
      "id" : 425764324,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc2NDMyNA==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 72,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 412598176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425764324",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425924474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425924474"
         }
      },
      "author_association" : "MEMBER",
      "body" : "so, do you agree that seems irrelevant here? ",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T16:46:00Z",
      "diff_hunk" : "@@ -49,16 +49,21 @@ def run_test(self):\n         block.solve()\n         node.submitblock(ToHex(block))\n \n-        # Transaction should not be rebroadcast\n         node.syncwithvalidationinterfacequeue()\n-        node.p2ps[1].sync_with_ping()\n+        now = int(time.time())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425924474",
      "id" : 425924474,
      "in_reply_to_id" : 425515503,
      "line" : 53,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTkyNDQ3NA==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 53,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : 8,
      "pull_request_review_id" : 412807807,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425924474",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425929919"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425929919"
         }
      },
      "author_association" : "MEMBER",
      "body" : "kind of.. I've been using the language \"local\" because it could be wallet, or submitted via `sendrawtransaction`. similarly, if we're talking about these edge cases, someone could theoretically form a transaction & give it to me out of band, then I submit from one computer to my main node via my highly specific custom P2P setup that involves being disconnected from the greater internet. but I guess every valid transaction involves some loaded wallet? \r\n\r\nlol. it all seems like quite an edge case. maybe here I can just remove the word \"local\".\r\n\r\nnew:\r\n> If you have a custom setup to use P2P messages to submit a transaction to your node while it is not connected to other nodes, these changes reduce your initial broadcast guarantees. (#18038)\r\n",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T16:56:35Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the\n+  transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a local transaction to your node",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425929919",
      "id" : 425929919,
      "in_reply_to_id" : 425764324,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTkyOTkxOQ==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 72,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 412814819,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425929919",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425959961"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425959961"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> If you have a custom setup to use P2P messages to submit a transaction to your node while it is not connected to other nodes, these changes reduce your initial broadcast guarantees\r\n\r\nThis has always been the case. Your pull didn't change that.",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T17:55:34Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the\n+  transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a local transaction to your node",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425959961",
      "id" : 425959961,
      "in_reply_to_id" : 425764324,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk1OTk2MQ==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 72,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 412853801,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425959961",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425965419"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425965419"
         }
      },
      "author_association" : "MEMBER",
      "body" : "oh. great point. lol ok I'll update to wallet.",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T18:06:23Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the\n+  transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a local transaction to your node",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r425965419",
      "id" : 425965419,
      "in_reply_to_id" : 425764324,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2NTQxOQ==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 72,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 412860854,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425965419",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r426010842"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426010842"
         }
      },
      "author_association" : "MEMBER",
      "body" : "is there a reason you've suggested \"that belongs to a loaded wallet\" rather than just wallet transaction? \r\n\r\nwould be relevant if your wallet address is receiving too, right? ",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-15T19:41:12Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the\n+  transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a local transaction to your node",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r426010842",
      "id" : 426010842,
      "in_reply_to_id" : 425764324,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjAxMDg0Mg==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 72,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 412919778,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426010842",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r426303142"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426303142"
         }
      },
      "author_association" : "MEMBER",
      "body" : "updated",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-17T20:46:22Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r426303142",
      "id" : 426303142,
      "in_reply_to_id" : 425763789,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMwMzE0Mg==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 70,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 413197239,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426303142",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r426303195"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426303195"
         }
      },
      "author_association" : "MEMBER",
      "body" : "updated to \"wallet transaction\", lmk if you have further thoughts ",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-17T20:47:09Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the\n+  transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a local transaction to your node",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r426303195",
      "id" : 426303195,
      "in_reply_to_id" : 425764324,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMwMzE5NQ==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 72,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 413197284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426303195",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r426561428"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426561428"
         }
      },
      "author_association" : "MEMBER",
      "body" : "how would bitcoin core know that this is a wallet transaction when the wallet is not loaded? Maybe this is clear to everyone reading the sentence, but I think the distinction should be made to avoid potential confusion.",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-18T11:37:00Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the\n+  transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a local transaction to your node",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r426561428",
      "id" : 426561428,
      "in_reply_to_id" : 425764324,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU2MTQyOA==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 72,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 413510509,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426561428",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r427705478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427705478"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah, this was my misunderstanding. I was interpreting \"loaded wallet\" to mean (wallet has spendable funds aka utxos) vs (node has wallet component loaded)\r\n\r\nalso looked in the code and realized that watchonly is a wallet only thing. \r\n\r\nI get what you're saying now. I'm thinking about how to clarify the language. ",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-20T02:23:39Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the\n+  transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a local transaction to your node",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r427705478",
      "id" : 427705478,
      "in_reply_to_id" : 425764324,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzcwNTQ3OA==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 72,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 414948793,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427705478",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r428332909"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/428332909"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would you want to grab the lock? And also since this function is pretty handy?\r\n```suggestion\r\n        assert_equal(txid in node.p2ps[1]get_invs(), False)\r\n```",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-20T22:01:13Z",
      "diff_hunk" : "@@ -49,16 +49,21 @@ def run_test(self):\n         block.solve()\n         node.submitblock(ToHex(block))\n \n-        # Transaction should not be rebroadcast\n         node.syncwithvalidationinterfacequeue()\n-        node.p2ps[1].sync_with_ping()\n+        now = int(time.time())\n+\n+        # Transaction should not be rebroadcast within first 12 hours\n+        # Leave 2 mins for buffer\n+        twelve_hrs = 12 * 60 * 60\n+        two_min = 2 * 60\n+        node.setmocktime(now + twelve_hrs - two_min)\n+        time.sleep(2) # ensure enough time has passed for rebroadcast attempt to occur\n         assert_equal(node.p2ps[1].tx_invs_received[txid], 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r428332909",
      "id" : 428332909,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMjkwOQ==",
      "original_commit_id" : "eed809422ed8c7c5bf9451dec02f5573e104d889",
      "original_line" : 61,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 415745562,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/428332909",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r428344068"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/428344068"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Since it seems you'll need to include the rpc info [from #18895](https://github.com/bitcoin/bitcoin/pull/18895#issuecomment-630998986) I wanted to help draft a description:\r\n```suggestion\r\n- `getmempoolinfo` now returns an additional `unbroadcastcount` field which represents the number of transactions that the mempool considers unbroadcast.\r\n- Mempool RPCs such as `getmempoolentry` and `getrawmempool` with `verbose=true`now return an additional \"unbroadcast\" field which indicates whether the mempool considers this transaction unbroadcast.\r\n```",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-20T22:29:07Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `getdata` message or\n+  the transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a wallet transaction to your node\n+  while it is not connected to other nodes, these changes reduce your initial\n+  broadcast guarantees. (#18038)\n+\n Updated RPCs\n ------------\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r428344068",
      "id" : 428344068,
      "line" : 78,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM0NDA2OA==",
      "original_commit_id" : "16f56f5ff7a9bb37e85468aa8786d2261235fc2f",
      "original_line" : 78,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 14,
      "pull_request_review_id" : 415745562,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/428344068",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There's a comment from @harding [here](https://github.com/bitcoin/bitcoin/pull/18895#discussion_r429535717) about a change you might want to include in this PR.",
      "created_at" : "2020-05-23T11:22:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-633030440",
      "id" : 633030440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzAzMDQ0MA==",
      "updated_at" : "2020-05-23T11:22:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633030440",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429574511"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429574511"
         }
      },
      "author_association" : "MEMBER",
      "body" : "good call, updated.",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-23T20:07:32Z",
      "diff_hunk" : "@@ -49,16 +49,21 @@ def run_test(self):\n         block.solve()\n         node.submitblock(ToHex(block))\n \n-        # Transaction should not be rebroadcast\n         node.syncwithvalidationinterfacequeue()\n-        node.p2ps[1].sync_with_ping()\n+        now = int(time.time())\n+\n+        # Transaction should not be rebroadcast within first 12 hours\n+        # Leave 2 mins for buffer\n+        twelve_hrs = 12 * 60 * 60\n+        two_min = 2 * 60\n+        node.setmocktime(now + twelve_hrs - two_min)\n+        time.sleep(2) # ensure enough time has passed for rebroadcast attempt to occur\n         assert_equal(node.p2ps[1].tx_invs_received[txid], 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429574511",
      "id" : 429574511,
      "in_reply_to_id" : 428332909,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NDUxMQ==",
      "original_commit_id" : "eed809422ed8c7c5bf9451dec02f5573e104d889",
      "original_line" : 61,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 417305272,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429574511",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429574530"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429574530"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thanks! added with some extra info",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-23T20:07:54Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `getdata` message or\n+  the transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a wallet transaction to your node\n+  while it is not connected to other nodes, these changes reduce your initial\n+  broadcast guarantees. (#18038)\n+\n Updated RPCs\n ------------\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429574530",
      "id" : 429574530,
      "in_reply_to_id" : 428344068,
      "line" : 78,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NDUzMA==",
      "original_commit_id" : "16f56f5ff7a9bb37e85468aa8786d2261235fc2f",
      "original_line" : 78,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 14,
      "pull_request_review_id" : 417305288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429574530",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429574907"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429574907"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ok. recruited harding & revamped the description. @MarcoFalke what do you think now? \r\n\r\n@harding thanks so much for your help. I continued tinkering with the language, let me know if you have any further recommendations \r\n\r\n ",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-23T20:13:50Z",
      "diff_hunk" : "@@ -65,6 +65,14 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks transactions submitted via the wallet or rpcs as\n+  unbroadcast transactions. Every 10-15 minutes, the node will try to announce\n+  unbroadcast transactions until a peer requests it via a `GETDATA`, or the\n+  transaction is removed from the mempool for other reasons. If you have a\n+  custom setup to use P2P messages to submit a local transaction to your node",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429574907",
      "id" : 429574907,
      "in_reply_to_id" : 425764324,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NDkwNw==",
      "original_commit_id" : "b9866b92efc72915895315529f09bcaed7b39bd4",
      "original_line" : 72,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 417305624,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429574907",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased the branch, addressed review comments, added release notes for RPC updates from #18895 (thanks for getting that started @gzhao408) and updated language as per https://github.com/bitcoin/bitcoin/pull/18895#discussion_r429535717",
      "created_at" : "2020-05-23T20:21:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-633132357",
      "id" : 633132357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzEzMjM1Nw==",
      "updated_at" : "2020-05-23T20:21:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633132357",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429575706"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429575706"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n  `verbose=true` now return an additional `unbroadcast` field. This indicates\r\n```",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-23T20:25:36Z",
      "diff_hunk" : "@@ -65,9 +65,28 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks whether transactions submitted via the wallet or rpcs\n+  have been successfully broadcast. Every 10-15 minutes, the node will try to\n+  announce unbroadcast transactions until a peer requests it via a `getdata`\n+  message or the transaction is removed from the mempool for other reasons.\n+  The node will not track the broadcast status of transactions submitted to the\n+  node using P2P relay. This version reduces the initial broadcast guarantees\n+  for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n+\n Updated RPCs\n ------------\n \n+- `getmempoolinfo` now returns an additional `unbroadcastcount` field. The\n+  mempool tracks locally submitted transactions until their initial broadcast\n+  is acknowledged by a peer. This field returns the count of transactions\n+  waiting for acknowledgement.\n+\n+- Mempool RPCs such as `getmempoolentry` and `getrawmempool` with\n+  `verbose=true` now return an additional \"unbroadcast\" field. This indicates",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429575706",
      "id" : 429575706,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NTcwNg==",
      "original_commit_id" : "866081579b2edc5124a1716df38cd0754c9077d0",
      "original_line" : 85,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 417306531,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429575706",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429581978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429581978"
         }
      },
      "author_association" : "MEMBER",
      "body" : "suggestion: s/rpcs/RPCs/",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-23T22:09:04Z",
      "diff_hunk" : "@@ -65,9 +65,28 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks whether transactions submitted via the wallet or rpcs",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429581978",
      "id" : 429581978,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MTk3OA==",
      "original_commit_id" : "866081579b2edc5124a1716df38cd0754c9077d0",
      "original_line" : 68,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 417312257,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429581978",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429582259"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429582259"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think the word \"impacted\" is odd here as it is often used to denote a negative connotation. Perhaps \"updated\", \"also benefit from this change\", etc.",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-23T22:14:09Z",
      "diff_hunk" : "@@ -65,9 +65,28 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- The mempool now tracks whether transactions submitted via the wallet or rpcs\n+  have been successfully broadcast. Every 10-15 minutes, the node will try to\n+  announce unbroadcast transactions until a peer requests it via a `getdata`\n+  message or the transaction is removed from the mempool for other reasons.\n+  The node will not track the broadcast status of transactions submitted to the\n+  node using P2P relay. This version reduces the initial broadcast guarantees\n+  for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n+\n Updated RPCs\n ------------\n \n+- `getmempoolinfo` now returns an additional `unbroadcastcount` field. The\n+  mempool tracks locally submitted transactions until their initial broadcast\n+  is acknowledged by a peer. This field returns the count of transactions\n+  waiting for acknowledgement.\n+\n+- Mempool RPCs such as `getmempoolentry` and `getrawmempool` with\n+  `verbose=true` now return an additional \"unbroadcast\" field. This indicates\n+  whether initial broadcast of the transaction has been acknowledged by a\n+  peer. `getmempoolancestors` and `getmempooldescendants` are also impacted.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429582259",
      "id" : 429582259,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MjI1OQ==",
      "original_commit_id" : "866081579b2edc5124a1716df38cd0754c9077d0",
      "original_line" : 87,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 417312257,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429582259",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429582467"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429582467"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Each of these three release note entries employs a different verb tense: future (\"will try/will not track\") in the first entry, present (\"now returns/tracks/returns\") in the second one, and a form of past (\"has been reduced\") tense at the beginning of the third one. Perhaps use a consistent verb tense.",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-23T22:17:54Z",
      "diff_hunk" : "@@ -87,6 +106,13 @@ New settings\n Wallet\n ------\n \n+- To improve wallet privacy, the frequency of wallet rebroadcast attempts has\n+  been reduced from approximately once every 15 minutes to once every 12-36",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429582467",
      "id" : 429582467,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MjQ2Nw==",
      "original_commit_id" : "866081579b2edc5124a1716df38cd0754c9077d0",
      "original_line" : 110,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 417312257,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429582467",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429582561"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429582561"
         }
      },
      "author_association" : "MEMBER",
      "body" : "s/if/whether/\r\n\r\n(it does not return only if true)",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-23T22:20:00Z",
      "diff_hunk" : "@@ -714,12 +714,12 @@ class CTxMemPool\n     void RemoveUnbroadcastTx(const uint256& txid, const bool unchecked = false);\n \n     /** Returns transactions in unbroadcast set */\n-    const std::set<uint256> GetUnbroadcastTxs() const {\n+    std::set<uint256> GetUnbroadcastTxs() const {\n         LOCK(cs);\n         return m_unbroadcast_txids;\n     }\n \n-    // Returns if a txid is in the unbroadcast set\n+    /** Returns if a txid is in the unbroadcast set */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r429582561",
      "id" : 429582561,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MjU2MQ==",
      "original_commit_id" : "866081579b2edc5124a1716df38cd0754c9077d0",
      "original_line" : 722,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : null,
      "pull_request_review_id" : 417312257,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429582561",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r430042767"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/430042767"
         }
      },
      "author_association" : "MEMBER",
      "body" : "hm, I updated this one to be present (\"has been reduced\" -> \"is reduced\"). \r\n\r\nI read through the other ones and the difference between present & future makes sense to me... eg.\r\n> The mempool now tracks whether transactions submitted via the wallet or RPCs\r\n  have been successfully broadcast. Every 10-15 minutes, the node will try to\r\n  announce unbroadcast transactions until...\r\n\r\nthe present \"now tracks\" indicates how the code has changed, but the future \"will try\" is what happens when you run the code in the future. \r\n\r\nso I've left them for now. if you have any specific suggestions, I'm happy to consider them.",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-05-25T18:33:27Z",
      "diff_hunk" : "@@ -87,6 +106,13 @@ New settings\n Wallet\n ------\n \n+- To improve wallet privacy, the frequency of wallet rebroadcast attempts has\n+  been reduced from approximately once every 15 minutes to once every 12-36",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r430042767",
      "id" : 430042767,
      "in_reply_to_id" : 429582467,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDA0Mjc2Nw==",
      "original_commit_id" : "866081579b2edc5124a1716df38cd0754c9077d0",
      "original_line" : 110,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 417839258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-25T18:33:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/430042767",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "thanks for review @MarcoFalke & @jonatack, comments have been addressed !",
      "created_at" : "2020-05-25T18:34:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-633679380",
      "id" : 633679380,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzY3OTM4MA==",
      "updated_at" : "2020-05-25T18:34:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633679380",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 9e1cb1adf1 ð\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 9e1cb1adf1 ð\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUg2Dwv9EQ7oHPs8SFa494QyeEFubUt6HHSV8eJl98uS1jhK6ty7WCcKvHToqZMe\r\nPiC8Jrwjk53dWMNcFMFvSbhU2x8I5qIQjLKj/4YNLOwZaUKasOiAwGwxoNnWkXNU\r\nMT5odexk+BnkuOtYZN24qteCcZdCGD4dQqT//UC4CmG9aR0vi2Ff+y45Qn5FOfrB\r\nNKR8OrgWh/AjTxrXCJMK73lGEscLuf0nmgOAqBJxt+VsONPpO2642RdAHASSqgD6\r\nmXBIIbZ9dEOOCVQorwuKu9lyLvZ1LRcz3hcZfTQLiVA1bQBnqEyyVDNv/rSl7JVS\r\n0O+dFSXu+YkgJMmVkFyhRq3/Le69bbK4y44am2w6Ab4W+hhzLnR1LGJGf5iL53Zc\r\nQVQpqAEp7Zri2Vm5zZfqFK4y9sxqdmE8DZ4HrtljPT30Li8Hc7Ygo7cP0kVHPBhK\r\nMU3sT5r8T/+V8p3VOj6L1XVgHPH3D97xyg4kPaDFeUoK0UysKfFfPVME50ZXQ27p\r\nSNm8OtZI\r\n=3KJW\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `de6ba48e94c3bcb5032ea5569ce708038f02ef67193d1448110f51b57e5d3132  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e892940108de6ba48e94c3bcb5032ea5569ce708038f02ef67193d1448110f51b57e5d3132f0101e673ffcb96e9cdfcebb3b0e5fbc249708fff0104017e3594f904eed87647bb55c21b80308f1045ed28815f008b7345fcad044d2700083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff01077c21f58df73633e11572092afee762808f1045ed28815f0085bf39858d2c3a9da0083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff0108e27f6a15086a8e6d89b26094d2f99d208f1045ed28816f008fd133e3e5a683c480083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6df010faeb530153e7239c6bea9db97855debe08f1045ed28816f008ebde0e542e11857f0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6d)\r\n\r\n</details>\r\n",
      "created_at" : "2020-05-30T16:21:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#issuecomment-636353274",
      "id" : 636353274,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18807",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNjM1MzI3NA==",
      "updated_at" : "2020-05-30T16:21:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/636353274",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r436005562"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/436005562"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm curious - any reason why we chose 2 minutes here? ",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-06-05T15:41:33Z",
      "diff_hunk" : "@@ -49,16 +49,21 @@ def run_test(self):\n         block.solve()\n         node.submitblock(ToHex(block))\n \n-        # Transaction should not be rebroadcast\n         node.syncwithvalidationinterfacequeue()\n-        node.p2ps[1].sync_with_ping()\n-        assert_equal(node.p2ps[1].tx_invs_received[txid], 0)\n+        now = int(time.time())\n+\n+        # Transaction should not be rebroadcast within first 12 hours\n+        # Leave 2 mins for buffer\n+        twelve_hrs = 12 * 60 * 60\n+        two_min = 2 * 60",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r436005562",
      "id" : 436005562,
      "line" : 58,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjAwNTU2Mg==",
      "original_commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "original_line" : 58,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : 13,
      "pull_request_review_id" : 425414920,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-05T15:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/436005562",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/38899812?v=4",
         "events_url" : "https://api.github.com/users/glowang/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glowang/followers",
         "following_url" : "https://api.github.com/users/glowang/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glowang/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glowang",
         "id" : 38899812,
         "login" : "glowang",
         "node_id" : "MDQ6VXNlcjM4ODk5ODEy",
         "organizations_url" : "https://api.github.com/users/glowang/orgs",
         "received_events_url" : "https://api.github.com/users/glowang/received_events",
         "repos_url" : "https://api.github.com/users/glowang/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glowang/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glowang/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glowang"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r436036244"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/436036244"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It can probably be reduced to one second, if `now` gets set to `block_time` (the mock time before this call)",
      "commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "created_at" : "2020-06-05T16:37:47Z",
      "diff_hunk" : "@@ -49,16 +49,21 @@ def run_test(self):\n         block.solve()\n         node.submitblock(ToHex(block))\n \n-        # Transaction should not be rebroadcast\n         node.syncwithvalidationinterfacequeue()\n-        node.p2ps[1].sync_with_ping()\n-        assert_equal(node.p2ps[1].tx_invs_received[txid], 0)\n+        now = int(time.time())\n+\n+        # Transaction should not be rebroadcast within first 12 hours\n+        # Leave 2 mins for buffer\n+        twelve_hrs = 12 * 60 * 60\n+        two_min = 2 * 60",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18807#discussion_r436036244",
      "id" : 436036244,
      "in_reply_to_id" : 436005562,
      "line" : 58,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjAzNjI0NA==",
      "original_commit_id" : "9e1cb1adf1800efe429e348650931f2669b0d2c0",
      "original_line" : 58,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : 13,
      "pull_request_review_id" : 425455770,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18807",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-05T16:37:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/436036244",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
