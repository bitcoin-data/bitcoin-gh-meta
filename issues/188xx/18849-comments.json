[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19314 (refactor: Use uint16_t instead of unsigned short by renepickhardt)\n* #19184 (Overhaul transaction request logic by sipa)\n* #19107 (p2p: Refactor, move all header verification into the network layer, without changing behavior by troygiorshev)\n* #19031 (Implement ADDRv2 support (part of BIP155) by vasild)\n* #18071 (Refactoring CHashWriter & Get{Prevouts,Sequence,Outputs}Hash to SHA256 by JeremyRubin)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-05-02T12:30:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-622946443",
      "id" : 622946443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjk0NjQ0Mw==",
      "updated_at" : "2020-06-18T04:08:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622946443",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would be interesting to see this benchmarked to be able to reason about risk vs reward (where the ideal reward would be a significant measurable _and_ user-perceivable performance improvement) :)",
      "created_at" : "2020-05-02T15:38:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-622972234",
      "id" : 622972234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjk3MjIzNA==",
      "updated_at" : "2020-05-02T15:38:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622972234",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'd be very interested to see the benchmarks of this :)\r\nI've tried doing similar things in the past, but C++ makes this somewhat scary for a big project with lots of contributors because it requires more careful tracking of lifetimes.\r\nAlso a few full IBD profiles I've done in the past show IIRC ~10-15% of local IBD time is spent on `new` and `delete`.\r\n ",
      "created_at" : "2020-05-04T11:09:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-623401118",
      "id" : 623401118,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzQwMTExOA==",
      "updated_at" : "2020-05-04T11:09:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623401118",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2167860?v=4",
         "events_url" : "https://api.github.com/users/elichai/events{/privacy}",
         "followers_url" : "https://api.github.com/users/elichai/followers",
         "following_url" : "https://api.github.com/users/elichai/following{/other_user}",
         "gists_url" : "https://api.github.com/users/elichai/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/elichai",
         "id" : 2167860,
         "login" : "elichai",
         "node_id" : "MDQ6VXNlcjIxNjc4NjA=",
         "organizations_url" : "https://api.github.com/users/elichai/orgs",
         "received_events_url" : "https://api.github.com/users/elichai/received_events",
         "repos_url" : "https://api.github.com/users/elichai/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/elichai/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/elichai/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/elichai"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18849#discussion_r419362562"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18849"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/419362562"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "what about returning a `std::array<unsigned char, 18>` instead?",
      "commit_id" : "26ae7d1f3729e5bcd8cbfb4b13458e6fb386f11d",
      "created_at" : "2020-05-04T11:12:17Z",
      "diff_hunk" : "@@ -723,14 +724,14 @@ bool CService::GetSockAddr(struct sockaddr* paddr, socklen_t *addrlen) const\n /**\n  * @returns An identifier unique to this service's address and port number.\n  */\n-std::vector<unsigned char> CService::GetKey() const\n-{\n-     std::vector<unsigned char> vKey;\n-     vKey.resize(18);\n-     memcpy(vKey.data(), ip, 16);\n-     vKey[16] = port / 0x100; // most significant byte of our port\n-     vKey[17] = port & 0x0FF; // least significant byte of our port\n-     return vKey;\n+CServiceKey CService::GetKey() const\n+{\n+    CServiceKey vKey;\n+    vKey.resize(18);\n+    memcpy(vKey.data(), ip, 16);\n+    vKey[16] = port / 0x100; // most significant byte of our port\n+    vKey[17] = port & 0x0FF; // least significant byte of our port\n+    return vKey;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#discussion_r419362562",
      "id" : 419362562,
      "line" : 734,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM2MjU2Mg==",
      "original_commit_id" : "a80f49e566303ce85c2f15ee192d037e31e6e163",
      "original_line" : 734,
      "original_position" : 27,
      "original_start_line" : 727,
      "path" : "src/netaddress.cpp",
      "position" : 27,
      "pull_request_review_id" : 404893825,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18849",
      "side" : "RIGHT",
      "start_line" : 727,
      "start_side" : "RIGHT",
      "updated_at" : "2020-05-15T16:28:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/419362562",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2167860?v=4",
         "events_url" : "https://api.github.com/users/elichai/events{/privacy}",
         "followers_url" : "https://api.github.com/users/elichai/followers",
         "following_url" : "https://api.github.com/users/elichai/following{/other_user}",
         "gists_url" : "https://api.github.com/users/elichai/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/elichai",
         "id" : 2167860,
         "login" : "elichai",
         "node_id" : "MDQ6VXNlcjIxNjc4NjA=",
         "organizations_url" : "https://api.github.com/users/elichai/orgs",
         "received_events_url" : "https://api.github.com/users/elichai/received_events",
         "repos_url" : "https://api.github.com/users/elichai/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/elichai/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/elichai/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/elichai"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18849#discussion_r419508333"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18849"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/419508333"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this makes more sense",
      "commit_id" : "26ae7d1f3729e5bcd8cbfb4b13458e6fb386f11d",
      "created_at" : "2020-05-04T15:08:34Z",
      "diff_hunk" : "@@ -723,14 +724,14 @@ bool CService::GetSockAddr(struct sockaddr* paddr, socklen_t *addrlen) const\n /**\n  * @returns An identifier unique to this service's address and port number.\n  */\n-std::vector<unsigned char> CService::GetKey() const\n-{\n-     std::vector<unsigned char> vKey;\n-     vKey.resize(18);\n-     memcpy(vKey.data(), ip, 16);\n-     vKey[16] = port / 0x100; // most significant byte of our port\n-     vKey[17] = port & 0x0FF; // least significant byte of our port\n-     return vKey;\n+CServiceKey CService::GetKey() const\n+{\n+    CServiceKey vKey;\n+    vKey.resize(18);\n+    memcpy(vKey.data(), ip, 16);\n+    vKey[16] = port / 0x100; // most significant byte of our port\n+    vKey[17] = port & 0x0FF; // least significant byte of our port\n+    return vKey;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#discussion_r419508333",
      "id" : 419508333,
      "in_reply_to_id" : 419362562,
      "line" : 734,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTUwODMzMw==",
      "original_commit_id" : "a80f49e566303ce85c2f15ee192d037e31e6e163",
      "original_line" : 734,
      "original_position" : 27,
      "original_start_line" : 727,
      "path" : "src/netaddress.cpp",
      "position" : 27,
      "pull_request_review_id" : 405079173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18849",
      "side" : "RIGHT",
      "start_line" : 727,
      "start_side" : "RIGHT",
      "updated_at" : "2020-05-15T16:28:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/419508333",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "One of the hottest allocations that I found that might be the \"easiest\" to take a stab at is:\r\n\r\n`cacheCoins` `unordered_map` in `CCoinsViewCache::AddCoin`:\r\n\r\n`typedef std::unordered_map<COutPoint, CCoinsCacheEntry, SaltedOutpointHasher> CCoinsMap`\r\n\r\n\r\n![May04-081624](https://user-images.githubusercontent.com/45598/80982027-94174d80-8ddf-11ea-8972-4112742492dc.png)\r\n\r\nThis picture shows that (looks like the `cacheCoins.emplace` call in `AddCoin`) is doing 60 million dynamic allocations for this small heaptrack snapshot of IBD (I think I ran this one for 5-10 minutes...?). With peak memory usage of 202.5MB.\r\n\r\nOne thing I'm trying now is a custom arena allocator for this map to see if that helps.",
      "created_at" : "2020-05-04T15:26:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-623531668",
      "id" : 623531668,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzUzMTY2OA==",
      "updated_at" : "2020-05-04T15:27:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623531668",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Also a few full IBD profiles I've done in the past show IIRC ~10-15% of local IBD time is spent on new and delete.\r\n\r\nThis is a bit higher than I expected, but yes this is why gamedevs typically ban dynamic allocations from their main game loop, it absolutely kills performance: heap fragmentation, cache incoherency, etc, etc. Most high performing games arena-allocate or use custom allocators. I'm going into this from a gamedev mindset, I see IBD as our main loop. Let's minimize time spent per frame and maximize FPS (in our case, blocks/txs per second :sweat_smile: ). If we can arena/custom allocate some of these hotspots it might help a bunch.",
      "created_at" : "2020-05-04T15:38:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-623538984",
      "id" : 623538984,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzUzODk4NA==",
      "updated_at" : "2020-05-04T15:38:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623538984",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jb55 The CCoinsMap is where the actual UTXO cache is stored - it should be one allocation per UTXO. That's a huge number, because we cache a huge number of UTXOs, but I don't expect it will be easy to reduce. IBD performance heavily relies on being able to delete cache entries if they're created and spent without a flush to disk in between, which seems incompatible with arena allocation.",
      "created_at" : "2020-05-04T22:17:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-623737476",
      "id" : 623737476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzczNzQ3Ng==",
      "updated_at" : "2020-05-04T22:30:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623737476",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @jb55 The CCoinsMap is where the actual UTXO cache is stored - it\n> should be one allocation per UTXO. That's a huge number, because we\n> cache a huge number of UTXOs, but I don't expect it will be easy to\n> reduce.\n\nyes in this case the only thing we could do better is a custom allocator\nthat maintains an efficient memory layout for cache friendliness, This\nis something I wanted to try as well in addition to reducing allocations\nwhere possible.\n",
      "created_at" : "2020-05-05T09:21:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-623948640",
      "id" : 623948640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzk0ODY0MA==",
      "updated_at" : "2020-05-05T09:21:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623948640",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "We could also replace the hashmap with one that preserves cache locality, like SwissTable (CC https://github.com/bitcoin/bitcoin/pull/16718)",
      "created_at" : "2020-05-05T10:10:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-623968554",
      "id" : 623968554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzk2ODU1NA==",
      "updated_at" : "2020-05-05T10:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623968554",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2167860?v=4",
         "events_url" : "https://api.github.com/users/elichai/events{/privacy}",
         "followers_url" : "https://api.github.com/users/elichai/followers",
         "following_url" : "https://api.github.com/users/elichai/following{/other_user}",
         "gists_url" : "https://api.github.com/users/elichai/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/elichai",
         "id" : 2167860,
         "login" : "elichai",
         "node_id" : "MDQ6VXNlcjIxNjc4NjA=",
         "organizations_url" : "https://api.github.com/users/elichai/orgs",
         "received_events_url" : "https://api.github.com/users/elichai/received_events",
         "repos_url" : "https://api.github.com/users/elichai/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/elichai/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/elichai/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/elichai"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "re: allocator, looks like there is some prior art here: https://github.com/bitcoin/bitcoin/pull/16801",
      "created_at" : "2020-05-05T18:23:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-624226380",
      "id" : 624226380,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNDIyNjM4MA==",
      "updated_at" : "2020-05-05T18:23:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/624226380",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18849#discussion_r425914672"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18849"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425914672"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I decided against this for now since it would require me to implement a bunch of new Serialization machinery for std::array which I couldn't figure out how to do.",
      "commit_id" : "26ae7d1f3729e5bcd8cbfb4b13458e6fb386f11d",
      "created_at" : "2020-05-15T16:29:10Z",
      "diff_hunk" : "@@ -723,14 +724,14 @@ bool CService::GetSockAddr(struct sockaddr* paddr, socklen_t *addrlen) const\n /**\n  * @returns An identifier unique to this service's address and port number.\n  */\n-std::vector<unsigned char> CService::GetKey() const\n-{\n-     std::vector<unsigned char> vKey;\n-     vKey.resize(18);\n-     memcpy(vKey.data(), ip, 16);\n-     vKey[16] = port / 0x100; // most significant byte of our port\n-     vKey[17] = port & 0x0FF; // least significant byte of our port\n-     return vKey;\n+CServiceKey CService::GetKey() const\n+{\n+    CServiceKey vKey;\n+    vKey.resize(18);\n+    memcpy(vKey.data(), ip, 16);\n+    vKey[16] = port / 0x100; // most significant byte of our port\n+    vKey[17] = port & 0x0FF; // least significant byte of our port\n+    return vKey;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#discussion_r425914672",
      "id" : 425914672,
      "in_reply_to_id" : 419362562,
      "line" : 734,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTkxNDY3Mg==",
      "original_commit_id" : "a80f49e566303ce85c2f15ee192d037e31e6e163",
      "original_line" : 734,
      "original_position" : 27,
      "original_start_line" : 727,
      "path" : "src/netaddress.cpp",
      "position" : 27,
      "pull_request_review_id" : 412795871,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18849",
      "side" : "RIGHT",
      "start_line" : 727,
      "start_side" : "RIGHT",
      "updated_at" : "2020-05-15T16:29:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425914672",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm Concept ACK and generally in favor of the thought behind this project, but my reindex benchmarks show that runtime is indistinguishable from this branch's master merge-base. These changes still may be worth pursuing for other reasons, but just wanted to add some data.\r\n\r\n![Selection_160](https://user-images.githubusercontent.com/73197/82488389-ce563f80-9aad-11ea-886a-cb63150d7834.png)\r\n",
      "created_at" : "2020-05-20T19:23:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-631675858",
      "id" : 631675858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTY3NTg1OA==",
      "updated_at" : "2020-05-20T19:23:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631675858",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jamesob Unless you're running with -par=1, I believe there is no change in behaviour (and even then, it's probably trivial).",
      "created_at" : "2020-05-20T19:28:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-631678371",
      "id" : 631678371,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTY3ODM3MQ==",
      "updated_at" : "2020-05-20T19:28:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631678371",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jamesob thanks for running that, is there an easy way to run these myself as I hack on this branch? I'm guessing most perf would be dominated by IO factors/secp? Another motivating factor for this PR was to investigate heap usage in general. right now my core node uses a gig of ram and I'm looking at ways to reduce that outside of IBD.",
      "created_at" : "2020-05-20T20:22:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-631705413",
      "id" : 631705413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTcwNTQxMw==",
      "updated_at" : "2020-05-20T20:22:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631705413",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "actually, I'm just going to try to reproduce this locally: pruned IBD in-memory filesystem, and I'll just run it a bunch of times up to some height and then compare the time-to-height.",
      "created_at" : "2020-05-20T20:45:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-631716914",
      "id" : 631716914,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTcxNjkxNA==",
      "updated_at" : "2020-05-20T20:46:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631716914",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "looks like the current changes don't affect IBD much at all:\r\n\r\n`-datadir=/run/bitcoin -reindex`\r\n\r\n```\r\nprune=550\r\nprinttoconsole=1\r\nconnect=127.0.0.2\r\nnoassumevalid=1\r\n```\r\n\r\n```\r\nreindex master to height 100,000 (ms)\r\n\r\n10700\r\n10768\r\n11017\r\n11016\r\n10852\r\n\r\nreindex zeroalloc to height 100,000 (ms)\r\n\r\n10846\r\n10796\r\n10826\r\n10817\r\n10764\r\n```\r\n\r\nlooks like I'll have to try harder!\r\n\r\nbut now I have a pretty good testbed with this bpftrace script + linux userspace tracepoints:\r\n\r\nhttps://jb55.com/s/ibd.bt.txt\r\nhttps://jb55.com/s/tracepoints.patch.txt\r\n\r\n",
      "created_at" : "2020-05-20T21:40:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-631741878",
      "id" : 631741878,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTc0MTg3OA==",
      "updated_at" : "2020-05-20T21:48:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631741878",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> ```\r\n> reindex zeroalloc to height 100,000 (ms)\r\n> ```\r\n\r\n\r\nConsider that testing reindex or IBD up to height 100,000 is uncharacteristic because it happens almost instantaneously relative to the rest of the chain. You may find my previous work in [bitcoinperf](https://github.com/chaincodelabs/bitcoinperf) helpful, if not a little hard to set up (happy to try and improve this with you).  [Here's an example](https://github.com/chaincodelabs/bitcoinperf/blob/master/examples/ibd_range_only.yml) and [accompanying output](https://github.com/bitcoin/bitcoin/pull/16957#issuecomment-535523126) of benching a subset of IBD within a meaningful chain region.",
      "created_at" : "2020-05-21T00:48:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-631813055",
      "id" : 631813055,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTgxMzA1NQ==",
      "updated_at" : "2020-05-21T00:48:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631813055",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jamesob I tried a bit higher and started to see what might be a performance improvement: https://github.com/bitcoin/bitcoin/pull/18847#issuecomment-631822971\r\n\r\nThe only IBD focused commit so far is ZAP1 linked above, I'm still looking into utxo heap improvements which might be more interesting, as it is the # 1 allocator during IBD.",
      "created_at" : "2020-05-21T01:26:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-631823727",
      "id" : 631823727,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTgyMzcyNw==",
      "updated_at" : "2020-05-21T02:04:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631823727",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-06-18T13:19:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-646012003",
      "id" : 646012003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NjAxMjAwMw==",
      "updated_at" : "2020-06-18T13:19:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646012003",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sad to see this closed; I love the idea of exploring how we can reduce allocations in general since it seems like (in addition to any incidental performance benefits) fewer allocations probably makes behavior more predictable... although I guess while we might be able to reasonably preallocate certain things (coinsCache come to mind) others (the block index) might not be possible/desirable, so maybe \"Zero Allocations\" is somewhat of a misnomer.",
      "created_at" : "2021-09-20T22:26:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-923388418",
      "id" : 923388418,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "IC_kwDOABII5843CcoC",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-20T22:26:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923388418",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "it's generally really hard to get changes like this through; e.g. personally my epoch mempool stuff also has an aim to eliminate short lived allocations in many of the mempool algorithms but it is (from my perspective) stalled out for lack of sufficient review.\r\n\r\nIf big refactorings like ZAP or the Mempool Project are going to make the kind of headway you'd want to see they probably would need to see prioritization during a specific release cycle in order for contributors like myself or @jb55 (who I can't speak for as to why he closed it) in order for it to feel worthwhile investing effort on rebasing/keeping alive... I know that there's also a difficult balance, contributors with full-time or part-time jobs outside of Bitcoin Core are probably often more writing code than reviewing other's code (i.e., to scratch one's itch or fix a specific problem), which leads to less 'review karma' or whatever...",
      "created_at" : "2021-09-21T02:11:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18849#issuecomment-923529718",
      "id" : 923529718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18849",
      "node_id" : "IC_kwDOABII5843C_H2",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-21T02:11:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923529718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   }
]
