{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "This PR is start of a set of changes to let indexing code run in separate processes, and also generalize and improve indexing sync/rescan logic (which is moved out of indexing code to a new `node::SyncChain()` function).\r\n\r\nGoals are:\r\n\r\n- To make new indexes easier to write and maintain, making them no longer depend on node internal data structures like `CBlockIndex`, `CChain`, `CChainState`, etc and be usable with #10102 to run in separate processes\r\n- To enable performance improvements like coordinating different index syncs to share same block data instead of reading it separately, and let wallets use the same sync logic as indexes to load and rescan in parallel, instead of sequentially ([#11756](https://github.com/bitcoin/bitcoin/issues/11756))\r\n\r\nAlmost all the commits in the this PR are small, simple refactoring changes that move code from src/index/ to src/node/, or replace references to node datastructures in index code. The only commits which are complicated or substantive are:\r\n\r\n- [`3fbfc866031` indexes: Rewrite chain sync logic, remove racy init](https://github.com/bitcoin/bitcoin/pull/24230/commits/3fbfc866031831134a561d45b796fd845baac8e4)\r\n- [`4346c78b157` indexes: Initialize indexes without holding cs_main](https://github.com/bitcoin/bitcoin/pull/24230/commits/4346c78b157a3747fc441814ae7e5f876a85e073)\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/comments",
   "created_at" : "2022-02-01T16:56:28Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/24230",
   "id" : 1120958552,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII584x6sdb",
   "number" : 24230,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/24230.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24230",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/24230.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24230"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/timeline",
   "title" : "indexes: Stop using node API and locking cs_main, improve sync logic",
   "updated_at" : "2022-02-01T16:59:46Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24230",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
      "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ryanofsky/followers",
      "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ryanofsky",
      "id" : 7133040,
      "login" : "ryanofsky",
      "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
      "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
      "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
      "repos_url" : "https://api.github.com/users/ryanofsky/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ryanofsky"
   }
}
