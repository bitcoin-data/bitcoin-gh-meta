[
   {
      "author_association" : "NONE",
      "body" : "Part of the reason why I am using strncmp is because AddrMan (AddrManImpl) -> Unserialize might be called somewhere else, so I didn't want to touch it.\r\n\r\nI should probably re-work AddrManImpl to use a new exception class that wraps around std::ios_base::failure and only throw exception in the case of version mismatch... but I wanted to get feedback first.",
      "created_at" : "2022-01-29T13:42:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1024914242",
      "id" : 1024914242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII5849FvNC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1024914242/reactions"
      },
      "updated_at" : "2022-01-29T13:42:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1024914242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah, I think it should be thrown directly where the version is read",
      "created_at" : "2022-01-29T13:51:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1024915646",
      "id" : 1024915646,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII5849Fvi-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1024915646/reactions"
      },
      "updated_at" : "2022-01-29T13:51:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1024915646",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Fixed.\r\n\r\nAlso, 2 jobs on the first commit's CI have been running for 10 hours... is this caused by my strncmp?",
      "created_at" : "2022-01-29T23:36:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1025007352",
      "id" : 1025007352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII5849GF74",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025007352/reactions"
      },
      "updated_at" : "2022-01-29T23:36:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025007352",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "On second look, I wonder if we should also `LogPrintf` the `e.what()` right before we `LogPrintf` `\"Creating new peers.dat...\"`?",
      "created_at" : "2022-01-30T23:18:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1025256519",
      "id" : 1025256519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII5849HCxH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025256519/reactions"
      },
      "updated_at" : "2022-01-30T23:18:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025256519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Squashed.",
      "created_at" : "2022-02-06T10:45:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1030806066",
      "id" : 1030806066,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII5849cNoy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1030806066/reactions"
      },
      "updated_at" : "2022-02-06T10:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1030806066",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800224750"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800224750"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would be nice to deduplicate the common code here somehow.\r\n\r\nMaybe just a single common catch of std::exception, with `if(DbNotFoundError) else if (InvalidAddrManVersionError) else return` then the common re-init logic?",
      "commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "created_at" : "2022-02-06T19:45:23Z",
      "diff_hunk" : "@@ -196,6 +196,11 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n+    } catch (const InvalidAddrManVersionError&) {\n+        // Addrman can be in an inconsistent state after failure, reset it\n+        addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n+        LogPrintf(\"Creating new peers.dat because the file version was not compatible (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n+        DumpPeerAddresses(args, *addrman);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800224750",
      "id" : 800224750,
      "line" : 203,
      "node_id" : "PRRC_kwDOABII584vsnXu",
      "original_commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "original_line" : 203,
      "original_position" : 8,
      "original_start_line" : 200,
      "path" : "src/addrdb.cpp",
      "position" : 8,
      "pull_request_review_id" : 874077670,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800224750/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 200,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-06T19:47:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800224750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800224966"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800224966"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I wonder if the old file should be backed up first.",
      "commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "created_at" : "2022-02-06T19:47:11Z",
      "diff_hunk" : "@@ -196,6 +196,11 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n+    } catch (const InvalidAddrManVersionError&) {\n+        // Addrman can be in an inconsistent state after failure, reset it\n+        addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n+        LogPrintf(\"Creating new peers.dat because the file version was not compatible (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800224966",
      "id" : 800224966,
      "line" : 202,
      "node_id" : "PRRC_kwDOABII584vsnbG",
      "original_commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "original_line" : 202,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 7,
      "pull_request_review_id" : 874077670,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800224966/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-06T19:47:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800224966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800244963"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800244963"
         }
      },
      "author_association" : "NONE",
      "body" : "I am not sure if that would be useful. Anyone who cares about which peers they connect to is probably managing a conf file filled with add peer directives.",
      "commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "created_at" : "2022-02-06T22:56:59Z",
      "diff_hunk" : "@@ -196,6 +196,11 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n+    } catch (const InvalidAddrManVersionError&) {\n+        // Addrman can be in an inconsistent state after failure, reset it\n+        addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n+        LogPrintf(\"Creating new peers.dat because the file version was not compatible (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800244963",
      "id" : 800244963,
      "in_reply_to_id" : 800224966,
      "line" : 202,
      "node_id" : "PRRC_kwDOABII584vssTj",
      "original_commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "original_line" : 202,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 7,
      "pull_request_review_id" : 874094949,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800244963/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-06T22:56:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800244963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800245038"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800245038"
         }
      },
      "author_association" : "NONE",
      "body" : "ð I will do a follow up once this is merged.",
      "commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "created_at" : "2022-02-06T22:57:42Z",
      "diff_hunk" : "@@ -196,6 +196,11 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n+    } catch (const InvalidAddrManVersionError&) {\n+        // Addrman can be in an inconsistent state after failure, reset it\n+        addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n+        LogPrintf(\"Creating new peers.dat because the file version was not compatible (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n+        DumpPeerAddresses(args, *addrman);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800245038",
      "id" : 800245038,
      "in_reply_to_id" : 800224750,
      "line" : 203,
      "node_id" : "PRRC_kwDOABII584vssUu",
      "original_commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "original_line" : 203,
      "original_position" : 8,
      "original_start_line" : 200,
      "path" : "src/addrdb.cpp",
      "position" : 8,
      "pull_request_review_id" : 874095028,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800245038/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 200,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-06T22:57:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800245038",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800246802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800246802"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Agree with _luke-jr_",
      "commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "created_at" : "2022-02-06T23:13:32Z",
      "diff_hunk" : "@@ -196,6 +196,11 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n+    } catch (const InvalidAddrManVersionError&) {\n+        // Addrman can be in an inconsistent state after failure, reset it\n+        addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n+        LogPrintf(\"Creating new peers.dat because the file version was not compatible (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800246802",
      "id" : 800246802,
      "in_reply_to_id" : 800224966,
      "line" : 202,
      "node_id" : "PRRC_kwDOABII584vsswS",
      "original_commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "original_line" : 202,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 7,
      "pull_request_review_id" : 874096845,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800246802/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-06T23:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800246802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800249112"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800249112"
         }
      },
      "author_association" : "NONE",
      "body" : "I just saw your issue on knots.\r\n\r\nI will make a backup at `peers.dat.bak`.",
      "commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "created_at" : "2022-02-06T23:32:44Z",
      "diff_hunk" : "@@ -196,6 +196,11 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n+    } catch (const InvalidAddrManVersionError&) {\n+        // Addrman can be in an inconsistent state after failure, reset it\n+        addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n+        LogPrintf(\"Creating new peers.dat because the file version was not compatible (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800249112",
      "id" : 800249112,
      "in_reply_to_id" : 800224966,
      "line" : 202,
      "node_id" : "PRRC_kwDOABII584vstUY",
      "original_commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "original_line" : 202,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 7,
      "pull_request_review_id" : 874099214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800249112/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-06T23:32:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800249112",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800287479"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800287479"
         }
      },
      "author_association" : "NONE",
      "body" : "The behavior has changed to back up to .bak file. Please let me know what you think of the commit before I squash it.",
      "commit_id" : "f2125c1c6a11117f5fa97bd11b234801dbe51434",
      "created_at" : "2022-02-07T03:01:06Z",
      "diff_hunk" : "@@ -196,6 +196,11 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n+    } catch (const InvalidAddrManVersionError&) {\n+        // Addrman can be in an inconsistent state after failure, reset it\n+        addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n+        LogPrintf(\"Creating new peers.dat because the file version was not compatible (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800287479",
      "id" : 800287479,
      "in_reply_to_id" : 800224966,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vs2r3",
      "original_commit_id" : "2948297f4f1602afe38a05288f15d5ca962a20ae",
      "original_line" : 202,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 874149269,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800287479/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-07T03:01:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800287479",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800313510"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800313510"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```C++\r\nthrow std::runtime_error{\"Failed to rename invalid peer.dat file. Please move or delete it and try again.\"};\r\n```\r\n",
      "commit_id" : "f2125c1c6a11117f5fa97bd11b234801dbe51434",
      "created_at" : "2022-02-07T04:50:36Z",
      "diff_hunk" : "@@ -197,9 +197,12 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n     } catch (const InvalidAddrManVersionError&) {\n+        if (!RenameOver(path_addr, (fs::path)path_addr + \".bak\")) {\n+            throw std::exception();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800313510",
      "id" : 800313510,
      "line" : 201,
      "node_id" : "PRRC_kwDOABII584vs9Cm",
      "original_commit_id" : "f2125c1c6a11117f5fa97bd11b234801dbe51434",
      "original_line" : 201,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 5,
      "pull_request_review_id" : 874183999,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800313510/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-07T04:51:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800313510",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800324860"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800324860"
         }
      },
      "author_association" : "NONE",
      "body" : "Doesn't this error get caught by the catch below (which catches exception)?",
      "commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "created_at" : "2022-02-07T05:28:24Z",
      "diff_hunk" : "@@ -197,9 +197,12 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n     } catch (const InvalidAddrManVersionError&) {\n+        if (!RenameOver(path_addr, (fs::path)path_addr + \".bak\")) {\n+            throw std::exception();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800324860",
      "id" : 800324860,
      "in_reply_to_id" : 800313510,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vs_z8",
      "original_commit_id" : "f2125c1c6a11117f5fa97bd11b234801dbe51434",
      "original_line" : 201,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 874199697,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800324860/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-07T05:28:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800324860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800341931"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800341931"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah yeah didn't realize this was caught later, I thought you just hard-crashed. Either way, you do want it to be caught and handled below, but the wording here is a bit redundant. Maybe just \"Failed to move invalid peer.dat file aside.\"?",
      "commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "created_at" : "2022-02-07T06:18:37Z",
      "diff_hunk" : "@@ -197,9 +197,12 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n     } catch (const InvalidAddrManVersionError&) {\n+        if (!RenameOver(path_addr, (fs::path)path_addr + \".bak\")) {\n+            throw std::exception();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800341931",
      "id" : 800341931,
      "in_reply_to_id" : 800313510,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vtD-r",
      "original_commit_id" : "f2125c1c6a11117f5fa97bd11b234801dbe51434",
      "original_line" : 201,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 874223124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800341931/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-07T06:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800341931",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800356662"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800356662"
         }
      },
      "author_association" : "NONE",
      "body" : "Actually, it looks like throwing here bypasses the later catch.",
      "commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "created_at" : "2022-02-07T06:51:40Z",
      "diff_hunk" : "@@ -197,9 +197,12 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n     } catch (const InvalidAddrManVersionError&) {\n+        if (!RenameOver(path_addr, (fs::path)path_addr + \".bak\")) {\n+            throw std::exception();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800356662",
      "id" : 800356662,
      "in_reply_to_id" : 800313510,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vtHk2",
      "original_commit_id" : "f2125c1c6a11117f5fa97bd11b234801dbe51434",
      "original_line" : 201,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 874247143,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800356662/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-07T06:51:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800356662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800357182"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800357182"
         }
      },
      "author_association" : "NONE",
      "body" : "Maybe I should refactor the other comment from Luke to make things cleaner.",
      "commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "created_at" : "2022-02-07T06:52:51Z",
      "diff_hunk" : "@@ -197,9 +197,12 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n     } catch (const InvalidAddrManVersionError&) {\n+        if (!RenameOver(path_addr, (fs::path)path_addr + \".bak\")) {\n+            throw std::exception();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r800357182",
      "id" : 800357182,
      "in_reply_to_id" : 800313510,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vtHs-",
      "original_commit_id" : "f2125c1c6a11117f5fa97bd11b234801dbe51434",
      "original_line" : 201,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 874247868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800357182/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-07T06:52:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/800357182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r801256744"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801256744"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```python\r\nwrite_addrman(peers_dat, lowest_compatible=111)\r\n```\r\n\r\nIs it possible to do this using some hidden RPC?",
      "commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "created_at" : "2022-02-08T04:26:36Z",
      "diff_hunk" : "@@ -68,17 +68,16 @@ def run_test(self):\n             self.start_node(0, extra_args=[\"-checkaddrman=1\"])\n         assert_equal(self.nodes[0].getnodeaddresses(), [])\n \n-        self.log.info(\"Check that addrman from future cannot be read\")\n+        self.log.info(\"Check that addrman from future is overwritten with new addrman\")\n         self.stop_node(0)\n         write_addrman(peers_dat, lowest_compatible=111)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r801256744",
      "id" : 801256744,
      "line" : 73,
      "node_id" : "PRRC_kwDOABII584vwjUo",
      "original_commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "original_line" : 73,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_addrman.py",
      "position" : 7,
      "pull_request_review_id" : 875506764,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801256744/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-08T04:33:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801256744",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r801326319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801326319"
         }
      },
      "author_association" : "NONE",
      "body" : "Nope. This is a python function that literally just writes a dummy (but valid) peers.dat file to disk.",
      "commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "created_at" : "2022-02-08T07:18:08Z",
      "diff_hunk" : "@@ -68,17 +68,16 @@ def run_test(self):\n             self.start_node(0, extra_args=[\"-checkaddrman=1\"])\n         assert_equal(self.nodes[0].getnodeaddresses(), [])\n \n-        self.log.info(\"Check that addrman from future cannot be read\")\n+        self.log.info(\"Check that addrman from future is overwritten with new addrman\")\n         self.stop_node(0)\n         write_addrman(peers_dat, lowest_compatible=111)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r801326319",
      "id" : 801326319,
      "in_reply_to_id" : 801256744,
      "line" : 73,
      "node_id" : "PRRC_kwDOABII584vw0Tv",
      "original_commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "original_line" : 73,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_addrman.py",
      "position" : 7,
      "pull_request_review_id" : 875600209,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801326319/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-08T07:18:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801326319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24312](https://github.com/bitcoin/bitcoin/pull/24312) (addrman: Log too low compat value by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-02-11T17:21:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1036437168",
      "id" : 1036437168,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII5849xsaw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1036437168/reactions"
      },
      "updated_at" : "2022-02-13T11:53:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1036437168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r810556886"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/810556886"
         }
      },
      "author_association" : "MEMBER",
      "body" : "peer`s`.dat",
      "commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "created_at" : "2022-02-20T01:36:58Z",
      "diff_hunk" : "@@ -196,6 +196,15 @@ std::optional<bilingual_str> LoadAddrman(const std::vector<bool>& asmap, const A\n         addrman = std::make_unique<AddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n         LogPrintf(\"Creating peers.dat because the file was not found (%s)\\n\", fs::quoted(fs::PathToString(path_addr)));\n         DumpPeerAddresses(args, *addrman);\n+    } catch (const InvalidAddrManVersionError&) {\n+        if (!RenameOver(path_addr, (fs::path)path_addr + \".bak\")) {\n+            addrman = nullptr;\n+            return strprintf(_(\"Failed to rename invalid peer.dat file. Please move or delete it and try again.\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#discussion_r810556886",
      "id" : 810556886,
      "line" : 202,
      "node_id" : "PRRC_kwDOABII584wUB3W",
      "original_commit_id" : "772c9ba8ccfa7247042be10771cca3c8de7e8568",
      "original_line" : 202,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 7,
      "pull_request_review_id" : 887980908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24201",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/810556886/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-20T01:36:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/810556886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Assigned 23.0",
      "created_at" : "2022-02-21T13:25:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1046879653",
      "id" : 1046879653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII584-Zh2l",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1046879653/reactions"
      },
      "updated_at" : "2022-02-21T13:25:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1046879653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@junderw: Can you explain why you made this WIP? One of multiple considerations for whether it should be included in the 23.0 milestone or not.",
      "created_at" : "2022-02-24T19:24:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1050186706",
      "id" : 1050186706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII584-mJPS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050186706/reactions"
      },
      "updated_at" : "2022-02-24T19:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050186706",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Sorry, I misunderstood. I made it WIP because I thought I still hadn't finished all the outstanding issues with the PR.\r\n\r\nAfter reviewing my own commit I understand I was just confused.\r\n\r\nThere's a spelling error I'll fix right now.",
      "created_at" : "2022-02-24T22:03:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1050309206",
      "id" : 1050309206,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII584-mnJW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050309206/reactions"
      },
      "updated_at" : "2022-02-24T22:03:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050309206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Unrelated test failed for some reason.",
      "created_at" : "2022-02-24T23:43:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1050368338",
      "id" : 1050368338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII584-m1lS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050368338/reactions"
      },
      "updated_at" : "2022-02-24T23:43:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050368338",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Unrelated test failed for some reason.\r\n\r\nI don't think that's an issue \r\n\r\nMaybe you can follow 1 or 2 or both:\r\n\r\n1. Squash commits according to [docs](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits)\r\n2. Have 2 commits:\r\n    ```\r\n    1st commit: net (src/addrman.h , src/addrman.cpp and src/addrdb.cpp)\r\n    ```\r\n    ```\r\n    2nd commit: test (test/functional/feature_addrman.py)\r\n    ```",
      "created_at" : "2022-02-24T23:52:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1050372498",
      "id" : 1050372498,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII584-m2mS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050372498/reactions"
      },
      "updated_at" : "2022-02-24T23:52:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050372498",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Squashed all commits into one.",
      "created_at" : "2022-02-25T00:55:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1050410737",
      "id" : 1050410737,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII584-m_7x",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050410737/reactions"
      },
      "updated_at" : "2022-02-25T00:55:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050410737",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11246316?v=4",
         "events_url" : "https://api.github.com/users/junderw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/junderw/followers",
         "following_url" : "https://api.github.com/users/junderw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/junderw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/junderw",
         "id" : 11246316,
         "login" : "junderw",
         "node_id" : "MDQ6VXNlcjExMjQ2MzE2",
         "organizations_url" : "https://api.github.com/users/junderw/orgs",
         "received_events_url" : "https://api.github.com/users/junderw/received_events",
         "repos_url" : "https://api.github.com/users/junderw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/junderw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/junderw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/junderw"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry for the confusion @junderw :) Great to see this has been merged. Thanks!",
      "created_at" : "2022-02-25T11:06:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24201#issuecomment-1050757215",
      "id" : 1050757215,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24201",
      "node_id" : "IC_kwDOABII584-oUhf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050757215/reactions"
      },
      "updated_at" : "2022-02-25T11:06:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050757215",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   }
]
