[
   {
      "author_association" : "MEMBER",
      "body" : "No strong preference.\r\n\r\nThere's something to be said for moving towards more consistent argument naming whenever a new RPC method or argument is introduced.\r\n\r\nHowever, it also seems unlikely that we'll change the argument names in ancient RPC calls like `getblock`, which means it may remain inconsistent for a long time.\r\n\r\n`blockhash` and `nodeid` are easier to type, which is nice.\r\n\r\n I don't remember if somebody suggested the rename, or if I did it to be consistent with variable names.\r\n \r\n I'd also like to know @jnewbery, @MarcoFalke and @jonatack's take.",
      "created_at" : "2022-02-09T09:50:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24294#issuecomment-1033569415",
      "id" : 1033569415,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24294",
      "node_id" : "IC_kwDOABII5849mwSH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033569415/reactions"
      },
      "updated_at" : "2022-02-09T09:50:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033569415",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24294#discussion_r802483064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24294"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802483064"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I might be missing something, but the other, existing, RPC is called get*peer*info and not get*node*info. Also, the result is called \"peer index\".\r\n\r\n```\r\ngetpeerinfo ... Result:\r\n[                                         (json array)\r\n  {                                       (json object)\r\n    \"id\" : n,                             (numeric) Peer index",
      "commit_id" : "f5e008774b5d6070fc661f37b9368dc3729bfb67",
      "created_at" : "2022-02-09T10:00:41Z",
      "diff_hunk" : "@@ -784,8 +784,8 @@ static RPCHelpMan getblockfrompeer()\n         \"Subsequent calls for the same block and a new peer will cause the response from the previous peer to be ignored.\\n\"\n         \"\\nReturns an empty JSON object if the request was successfully scheduled.\",\n         {\n-            {\"block_hash\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The block hash to try to fetch\"},\n-            {\"peer_id\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The peer to fetch it from (see getpeerinfo for peer IDs)\"},\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The block hash to try to fetch\"},\n+            {\"nodeid\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The peer to fetch it from (see getpeerinfo for node IDs)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24294#discussion_r802483064",
      "id" : 802483064,
      "line" : 788,
      "node_id" : "PRRC_kwDOABII584v1Ot4",
      "original_commit_id" : "f5e008774b5d6070fc661f37b9368dc3729bfb67",
      "original_line" : 788,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 7,
      "pull_request_review_id" : 877204118,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24294",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802483064/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-09T10:02:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802483064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\n`nodeid` is an existing param name for `disconnectpeer`.",
      "created_at" : "2022-02-09T13:15:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24294#issuecomment-1033749551",
      "id" : 1033749551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24294",
      "node_id" : "IC_kwDOABII5849ncQv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033749551/reactions"
      },
      "updated_at" : "2022-02-09T13:15:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033749551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The word \"peer\" is used throughout the getblockfrompeer help, so if this is changed, the help ought to be updated to be consistent (as well as the RPC to \"getblockfromnode\"), as well as the developer notes' RPC interface guidelines, which since c26655ed3f102a in 2017 state that snake case should be used for argument naming.  ISTM that internal consistency within a call outweighs how legacy arguments are named in other calls; otherwise, the bar for applying the developer note guideline seems overly high. Also, \"peer\" is a more precise term, as a peer is a node that is not ours. Tend to NACK the current version of this pull for these reasons.",
      "created_at" : "2022-02-09T14:03:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24294#issuecomment-1033793784",
      "id" : 1033793784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24294",
      "node_id" : "IC_kwDOABII5849nnD4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033793784/reactions"
      },
      "updated_at" : "2022-02-09T16:22:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033793784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "So we already have references to both \"peer\" (`getpeerinfo`, `disconnectpeer` command name) and \"node\" (`disconnectpeer` argument name) in existing RPC calls. I find \"peer\" more clear, so it makes sense to me to favor that in new methods.\r\n\r\nSo I'm inclined to NACK the `nodeid` part of this.\r\n\r\n> Also, \"peer\" is a more precise term, as a peer is a node that is not ours.\r\n\r\nAlso in the context of lightning, nodes have an identifier, which is the same wether or not you're connected to them. Bitcoin nodes don't have such an identity, but \"node id\" might still be confused to refer to such an identity. ",
      "created_at" : "2022-02-09T14:27:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24294#issuecomment-1033818430",
      "id" : 1033818430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24294",
      "node_id" : "IC_kwDOABII5849ntE-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033818430/reactions"
      },
      "updated_at" : "2022-02-09T14:31:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033818430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "At this point it might be a smaller diff (and better) to change the docs (not the args, though) to `s/node/peer/g` instead of a global `s/peer/node/g`?",
      "created_at" : "2022-02-09T16:14:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24294#issuecomment-1033934535",
      "id" : 1033934535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24294",
      "node_id" : "IC_kwDOABII5849oJbH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033934535/reactions"
      },
      "updated_at" : "2022-02-09T16:14:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033934535",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Usage of \"peer\" doesn't necessarily contradict \"nodeid\" - clearly a peer can have a nodeid, and this concept is expressed in `disconnectpeer`.\r\n\r\nThat being said, I suppose with only one other method using `nodeid`, it wouldn't be too bad to silently deprecate it and change it to `peer_id` instead...",
      "created_at" : "2022-02-09T17:50:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24294#issuecomment-1034034441",
      "id" : 1034034441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24294",
      "node_id" : "IC_kwDOABII5849oh0J",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1034034441/reactions"
      },
      "updated_at" : "2022-02-09T17:50:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1034034441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Is this worth keeping open if it's not making it into 23.0?",
      "created_at" : "2022-03-10T08:16:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24294#issuecomment-1063785501",
      "id" : 1063785501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24294",
      "node_id" : "IC_kwDOABII584_aBQd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1063785501/reactions"
      },
      "updated_at" : "2022-03-10T08:16:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1063785501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   }
]
