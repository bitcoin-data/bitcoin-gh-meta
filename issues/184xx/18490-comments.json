[
   {
      "author_association" : "MEMBER",
      "body" : "> For some reason, one of my gitian builds failed because \"DLL\" was uppercase\r\n\r\nWhich version of Core/descriptors were you building? Which DLL was different?\r\n\r\nChecking case insensitively was bought up in #18395, but we didn't see a reason to do it, given that in gitian, everything is set. If DLLs are being randomly named during gitian builds, that not only sounds like a reproducibility issue, but something that should be reported upstream. So it would be good to get details.\r\n\r\nChecking insensitively would also seem to introduce the scenario where we could be linked against multiple DLLs, and the script wouldn't fail. I'd rather we check everything exactly, and get notified if the underlying DLLs change.\r\n\r\n",
      "created_at" : "2020-04-01T05:50:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18490#issuecomment-607048333",
      "id" : 607048333,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18490",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzA0ODMzMw==",
      "updated_at" : "2020-04-01T06:29:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607048333",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, this is a determinism issue. So NACK on this.\r\nWhere does the DLL name come from? Must be either\\\r\n\r\n1. The name directly specified on linking\r\n2. Encoded in the `.LIB` import library\r\n3. It uses the name of the DLL that happens to be on disk\r\n\r\n(3) would be really bad (in this case we should report/fix the upstream as @fanquake suggests), in the other two cases, it shouldn't diverge on deterministic input.\r\n",
      "created_at" : "2020-04-01T07:12:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18490#issuecomment-607076300",
      "id" : 607076300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18490",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzA3NjMwMA==",
      "updated_at" : "2020-04-01T07:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607076300",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Which version of Core/descriptors were you building?\r\n\r\nA rebased #14137, with QtWinExtras split to a separate depends package.\r\n\r\n> Which DLL was different?\r\n\r\nIMM32 and WINMM\r\n\r\n> Checking insensitively would also seem to introduce the scenario where we could be linked against multiple DLLs, and the script wouldn't fail.\r\n\r\nWhat do you mean?\r\n",
      "created_at" : "2020-04-01T12:22:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18490#issuecomment-607217185",
      "id" : 607217185,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18490",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzIxNzE4NQ==",
      "updated_at" : "2020-04-01T12:22:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607217185",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "NACK\r\n\r\n> A rebased #14137, with QtWinExtras split to a separate depends package.\r\n\r\nSo nothing in master is broken, and the security checks are working as expected. If you're building code that isn't in this repository (that also modifies dependencies), I don't think there's an expectation that our symbol/security checks should pass.\r\n\r\nDoes this mean you're planning on reopening #17213 (the rebased version of #14137)? That was closed due to [lack of interest](https://github.com/bitcoin/bitcoin/pull/17213#issuecomment-591213273), and I still don't think it's something worthwhile merging. Regardless, if changes need to be made to scripts to accommodate that, they should be part of that PR.\r\n\r\n> What do you mean?\r\n\r\nI mean there's no point being lenient in these scripts if we don't need to be. As mentioned by @laanwj, given we control the input, and outputs are deterministic (otherwise there's an actual bug), I'm happy for us to keep checking for the exact libraries we expect. Even though in reality it may not be possible, there's no need to allow the output to contain a `a.dll` and/or `a.DLL`, and I'd rather the build fail if the output from gitian suddenly changes.",
      "created_at" : "2020-04-09T05:36:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18490#issuecomment-611338058",
      "id" : 611338058,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18490",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTMzODA1OA==",
      "updated_at" : "2020-04-09T05:48:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611338058",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Going to close this. There are two NACKs, and I haven't seen an argument to change the current behaviour.",
      "created_at" : "2020-04-15T07:30:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18490#issuecomment-613868061",
      "id" : 613868061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18490",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMzg2ODA2MQ==",
      "updated_at" : "2020-04-15T07:30:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613868061",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
