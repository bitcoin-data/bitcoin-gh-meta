[
   {
      "author_association" : "MEMBER",
      "body" : "Do you think you might have overlapping `walletpassphrase` on the same wallet?\r\n\r\nAlso note that doing\r\n```\r\n$ cli walletpassphrase xxx  10\r\n$ cli walletpassphrase xxx  2\r\n```\r\nwill make the wallet lock again after 2 seconds.\r\n\r\n> debug.log with last call. after that RPC won't response anymore.\r\n\r\nyou mean any RPC?",
      "created_at" : "2020-03-31T11:33:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606571866",
      "id" : 606571866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjU3MTg2Ng==",
      "updated_at" : "2020-03-31T11:36:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606571866",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Do you think you might have overlapping `walletpassphrase` on the same wallet?\r\n> \r\n\r\nYes, some `walletpassphrase` requests are overlapping. But all of them has 15s timeout \r\n$ cli walletpassphrase xxx 15s\r\nAnd after that request I'm doing some other, like `sendtransaction` or `listtransactions` or some else.\r\n \r\n> Also note that doing\r\n> ```\r\n> $ cli walletpassphrase xxx  10\r\n> $ cli walletpassphrase xxx  2\r\n> ```\r\n> \r\n> will make the wallet lock again after 2 seconds.\r\n\r\nYes, I'm aware of that\r\n\r\n> you mean any RPC?\r\n\r\nYes, any rpc calls. \r\n\r\nAnd I think node is totally stuck and even doesn't get new blocks.\r\nAlso there are no new records in log when trying to make RPC calls. It just timed out on client.\r\n\r\nThis is remaining part of log, I have posted above\r\n```\r\n2020-03-31T10:22:45Z Making feeler connection to 35.194.22.84:18333\r\n2020-03-31T10:22:45Z trying connection 35.194.22.84:18333 lastseen=4956.1hrs\r\n2020-03-31T10:22:50Z connection to 35.194.22.84:18333 timeout\r\n2020-03-31T10:22:58Z socket closed\r\n2020-03-31T10:22:58Z disconnecting peer=109\r\n2020-03-31T10:25:42Z Making feeler connection to [2601:640:106:324c:f1:653f:6988:86c5]:18333\r\n2020-03-31T10:25:42Z trying connection [2601:640:106:324c:f1:653f:6988:86c5]:18333 lastseen=348.1hrs\r\n2020-03-31T10:25:47Z connection to [2601:640:106:324c:f1:653f:6988:86c5]:18333 timeout\r\n2020-03-31T10:26:08Z Making feeler connection to 185.244.215.148:18333\r\n2020-03-31T10:26:08Z trying connection 185.244.215.148:18333 lastseen=627.5hrs\r\n2020-03-31T10:26:13Z connection to 185.244.215.148:18333 timeout\r\n2020-03-31T10:26:15Z Making feeler connection to 69.10.61.175:18333\r\n2020-03-31T10:26:15Z trying connection 69.10.61.175:18333 lastseen=20.1hrs\r\n2020-03-31T10:26:20Z connection to 69.10.61.175:18333 timeout\r\n2020-03-31T10:26:43Z Making feeler connection to [2003:ea:9f0b:3200:1180:6df2:ba35:efd]:18333\r\n2020-03-31T10:26:43Z trying connection [2003:ea:9f0b:3200:1180:6df2:ba35:efd]:18333 lastseen=4390.7hrs\r\n2020-03-31T10:26:48Z connection to [2003:ea:9f0b:3200:1180:6df2:ba35:efd]:18333 timeout\r\n2020-03-31T10:28:10Z Making feeler connection to 78.47.134.187:18333\r\n2020-03-31T10:28:10Z trying connection 78.47.134.187:18333 lastseen=2949.6hrs\r\n2020-03-31T10:28:10Z connect() to 78.47.134.187:18333 failed after select(): Connection refused (111)\r\n2020-03-31T10:28:38Z Making feeler connection to 188.143.64.147:18333\r\n2020-03-31T10:28:38Z trying connection 188.143.64.147:18333 lastseen=769.8hrs\r\n2020-03-31T10:28:43Z connection to 188.143.64.147:18333 timeout\r\n2020-03-31T10:28:44Z Added connection peer=112\r\n2020-03-31T10:33:32Z Making feeler connection to 51.37.136.38:18333\r\n2020-03-31T10:33:32Z trying connection 51.37.136.38:18333 lastseen=636.5hrs\r\n2020-03-31T10:33:37Z connection to 51.37.136.38:18333 timeout\r\n2020-03-31T10:33:55Z Making feeler connection to [2a01:4f8:150:3096::2]:18333\r\n2020-03-31T10:33:55Z trying connection [2a01:4f8:150:3096::2]:18333 lastseen=172.9hrs\r\n2020-03-31T10:33:55Z Added connection peer=113\r\n2020-03-31T10:42:14Z libevent: epoll_dispatch: epoll_wait reports 0\r\n2020-03-31T10:42:14Z libevent: timeout_next: event: 0x7fe490000f90, in 6350 seconds, 662739 useconds\r\n2020-03-31T11:17:14Z libevent: epoll_dispatch: epoll_wait reports 0\r\n2020-03-31T11:17:14Z libevent: timeout_next: event: 0x7fe490000f90, in 4250 seconds, 561258 useconds\r\n2020-03-31T11:52:14Z libevent: epoll_dispatch: epoll_wait reports 0\r\n2020-03-31T11:52:14Z libevent: timeout_next: event: 0x7fe490000f90, in 2150 seconds, 495487 useconds\r\n```",
      "created_at" : "2020-03-31T12:08:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606586823",
      "id" : 606586823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjU4NjgyMw==",
      "updated_at" : "2020-03-31T12:08:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606586823",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'll submit a possible fix, I'll let you know then so you can test it.",
      "created_at" : "2020-03-31T12:13:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606588801",
      "id" : 606588801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjU4ODgwMQ==",
      "updated_at" : "2020-03-31T12:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606588801",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kryvel btw, is this using the same wallet or different wallets?",
      "created_at" : "2020-03-31T13:41:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606634627",
      "id" : 606634627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjYzNDYyNw==",
      "updated_at" : "2020-03-31T13:41:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606634627",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@promag Yes, Node has multiple wallets, which are used in rpc calls",
      "created_at" : "2020-03-31T13:50:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606640088",
      "id" : 606640088,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjY0MDA4OA==",
      "updated_at" : "2020-03-31T13:50:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606640088",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kryvel how many different wallets?",
      "created_at" : "2020-03-31T14:02:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606647441",
      "id" : 606647441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjY0NzQ0MQ==",
      "updated_at" : "2020-03-31T14:02:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606647441",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@promag Five wallets but actively used only three of them",
      "created_at" : "2020-03-31T14:16:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606655800",
      "id" : 606655800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjY1NTgwMA==",
      "updated_at" : "2020-03-31T14:16:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606655800",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@promag Also thanks for the very quick reply :)\r\nCould you briefly describe the cause of this error?\r\n",
      "created_at" : "2020-03-31T18:31:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606797603",
      "id" : 606797603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjc5NzYwMw==",
      "updated_at" : "2020-03-31T18:31:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606797603",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kryvel not sure but I'd say its' related to some concurrency issue and the libevent timer that is triggered to lock the wallet.",
      "created_at" : "2020-03-31T18:40:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606802383",
      "id" : 606802383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjgwMjM4Mw==",
      "updated_at" : "2020-03-31T18:40:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606802383",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@promag Is there any workaround?\r\nOr it could be fixed only by patch?\r\n\r\nWe are forced to stop our services due to this issue..",
      "created_at" : "2020-03-31T18:46:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606805442",
      "id" : 606805442,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjgwNTQ0Mg==",
      "updated_at" : "2020-03-31T18:46:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606805442",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Only workaround I can think of is to raise the timeout and see if it happens less frequently.\r\n\r\n> And I think node is totally stuck and even doesn't get new blocks.\r\n\r\nIt would be nice to know this - could be a deadlock.",
      "created_at" : "2020-03-31T18:56:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606810554",
      "id" : 606810554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjgxMDU1NA==",
      "updated_at" : "2020-03-31T18:56:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606810554",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@promag according the log file, I have posted here https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606586823 , there are no entries about new imported blocks after more than hour after stuck happened (this is testnet node)\r\n\r\nI tried to send hundreds of requests (sequential and parallel) but with no luck, node works just fine)\r\n\r\nMaybe you have an idea of some stress test I could run?",
      "created_at" : "2020-03-31T19:17:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606821510",
      "id" : 606821510,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjgyMTUxMA==",
      "updated_at" : "2020-03-31T19:17:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606821510",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Maybe this could be related to this issue https://github.com/bitcoin/bitcoin/issues/14995 ?",
      "created_at" : "2020-03-31T20:22:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606854027",
      "id" : 606854027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjg1NDAyNw==",
      "updated_at" : "2020-03-31T20:22:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606854027",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kryvel let me know if #18487 prevents the deadlock.",
      "created_at" : "2020-03-31T23:33:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606940782",
      "id" : 606940782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjk0MDc4Mg==",
      "updated_at" : "2020-03-31T23:33:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606940782",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@promag Thank you! I'm going to build and test the fix\r\nLet you know asap",
      "created_at" : "2020-03-31T23:44:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-606944360",
      "id" : 606944360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNjk0NDM2MA==",
      "updated_at" : "2020-03-31T23:44:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/606944360",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kryvel fix got 0.20 tag so feedback is really appreciated asap.",
      "created_at" : "2020-04-01T10:27:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-607167781",
      "id" : 607167781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzE2Nzc4MQ==",
      "updated_at" : "2020-04-01T10:27:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607167781",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@promag I'm still testing. Since  2020-04-01 00:41:34 UTC it running without any stucks or deadlocks. \r\nBut there is also litecoin that running without deadlocks too (it has the same issue). Only bitcoin-abc catch deadlock two times today.\r\nSo I would like to test it a bit more, to be sure that issue is gone.\r\nI will let you know in any case\r\n\r\nSome stats:\r\nCurrently there is about 30 req/s with\r\n```\r\nrpcthreads=8\r\nrpcworkqueue=32\r\n```\r\n\r\nAlso if there is any test case for this, I could run it. Or maybe even an idea how to test it properly?",
      "created_at" : "2020-04-01T11:02:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-607182569",
      "id" : 607182569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzE4MjU2OQ==",
      "updated_at" : "2020-04-01T11:02:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607182569",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@promag Finally I could confirm that with your fix deadlock is gone. Thank you!\r\n\r\nSample script to reproduce issue without fix.\r\n```\r\nfor i in {1..100}; do\r\n    curl  --user user:pass \\\r\n        --data-binary '{\"jsonrpc\": \"1.0\", \"id\":\"'$(($(date +%s%N)/1000))'\", \"method\": \"walletpassphrase\", \"params\": [\"wallet-pass=\",1] }' -H 'content-type: text/plain;' \\\r\n        --limit-rate 10K \\\r\n        http://node:8888/wallet/name\r\n    sleep 1\r\ndone\r\n```\r\n",
      "created_at" : "2020-04-02T00:07:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-607549303",
      "id" : 607549303,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzU0OTMwMw==",
      "updated_at" : "2020-04-02T00:07:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607549303",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13569035?v=4",
         "events_url" : "https://api.github.com/users/kryvel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryvel/followers",
         "following_url" : "https://api.github.com/users/kryvel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryvel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryvel",
         "id" : 13569035,
         "login" : "kryvel",
         "node_id" : "MDQ6VXNlcjEzNTY5MDM1",
         "organizations_url" : "https://api.github.com/users/kryvel/orgs",
         "received_events_url" : "https://api.github.com/users/kryvel/received_events",
         "repos_url" : "https://api.github.com/users/kryvel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryvel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryvel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryvel"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok.",
      "created_at" : "2020-04-02T01:29:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-607570155",
      "id" : 607570155,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzU3MDE1NQ==",
      "updated_at" : "2020-04-02T01:29:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607570155",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the steps to reproduce. Added a test: #18507 ",
      "created_at" : "2020-04-02T15:18:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18482#issuecomment-607910246",
      "id" : 607910246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18482",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzkxMDI0Ng==",
      "updated_at" : "2020-04-02T15:18:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607910246",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
