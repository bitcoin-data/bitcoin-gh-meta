[
   {
      "author_association" : "NONE",
      "body" : "https://github.com/pierreN/bitcoin/blob/de3a30bab28e2db853a795017c5ec1704a1d0fee/src/undo.h#L36-L40",
      "created_at" : "2020-03-26T01:58:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-604183813",
      "id" : 604183813,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDE4MzgxMw==",
      "updated_at" : "2020-03-26T01:59:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604183813",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@pierreN \r\n\r\nThanks for tackling this.\r\n\r\nConsider throwing a `std::ios_base::failure` instead of silently truncating in case of serialization/deserialization errors.\r\n\r\nThat is the pattern used generally in the serialization/deserialisation code.",
      "created_at" : "2020-03-26T16:06:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-604518371",
      "id" : 604518371,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDUxODM3MQ==",
      "updated_at" : "2020-03-26T16:06:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604518371",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@pierreN \r\n\r\nFWIW, this is what I use in my local tree to avoid hitting the signed integer overflow when fuzzing:\r\n\r\n```diff\r\ndiff --git a/src/coins.h b/src/coins.h\r\nindex e71c8a47b..2be607207 100644\r\n--- a/src/coins.h\r\n+++ b/src/coins.h\r\n@@ -59,7 +59,7 @@ public:\r\n     template<typename Stream>\r\n     void Serialize(Stream &s) const {\r\n         assert(!IsSpent());\r\n-        uint32_t code = nHeight * 2 + fCoinBase;\r\n+        const uint32_t code = nHeight * uint32_t{2} + fCoinBase;\r\n         ::Serialize(s, VARINT(code));\r\n         ::Serialize(s, Using<TxOutCompression>(out));\r\n     }\r\n@@ -68,7 +68,11 @@ public:\r\n     void Unserialize(Stream &s) {\r\n         uint32_t code = 0;\r\n         ::Unserialize(s, VARINT(code));\r\n-        nHeight = code >> 1;\r\n+        const uint32_t block_height = code >> 1;\r\n+        if (block_height > (std::numeric_limits<uint32_t>::max() - 1) / 2) {\r\n+            throw std::ios_base::failure(\"Invalid nHeight when deserializing Coin.\");\r\n+        }\r\n+        nHeight = block_height;\r\n         fCoinBase = code & 1;\r\n         ::Unserialize(s, Using<TxOutCompression>(out));\r\n     }\r\n```\r\n\r\nFeel free to use it - I'd love to see it upstreamed. That would simplify my fuzzing workflow :)",
      "created_at" : "2020-03-26T18:10:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-604590388",
      "id" : 604590388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDU5MDM4OA==",
      "updated_at" : "2020-03-26T18:10:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604590388",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Agree with throwing an error when the value is out of range.",
      "created_at" : "2020-03-26T22:35:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-604722360",
      "id" : 604722360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDcyMjM2MA==",
      "updated_at" : "2020-03-26T22:35:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604722360",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "OK, thanks.\r\n\r\nNote that strictly speaking, as long as [`unsigned int`](https://github.com/bitcoin/bitcoin/blob/e3154aacf444a29f9f5642b6c937e875ab9a2c13/src/undo.h#L37) and `uint32_t` are 32b long, in the code posted by @practicalswift only the `uint32_t{2}` are necessary for the fuzzer exemples (to the compiler this is equivalent to the `static_cast` in this PR which didn't truncate them - sorry for being unclear).\r\n\r\nI updated the branch to use the `uint32_t{}` and made explicit the `unsigned int` == `uint32_t`.\r\n\r\nBut AFAIK exceptions are already raised in `serialize.h:ReadVarInt` ([here](https://github.com/bitcoin/bitcoin/blob/e3154aacf444a29f9f5642b6c937e875ab9a2c13/src/serialize.h#L461) and [here](https://github.com/bitcoin/bitcoin/blob/e3154aacf444a29f9f5642b6c937e875ab9a2c13/src/serialize.h#L466)) : I'm not sure you can reach the new `Invalid nHeight when deserializing Coin` exception.\r\n\r\nExamples :\r\n- `code = VARINT(0x8e fe fe fe 7f)` will evaluate `block_height > (std::numeric_limits<uint32_t>::max() - 1) / 2)` to `false`\r\n- `code = VARINT(0x8e fe fe ff 00)` will not fit an `uint32_t` hence raise [this](https://github.com/bitcoin/bitcoin/blob/e3154aacf444a29f9f5642b6c937e875ab9a2c13/src/serialize.h#L461) already existing exception\r\n\r\nAnother way would be to lower the threshold for raising the exception (e.g. `/4`) but since we already have the `uint32_t{}` this seems not needed.\r\n\r\nDid I miss something by any chance ?",
      "created_at" : "2020-03-27T02:33:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-604783508",
      "id" : 604783508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDc4MzUwOA==",
      "updated_at" : "2020-03-27T02:56:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604783508",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 21379af7537c71181dab0e9de3af5459a0f4a00e ð\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 21379af7537c71181dab0e9de3af5459a0f4a00e ð\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUj3qwv7BGTYcciiJxr/pawLmVnsWE3zYTUPkpxF6yHvtWRJUaXA7ZfPs9CHsHCI\r\n1bNzPhPSel9+IpoZ5xx71UN0yNUPBxw1ZQ4PhnEffRXsdhWEz3BjhORZ+IJ+hFVq\r\nxx1LPZjRjd97WARFzOnsP98ayBFFxIh9bSlA0U8jKm8BAFnONrqpI1v5CMBxdnai\r\nOYHF5hQM1DKM4YaPT6ZOEwknV7WO8Nifu+kAysvdoI+M0E45uzf+mDlx2qyP1LYf\r\nb0ErFwTdPY7ldDLBBqOuiV/R21cZyhQBEbXUpTCwzxWoHcwEHoSLUITJ+YQ7LvTR\r\nET5/d8kVsBm6o1z5mtnXrHPwXEvlKbHMFtPw6ZpCTTf5FLLZTVOC32/JVIKle7gj\r\na6AKmoQDEz1+XyWCHqMCBad7TnCa78k7LrGL8NAV0RoezqazyncNrri/pG0OgdKW\r\nt49UxzN7Pewq6ApqsHyEAgkeC3DVzw5HsrdHakIYbZu096kMuEpHoZZfL0KFkl4/\r\nXBxEu4pW\r\n=DB20\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `0fdeb1acb1aa9d5b5bfc0fded9cbedaaabafa625d387583314adb45f1c22a61e  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401080fdeb1acb1aa9d5b5bfc0fded9cbedaaabafa625d387583314adb45f1c22a61ef010453ec514da1e6404934baba8798a9df908fff0101377a355fe716587c4e3901779bb75cf08f1045e7e401bf008b0d181cbb85e512d0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6dfff010474192ff025c91277e6ed2e21c688a2508f1045e7e401bf008b401a52662e2dd610083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff0109c28e0726aa1f25452997df08526464208f1045e7e401bf00837049decca5dc8b90083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267f010f25701712ae4542e0c14b2de5a8b182308f1045e7e401bf0080ddb3d8b5171754b0083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6d)\r\n\r\n</details>\r\n",
      "created_at" : "2020-03-27T18:07:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-605177055",
      "id" : 605177055,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTE3NzA1NQ==",
      "updated_at" : "2020-03-27T18:07:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605177055",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399498186"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399498186"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Can someone confirm whether I'm undertanding this correctly?\r\n\r\nPreviously `nHeight` operand was a 31 bit integer, `fCoinBase` operand was a 1-bit integer, and `2` operand was a 2+ bit integer with actual width being platform specific but at least 2.\r\n\r\nUndefined behavior could occur on an imaginary platform where all the operations were done in 31 bits and overflowed, causing the high order bit of the uint32 result not to be set when supposed to be. If https://stackoverflow.com/questions/32529080/should-bit-fields-less-than-int-in-size-be-the-subject-of-integral-promotion is right, this can only happen on an imaginary platform with 31-bit ints.\r\n\r\nFix here for the undefined behavior widens `2` operand so expression is evaluated in 32+ bits on every platform and never overflows.\r\n\r\nAm I understanding this right?\r\n\r\n\r\n\r\n",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T19:37:49Z",
      "diff_hunk" : "@@ -59,7 +59,7 @@ class Coin\n     template<typename Stream>\n     void Serialize(Stream &s) const {\n         assert(!IsSpent());\n-        uint32_t code = nHeight * 2 + fCoinBase;\n+        uint32_t code = nHeight * uint32_t{2} + fCoinBase;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399498186",
      "id" : 399498186,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ5ODE4Ng==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 5,
      "path" : "src/coins.h",
      "position" : 5,
      "pull_request_review_id" : 383149749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399498186",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399505008"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399505008"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fix here seems basically identical to the fix in Coin::Serialize and I guess works the same way.\r\n\r\nOnly difference is `fCoinBase` from the other expression is `txout.fCoinBase ? 1u : 0u` here. It's a little more verbose but effectively the same thing since fCoinBase is 1-bit.\r\n",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T19:52:20Z",
      "diff_hunk" : "@@ -24,7 +24,7 @@ struct TxInUndoFormatter\n {\n     template<typename Stream>\n     void Ser(Stream &s, const Coin& txout) {\n-        ::Serialize(s, VARINT(txout.nHeight * 2 + (txout.fCoinBase ? 1u : 0u)));\n+        ::Serialize(s, VARINT(txout.nHeight * uint32_t{2} + (txout.fCoinBase ? 1u : 0u)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399505008",
      "id" : 399505008,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUwNTAwOA==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 5,
      "path" : "src/undo.h",
      "position" : null,
      "pull_request_review_id" : 383149749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399505008",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399511023"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399511023"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Again, not sure if I understand this correctly.\r\n\r\nThe undefined behavior happens because standard only says `unsigned int nCode` has to be 16+ bits.\r\n\r\n If `nCode` is 32 bits everything works perfectly. Any serialized VarInt value that is 2**32 or more will trigger \"ReadVarInt(): size too large\" exception, and any smaller values will be broken up into height and fcoinbase correctly.\r\n\r\nIf `nCode` is less than 32 bits, ReadVarInt() exceptions will be triggered unnecessarily. If `nCode` is more than 32 bits, top bits that are set will be silently discarded without triggering the ReadVarInt() exceptions that should be triggered.\r\n\r\nChaning `nCode` to be 32 bits instead of having an implementation defined width gives the right behavior on all platforms.\r\n\r\nAgain, I'm wondering if this is right or something else is going on.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T20:05:07Z",
      "diff_hunk" : "@@ -34,7 +34,7 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399511023",
      "id" : 399511023,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUxMTAyMw==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 14,
      "path" : "src/undo.h",
      "position" : 14,
      "pull_request_review_id" : 383149749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399511023",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399540058"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399540058"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe we're in fact already assuming that short is 16 bits, and int is 32 bits (see src/compat/assumptions.h). Maybe should just make those assumptions more explicit (asserting that the range of int matches that of int32_t, etc., ...).",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T21:11:54Z",
      "diff_hunk" : "@@ -59,7 +59,7 @@ class Coin\n     template<typename Stream>\n     void Serialize(Stream &s) const {\n         assert(!IsSpent());\n-        uint32_t code = nHeight * 2 + fCoinBase;\n+        uint32_t code = nHeight * uint32_t{2} + fCoinBase;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399540058",
      "id" : 399540058,
      "in_reply_to_id" : 399498186,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU0MDA1OA==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 5,
      "path" : "src/coins.h",
      "position" : 5,
      "pull_request_review_id" : 383202435,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399540058",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 21379af7537c71181dab0e9de3af5459a0f4a00e\r\n\r\nWould be nice to have this merged to avoid having UBSan hitting the signed integer overflow over and over when fuzzing :)",
      "created_at" : "2020-03-27T21:18:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-605319288",
      "id" : 605319288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTMxOTI4OA==",
      "updated_at" : "2020-03-27T21:18:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605319288",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399551704"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399551704"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> 2 operand was a 2+ bit integer with actual width being platform specific but at least 2.\r\n\r\nNot sure, but I think you got this wrong. `2` should be an `int`, which should be promoted to `uint32_t`, if I read [this](https://en.cppreference.com/w/cpp/language/operator_arithmetic#Conversions) right. (\"if the unsigned operand's conversion rank is greater or equal to the conversion rank of the signed operand, the signed operand is converted to the unsigned operand's type\") and [this]() (\"The rank of any unsigned type is equal to the rank of the corresponding signed type\")\r\n\r\nSo this change in code should not result in any change to the compiled code. I checked locally that clang++ produces the same bitcoind for me with O2.\r\n\r\nAs a side note, the boolean is converted to `int` in a first step. See [here](https://en.cppreference.com/w/cpp/language/implicit_conversion#Integral_promotion). Then  promoted to unsigned for the same reason I mentioned above.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T21:42:37Z",
      "diff_hunk" : "@@ -59,7 +59,7 @@ class Coin\n     template<typename Stream>\n     void Serialize(Stream &s) const {\n         assert(!IsSpent());\n-        uint32_t code = nHeight * 2 + fCoinBase;\n+        uint32_t code = nHeight * uint32_t{2} + fCoinBase;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399551704",
      "id" : 399551704,
      "in_reply_to_id" : 399498186,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1MTcwNA==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 5,
      "path" : "src/coins.h",
      "position" : 5,
      "pull_request_review_id" : 383216658,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399551704",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399552237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399552237"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        ::Serialize(s, VARINT(txout.nHeight * uint32_t{2} + txout.fCoinBase));\r\n```\r\n\r\nIt could make sense to change this for symmetry with the implementation in `Coin::Serialize`?",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T21:44:01Z",
      "diff_hunk" : "@@ -24,7 +24,7 @@ struct TxInUndoFormatter\n {\n     template<typename Stream>\n     void Ser(Stream &s, const Coin& txout) {\n-        ::Serialize(s, VARINT(txout.nHeight * 2 + (txout.fCoinBase ? 1u : 0u)));\n+        ::Serialize(s, VARINT(txout.nHeight * uint32_t{2} + (txout.fCoinBase ? 1u : 0u)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399552237",
      "id" : 399552237,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1MjIzNw==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 5,
      "path" : "src/undo.h",
      "position" : null,
      "pull_request_review_id" : 383217278,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399552237",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399552921"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399552921"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> The undefined behavior happens because standard only says unsigned int nCode has to be 16+ bits.\r\n\r\nI don't think any undefined behavior has been observed here. This has just been changed for clarity and should also not result in a change in the compiled code.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T21:46:05Z",
      "diff_hunk" : "@@ -34,7 +34,7 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399552921",
      "id" : 399552921,
      "in_reply_to_id" : 399511023,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1MjkyMQ==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 14,
      "path" : "src/undo.h",
      "position" : 14,
      "pull_request_review_id" : 383218092,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399552921",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399572201"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399572201"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes this is mostly for the sake of clarity. I'm struggling to see bitcoin run on platforms where `unsigned int` is different than 32 bits but who knows.\r\n\r\n> If nCode is less than 32 bits, ReadVarInt() exceptions will be triggered unnecessarily.\r\n\r\nIf on an imaginary platform `unsigned int` is 16 bits, then yes `nCode` have to be less than `2**16/(6*24*365)<2 years` so this code would already hit the exception in `ReadVarInt`. \r\n\r\n> If nCode is more than 32 bits, top bits that are set will be silently discarded without triggering the ReadVarInt() exceptions that should be triggered.\r\n\r\nYes. In that case adding the new exception would be necessary (limiting the threshold to `uint32_t`, not `unsigned int`).",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T22:49:34Z",
      "diff_hunk" : "@@ -34,7 +34,7 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399572201",
      "id" : 399572201,
      "in_reply_to_id" : 399511023,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU3MjIwMQ==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 14,
      "path" : "src/undo.h",
      "position" : 14,
      "pull_request_review_id" : 383240741,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399572201",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399574604"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399574604"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This looks like a great idea. I'm double checking it.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T22:58:28Z",
      "diff_hunk" : "@@ -24,7 +24,7 @@ struct TxInUndoFormatter\n {\n     template<typename Stream>\n     void Ser(Stream &s, const Coin& txout) {\n-        ::Serialize(s, VARINT(txout.nHeight * 2 + (txout.fCoinBase ? 1u : 0u)));\n+        ::Serialize(s, VARINT(txout.nHeight * uint32_t{2} + (txout.fCoinBase ? 1u : 0u)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399574604",
      "id" : 399574604,
      "in_reply_to_id" : 399552237,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU3NDYwNA==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 5,
      "path" : "src/undo.h",
      "position" : null,
      "pull_request_review_id" : 383243345,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399574604",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399574912"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399574912"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, TBH I was unsure why the ternary operator was used.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T22:59:34Z",
      "diff_hunk" : "@@ -24,7 +24,7 @@ struct TxInUndoFormatter\n {\n     template<typename Stream>\n     void Ser(Stream &s, const Coin& txout) {\n-        ::Serialize(s, VARINT(txout.nHeight * 2 + (txout.fCoinBase ? 1u : 0u)));\n+        ::Serialize(s, VARINT(txout.nHeight * uint32_t{2} + (txout.fCoinBase ? 1u : 0u)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399574912",
      "id" : 399574912,
      "in_reply_to_id" : 399505008,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU3NDkxMg==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 5,
      "path" : "src/undo.h",
      "position" : null,
      "pull_request_review_id" : 383243643,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399574912",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399578207"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399578207"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I believe we're in fact already assuming that short is 16 bits, and int is 32 bits (see src/compat/assumptions.h).\r\n\r\nOw, thank you, I hadn't see this file. Those are great assumptions.\r\n\r\n> As a side note, the boolean is converted to int in a first step. See here. Then promoted to unsigned for the same reason I mentioned above.\r\n\r\nYes, my basic understanding was that `2` was being understood as an `int`, forcing the `nHeight` to be implicitly casted as an `int`, forcing `nHeight * 2 + fCoinBase` to be implicitely casted as an `int` then implicitly casted to an `uint32_t`.\r\n\r\nHence forcing `2` (or `nHeight`) to be an `uint32_t` makes all the implicit casting disappears.\r\nIf you really wanted to be explicit, you could do `static_cast<uint32_t>{nHeight} * uint32_t{2} + static_cast<uint32_t>(fCoinBase)` but this is un-necessarily verbose..\r\n",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T23:13:30Z",
      "diff_hunk" : "@@ -59,7 +59,7 @@ class Coin\n     template<typename Stream>\n     void Serialize(Stream &s) const {\n         assert(!IsSpent());\n-        uint32_t code = nHeight * 2 + fCoinBase;\n+        uint32_t code = nHeight * uint32_t{2} + fCoinBase;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399578207",
      "id" : 399578207,
      "in_reply_to_id" : 399498186,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU3ODIwNw==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 5,
      "path" : "src/coins.h",
      "position" : 5,
      "pull_request_review_id" : 383247210,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399578207",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399578579"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399578579"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399551704\r\n\r\n> > 2 operand was a 2+ bit integer with actual width being platform specific but at least 2.\r\n> \r\n> Not sure, but I think you got this wrong. `2` should be an `int`, which should be promoted to `uint32_t`\r\n\r\nOh you're right it must be a 16+ bit signed int: https://en.cppreference.com/w/cpp/language/integer_literal#The_type_of_the_literal\r\n\r\nI think it doesn't change the conclusion that the only way this change could change behavior is on the imaginary platform with 31 bit ints",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T23:15:07Z",
      "diff_hunk" : "@@ -59,7 +59,7 @@ class Coin\n     template<typename Stream>\n     void Serialize(Stream &s) const {\n         assert(!IsSpent());\n-        uint32_t code = nHeight * 2 + fCoinBase;\n+        uint32_t code = nHeight * uint32_t{2} + fCoinBase;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399578579",
      "id" : 399578579,
      "in_reply_to_id" : 399498186,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU3ODU3OQ==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 5,
      "path" : "src/coins.h",
      "position" : 5,
      "pull_request_review_id" : 383247633,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399578579",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399578693"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399578693"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399552921\r\n\r\n> I don't think any undefined behavior has been observed here. This has just been changed for clarity and should also not result in a change in the compiled code.\r\n\r\nGood to know. Any I don't think it was right for me to call it \"undefined behavior\", more like \"platform specific behavior\" only on a theoretical platform where an int is 31 bits with when height is somehow >= 2**30.\r\n\r\nIn the future, it would be good to do fuzzer fixes and code cleanups in separate commits. Or at least say what the different changes are intended to do in the commit message.  The changes are enough work to understand without having to guess which are real and which are no-ops!",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-27T23:15:37Z",
      "diff_hunk" : "@@ -34,7 +34,7 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399578693",
      "id" : 399578693,
      "in_reply_to_id" : 399511023,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU3ODY5Mw==",
      "original_commit_id" : "21379af7537c71181dab0e9de3af5459a0f4a00e",
      "original_position" : 14,
      "path" : "src/undo.h",
      "position" : 14,
      "pull_request_review_id" : 383247633,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-27T23:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399578693",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the reviews, I removed the ternary operator on `fCoinBase` as requested. \r\nIn the same spirit, I also changed the `nCode / 2` into `nCode >> 1` to match `undo.h` and `coins.h`.",
      "created_at" : "2020-03-27T23:42:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-605358378",
      "id" : 605358378,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTM1ODM3OA==",
      "updated_at" : "2020-03-27T23:42:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605358378",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK e980214bc4fd49530e8d50fe0a6657b8583bc6b5 ð\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nre-ACK e980214bc4fd49530e8d50fe0a6657b8583bc6b5 ð\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUgKLgv+MDL+1GuBwP8B6du9vzoVuuWIcYe1V6tmN4/0EnM5llvYevJznwvpSuRM\r\nLwfFEkQ8fgAqiJDwbzM50sjaaC6eYj36uQShVCp2DcuD1mFosnaGzX9u60xQPbpu\r\nHY7WytxaHwRyN3XSrXHuEL2PuVR79wQgAnwqaBxZ25KY4bb3ab0jLVNJb1rfNLuX\r\nfVoBrXdLWH0vm8ompFuhGylWu5u4gVkIO+auemVAGECIMhu2238HkODZ9aE6rjWR\r\nFNKNiSTVeAsD9iaqZo6Tw0lyf1SLSJuuHdTtQ5vIG70r/dNPK8ba20oHC1Ss22RK\r\nVsie4z2Zl2wCLbqIVKQJPIw0JEOkzUwr4BnnnbzizYkOAGShQq4iIVd3UA44H+Bp\r\nlo6cwp/nn9WgU+fdcF1zdWmArfRHhh3Ocv3ENqwfL/AuT7wGqDe0YTBb/ZWPq6Vm\r\nXFi2RK3qRrxyC4URXx13LGclrEGNVAHGnqoNlDF+Kz4jUsv6w81+gMYqlS8qCBvx\r\nZlP9A9rc\r\n=/tH2\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `4660dfc715111cfef91d5f61080473e35fd321fe8ef6e8c0530e5789db28a610  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401084660dfc715111cfef91d5f61080473e35fd321fe8ef6e8c0530e5789db28a610f01071c2b44ba3b6c033a6af411238e4165608fff0104c66dc41a783f6c8f4e934954d86182a08f1045e7e9dfaf008556d4baded70263d0083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6dfff010d7668590eafc4819fc18e250374fd24008f1045e7e9dfdf00814642ee10ab398870083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6df010ecd1b0b08d43e838d12812435a279e5e08f1045e7e9dfaf008757e38ca64986b820083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
      "created_at" : "2020-03-28T00:49:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-605370227",
      "id" : 605370227,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTM3MDIyNw==",
      "updated_at" : "2020-03-28T00:49:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605370227",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-28T01:16:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-605373565",
      "id" : 605373565,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTM3MzU2NQ==",
      "updated_at" : "2020-03-28T01:16:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605373565",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK e980214bc4fd49530e8d50fe0a6657b8583bc6b5 -- patch looks correct",
      "created_at" : "2020-03-29T12:22:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#issuecomment-605627918",
      "id" : 605627918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18433",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTYyNzkxOA==",
      "updated_at" : "2020-03-29T12:22:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605627918",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399878654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399878654"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why this change?",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-30T00:39:00Z",
      "diff_hunk" : "@@ -34,9 +34,9 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;\n         ::Unserialize(s, VARINT(nCode));\n-        txout.nHeight = nCode / 2;\n+        txout.nHeight = nCode >> 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399878654",
      "id" : 399878654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg3ODY1NA==",
      "original_commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "original_position" : 17,
      "path" : "src/undo.h",
      "position" : 17,
      "pull_request_review_id" : 383477086,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-30T00:39:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399878654",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399881849"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399881849"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> In the same spirit, I also changed the nCode / 2 into nCode >> 1 to match undo.h and coins.h.\r\n\r\nTo match the code in `undo.h` and `coins.h` (as it is done with `fCoinBase`). Can remove it if people prefer ?",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-30T01:00:55Z",
      "diff_hunk" : "@@ -34,9 +34,9 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;\n         ::Unserialize(s, VARINT(nCode));\n-        txout.nHeight = nCode / 2;\n+        txout.nHeight = nCode >> 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399881849",
      "id" : 399881849,
      "in_reply_to_id" : 399878654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg4MTg0OQ==",
      "original_commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "original_position" : 17,
      "path" : "src/undo.h",
      "position" : 17,
      "pull_request_review_id" : 383480306,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-30T01:00:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399881849",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399882169"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399882169"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ð¤·ââ don't make a case for me.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-30T01:03:08Z",
      "diff_hunk" : "@@ -34,9 +34,9 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;\n         ::Unserialize(s, VARINT(nCode));\n-        txout.nHeight = nCode / 2;\n+        txout.nHeight = nCode >> 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399882169",
      "id" : 399882169,
      "in_reply_to_id" : 399878654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg4MjE2OQ==",
      "original_commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "original_position" : 17,
      "path" : "src/undo.h",
      "position" : 17,
      "pull_request_review_id" : 383480653,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-30T01:03:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399882169",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399885225"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399885225"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry, unsure how to read this. Waiting for a second person opinion to remove it I guess ?",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-30T01:22:13Z",
      "diff_hunk" : "@@ -34,9 +34,9 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;\n         ::Unserialize(s, VARINT(nCode));\n-        txout.nHeight = nCode / 2;\n+        txout.nHeight = nCode >> 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r399885225",
      "id" : 399885225,
      "in_reply_to_id" : 399878654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg4NTIyNQ==",
      "original_commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "original_position" : 17,
      "path" : "src/undo.h",
      "position" : 17,
      "pull_request_review_id" : 383483953,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-30T01:24:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399885225",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400201305"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400201305"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree with @promag.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-30T13:43:01Z",
      "diff_hunk" : "@@ -34,9 +34,9 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;\n         ::Unserialize(s, VARINT(nCode));\n-        txout.nHeight = nCode / 2;\n+        txout.nHeight = nCode >> 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400201305",
      "id" : 400201305,
      "in_reply_to_id" : 399878654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIwMTMwNQ==",
      "original_commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "original_position" : 17,
      "path" : "src/undo.h",
      "position" : 17,
      "pull_request_review_id" : 383866438,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-30T13:43:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400201305",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400206552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400206552"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This pull request has 5 ACKs. Let's please not invalidate all the review and fight about style changes at this point.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-30T13:49:55Z",
      "diff_hunk" : "@@ -34,9 +34,9 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;\n         ::Unserialize(s, VARINT(nCode));\n-        txout.nHeight = nCode / 2;\n+        txout.nHeight = nCode >> 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400206552",
      "id" : 400206552,
      "in_reply_to_id" : 399878654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIwNjU1Mg==",
      "original_commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "original_position" : 17,
      "path" : "src/undo.h",
      "position" : 17,
      "pull_request_review_id" : 383873135,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-30T13:49:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400206552",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400215385"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400215385"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, I wasn't trying to invalidate existing reviews, I also gave my ACK. I was trying to understand the reason behind this change. I think it's good practice to not include unrelated changes.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-30T14:01:19Z",
      "diff_hunk" : "@@ -34,9 +34,9 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;\n         ::Unserialize(s, VARINT(nCode));\n-        txout.nHeight = nCode / 2;\n+        txout.nHeight = nCode >> 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400215385",
      "id" : 400215385,
      "in_reply_to_id" : 399878654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIxNTM4NQ==",
      "original_commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "original_position" : 17,
      "path" : "src/undo.h",
      "position" : 17,
      "pull_request_review_id" : 383884606,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-30T14:01:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400215385",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400226458"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400226458"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it is fine to do style-changes in code that reviewers have to look at anyway. It could have been better if it was in different commits or in the same commit, but with explanation in the commit message why each change is made.\r\nLet's just keep it in mind for the future.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-30T14:16:06Z",
      "diff_hunk" : "@@ -34,9 +34,9 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;\n         ::Unserialize(s, VARINT(nCode));\n-        txout.nHeight = nCode / 2;\n+        txout.nHeight = nCode >> 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400226458",
      "id" : 400226458,
      "in_reply_to_id" : 399878654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIyNjQ1OA==",
      "original_commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "original_position" : 17,
      "path" : "src/undo.h",
      "position" : 17,
      "pull_request_review_id" : 383899091,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-30T14:16:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400226458",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400573563"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400573563"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "My bad - I just though the change was related enough to be included here. I'll do this in a separate commit in the future. Thanks.",
      "commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "created_at" : "2020-03-31T00:30:00Z",
      "diff_hunk" : "@@ -34,9 +34,9 @@ struct TxInUndoFormatter\n \n     template<typename Stream>\n     void Unser(Stream &s, Coin& txout) {\n-        unsigned int nCode = 0;\n+        uint32_t nCode = 0;\n         ::Unserialize(s, VARINT(nCode));\n-        txout.nHeight = nCode / 2;\n+        txout.nHeight = nCode >> 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18433#discussion_r400573563",
      "id" : 400573563,
      "in_reply_to_id" : 399878654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU3MzU2Mw==",
      "original_commit_id" : "e980214bc4fd49530e8d50fe0a6657b8583bc6b5",
      "original_position" : 17,
      "path" : "src/undo.h",
      "position" : 17,
      "pull_request_review_id" : 384324572,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18433",
      "updated_at" : "2020-03-31T00:30:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/400573563",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   }
]
