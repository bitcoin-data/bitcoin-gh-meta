[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r396964929"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396964929"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "FWIW, here's an alternative shorter version for the same logic, without branches:\r\n```\r\n    n = std::min(n, static_cast<int64_t>(std::numeric_limits<int32_t>::max()));\r\n    n = std::max(n, static_cast<int64_t>(std::numeric_limits<int32_t>::min()));\r\n```\r\nNot sure if it's really more readable though, personally I'd be okay with both versions.",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-24T08:09:14Z",
      "diff_hunk" : "@@ -59,6 +60,16 @@ CScript ParseScript(const std::string& s)\n         {\n             // Number\n             int64_t n = atoi64(*w);\n+\n+            //it's always assumed that a numeric op fits in an int32_t in other code paths,\n+            //so enforce an artificial threshold here\n+            //for details, see : https://github.com/bitcoin/bitcoin/pull/18413#issuecomment-602954469\n+            if(n > std::numeric_limits<int32_t>::max()) {\n+                n = std::numeric_limits<int32_t>::max();\n+            } else if(n < std::numeric_limits<int32_t>::min()) {\n+                n = std::numeric_limits<int32_t>::min();\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r396964929",
      "id" : 396964929,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk2NDkyOQ==",
      "original_commit_id" : "88bd812672b4238011ffabe22d8596854c6050eb",
      "original_position" : 20,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 380074956,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396964929",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r396970095"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396970095"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`std::clamp` in C++17 would be even better and less verbose, but unsure if we can use C++17 features ?\r\n\r\nNote that `min/max` in the standard also do `exactly one comparison` each.\r\n\r\nI can remove the `if/else` though if people think it fits better here.",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-24T08:19:19Z",
      "diff_hunk" : "@@ -59,6 +60,16 @@ CScript ParseScript(const std::string& s)\n         {\n             // Number\n             int64_t n = atoi64(*w);\n+\n+            //it's always assumed that a numeric op fits in an int32_t in other code paths,\n+            //so enforce an artificial threshold here\n+            //for details, see : https://github.com/bitcoin/bitcoin/pull/18413#issuecomment-602954469\n+            if(n > std::numeric_limits<int32_t>::max()) {\n+                n = std::numeric_limits<int32_t>::max();\n+            } else if(n < std::numeric_limits<int32_t>::min()) {\n+                n = std::numeric_limits<int32_t>::min();\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r396970095",
      "id" : 396970095,
      "in_reply_to_id" : 396964929,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk3MDA5NQ==",
      "original_commit_id" : "88bd812672b4238011ffabe22d8596854c6050eb",
      "original_position" : 20,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 380081388,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396970095",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r396976681"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396976681"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, `std::clamp` would indeed be a very nice option. Unfortunately, upgrading to C++17 has not happened yet (see this discussion: https://github.com/bitcoin/bitcoin/issues/16684), so it can't be used.\r\nSometimes substitutes for not-yet-available C++ features are implemented by contributors, like `Span` for the C++20 `std::span` by sipa (see https://github.com/bitcoin/bitcoin/pull/12886), don't know though if that is a desired way to go here, and if yes, if it should be packed in this PR. This should probably include identifiying all clamps throughout the codebase and using our newly introduced clamp function (so it can be replaced with `std::clamp` once we move to C++17).\r\n",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-24T08:31:39Z",
      "diff_hunk" : "@@ -59,6 +60,16 @@ CScript ParseScript(const std::string& s)\n         {\n             // Number\n             int64_t n = atoi64(*w);\n+\n+            //it's always assumed that a numeric op fits in an int32_t in other code paths,\n+            //so enforce an artificial threshold here\n+            //for details, see : https://github.com/bitcoin/bitcoin/pull/18413#issuecomment-602954469\n+            if(n > std::numeric_limits<int32_t>::max()) {\n+                n = std::numeric_limits<int32_t>::max();\n+            } else if(n < std::numeric_limits<int32_t>::min()) {\n+                n = std::numeric_limits<int32_t>::min();\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r396976681",
      "id" : 396976681,
      "in_reply_to_id" : 396964929,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk3NjY4MQ==",
      "original_commit_id" : "88bd812672b4238011ffabe22d8596854c6050eb",
      "original_position" : 20,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 380089701,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396976681",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r396978657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396978657"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, I'd be down to do that in a different PR. I'm looking for stuffs to do to improve my knowledge of the codebase anyway :)\r\n\r\nI'll wait for some other people to confirm \"yes this is a good idea, do a separate PR for std::clamp\" before starting though",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-24T08:35:13Z",
      "diff_hunk" : "@@ -59,6 +60,16 @@ CScript ParseScript(const std::string& s)\n         {\n             // Number\n             int64_t n = atoi64(*w);\n+\n+            //it's always assumed that a numeric op fits in an int32_t in other code paths,\n+            //so enforce an artificial threshold here\n+            //for details, see : https://github.com/bitcoin/bitcoin/pull/18413#issuecomment-602954469\n+            if(n > std::numeric_limits<int32_t>::max()) {\n+                n = std::numeric_limits<int32_t>::max();\n+            } else if(n < std::numeric_limits<int32_t>::min()) {\n+                n = std::numeric_limits<int32_t>::min();\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r396978657",
      "id" : 396978657,
      "in_reply_to_id" : 396964929,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk3ODY1Nw==",
      "original_commit_id" : "88bd812672b4238011ffabe22d8596854c6050eb",
      "original_position" : 20,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 380092167,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396978657",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "It seems that the tests were already including values wider than 2^32 so I reckon there is 2 options : \r\n\r\n- remove/update tests to make them fit into a 2^32\r\n- just prevent the [UB value](https://github.com/bitcoin/bitcoin/pull/18413#pullrequestreview-380164570) instead\r\n\r\nThe second option seemed the less intrusive, so I updated the PR to only forbid the value -2^63. I also added 2 tests reflecting that : before this PR, those tests were *triggering the UB* before failing.  ",
      "created_at" : "2020-03-24T15:35:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603311452",
      "id" : 603311452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzMxMTQ1Mg==",
      "updated_at" : "2020-03-24T15:35:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603311452",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think we should just fix UB in CScriptNum::serialize; that should be easy, and avoid all issues.\r\n\r\nIn addition, I think we may want to restrict what range of numbers ParseScript accepts in decimal, because numbers outside -0xFFFFFFFF...0xFFFFFFFF are simply illegal in scripts (they don't work as numbers, so they should really be represented as hex strings instead if they're used at all). That has nothing to do with avoiding UB; it's just fixing weird behavior in ParseScript.",
      "created_at" : "2020-03-24T16:14:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603338485",
      "id" : 603338485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzMzODQ4NQ==",
      "updated_at" : "2020-03-24T17:37:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603338485",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "OK, thanks. \r\n\r\nSo. if I understand correctly, we do agree that the following tests in `src/test/data/script_tests.json` are wrong and should be removed (most of them originally from 90320d67779be5c97061380c035d3fe51b7ce74b ) ?\r\n\r\n```\r\n[\"549755813887\", \"SIZE 5 EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n[\"549755813888\", \"SIZE 6 EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n[\"9223372036854775807\", \"SIZE 8 EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n\r\n[\"-549755813887\", \"SIZE 5 EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n[\"-549755813888\", \"SIZE 6 EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n[\"-9223372036854775807\", \"SIZE 8 EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n\r\n[\"549755813887\", \"0x05 0xFFFFFFFF7F EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n[\"549755813888\", \"0x06 0x000000008000 EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n[\"9223372036854775807\", \"0x08 0xFFFFFFFFFFFFFF7F EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n\r\n[\"-549755813887\", \"0x05 0xFFFFFFFFFF EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n[\"-549755813888\", \"0x06 0x000000008080 EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n[\"-9223372036854775807\", \"0x08 0xFFFFFFFFFFFFFFFF EQUAL\", \"P2SH,STRICTENC\", \"OK\"],\r\n\r\n[\"4294967296\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY\", \"UNSATISFIED_LOCKTIME\", \"CSV fails if stack top bit 1 << 31 is not set, and tx version < 2\"],\r\n```\r\n\r\n\r\n\r\n",
      "created_at" : "2020-03-24T23:57:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603565321",
      "id" : 603565321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzU2NTMyMQ==",
      "updated_at" : "2020-03-24T23:57:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603565321",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@pierreN They can be converted to hexadecimal.",
      "created_at" : "2020-03-25T01:36:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603591610",
      "id" : 603591610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzU5MTYxMA==",
      "updated_at" : "2020-03-25T01:36:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603591610",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Ow my bad, I was too focused on the `atoi64` branch to see it that way, thanks.\r\n\r\nI edited my branch accordingly.",
      "created_at" : "2020-03-25T04:06:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603628774",
      "id" : 603628774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzYyODc3NA==",
      "updated_at" : "2020-03-25T04:06:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603628774",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397793149"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397793149"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Shouldn't this version be kept as an example of an *_invalid* script?",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T11:45:54Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397793149",
      "id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc5MzE0OQ==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381073107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397793149",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397908932"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397908932"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "OK, thanks. This is a good idea I think, I was hesitant to add more tests. If I understood you correctly, the tests are invalids here, so I guess you mean adding something like:\r\n\r\n```\r\n[\"Argument 2^32 in decimal (hence clamped to 0xffffffff) with nLockTime=2^32-2\"],\r\n[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],\r\n\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000fffffffe\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\r\n```\r\n\r\nIf this is correct, I guess I should add similar tests for other modified test cases too ?",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T14:42:18Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397908932",
      "id" : 397908932,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzkwODkzMg==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381215190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397908932",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397912614"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397912614"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Feel free to *add* as many tests as you like, as long as all existing proper test cases also stay there",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T14:46:56Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397912614",
      "id" : 397912614,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzkxMjYxNA==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381219867,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397912614",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397947329"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397947329"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "OK great, I added 5 more tests in the branch.",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T15:30:10Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397947329",
      "id" : 397947329,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk0NzMyOQ==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381264196,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397947329",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397958241"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397958241"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What I mean is that this shouldn't be silently clamped. The test here looks right. Why would it be safe to parse a script and silently change it while parsing?",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T15:43:38Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397958241",
      "id" : 397958241,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk1ODI0MQ==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381277871,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397958241",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397963494"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397963494"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "OK, so you are suggesting in the `core_read.cpp` above to return an `std::runtime_error` when the result of the `atoi64` is beyond the the range -0xffffffff..0xffffffff instead ?",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T15:49:57Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397963494",
      "id" : 397963494,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk2MzQ5NA==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381284362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397963494",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397965031"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397965031"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, some kind of failure",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T15:51:47Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397965031",
      "id" : 397965031,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk2NTAzMQ==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381286241,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397965031",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397971817"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397971817"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`std::runtime_error` is thrown on other script parse errors in `ParseScript(â¦)`. Shouldn't that be thrown also for this type of script parse error in `ParseScript`?\r\n\r\n",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T16:00:08Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397971817",
      "id" : 397971817,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk3MTgxNw==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381294687,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397971817",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What's the rationale here for saturating the number instead of raising an error? I generally prefer explicit parse errors on invalid input, at least.",
      "created_at" : "2020-03-25T16:18:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603936577",
      "id" : 603936577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzkzNjU3Nw==",
      "updated_at" : "2020-03-25T16:18:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603936577",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397987413"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397987413"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "OK, thanks, this is clearly a possibility. \r\n\r\nNote that for now, no test trigger the already existing `std::runtime_error`. `script_json_test` doesn't handle exceptions, so it should be modified to catch them (maybe in a different PR then ?). Testcases will have to be modified to handle the exception too I guess. \r\n\r\n(the fuzzer harness already handle exceptions well)\r\n\r\nI'm not sure which possibility (clamping or throwing an error) fits more the style of the codebase. Maybe getting an ACK from @sipa for the exception first ? ",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T16:20:23Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r397987413",
      "id" : 397987413,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk4NzQxMw==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381313916,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397987413",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj Agreed. That would also be in line with how parsing errors are handled elsewhere in `ParseScript(â¦)`: a `std::runtime_error` is thrown :)",
      "created_at" : "2020-03-25T16:20:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603938035",
      "id" : 603938035,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzkzODAzNQ==",
      "updated_at" : "2020-03-25T16:20:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603938035",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, that's what I meant to suggest: fail if a number outside the valid range is present. Sorry if that was not clear.",
      "created_at" : "2020-03-25T16:34:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603946365",
      "id" : 603946365,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzk0NjM2NQ==",
      "updated_at" : "2020-03-25T16:34:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603946365",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "OK, thanks, I'll open another PR to handle exceptions in `script_json_test` first (this issue is like the russian dolls, this is fun :)",
      "created_at" : "2020-03-25T16:35:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603947214",
      "id" : 603947214,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzk0NzIxNA==",
      "updated_at" : "2020-03-25T16:35:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603947214",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398019058"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398019058"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@practicalswift hm sorry but I guess it's better to ask first:  if you return an `std::runtime_error`, how to describe the error in the JSON test file ?  \r\n\r\nI guess that adding a new value to the `ScriptError_t` enum is too intrusive. \r\nAdding a special `if/else` case in `script_test.cpp:ParseScriptError` seems too hackish.\r\nReusing an existing `ScriptError_t` seems the less odd option - something like `SCRIPT_ERR_BAD_OPCODE` or `SCRIPT_ERR_OP_COUNT` ? ",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T17:02:30Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398019058",
      "id" : 398019058,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODAxOTA1OA==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381352776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398019058",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398021643"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398021643"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think there is a need. (tx/script)_(valid/invalid) are testing the transaction and script validity logic - not the script parser.\n\nIf a particular test now causes an exception to be thrown, just write that test differently. It's still testing the same thing.",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T17:06:03Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398021643",
      "id" : 398021643,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODAyMTY0Mw==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381356007,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398021643",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Slightly related: The fuzz tests already have the error condition in this parser here covered: https://marcofalke.github.io/btc_cov/fuzz.coverage/src/core_read.cpp.gcov.html#84 . However our unit and functional tests don't know how to handle this/have this uncovered: https://marcofalke.github.io/btc_cov/total.coverage/src/core_read.cpp.gcov.html#84\r\n",
      "created_at" : "2020-03-25T17:09:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603966799",
      "id" : 603966799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzk2Njc5OQ==",
      "updated_at" : "2020-03-25T17:09:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603966799",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It looks like a test case can be added to:\r\n\r\n* `src/test/script_tests.cpp` and/or\r\n* `test/util/data/bitcoin-util-test.json` with binary `bitcoin-tx`",
      "created_at" : "2020-03-25T17:11:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603968156",
      "id" : 603968156,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzk2ODE1Ng==",
      "updated_at" : "2020-03-25T17:11:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603968156",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "OK so sorry now I'm a bit confused - as stated [above](https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398019058), if we start handling exceptions in `script_test.cpp`, which `ScriptError_t` to have in the JSON ? Do you think this would be useful ?",
      "created_at" : "2020-03-25T17:30:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603978899",
      "id" : 603978899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzk3ODg5OQ==",
      "updated_at" : "2020-03-25T17:31:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603978899",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The exception is simply passed in an `error_text` in `test/util/data/bitcoin-util-test.json`. E.g.\r\n\r\n```json\r\n  { \"exec\": \"./bitcoin-tx\",\r\n    \"args\": [\"-create\", \"nversion=1foo\"],\r\n    \"return_code\": 1,\r\n    \"error_txt\": \"error: Invalid TX version requested\",\r\n    \"description\": \"Tests the check for invalid nversion value\"\r\n  },\r\n",
      "created_at" : "2020-03-25T17:34:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603980603",
      "id" : 603980603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzk4MDYwMw==",
      "updated_at" : "2020-03-25T17:34:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603980603",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Ow, OK, thanks, I see.\r\n\r\nSo this way if we return an exception, we can just add a test `./src/bitcoin-tx -create outscript=0:9999999999` to check the parser (and have code coverage for the added exception) - hence the test in `src/test/data/tx_invalid.json` containing `4294967296 CHECKLOCKTIMEVERIFY 1` becomes useless since  it would just trigger the same exception in the parser.",
      "created_at" : "2020-03-25T18:07:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-603998247",
      "id" : 603998247,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMzk5ODI0Nw==",
      "updated_at" : "2020-03-25T18:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/603998247",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398092831"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398092831"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "OK, so as stated below, if a test contains `4294967296 CHECKLOCKTIMEVERIFY 1` or `999...999`, this is a script parser error which should be covered in `bitcoin-util-test.json`, not here. I believe this resolve this issue ?",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T18:51:21Z",
      "diff_hunk" : "@@ -174,7 +174,7 @@\n \"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Argument 2^32 with nLockTime=2^32-1\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 CHECKLOCKTIMEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398092831",
      "id" : 398092831,
      "in_reply_to_id" : 397793149,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODA5MjgzMQ==",
      "original_commit_id" : "08b392a205e84602a5f53a5ca1c57e85d2a24d54",
      "original_position" : 4,
      "path" : "src/test/data/tx_invalid.json",
      "position" : 4,
      "pull_request_review_id" : 381442717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398092831",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398094215"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398094215"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Note that using an exception allowed to raise new errors in `tx_valid` - before the clamped value also valided the test...",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T18:53:26Z",
      "diff_hunk" : "@@ -292,11 +292,11 @@\n \"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffffff0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n \n [\"Argument 3<<31 with various nSequence\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"6442450944 CHECKSEQUENCEVERIFY 1\"]],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0x050000008001 CHECKSEQUENCEVERIFY 1\"]],\n \"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffbf7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"6442450944 CHECKSEQUENCEVERIFY 1\"]],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0x050000008001 CHECKSEQUENCEVERIFY 1\"]],\n \"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffff7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n-[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"6442450944 CHECKSEQUENCEVERIFY 1\"]],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0x050000008001 CHECKSEQUENCEVERIFY 1\"]],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398094215",
      "id" : 398094215,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODA5NDIxNQ==",
      "original_commit_id" : "f3fb51d09b2b4df0ed2183f4d387ad4a9deda813",
      "original_position" : 11,
      "path" : "src/test/data/tx_valid.json",
      "position" : 11,
      "pull_request_review_id" : 381444381,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398094215",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398094977"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398094977"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any reason this needs a static cast?\r\n \r\n```suggestion\r\n            if (n > 0xffffffff || n < -0xffffffff) {\r\n```",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T18:54:40Z",
      "diff_hunk" : "@@ -59,6 +60,14 @@ CScript ParseScript(const std::string& s)\n         {\n             // Number\n             int64_t n = atoi64(*w);\n+\n+            //limit the range of numbers ParseScript accepts in decimal\n+            //since numbers outside -0xFFFFFFFF...0xFFFFFFFF are illegal in scripts\n+            if(n > static_cast<int64_t>(0xffffffff) || n < -1*static_cast<int64_t>(0xffffffff)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398094977",
      "id" : 398094977,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODA5NDk3Nw==",
      "original_commit_id" : "f3fb51d09b2b4df0ed2183f4d387ad4a9deda813",
      "original_position" : 15,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 381445288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398094977",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "OK, I think I updated the branch as we discussed above ? \r\n\r\nIf this PR is OK, I'll add a test case in `bitcoin-util-test.json` for the second exception in `ParseScript` in another PR.",
      "created_at" : "2020-03-25T18:55:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604023671",
      "id" : 604023671,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDAyMzY3MQ==",
      "updated_at" : "2020-03-25T18:55:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604023671",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398095360"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398095360"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could also check that `+-0xffffffff` is accepted and `+-(0xffffffff+1)` is not?",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T18:55:20Z",
      "diff_hunk" : "@@ -258,6 +258,18 @@\n     \"output_cmp\": \"txcreatescript4.json\",\n     \"description\": \"Create a new transaction with a single output script (OP_DROP) in a P2SH, wrapped in a P2SH (output as json)\"\n   },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\": [\"-create\", \"outscript=0:9999999999\"],\n+    \"return_code\": 1,\n+    \"error_txt\": \"error: script parse error: decimal numeric value only allowed in the range -0xFFFFFFFF...0xFFFFFFFF\",\n+    \"description\": \"Try to parse an output script with a decimal number above the allowed range\"\n+  },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\": [\"-create\", \"outscript=0:-9999999999\"],\n+    \"return_code\": 1,\n+    \"error_txt\": \"error: script parse error: decimal numeric value only allowed in the range -0xFFFFFFFF...0xFFFFFFFF\",\n+    \"description\": \"Try to parse an output script with a decimal number below the allowed range\"\n+  },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398095360",
      "id" : 398095360,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODA5NTM2MA==",
      "original_commit_id" : "f3fb51d09b2b4df0ed2183f4d387ad4a9deda813",
      "original_position" : 15,
      "path" : "test/util/data/bitcoin-util-test.json",
      "position" : 26,
      "pull_request_review_id" : 381445288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398095360",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398103802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398103802"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The second static_cast seems strictly necessary, see this example : https://godbolt.org/z/Ko33NG\r\n\r\nThe first one is superficial (implicit), I just thought that the symetry looked better. I can remove the first one if you prefer ?\r\n\r\nedit : at least fixed whitespace style\r\n\r\nedit 2 : also note that the `LL` suffix could be used but this would assume that `long long = 64bits` ",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T19:09:37Z",
      "diff_hunk" : "@@ -59,6 +60,14 @@ CScript ParseScript(const std::string& s)\n         {\n             // Number\n             int64_t n = atoi64(*w);\n+\n+            //limit the range of numbers ParseScript accepts in decimal\n+            //since numbers outside -0xFFFFFFFF...0xFFFFFFFF are illegal in scripts\n+            if(n > static_cast<int64_t>(0xffffffff) || n < -1*static_cast<int64_t>(0xffffffff)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398103802",
      "id" : 398103802,
      "in_reply_to_id" : 398094977,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODEwMzgwMg==",
      "original_commit_id" : "f3fb51d09b2b4df0ed2183f4d387ad4a9deda813",
      "original_position" : 15,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 381456223,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398103802",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398104310"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398104310"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, thanks, great idea.",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T19:10:31Z",
      "diff_hunk" : "@@ -258,6 +258,18 @@\n     \"output_cmp\": \"txcreatescript4.json\",\n     \"description\": \"Create a new transaction with a single output script (OP_DROP) in a P2SH, wrapped in a P2SH (output as json)\"\n   },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\": [\"-create\", \"outscript=0:9999999999\"],\n+    \"return_code\": 1,\n+    \"error_txt\": \"error: script parse error: decimal numeric value only allowed in the range -0xFFFFFFFF...0xFFFFFFFF\",\n+    \"description\": \"Try to parse an output script with a decimal number above the allowed range\"\n+  },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\": [\"-create\", \"outscript=0:-9999999999\"],\n+    \"return_code\": 1,\n+    \"error_txt\": \"error: script parse error: decimal numeric value only allowed in the range -0xFFFFFFFF...0xFFFFFFFF\",\n+    \"description\": \"Try to parse an output script with a decimal number below the allowed range\"\n+  },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398104310",
      "id" : 398104310,
      "in_reply_to_id" : 398095360,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODEwNDMxMA==",
      "original_commit_id" : "f3fb51d09b2b4df0ed2183f4d387ad4a9deda813",
      "original_position" : 15,
      "path" : "test/util/data/bitcoin-util-test.json",
      "position" : 26,
      "pull_request_review_id" : 381456897,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398104310",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 4cefaace020f406d1143cf1351988958ef360861",
      "created_at" : "2020-03-25T20:30:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604070780",
      "id" : 604070780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDA3MDc4MA==",
      "updated_at" : "2020-03-25T20:30:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604070780",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398181470"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398181470"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Explicit is better than implicit :)",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-25T21:29:03Z",
      "diff_hunk" : "@@ -59,6 +60,14 @@ CScript ParseScript(const std::string& s)\n         {\n             // Number\n             int64_t n = atoi64(*w);\n+\n+            //limit the range of numbers ParseScript accepts in decimal\n+            //since numbers outside -0xFFFFFFFF...0xFFFFFFFF are illegal in scripts\n+            if(n > static_cast<int64_t>(0xffffffff) || n < -1*static_cast<int64_t>(0xffffffff)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398181470",
      "id" : 398181470,
      "in_reply_to_id" : 398094977,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE4MTQ3MA==",
      "original_commit_id" : "f3fb51d09b2b4df0ed2183f4d387ad4a9deda813",
      "original_position" : 15,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 381550544,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398181470",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "(absorbing an empty commit to re-launch failed CI) ",
      "created_at" : "2020-03-26T01:45:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604180034",
      "id" : 604180034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDE4MDAzNA==",
      "updated_at" : "2020-03-26T01:45:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604180034",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398580174"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398580174"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think with C++11 you can also get a safer way to achieve the same: `int64_t{bla}`. If the value doesn't fit in the integer type, it won't compile. Whereas with static_cast it would compile and give the wrong result.",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-26T13:41:42Z",
      "diff_hunk" : "@@ -59,6 +60,14 @@ CScript ParseScript(const std::string& s)\n         {\n             // Number\n             int64_t n = atoi64(*w);\n+\n+            //limit the range of numbers ParseScript accepts in decimal\n+            //since numbers outside -0xFFFFFFFF...0xFFFFFFFF are illegal in scripts\n+            if(n > static_cast<int64_t>(0xffffffff) || n < -1*static_cast<int64_t>(0xffffffff)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398580174",
      "id" : 398580174,
      "in_reply_to_id" : 398094977,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4MDE3NA==",
      "original_commit_id" : "f3fb51d09b2b4df0ed2183f4d387ad4a9deda813",
      "original_position" : 15,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 382018365,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398580174",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398886528"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398886528"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, updated the branch accordingly,",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-26T20:56:54Z",
      "diff_hunk" : "@@ -59,6 +60,14 @@ CScript ParseScript(const std::string& s)\n         {\n             // Number\n             int64_t n = atoi64(*w);\n+\n+            //limit the range of numbers ParseScript accepts in decimal\n+            //since numbers outside -0xFFFFFFFF...0xFFFFFFFF are illegal in scripts\n+            if(n > static_cast<int64_t>(0xffffffff) || n < -1*static_cast<int64_t>(0xffffffff)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r398886528",
      "id" : 398886528,
      "in_reply_to_id" : 398094977,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NjUyOA==",
      "original_commit_id" : "f3fb51d09b2b4df0ed2183f4d387ad4a9deda813",
      "original_position" : 15,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 382411175,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398886528",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK 2ee8cc07292e62a1be47d09421f93d25ad24fbd4",
      "created_at" : "2020-03-26T22:47:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604726395",
      "id" : 604726395,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDcyNjM5NQ==",
      "updated_at" : "2020-03-26T22:47:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604726395",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r399064471"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399064471"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is `<limits>` still necessary?",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-27T06:48:48Z",
      "diff_hunk" : "@@ -19,6 +19,7 @@\n #include <boost/algorithm/string/split.hpp>\n \n #include <algorithm>\n+#include <limits>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r399064471",
      "id" : 399064471,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA2NDQ3MQ==",
      "original_commit_id" : "2ee8cc07292e62a1be47d09421f93d25ad24fbd4",
      "original_position" : 4,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 382612683,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399064471",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r399065473"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399065473"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ow, thank you. No it isn't, just removed it.",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-27T06:51:57Z",
      "diff_hunk" : "@@ -19,6 +19,7 @@\n #include <boost/algorithm/string/split.hpp>\n \n #include <algorithm>\n+#include <limits>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r399065473",
      "id" : 399065473,
      "in_reply_to_id" : 399064471,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA2NTQ3Mw==",
      "original_commit_id" : "2ee8cc07292e62a1be47d09421f93d25ad24fbd4",
      "original_position" : 4,
      "path" : "src/core_read.cpp",
      "position" : null,
      "pull_request_review_id" : 382613791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T06:51:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399065473",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 9ab14e4d21c73d16d8d782f1576fe29e659e2a70\r\n(only difference is removing the limits include as suggested: https://github.com/bitcoin/bitcoin/compare/2ee8cc07292e62a1be47d09421f93d25ad24fbd4..9ab14e4d21c73d16d8d782f1576fe29e659e2a70)",
      "created_at" : "2020-03-27T06:59:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604846100",
      "id" : 604846100,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDg0NjEwMA==",
      "updated_at" : "2020-03-27T07:01:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604846100",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks !",
      "created_at" : "2020-03-27T07:27:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604854726",
      "id" : 604854726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDg1NDcyNg==",
      "updated_at" : "2020-03-27T07:27:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604854726",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm very sorry to only realize this now but `atoi64` itself doesn't do bounds checking. So *very* large or small values outside the 64 bit range will still overflow the 64 bit or at least not raise an error conditions.\r\nI think the appropriate function to use here is our own `ParseUInt32`.\r\n\r\n",
      "created_at" : "2020-03-27T08:19:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604874373",
      "id" : 604874373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDg3NDM3Mw==",
      "updated_at" : "2020-03-27T08:19:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604874373",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry, I don't follow, `atoi64` is:\r\n\r\n```\r\nint64_t atoi64(const std::string& str)\r\n{\r\n#ifdef _MSC_VER\r\n    return _atoi64(str.c_str());\r\n#else\r\n    return strtoll(str.c_str(), nullptr, 10);\r\n#endif\r\n}\r\n```\r\n\r\nAnd both [_atoi64](https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/atoi64-atoi64-l-wtoi64-wtoi64-l?view=vs-2019) and [strtoll](https://en.cppreference.com/w/cpp/string/byte/strtol) both return `LLONG_MAX` or `LLONG_MIN`  when receiving too big positive/negative values ?\r\n\r\nIt will additionally set an `errno` but since we check [beforehand](https://github.com/bitcoin/bitcoin/blob/7eed413e72a236b6f1475a198f7063fd24929e23/src/core_read.cpp#L57) that we are parsing a number, there should not be any issue ?\r\n\r\nIn anycase it's true that `ParseInt32` (since the value can be signed) could be more adapted since it checks for `errno` anyway. I could open a new PR for that if people prefer ?\r\n",
      "created_at" : "2020-03-27T08:31:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604878738",
      "id" : 604878738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDg3ODczOA==",
      "updated_at" : "2020-03-27T09:08:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604878738",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> And both _atoi64 and strtoll both return LLONG_MAX or LLONG_MIN when receiving too big positive/negative values ?\r\n\r\nIf that's the case this is actually OK. I thought they didn't have any guaranteed return value in that case.\r\n\r\n```\r\n       The strtol() function returns the result of the conversion, unless the value would underflow or overflow.  If an underflow occurs, strtol() returns LONG_MIN.  If an overflow occurs,  strâ\r\n       tol() returns LONG_MAX. \r\n```\r\nboth LONG_MIN and LONG_MAX are out of the range so it will do so correctlyâ¦\r\n\r\n>In anycase it's true that ParseInt32 (since the value can be signed) could be more adapted since it checks for errno anyway. I could open a new PR for that if people prefer ?\r\n\r\nOh right! then you'd actually need `ParseInt64`: the value can be signed, *and* it's not in the range of a 32 bit signed integer (`-0x80000000`â¦`0x7fffffff`). But I think it's fine to keep it as-is then, phew.\r\n",
      "created_at" : "2020-03-27T10:22:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604923651",
      "id" : 604923651,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDkyMzY1MQ==",
      "updated_at" : "2020-03-27T10:23:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604923651",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "OK, great, thanks for the code review !",
      "created_at" : "2020-03-27T10:25:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#issuecomment-604924913",
      "id" : 604924913,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18416",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDkyNDkxMw==",
      "updated_at" : "2020-03-27T10:25:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604924913",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r399288547"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399288547"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why are you changing all the values when translating from dec to hex? It might be fine, but at least for locktime values there are different code paths depending on the value.",
      "commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "created_at" : "2020-03-27T14:06:02Z",
      "diff_hunk" : "@@ -2521,7 +2521,7 @@\n [\"-1\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY\", \"NEGATIVE_LOCKTIME\", \"CSV automatically fails if stack top is negative\"],\n [\"0x0100\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY,MINIMALDATA\", \"UNKNOWN_ERROR\", \"CSV fails if stack top is not minimally encoded\"],\n [\"0\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY\", \"UNSATISFIED_LOCKTIME\", \"CSV fails if stack top bit 1 << 31 is set and the tx version < 2\"],\n-[\"4294967296\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY\", \"UNSATISFIED_LOCKTIME\",\n+[\"0x050000000001\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY\", \"UNSATISFIED_LOCKTIME\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18416#discussion_r399288547",
      "id" : 399288547,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTI4ODU0Nw==",
      "original_commit_id" : "9ab14e4d21c73d16d8d782f1576fe29e659e2a70",
      "original_position" : 57,
      "path" : "src/test/data/script_tests.json",
      "position" : 57,
      "pull_request_review_id" : 382887878,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18416",
      "updated_at" : "2020-03-27T14:06:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399288547",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
