[
   {
      "author_association" : "MEMBER",
      "body" : "Another issue on libc++-12:\r\n\r\n```\r\n# make V=1\r\nMaking all in src\r\nmake[1]: Entering directory '/bitcoin/src'\r\nmake[2]: Entering directory '/bitcoin/src'\r\nmake[3]: Entering directory '/bitcoin'\r\nmake[3]: Leaving directory '/bitcoin'\r\n/bin/bash ../libtool  --tag=CXX --preserve-dup-deps  --mode=link /usr/bin/ccache clang++ -stdlib=libc++ -std=c++17 -fdebug-prefix-map=/bitcoin/src=. -Wstack-protector -fstack-protector-all -fcf-protection=full -fstack-clash-protection -Wall -Wextra -Wgnu -Wformat -Wformat-security -Wvla -Wshadow-field -Wswitch -Wthread-safety -Wrange-loop-analysis -Wredundant-decls -Wunused-variable -Wunused-member-function -Wdate-time -Wconditional-uninitialized -Wsign-compare -Woverloaded-virtual -Wsuggest-override -Wunreachable-code-loop-increment -Wno-unused-parameter -Wno-self-assign -Wno-unused-local-typedef -Wno-implicit-fallthrough -Wno-deprecated-copy    -fPIE -g -O2   -Wl,-z,relro -Wl,-z,now -Wl,-z,separate-code -pie     -pthread -lpthread  -o bitcoind bitcoind-bitcoind.o  init/bitcoind-bitcoind.o libbitcoin_server.a libbitcoin_wallet.a libbitcoin_common.a libbitcoin_util.a univalue/libunivalue.la  libbitcoin_consensus.a crypto/libbitcoin_crypto_base.a crypto/libbitcoin_crypto_sse41.a crypto/libbitcoin_crypto_avx2.a crypto/libbitcoin_crypto_shani.a leveldb/libleveldb.a crc32c/libcrc32c.a crc32c/libcrc32c_sse42.a   leveldb/libmemenv.a secp256k1/libsecp256k1.la -L/usr/lib/x86_64-linux-gnu -lboost_system -lboost_filesystem -ldb_cxx   -levent_pthreads -levent -levent  -lsqlite3 \r\nlibtool: link: /usr/bin/ccache clang++ -stdlib=libc++ -std=c++17 -fdebug-prefix-map=/bitcoin/src=. -Wstack-protector -fstack-protector-all -fcf-protection=full -fstack-clash-protection -Wall -Wextra -Wgnu -Wformat -Wformat-security -Wvla -Wshadow-field -Wswitch -Wthread-safety -Wrange-loop-analysis -Wredundant-decls -Wunused-variable -Wunused-member-function -Wdate-time -Wconditional-uninitialized -Wsign-compare -Woverloaded-virtual -Wsuggest-override -Wunreachable-code-loop-increment -Wno-unused-parameter -Wno-self-assign -Wno-unused-local-typedef -Wno-implicit-fallthrough -Wno-deprecated-copy -fPIE -g -O2 -Wl,-z -Wl,relro -Wl,-z -Wl,now -Wl,-z -Wl,separate-code -pie -pthread -o bitcoind bitcoind-bitcoind.o init/bitcoind-bitcoind.o  -lpthread libbitcoin_server.a libbitcoin_wallet.a libbitcoin_common.a libbitcoin_util.a univalue/.libs/libunivalue.a libbitcoin_consensus.a crypto/libbitcoin_crypto_base.a crypto/libbitcoin_crypto_sse41.a crypto/libbitcoin_crypto_avx2.a crypto/libbitcoin_crypto_shani.a leveldb/libleveldb.a crc32c/libcrc32c.a crc32c/libcrc32c_sse42.a leveldb/libmemenv.a secp256k1/.libs/libsecp256k1.a -L/usr/lib/x86_64-linux-gnu -lboost_system -lboost_filesystem -ldb_cxx -levent_pthreads -levent -levent -lsqlite3 -pthread\r\n/usr/bin/ld: libbitcoin_wallet.a(libbitcoin_wallet_a-bdb.o): in function `BerkeleyDatabase::Verify(bilingual_str&)':\r\n./wallet/bdb.cpp:275: undefined reference to `Db::verify(char const*, char const*, std::__1::basic_ostream<char, std::__1::char_traits<char> >*, unsigned int)'\r\n/usr/bin/ld: libbitcoin_util.a(libbitcoin_util_a-system.o): in function `SetupEnvironment()':\r\n./util/system.cpp:1314: undefined reference to `boost::filesystem::path::imbue(std::__1::locale const&)'\r\n/usr/bin/ld: ./util/system.cpp:1316: undefined reference to `boost::filesystem::path::imbue(std::__1::locale const&)'\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [Makefile:5919: bitcoind] Error 1\r\nmake[2]: Leaving directory '/bitcoin/src'\r\nmake[1]: *** [Makefile:16142: all-recursive] Error 1\r\nmake[1]: Leaving directory '/bitcoin/src'\r\nmake: *** [Makefile:822: all-recursive] Error 1\r\n\r\n\r\n\r\n# clang --version \r\nUbuntu clang version 12.0.1-+rc1-1ubuntu1\r\nTarget: x86_64-pc-linux-gnu\r\nThread model: posix\r\nInstalledDir: /usr/bin\r\n",
      "created_at" : "2021-06-23T12:45:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22326#issuecomment-866804051",
      "id" : 866804051,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22326",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NjgwNDA1MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-23T12:45:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866804051",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure if this ever worked?",
      "created_at" : "2021-06-23T14:53:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22326#issuecomment-866907928",
      "id" : 866907928,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22326",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NjkwNzkyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-23T14:53:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866907928",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think issues with glibc symbols are expected when building with `-stdlib=libc++`.\r\n\r\nBuilding with depends that were built with `CC=clang CXX='clang++ -stdlib=libc++'` should fix them, no?",
      "created_at" : "2021-06-24T06:20:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22326#issuecomment-867369038",
      "id" : 867369038,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22326",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NzM2OTAzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-24T06:20:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867369038",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "So it is only possible to use libc++ with depends?",
      "created_at" : "2021-06-24T06:38:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22326#issuecomment-867381383",
      "id" : 867381383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22326",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NzM4MTM4Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-24T06:38:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867381383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks like that.\n\nOn Thu, 24 Jun 2021 at 09:38 MarcoFalke ***@***.***> wrote:\n\n> So it is only possible to use libc++ with depends?\n>\n> â\n> You are receiving this because you commented.\n>\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/22326#issuecomment-867381383>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AH3PXPWROHJCHJ5VNADJR6TTULHG7ANCNFSM47FV3QVQ>\n> .\n>\n-- \n\n--\nHennadii Stepanov\n",
      "created_at" : "2021-06-24T06:50:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22326#issuecomment-867386912",
      "id" : 867386912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22326",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NzM4NjkxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-24T06:50:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867386912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
