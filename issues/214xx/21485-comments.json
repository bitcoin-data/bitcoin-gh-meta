[
   {
      "author_association" : "MEMBER",
      "body" : "@kayront did you want to try #21486?",
      "created_at" : "2021-03-20T10:15:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-803285171",
      "id" : 803285171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzI4NTE3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T10:15:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803285171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@fanquake it goes a little bit further with your changes, but still no dice.\r\n\r\n```\r\ngmake[3]: Leaving directory '/home/pbulk/build/finance/bitcoin/work/bitcoin-0.20.1'\r\n  CXX      libbitcoin_util_a-randomenv.o\r\n  AR       libbitcoin_util.a\r\n  CXXLD    bitcoind\r\n  CXXLD    bitcoin-cli\r\n  CXXLD    bench/bench_bitcoin\r\n  CXXLD    bitcoin-tx\r\n  CXXLD    bitcoin-wallet\r\nUndefined                       first referenced\r\n symbol                             in file\r\nfreeifaddrs                         libbitcoin_util.a(libbitcoin_util_a-randomenv.o)\r\ngetifaddrs                          libbitcoin_util.a(libbitcoin_util_a-randomenv.o)\r\nld: fatal: symbol referencing errors. No output written to .libs/bitcoin-tx\r\ncollect2: error: ld returned 1 exit status\r\ngmake[2]: *** [Makefile:7355: bitcoin-tx] Error 1\r\ngmake[2]: *** Waiting for unfinished jobs....\r\ngmake[2]: Leaving directory '/home/pbulk/build/finance/bitcoin/work/bitcoin-0.20.1/src'\r\ngmake[1]: *** [Makefile:17263: all-recursive] Error 1\r\ngmake[1]: Leaving directory '/home/pbulk/build/finance/bitcoin/work/bitcoin-0.20.1/src'\r\ngmake: *** [Makefile:782: all-recursive] Error 1\r\n*** Error code 2\r\n```",
      "created_at" : "2021-03-20T12:36:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-803311825",
      "id" : 803311825,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzMxMTgyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T12:36:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803311825",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/46160648?v=4",
         "events_url" : "https://api.github.com/users/kayront/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kayront/followers",
         "following_url" : "https://api.github.com/users/kayront/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kayront/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kayront",
         "id" : 46160648,
         "login" : "kayront",
         "node_id" : "MDQ6VXNlcjQ2MTYwNjQ4",
         "organizations_url" : "https://api.github.com/users/kayront/orgs",
         "received_events_url" : "https://api.github.com/users/kayront/received_events",
         "repos_url" : "https://api.github.com/users/kayront/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kayront/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kayront/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kayront"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> it goes a little bit further with your changes, but still no dice.\r\n\r\nHmm ok. Did you `make clean` between the builds?",
      "created_at" : "2021-03-20T13:12:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-803316494",
      "id" : 803316494,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzMxNjQ5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T13:12:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803316494",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Indeed I had not.\r\n\r\nBut after trying again, this time after a clean:\r\n\r\n```\r\n  AR       crypto/libbitcoin_crypto_shani.a\r\n  AR       crc32c/libcrc32c.a\r\n  AR       leveldb/libleveldb.a\r\n  AR       crc32c/libcrc32c_sse42.a\r\n  AR       leveldb/libmemenv.a\r\n  CXXLD    bitcoin-cli\r\n  CXXLD    bitcoin-tx\r\n  CXXLD    bitcoin-wallet\r\n  CXXLD    bitcoind\r\nUndefined                       first referenced\r\n symbol                             in file\r\nfreeifaddrs                         libbitcoin_util.a(libbitcoin_util_a-randomenv.o)\r\ngetifaddrs                          libbitcoin_util.a(libbitcoin_util_a-randomenv.o)\r\nld: fatal: symbol referencing errors. No output written to .libs/bitcoin-tx\r\ncollect2: error: ld returned 1 exit status\r\ngmake[2]: *** [Makefile:7355: bitcoin-tx] Error 1\r\n```",
      "created_at" : "2021-03-20T13:37:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-803323522",
      "id" : 803323522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzMyMzUyMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T13:37:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803323522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/46160648?v=4",
         "events_url" : "https://api.github.com/users/kayront/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kayront/followers",
         "following_url" : "https://api.github.com/users/kayront/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kayront/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kayront",
         "id" : 46160648,
         "login" : "kayront",
         "node_id" : "MDQ6VXNlcjQ2MTYwNjQ4",
         "organizations_url" : "https://api.github.com/users/kayront/orgs",
         "received_events_url" : "https://api.github.com/users/kayront/received_events",
         "repos_url" : "https://api.github.com/users/kayront/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kayront/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kayront/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kayront"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Some googling tells me that on some systems these functions are in libsocket rather than libc. Maybe we need -lsocket ?",
      "created_at" : "2021-03-20T16:50:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-803406237",
      "id" : 803406237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzQwNjIzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T16:50:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803406237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa that's exactly what [I linked before](https://github.com/pydron/ifaddr/issues/23) suggests.\r\n\r\nAny idea what/where to change to test the hypothesis?",
      "created_at" : "2021-03-20T18:35:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-803440977",
      "id" : 803440977,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzQ0MDk3Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T18:35:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803440977",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/46160648?v=4",
         "events_url" : "https://api.github.com/users/kayront/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kayront/followers",
         "following_url" : "https://api.github.com/users/kayront/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kayront/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kayront",
         "id" : 46160648,
         "login" : "kayront",
         "node_id" : "MDQ6VXNlcjQ2MTYwNjQ4",
         "organizations_url" : "https://api.github.com/users/kayront/orgs",
         "received_events_url" : "https://api.github.com/users/kayront/received_events",
         "repos_url" : "https://api.github.com/users/kayront/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kayront/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kayront/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kayront"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Any idea what/where to change to test the hypothesis?\r\n\r\n@kayront I've added an `-lsocket` link check to #21486 if you'd like to try that again.",
      "created_at" : "2021-03-21T00:42:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-803491912",
      "id" : 803491912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzQ5MTkxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-21T00:42:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803491912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "`Bitcoin Core version v0.20.1.0-g7ff64311bee570874c4f0dfa18f518552188df08 (release build)`\r\n\r\nBut without prefixing the command with `LC_ALL=C` (#17379), it segfaults instead, with:\r\n\r\n```\r\nterminate called after throwing an instance of 'std::runtime_error'\r\n  what():  locale::facet::_S_create_c_locale name not valid\r\nAbort (core dumped)\r\n```\r\n\r\nSeems that we can close this issue here though. Again, thank you for helping out :)",
      "created_at" : "2021-03-21T13:29:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-803580156",
      "id" : 803580156,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzU4MDE1Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-21T13:29:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803580156",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/46160648?v=4",
         "events_url" : "https://api.github.com/users/kayront/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kayront/followers",
         "following_url" : "https://api.github.com/users/kayront/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kayront/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kayront",
         "id" : 46160648,
         "login" : "kayront",
         "node_id" : "MDQ6VXNlcjQ2MTYwNjQ4",
         "organizations_url" : "https://api.github.com/users/kayront/orgs",
         "received_events_url" : "https://api.github.com/users/kayront/received_events",
         "repos_url" : "https://api.github.com/users/kayront/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kayront/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kayront/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kayront"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Just to make sure, will these changes be on v0.22 ?",
      "created_at" : "2021-03-21T13:29:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-803580274",
      "id" : 803580274,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzU4MDI3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-21T13:29:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803580274",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/46160648?v=4",
         "events_url" : "https://api.github.com/users/kayront/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kayront/followers",
         "following_url" : "https://api.github.com/users/kayront/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kayront/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kayront",
         "id" : 46160648,
         "login" : "kayront",
         "node_id" : "MDQ6VXNlcjQ2MTYwNjQ4",
         "organizations_url" : "https://api.github.com/users/kayront/orgs",
         "received_events_url" : "https://api.github.com/users/kayront/received_events",
         "repos_url" : "https://api.github.com/users/kayront/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kayront/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kayront/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kayront"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kayront these changes should make it into v22.0 yes (likely also be backported). I've had to push a small fix to #21486. Could you retest, and comment on that PR when you have?",
      "created_at" : "2021-03-26T05:21:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-807944276",
      "id" : 807944276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwNzk0NDI3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-26T05:21:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/807944276",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kayront the fix has been merged into master (which will become 22.0), and is being backported into the 0.21 branch in #21616. So should also be part of the 0.21.1 release.",
      "created_at" : "2021-04-06T09:52:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21485#issuecomment-813989750",
      "id" : 813989750,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21485",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzk4OTc1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-06T09:52:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813989750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
