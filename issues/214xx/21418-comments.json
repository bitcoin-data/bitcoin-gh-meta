[
   {
      "author_association" : "MEMBER",
      "body" : "> This may need some tuning of timeouts.\r\n\r\nJust to be sure I checked this. However we don't have a timeout configured for startup phase at all; this is\r\n\r\n> `TimeoutStartSec=`\r\n> Configures the time to wait for start-up. If a daemon service does not signal start-up completion within the configured time, the service will be considered failed and will be shut down again. Takes a unit-less\r\n> value in seconds, or a time span value such as \"5min 20s\". Pass \"infinity\" to disable the timeout logic. Defaults to DefaultTimeoutStartSec= from the manager configuration file, except when Type=oneshot is used,\r\n> in which case the timeout is disabled by default (see systemd-system.conf(5)).\r\n\r\nWe might want to set this to `infinity`âthe startup phase (including the 6-deep block database integrity check) can take a lot of time it is hard to put an upper bound on it. In any case I expect the service default to be too low.",
      "created_at" : "2021-03-16T07:22:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21418#issuecomment-800020384",
      "id" : 800020384,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21418",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMDAyMDM4NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-16T07:24:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/800020384",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Agree\r\n\r\n> In any case I expect the service default to be too low.\r\n\r\n`man systemd-system.conf` says that `DefaultTimeoutStartSec` defaults to `90s`",
      "created_at" : "2021-03-20T10:36:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21418#issuecomment-803287894",
      "id" : 803287894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21418",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzI4Nzg5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T10:36:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803287894",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> man systemd-system.conf says that DefaultTimeoutStartSec defaults to 90s\r\n\r\nThank you for checking. I have set `TimeoutStartSec=infinity` for now. I don't think there is a need for a timeout here. Startup timeout is meant for things like network and remote filesystem bringup which hold up the entire boot, eventually one would want to continue and be able to fix whatever the issue is. I would hope no one configures `bitcoind` as part of that chain, so it can always be manually shut down when necessary.",
      "created_at" : "2021-03-22T12:42:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21418#issuecomment-804031733",
      "id" : 804031733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21418",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwNDAzMTczMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-22T12:42:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/804031733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
