{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "Fixes #27555\r\n\r\nThe issue arises during initialization where an old `fee_estimates.dat` file is sometimes read during initialization.\r\nOr after an unclean shutdown, the latest fee estimates are not flushed to `fee_estimates.dat`.\r\nIf the fee estimates in the old file are old, they can cause transactions to become stuck in the mempool. \r\nThis  PR ensures that nodes do not use stale estimates from the old file during initialization. If  `fee_estimates.dat` \r\nhas not been updated for 12 hours or more, it is considered stale and will not be read during initialization. To avoid \r\nhaving old estimates, the `fee_estimates.dat` file will be flushed periodically every hour. As mentioned #27555\r\n\r\n> \"The immediate improvement would be to store fee estimates to disk once an hour or so to reduce the chance of having an old file. From there, this case could probably be detected, and refuse to serve estimates until we sync.\"\r\n\r\nIn addition, I will follow-up PR will be made to persist the `mempoolminfee` across restarts.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27622/comments",
   "created_at" : "2023-05-10T22:16:59Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27622/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/27622",
   "id" : 1704698767,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27622/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585QO9xP",
   "number" : 27622,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/27622.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27622",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/27622.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27622"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27622/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27622/timeline",
   "title" : "Fee estimation: avoid serving stale fee estimate",
   "updated_at" : "2023-05-10T22:43:10Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27622",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
      "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
      "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ismaelsadeeq",
      "id" : 48946461,
      "login" : "ismaelsadeeq",
      "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
      "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
      "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
      "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ismaelsadeeq"
   }
}
