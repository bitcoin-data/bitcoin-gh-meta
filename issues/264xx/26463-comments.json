[
   {
      "author_association" : "NONE",
      "body" : "@achow101 maybe it works as expected, but according to my feeling `unloadwallet` should not do anything before the user did not abort the rescan",
      "created_at" : "2022-11-06T15:40:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26463#issuecomment-1304828848",
      "id" : 1304828848,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26463",
      "node_id" : "IC_kwDOABII585Nxhuw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1304828848/reactions"
      },
      "updated_at" : "2022-11-06T15:40:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1304828848",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/90319354?v=4",
         "events_url" : "https://api.github.com/users/ziggie1984/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ziggie1984/followers",
         "following_url" : "https://api.github.com/users/ziggie1984/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ziggie1984/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ziggie1984",
         "id" : 90319354,
         "login" : "ziggie1984",
         "node_id" : "MDQ6VXNlcjkwMzE5MzU0",
         "organizations_url" : "https://api.github.com/users/ziggie1984/orgs",
         "received_events_url" : "https://api.github.com/users/ziggie1984/received_events",
         "repos_url" : "https://api.github.com/users/ziggie1984/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ziggie1984/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ziggie1984/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ziggie1984"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I am loading descriptors into bitcoind using the rpcclient with the function: importdescriptors, it automatically starts rescanning the blockchain. Now when I try to unload the wallet,\r\n\r\nyou interrupted `bitcoin-cli importdescriptors` right?\r\n\r\n> bitcoin-cli will allow me to do it (wallet disappears from the listwallet section, but it will not abort the rescan\r\n\r\nand you also interrupted `bitcoin-cli unloadwallet` right?\r\n\r\nThese calls are blocking, interrupting on the command line doesn't interrupt on server side. Internally there is a thread scanning the chain and there is a thread waiting for unload release.\r\n\r\n> The unloadwallet function should internally abort the rescan and unload the wallet, so that it can be reloaded afterwards without waiting for the rescan. Or it should fail and leading the user to abort the rescan with abortrescan\r\n\r\nIMO it should just fail.",
      "created_at" : "2022-12-07T20:10:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26463#issuecomment-1341530897",
      "id" : 1341530897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26463",
      "node_id" : "IC_kwDOABII585P9iMR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341530897/reactions"
      },
      "updated_at" : "2022-12-07T20:17:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341530897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Yes and Yes.\r\n\r\nYes I think we maybe should just fail as long as the wallet in rescanning. Otherwise the is no option to escape and the `unloadwallet` command is not recoverable. So definitely on your side.",
      "created_at" : "2022-12-07T23:39:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26463#issuecomment-1341752808",
      "id" : 1341752808,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26463",
      "node_id" : "IC_kwDOABII585P-YXo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341752808/reactions"
      },
      "updated_at" : "2022-12-07T23:39:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341752808",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/90319354?v=4",
         "events_url" : "https://api.github.com/users/ziggie1984/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ziggie1984/followers",
         "following_url" : "https://api.github.com/users/ziggie1984/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ziggie1984/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ziggie1984",
         "id" : 90319354,
         "login" : "ziggie1984",
         "node_id" : "MDQ6VXNlcjkwMzE5MzU0",
         "organizations_url" : "https://api.github.com/users/ziggie1984/orgs",
         "received_events_url" : "https://api.github.com/users/ziggie1984/received_events",
         "repos_url" : "https://api.github.com/users/ziggie1984/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ziggie1984/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ziggie1984/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ziggie1984"
      }
   }
]
