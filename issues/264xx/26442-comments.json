[
   {
      "author_association" : "MEMBER",
      "body" : "`CWallet` itself does not actually need to have these signals itself, they really are just passthrough from the SPKMs. The exception is a few places where `CWallet` is doing something with a SPKM and needs to emit `NotifyCanGetAddressesChanged`, but it could just call the signal in the SPKM it's working on in order to do that instead of having it's own signal. So the obvious solution here would be to connect to the SPKM signals directly instead of `CWallet`'s, and remove the signals from `CWallet` entirely. This could be done with a helper (perhaps modifying `ConnectScriptPubKeyManNotifiers`?), although perhaps there might be issues with connecting the signal for SPKMs that are created afterwards.",
      "created_at" : "2022-11-01T21:18:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26442#issuecomment-1299191400",
      "id" : 1299191400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26442",
      "node_id" : "IC_kwDOABII585NcBZo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1299191400/reactions"
      },
      "updated_at" : "2022-11-01T21:18:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1299191400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> although perhaps there might be issues with connecting the signal for SPKMs that are created afterwards.\r\n\r\nThe wallet could trigger a signal on every added SPKM. e.g. trigger `NewScriptPubKeyMan(const uint256& id)` so the GUI subscribes to it calling `ConnectScriptPubKeyMan(const uint256& id, callback)`.\r\n\r\nStill, have to say that I'm not so convinced about it. Independently from boost's problem, I think that, layers division wise, the spkm signal should first pass through the wallet, which could perform some operations with it (update/refresh some state/cache), and then the wallet trigger the upper layers signal (or call a function in a signals dispatcher object like we do in the validation area).",
      "created_at" : "2022-11-01T22:23:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26442#issuecomment-1299304707",
      "id" : 1299304707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26442",
      "node_id" : "IC_kwDOABII585NcdED",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1299304707/reactions"
      },
      "updated_at" : "2022-11-01T22:23:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1299304707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   }
]
