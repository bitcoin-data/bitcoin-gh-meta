[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-08-20T20:26:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-677885649",
      "id" : 677885649,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3Nzg4NTY0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-29T08:26:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/677885649",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've withdrawn my BIP proposal relating to this change, but I think it's worth considering making this change anyway.\r\n\r\nMy thought is that if other software on the network deploys changes similar to BIP 339 in the future (where a new message is included between version and verack) that we don't want to support in our project, then it's easier to ignore all such messages than it is to add support for specifically ignoring each such message as it is proposed.\r\n\r\nIf we were to overlook someone's optional p2p protocol change and then bumped our protocol version at a later date in support of some other change, we would risk needlessly disconnecting other peers.\r\n\r\nNote that if a peer never sends a verack, we still disconnect them after 60 seconds, so I think the only downside from this change is that we'd tolerate 60 seconds worth of garbage from a peer before they disconnect.  Given that a peer can waste our bandwidth anyway by sending the verack and spamming us with (eg) bogus transactions, this bandwidth issue seems like an orthogonal concern.  If we want to address the bandwidth issue somehow, I think we could do so for both pre-verack and post-verack messages at a later time.",
      "created_at" : "2020-08-24T13:49:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-679137633",
      "id" : 679137633,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTEzNzYzMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T13:49:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679137633",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK - I am almost up to date with the mailing list discussion.",
      "created_at" : "2020-08-25T07:46:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-679863013",
      "id" : 679863013,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTg2MzAxMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T07:46:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679863013",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think there's a kind of elegance in doing the negotiation at that stage. It allows the peers to commit to certain features before the P2P connection goes into normal use. Current signaling messages can be sent at any point which can causes unnessecary complication because the switch can happen later, at any time.\r\n(and this without extending the `VERSION` message, which is already a mess of legacy concerns and whose changing requires centralized coordination)",
      "created_at" : "2020-08-27T07:10:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-681660830",
      "id" : 681660830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MTY2MDgzMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-27T07:11:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/681660830",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19723#discussion_r479190282"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19723"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/479190282"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Couple of suggestions:\r\n\r\n- we generally refer to \"message types\" rather than \"commands\" these days.\r\n- the message type may be known, just not supported prior to a verack (eg an \"addr\" message)\r\n\r\nSuggested wording: \"Unsupported message \\\"%s\\\" prior to ... \"",
      "commit_id" : "c4fb703c71d678dcb068052133c795b7413e9a34",
      "created_at" : "2020-08-28T11:52:24Z",
      "diff_hunk" : "@@ -2553,9 +2553,7 @@ void ProcessMessage(\n     }\n \n     if (!pfrom.fSuccessfullyConnected) {\n-        // Must have a verack message before anything else\n-        LOCK(cs_main);\n-        Misbehaving(pfrom.GetId(), 1, \"non-verack message before version handshake\");\n+        LogPrint(BCLog::NET, \"Unknown command \\\"%s\\\" prior to verack from peer=%d\\n\", SanitizeString(msg_type), pfrom.GetId());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#discussion_r479190282",
      "id" : 479190282,
      "line" : 2556,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTE5MDI4Mg==",
      "original_commit_id" : "c4fb703c71d678dcb068052133c795b7413e9a34",
      "original_line" : 2556,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 7,
      "pull_request_review_id" : 477665587,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19723",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-28T11:54:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/479190282",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-08-28T19:48:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-683115328",
      "id" : 683115328,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MzExNTMyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-28T19:48:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683115328",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-08-29T01:03:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-683208779",
      "id" : 683208779,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MzIwODc3OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-29T01:03:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683208779",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Pinging reviewers -- the code change here is pretty simple, so if there are concept ACKs on this I hope we can get actual ACKs as well?  I think it would make logical sense to deploy this in 0.21 (at the same time we are deploying wtxid-relay), though there is no code-dependency that requires it.",
      "created_at" : "2020-09-25T23:23:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-699212527",
      "id" : 699212527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTIxMjUyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-25T23:23:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699212527",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 675e55e01392971aa56bda56cb09498b466d0902\r\n\r\nI think it makes sense to ignore unknown messages before VERACK. It's the obvious place to negotiate optional features, and if there is no problem having them _after_ VERACK, I don't see why there should be punishment for it before that point.",
      "created_at" : "2020-09-26T01:20:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-699261118",
      "id" : 699261118,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTI2MTExOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-26T01:20:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699261118",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 675e55e01392971aa56bda56cb09498b466d0902: patch looks correct",
      "created_at" : "2020-09-26T11:52:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-699485313",
      "id" : 699485313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTQ4NTMxMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-26T11:52:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699485313",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 675e55e01392971aa56bda56cb09498b466d0902\r\n\r\nIt would be nice if the tests were updated at the same time:\r\n\r\n* Fix a small incorrect comment\r\n* Add a test that peers are actually disconnected due to timeout if they never finish the handshake\r\n\r\nYou may use this diff freely:\r\n\r\n```diff\r\ndiff --git a/test/functional/p2p_leak.py b/test/functional/p2p_leak.py\r\nindex 4b32d60db0..68e2bd4a8b 100755\r\n--- a/test/functional/p2p_leak.py\r\n+++ b/test/functional/p2p_leak.py\r\n@@ -5,7 +5,7 @@\r\n \"\"\"Test message sending before handshake completion.\r\n \r\n A node should never send anything other than VERSION/VERACK until it's\r\n-received a VERACK.\r\n+received a VERACK, except for feature negotiation of wtxidrelay.\r\n \r\n This test connects to a node and sends it a few messages, trying to entice it\r\n into sending us something it shouldn't.\"\"\"\r\n@@ -91,6 +91,7 @@ class P2PVersionStore(P2PInterface):\r\n class P2PLeakTest(BitcoinTestFramework):\r\n     def set_test_params(self):\r\n         self.num_nodes = 1\r\n+        self.extra_args = [['-peertimeout=4']]\r\n \r\n     def run_test(self):\r\n         # Peer that never sends a version. We will send a bunch of messages\r\n@@ -125,6 +126,9 @@ class P2PLeakTest(BitcoinTestFramework):\r\n \r\n         # Expect this peer to be disconnected for misbehavior\r\n         assert not no_version_disconnect_peer.is_connected\r\n+        # Expect peers to be disconnected due to timeout\r\n+        assert not no_version_idle_peer.is_connected\r\n+        assert not no_verack_idle_peer.is_connected\r\n \r\n         self.nodes[0].disconnect_p2ps()\r\n \r\n",
      "created_at" : "2020-09-26T19:49:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-699540294",
      "id" : 699540294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTU0MDI5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-26T19:49:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699540294",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Note that the test I suggest passes on master, as the patch in this pull is not a behaviour change for peers that send less than 100 messages prior to finishing the handshake. So I am happy to create a separate pull, but I think the changes here are a nice excuse to shove in the test as well.",
      "created_at" : "2020-09-26T19:54:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-699540750",
      "id" : 699540750,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTU0MDc1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-26T19:54:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699540750",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> when receiving a message that must go after verack, the node should keep current (unchanged) behavior\r\n\r\nCan you explain one benefit of keeping the behavior exactly the same for those messages? I can only see downsides.",
      "created_at" : "2020-10-04T07:26:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-703215236",
      "id" : 703215236,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzIxNTIzNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-04T07:26:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703215236",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > when receiving a message that must go after verack, the node should keep current (unchanged) behavior\r\n> \r\n> Can you explain one benefit of keeping the behavior exactly the same for those messages? I can only see downsides.\r\n\r\nIf a peer sends known messages in wrong order it obviously is broken or violates protocol intentionally. The downside I see is more complicated code. What others downsides?",
      "created_at" : "2020-10-04T07:31:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-703215724",
      "id" : 703215724,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzIxNTcyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-04T07:31:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703215724",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, if a peer sends us 99 non-verack messages before the version handshake is complete, it is obviously broken. Though, no version of Bitcoin Core with default settings would disconnect it for that. Nor would this pull request change that. I don't see the point of the additional code complexity to keep a theoretical behaviour that isn't observed in practise and confusing/arbitrary anyway.",
      "created_at" : "2020-10-04T07:49:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19723#issuecomment-703217419",
      "id" : 703217419,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19723",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzIxNzQxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-04T07:49:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703217419",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
