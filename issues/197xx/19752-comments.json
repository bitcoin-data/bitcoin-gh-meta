[
   {
      "author_association" : "MEMBER",
      "body" : "Very nice. Concept ACK",
      "created_at" : "2020-08-18T14:26:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-675511036",
      "id" : 675511036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NTUxMTAzNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-18T14:26:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675511036",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice first-time contribution! Warm welcome as a contributor @slmtpz :)\r\n\r\nConcept ACK",
      "created_at" : "2020-08-18T17:32:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-675614094",
      "id" : 675614094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NTYxNDA5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-18T17:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675614094",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Nice first-time contribution! Warm welcome as a contributor @slmtpz :)\r\n> \r\n> Concept ACK\r\n\r\nThank you, looking forward to more contributions in future!",
      "created_at" : "2020-08-18T17:35:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-675615994",
      "id" : 675615994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NTYxNTk5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-18T17:35:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675615994",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-08-20T02:44:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-676875688",
      "id" : 676875688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3Njg3NTY4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-20T02:44:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/676875688",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19700 (wallet: Replace -zapwallettxes with wallet tool command by achow101)\n* #19671 (wallet: Remove -zapwallettxes by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-08-20T20:08:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-677877412",
      "id" : 677877412,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3Nzg3NzQxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T22:17:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/677877412",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474380879"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474380879"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Style nit: I think it's preferred to keep the list on newlines with commas at the end, otherwise we have a situation like this where the diff goes from 1 line to 6. Is there a reason you're changing it?",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-21T02:57:16Z",
      "diff_hunk" : "@@ -19,11 +19,7 @@\n )\n from test_framework.mininode import mininode_lock, P2PInterface\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import (",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474380879",
      "id" : 474380879,
      "line" : 22,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4MDg3OQ==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 22,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/p2p_leak.py",
      "position" : 1,
      "pull_request_review_id" : 472114214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474380879",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384465"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384465"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hm, is there a reason for removing `mininode_lock` and adding `check_connected=False`?",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-21T03:12:18Z",
      "diff_hunk" : "@@ -73,23 +73,23 @@ def send_header_for_blocks(self, new_blocks):\n     def request_headers_and_sync(self, locator, hashstop=0):\n         self.clear_block_announcement()\n         self.get_headers(locator, hashstop)\n-        wait_until(self.received_block_announcement, timeout=30, lock=mininode_lock)\n+        self.wait_until(self.received_block_announcement, timeout=30)\n         self.clear_block_announcement()\n \n     # Block until a block announcement for a particular block hash is\n     # received.\n     def wait_for_block_announcement(self, block_hash, timeout=30):\n         def received_hash():\n             return (block_hash in self.announced_blockhashes)\n-        wait_until(received_hash, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(received_hash, timeout=timeout)\n \n     def send_await_disconnect(self, message, timeout=30):\n         \"\"\"Sends a message to the node and wait for disconnect.\n \n         This is used when we want to send a message into the node that we expect\n         will get us disconnected, eg an invalid block.\"\"\"\n         self.send_message(message)\n-        wait_until(lambda: not self.is_connected, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(lambda: not self.is_connected, timeout=timeout, check_connected=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384465",
      "id" : 474384465,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4NDQ2NQ==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 92,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 472114214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384465",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384763"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "why are you removing the timeout and lock here?",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-21T03:13:34Z",
      "diff_hunk" : "@@ -174,7 +171,7 @@ def check_last_headers_announcement(self, headers):\n         \"\"\"Test whether the last headers announcements received are right.\n            Headers may be announced across more than one message.\"\"\"\n         test_function = lambda: (len(self.recent_headers_announced) >= len(headers))\n-        wait_until(test_function, timeout=60, lock=mininode_lock)\n+        self.wait_until(test_function)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384763",
      "id" : 474384763,
      "line" : 176,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4NDc2Mw==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 176,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "test/functional/p2p_sendheaders.py",
      "position" : 22,
      "pull_request_review_id" : 472114214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384763",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384793"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384793"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "same",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-21T03:13:43Z",
      "diff_hunk" : "@@ -186,7 +183,7 @@ def check_last_inv_announcement(self, inv):\n         inv should be a list of block hashes.\"\"\"\n \n         test_function = lambda: self.block_announced\n-        wait_until(test_function, timeout=60, lock=mininode_lock)\n+        self.wait_until(test_function)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384793",
      "id" : 474384793,
      "line" : 188,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4NDc5Mw==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 188,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "test/functional/p2p_sendheaders.py",
      "position" : 31,
      "pull_request_review_id" : 472114214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384793",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474387675"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474387675"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not sure if this is one of the goals of this PR, but in this situation I think it's best to use `test_node.wait_until()`. \r\n\r\nSame with the rest of the test.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-21T03:26:12Z",
      "diff_hunk" : "@@ -294,7 +294,7 @@ def test_compactblock_construction(self, test_node, use_witness_address=True):\n         block.rehash()\n \n         # Wait until the block was announced (via compact blocks)\n-        wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)\n+        self.wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474387675",
      "id" : 474387675,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4NzY3NQ==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 297,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 472114214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474387675",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474388691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388691"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here, `wait_for_broadcast(txid)` would be more appropriate\r\n\r\n(txid needs to not be converted to int though)",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-21T03:30:44Z",
      "diff_hunk" : "@@ -33,7 +33,7 @@ def run_test(self):\n         time.sleep(1.1)\n \n         # Can take a few seconds due to transaction trickling\n-        wait_until(lambda: node.p2p.tx_invs_received[txid] >= 1, lock=mininode_lock)\n+        self.wait_until(lambda: node.p2p.tx_invs_received[txid] >= 1, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474388691",
      "id" : 474388691,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4ODY5MQ==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 36,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 472114214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388691",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474388724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388724"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "same",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-21T03:30:55Z",
      "diff_hunk" : "@@ -64,7 +64,7 @@ def run_test(self):\n         # Transaction should be rebroadcast approximately 24 hours in the future,\n         # but can range from 12-36. So bump 36 hours to be sure.\n         node.setmocktime(now + 36 * 60 * 60)\n-        wait_until(lambda: node.p2ps[1].tx_invs_received[txid] >= 1, lock=mininode_lock)\n+        self.wait_until(lambda: node.p2ps[1].tx_invs_received[txid] >= 1, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474388724",
      "id" : 474388724,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4ODcyNA==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 67,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 472114214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388724",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474389262"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474389262"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Also, `wait_for_disconnect` would be better.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-21T03:33:31Z",
      "diff_hunk" : "@@ -73,23 +73,23 @@ def send_header_for_blocks(self, new_blocks):\n     def request_headers_and_sync(self, locator, hashstop=0):\n         self.clear_block_announcement()\n         self.get_headers(locator, hashstop)\n-        wait_until(self.received_block_announcement, timeout=30, lock=mininode_lock)\n+        self.wait_until(self.received_block_announcement, timeout=30)\n         self.clear_block_announcement()\n \n     # Block until a block announcement for a particular block hash is\n     # received.\n     def wait_for_block_announcement(self, block_hash, timeout=30):\n         def received_hash():\n             return (block_hash in self.announced_blockhashes)\n-        wait_until(received_hash, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(received_hash, timeout=timeout)\n \n     def send_await_disconnect(self, message, timeout=30):\n         \"\"\"Sends a message to the node and wait for disconnect.\n \n         This is used when we want to send a message into the node that we expect\n         will get us disconnected, eg an invalid block.\"\"\"\n         self.send_message(message)\n-        wait_until(lambda: not self.is_connected, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(lambda: not self.is_connected, timeout=timeout, check_connected=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474389262",
      "id" : 474389262,
      "in_reply_to_id" : 474384465,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4OTI2Mg==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 92,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 472114214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474389262",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476643158"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476643158"
         }
      },
      "author_association" : "NONE",
      "body" : "I was considering line lengths. It seemed a bit awkward to keep this structure even if there is only one import. However, I totally agree with you on separating with new lines so git history stays clean. \r\nWhat about the imports where this structure is not used? While I'm here, should I put them in a list?",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T18:09:54Z",
      "diff_hunk" : "@@ -19,11 +19,7 @@\n )\n from test_framework.mininode import mininode_lock, P2PInterface\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import (",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476643158",
      "id" : 476643158,
      "in_reply_to_id" : 474380879,
      "line" : 22,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY0MzE1OA==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 22,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/p2p_leak.py",
      "position" : 1,
      "pull_request_review_id" : 474732424,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476643158",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476649324"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649324"
         }
      },
      "author_association" : "MEMBER",
      "body" : "When the list is longer than one item and it was previously on multiple lines, it probably makes sense to keep it on multiple lines",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T18:21:27Z",
      "diff_hunk" : "@@ -19,11 +19,7 @@\n )\n from test_framework.mininode import mininode_lock, P2PInterface\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import (",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476649324",
      "id" : 476649324,
      "in_reply_to_id" : 474380879,
      "line" : 22,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY0OTMyNA==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 22,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/p2p_leak.py",
      "position" : 1,
      "pull_request_review_id" : 474740379,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649324",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476649797"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649797"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: accidental change",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T18:22:18Z",
      "diff_hunk" : "@@ -9,10 +9,8 @@\n from test_framework.util import (\n     assert_equal,\n     connect_nodes,\n-    wait_until,\n )\n \n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476649797",
      "id" : 476649797,
      "line" : 15,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY0OTc5Nw==",
      "original_commit_id" : "7a66c78b4daf82ffe569db8547007ae9224b9654",
      "original_line" : 15,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/rpc_invalidateblock.py",
      "position" : 7,
      "pull_request_review_id" : 474740955,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649797",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476651852"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476651852"
         }
      },
      "author_association" : "NONE",
      "body" : "Corrected.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T18:25:52Z",
      "diff_hunk" : "@@ -9,10 +9,8 @@\n from test_framework.util import (\n     assert_equal,\n     connect_nodes,\n-    wait_until,\n )\n \n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476651852",
      "id" : 476651852,
      "in_reply_to_id" : 476649797,
      "line" : 15,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1MTg1Mg==",
      "original_commit_id" : "7a66c78b4daf82ffe569db8547007ae9224b9654",
      "original_line" : 15,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/rpc_invalidateblock.py",
      "position" : 7,
      "pull_request_review_id" : 474743492,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476651852",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476663715"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476663715"
         }
      },
      "author_association" : "NONE",
      "body" : "I was inclined to use the one from `BitcoinTestFramework` since I thought it would be good to keep consistency. However, in this case, since we are waiting for a change in `test_node`, using that one makes more sense, did I get it right? :) ",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T18:47:25Z",
      "diff_hunk" : "@@ -294,7 +294,7 @@ def test_compactblock_construction(self, test_node, use_witness_address=True):\n         block.rehash()\n \n         # Wait until the block was announced (via compact blocks)\n-        wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)\n+        self.wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476663715",
      "id" : 476663715,
      "in_reply_to_id" : 474387675,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY2MzcxNQ==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 297,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 474758500,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476663715",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476670346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670346"
         }
      },
      "author_association" : "NONE",
      "body" : "This class extends `P2PInterface` not `BitcoinTestFramework`. mininode one already has a lock. As for timeout, it already has a default value of 60.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T18:58:46Z",
      "diff_hunk" : "@@ -174,7 +171,7 @@ def check_last_headers_announcement(self, headers):\n         \"\"\"Test whether the last headers announcements received are right.\n            Headers may be announced across more than one message.\"\"\"\n         test_function = lambda: (len(self.recent_headers_announced) >= len(headers))\n-        wait_until(test_function, timeout=60, lock=mininode_lock)\n+        self.wait_until(test_function)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476670346",
      "id" : 476670346,
      "in_reply_to_id" : 474384763,
      "line" : 176,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY3MDM0Ng==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 176,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "test/functional/p2p_sendheaders.py",
      "position" : 22,
      "pull_request_review_id" : 474766654,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670346",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476670575"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670575"
         }
      },
      "author_association" : "NONE",
      "body" : "This class extends P2PInterface not BitcoinTestFramework. mininode one already has a lock. As for timeout, it already has a default value of 60.\r\n\r\n",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T18:59:06Z",
      "diff_hunk" : "@@ -186,7 +183,7 @@ def check_last_inv_announcement(self, inv):\n         inv should be a list of block hashes.\"\"\"\n \n         test_function = lambda: self.block_announced\n-        wait_until(test_function, timeout=60, lock=mininode_lock)\n+        self.wait_until(test_function)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476670575",
      "id" : 476670575,
      "in_reply_to_id" : 474384793,
      "line" : 188,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY3MDU3NQ==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 188,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "test/functional/p2p_sendheaders.py",
      "position" : 31,
      "pull_request_review_id" : 474766915,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670575",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690295"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690295"
         }
      },
      "author_association" : "NONE",
      "body" : "Used `wait_for_disconnect` instead, thanks!",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T19:35:35Z",
      "diff_hunk" : "@@ -73,23 +73,23 @@ def send_header_for_blocks(self, new_blocks):\n     def request_headers_and_sync(self, locator, hashstop=0):\n         self.clear_block_announcement()\n         self.get_headers(locator, hashstop)\n-        wait_until(self.received_block_announcement, timeout=30, lock=mininode_lock)\n+        self.wait_until(self.received_block_announcement, timeout=30)\n         self.clear_block_announcement()\n \n     # Block until a block announcement for a particular block hash is\n     # received.\n     def wait_for_block_announcement(self, block_hash, timeout=30):\n         def received_hash():\n             return (block_hash in self.announced_blockhashes)\n-        wait_until(received_hash, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(received_hash, timeout=timeout)\n \n     def send_await_disconnect(self, message, timeout=30):\n         \"\"\"Sends a message to the node and wait for disconnect.\n \n         This is used when we want to send a message into the node that we expect\n         will get us disconnected, eg an invalid block.\"\"\"\n         self.send_message(message)\n-        wait_until(lambda: not self.is_connected, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(lambda: not self.is_connected, timeout=timeout, check_connected=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690295",
      "id" : 476690295,
      "in_reply_to_id" : 474384465,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY5MDI5NQ==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 92,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 474792136,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690295",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690465"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690465"
         }
      },
      "author_association" : "NONE",
      "body" : "Updated.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T19:35:54Z",
      "diff_hunk" : "@@ -294,7 +294,7 @@ def test_compactblock_construction(self, test_node, use_witness_address=True):\n         block.rehash()\n \n         # Wait until the block was announced (via compact blocks)\n-        wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)\n+        self.wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690465",
      "id" : 476690465,
      "in_reply_to_id" : 474387675,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY5MDQ2NQ==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 297,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 474792358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690465",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690804"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690804"
         }
      },
      "author_association" : "NONE",
      "body" : "It looks cleaner now! Please have a look.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T19:36:34Z",
      "diff_hunk" : "@@ -33,7 +33,7 @@ def run_test(self):\n         time.sleep(1.1)\n \n         # Can take a few seconds due to transaction trickling\n-        wait_until(lambda: node.p2p.tx_invs_received[txid] >= 1, lock=mininode_lock)\n+        self.wait_until(lambda: node.p2p.tx_invs_received[txid] >= 1, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690804",
      "id" : 476690804,
      "in_reply_to_id" : 474388691,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY5MDgwNA==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 36,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 474792805,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690804",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690871"
         }
      },
      "author_association" : "NONE",
      "body" : "Updated",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-25T19:36:41Z",
      "diff_hunk" : "@@ -64,7 +64,7 @@ def run_test(self):\n         # Transaction should be rebroadcast approximately 24 hours in the future,\n         # but can range from 12-36. So bump 36 hours to be sure.\n         node.setmocktime(now + 36 * 60 * 60)\n-        wait_until(lambda: node.p2ps[1].tx_invs_received[txid] >= 1, lock=mininode_lock)\n+        self.wait_until(lambda: node.p2ps[1].tx_invs_received[txid] >= 1, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690871",
      "id" : 476690871,
      "in_reply_to_id" : 474388724,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY5MDg3MQ==",
      "original_commit_id" : "c3e1a3074132f7a35858222d15db4ef49354135b",
      "original_line" : 67,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 474792898,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690871",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Concept ACK, welcome! ð this is awesome!\r\n> \r\n> I complain about this pretty often ð The util `wait_until` function doesn't have any context from the TestFramework instance (i.e. `timeout` and `timeout_factor`). Sometimes when it's used, the test writer forgets to pass in the `mininode_lock` which is even worse. I think it would be a good idea to add a comment to the `wait_until` function in test_framework.util that recommends using something else, because it's almost never the best option - this is just my opinion though. (Btw, I recommend adding something along these lines to the PR description to explain what motivates these changes).\r\n> \r\n> We actually have more options than just TestFramework `wait_until`. There are a few places where one of the mininode helper functions (`wait_for_disconnect`, `wait_for_broadcast`, etc) or the mininode `wait_until` would be more appropriate.\r\n> \r\n> There seem to be some changes that are unrelated to changing which `wait_until` is used. I didn't look into them too closely, but could you give an explanation and/or put them in a separate PR?\r\n> \r\n> Also a style nit: there's a few places where you're refactoring the imports in addition to removing `wait_until`, which I don't think is the style convention and makes the diff larger than it needs to be.\r\n\r\nThanks for the thorough review and double thanks for your suggestions! Going deeper, things had started to build up in my mind. \r\nRebase + force pushed the changes you suggested. As for your other proposal to add a comment in `util.wait_until()`, please look at [this second commit](https://github.com/bitcoin/bitcoin/pull/19752/commits/64dea334bc6f9048411dda7143140107243e2166).\r\nPR description is also updated. Should I update commit body as well (after your approval of the motivation for this change stated in the PR description) ?",
      "created_at" : "2020-08-25T19:40:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-680231078",
      "id" : 680231078,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDIzMTA3OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T19:45:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680231078",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477061731"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477061731"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        self.nodes[2].p2p.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5)\r\n```\r\n\r\nShouldn't this be",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:25:20Z",
      "diff_hunk" : "@@ -203,7 +202,7 @@ def run_test(self):\n \n         # wait_until() will loop until a predicate condition is met. Use it to test properties of the\n         # P2PInterface objects.\n-        wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)\n+        self.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477061731",
      "id" : 477061731,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2MTczMQ==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 205,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/example_test.py",
      "position" : null,
      "pull_request_review_id" : 475184279,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477061731",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477062057"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477062057"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10)\r\n```\r\n\r\nwhy the lock?",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:26:09Z",
      "diff_hunk" : "@@ -91,14 +90,14 @@ def run_test(self):\n \n         # Generating one block guarantees that we'll get out of IBD\n         node.generatetoaddress(1, node_deterministic_address)\n-        wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477062057",
      "id" : 477062057,
      "line" : 93,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2MjA1Nw==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 93,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/feature_versionbits_warning.py",
      "position" : 13,
      "pull_request_review_id" : 475184279,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477062057",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477063111"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063111"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        self.wtx_node.wait_until(received_wtxidrelay)\r\n```",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:28:42Z",
      "diff_hunk" : "@@ -2114,7 +2113,7 @@ def test_wtxid_relay(self):\n         # Check wtxidrelay feature negotiation message through connecting a new peer\n         def received_wtxidrelay():\n             return (len(self.wtx_node.last_wtxidrelay) > 0)\n-        wait_until(received_wtxidrelay, timeout=60, lock=mininode_lock)\n+        self.wait_until(received_wtxidrelay, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477063111",
      "id" : 477063111,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2MzExMQ==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 2116,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 475184279,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063111",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477063826"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063826"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n                inv_node.wait_until(lambda: inv_node.block_announced)\r\n```",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:30:09Z",
      "diff_hunk" : "@@ -298,7 +297,7 @@ def test_nonnull_locators(self, test_node, inv_node):\n                 test_node.send_header_for_blocks([new_block])\n                 test_node.wait_for_getdata([new_block.sha256])\n                 test_node.send_and_ping(msg_block(new_block))  # make sure this block is processed\n-                wait_until(lambda: inv_node.block_announced, timeout=60, lock=mininode_lock)\n+                self.wait_until(lambda: inv_node.block_announced, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477063826",
      "id" : 477063826,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2MzgyNg==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 300,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "test/functional/p2p_sendheaders.py",
      "position" : null,
      "pull_request_review_id" : 475184279,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063826",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064053"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064053"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        p.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT)\r\n```",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:30:38Z",
      "diff_hunk" : "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064053",
      "id" : 477064053,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2NDA1Mw==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 140,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "test/functional/p2p_tx_download.py",
      "position" : null,
      "pull_request_review_id" : 475184279,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064053",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064127"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064127"
         }
      },
      "author_association" : "MEMBER",
      "body" : "same",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:30:51Z",
      "diff_hunk" : "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT)\n \n         self.log.info(\"Now check that if we send a NOTFOUND for a transaction, we'll get one more request\")\n         p.send_message(msg_notfound(vec=[CInv(t=MSG_WTX, h=txids[0])]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064127",
      "id" : 477064127,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2NDEyNw==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 146,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "test/functional/p2p_tx_download.py",
      "position" : null,
      "pull_request_review_id" : 475184279,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064127",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064174"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064174"
         }
      },
      "author_association" : "MEMBER",
      "body" : "same\r\n",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:30:59Z",
      "diff_hunk" : "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT)\n \n         self.log.info(\"Now check that if we send a NOTFOUND for a transaction, we'll get one more request\")\n         p.send_message(msg_notfound(vec=[CInv(t=MSG_WTX, h=txids[0])]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT + 1)\n \n         WAIT_TIME = TX_EXPIRY_INTERVAL // 2 + TX_EXPIRY_INTERVAL\n         self.log.info(\"if we wait about {} minutes, we should eventually get more requests\".format(WAIT_TIME / 60))\n         self.nodes[0].setmocktime(int(time.time() + WAIT_TIME))\n-        wait_until(lambda: p.tx_getdata_count == MAX_GETDATA_IN_FLIGHT + 2)\n+        self.wait_until(lambda: p.tx_getdata_count == MAX_GETDATA_IN_FLIGHT + 2)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064174",
      "id" : 477064174,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2NDE3NA==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 153,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "test/functional/p2p_tx_download.py",
      "position" : null,
      "pull_request_review_id" : 475184279,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064174",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477067273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067273"
         }
      },
      "author_association" : "NONE",
      "body" : "Is there a big difference between two? I was inclined to use the one from framework wherever possible.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:38:40Z",
      "diff_hunk" : "@@ -203,7 +202,7 @@ def run_test(self):\n \n         # wait_until() will loop until a predicate condition is met. Use it to test properties of the\n         # P2PInterface objects.\n-        wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)\n+        self.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477067273",
      "id" : 477067273,
      "in_reply_to_id" : 477061731,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2NzI3Mw==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 205,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/example_test.py",
      "position" : null,
      "pull_request_review_id" : 475191146,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067273",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477067799"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067799"
         }
      },
      "author_association" : "NONE",
      "body" : "The class of this method inherits from `BitcoinTestFramework` which does not have a default lock.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:39:57Z",
      "diff_hunk" : "@@ -91,14 +90,14 @@ def run_test(self):\n \n         # Generating one block guarantees that we'll get out of IBD\n         node.generatetoaddress(1, node_deterministic_address)\n-        wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477067799",
      "id" : 477067799,
      "in_reply_to_id" : 477062057,
      "line" : 93,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2Nzc5OQ==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 93,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/feature_versionbits_warning.py",
      "position" : 13,
      "pull_request_review_id" : 475191795,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067799",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477068786"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477068786"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It seems a bit convolved to import the lock, which needs to be taken, then call a method, which passes the imported lock to be taken.\r\n\r\nSimply calling a member function that takes the lock when needed without importing or passing it seems less error prone, as there is no way it can be missed. Also, it makes the calling code shorter and more readable",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:42:18Z",
      "diff_hunk" : "@@ -203,7 +202,7 @@ def run_test(self):\n \n         # wait_until() will loop until a predicate condition is met. Use it to test properties of the\n         # P2PInterface objects.\n-        wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)\n+        self.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477068786",
      "id" : 477068786,
      "in_reply_to_id" : 477061731,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2ODc4Ng==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 205,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/example_test.py",
      "position" : null,
      "pull_request_review_id" : 475193054,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477068786",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477069182"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069182"
         }
      },
      "author_association" : "MEMBER",
      "body" : "but why is the lock needed? Why does it need to be taken here?",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:43:16Z",
      "diff_hunk" : "@@ -91,14 +90,14 @@ def run_test(self):\n \n         # Generating one block guarantees that we'll get out of IBD\n         node.generatetoaddress(1, node_deterministic_address)\n-        wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477069182",
      "id" : 477069182,
      "in_reply_to_id" : 477062057,
      "line" : 93,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2OTE4Mg==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 93,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/feature_versionbits_warning.py",
      "position" : 13,
      "pull_request_review_id" : 475193614,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069182",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477069861"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069861"
         }
      },
      "author_association" : "NONE",
      "body" : "I frankly don't know. It was there before, so I didn't touch it.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:44:51Z",
      "diff_hunk" : "@@ -91,14 +90,14 @@ def run_test(self):\n \n         # Generating one block guarantees that we'll get out of IBD\n         node.generatetoaddress(1, node_deterministic_address)\n-        wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477069861",
      "id" : 477069861,
      "in_reply_to_id" : 477062057,
      "line" : 93,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2OTg2MQ==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 93,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/feature_versionbits_warning.py",
      "position" : 13,
      "pull_request_review_id" : 475194470,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069861",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073072"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073072"
         }
      },
      "author_association" : "NONE",
      "body" : "Updated, thanks for clear explanation.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:51:54Z",
      "diff_hunk" : "@@ -203,7 +202,7 @@ def run_test(self):\n \n         # wait_until() will loop until a predicate condition is met. Use it to test properties of the\n         # P2PInterface objects.\n-        wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)\n+        self.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073072",
      "id" : 477073072,
      "in_reply_to_id" : 477061731,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzA3Mg==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 205,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/example_test.py",
      "position" : null,
      "pull_request_review_id" : 475198479,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:51:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073072",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073184"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073184"
         }
      },
      "author_association" : "NONE",
      "body" : "Updated.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:52:09Z",
      "diff_hunk" : "@@ -2114,7 +2113,7 @@ def test_wtxid_relay(self):\n         # Check wtxidrelay feature negotiation message through connecting a new peer\n         def received_wtxidrelay():\n             return (len(self.wtx_node.last_wtxidrelay) > 0)\n-        wait_until(received_wtxidrelay, timeout=60, lock=mininode_lock)\n+        self.wait_until(received_wtxidrelay, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073184",
      "id" : 477073184,
      "in_reply_to_id" : 477063111,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzE4NA==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 2116,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 475198621,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:52:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073184",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073243"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073243"
         }
      },
      "author_association" : "NONE",
      "body" : "Updated.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:52:17Z",
      "diff_hunk" : "@@ -298,7 +297,7 @@ def test_nonnull_locators(self, test_node, inv_node):\n                 test_node.send_header_for_blocks([new_block])\n                 test_node.wait_for_getdata([new_block.sha256])\n                 test_node.send_and_ping(msg_block(new_block))  # make sure this block is processed\n-                wait_until(lambda: inv_node.block_announced, timeout=60, lock=mininode_lock)\n+                self.wait_until(lambda: inv_node.block_announced, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073243",
      "id" : 477073243,
      "in_reply_to_id" : 477063826,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzI0Mw==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 300,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "test/functional/p2p_sendheaders.py",
      "position" : null,
      "pull_request_review_id" : 475198689,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:52:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073243",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073508"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073508"
         }
      },
      "author_association" : "NONE",
      "body" : "Updated.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:52:48Z",
      "diff_hunk" : "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073508",
      "id" : 477073508,
      "in_reply_to_id" : 477064053,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzUwOA==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 140,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "test/functional/p2p_tx_download.py",
      "position" : null,
      "pull_request_review_id" : 475199006,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:52:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073508",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073548"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073548"
         }
      },
      "author_association" : "NONE",
      "body" : "Updated.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:52:51Z",
      "diff_hunk" : "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT)\n \n         self.log.info(\"Now check that if we send a NOTFOUND for a transaction, we'll get one more request\")\n         p.send_message(msg_notfound(vec=[CInv(t=MSG_WTX, h=txids[0])]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073548",
      "id" : 477073548,
      "in_reply_to_id" : 477064127,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzU0OA==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 146,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "test/functional/p2p_tx_download.py",
      "position" : null,
      "pull_request_review_id" : 475199044,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:52:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073548",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073568"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073568"
         }
      },
      "author_association" : "NONE",
      "body" : "Updated.",
      "commit_id" : "0639169ca5d47877f758d11a3e147ac22815e6f4",
      "created_at" : "2020-08-26T06:52:55Z",
      "diff_hunk" : "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT)\n \n         self.log.info(\"Now check that if we send a NOTFOUND for a transaction, we'll get one more request\")\n         p.send_message(msg_notfound(vec=[CInv(t=MSG_WTX, h=txids[0])]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT + 1)\n \n         WAIT_TIME = TX_EXPIRY_INTERVAL // 2 + TX_EXPIRY_INTERVAL\n         self.log.info(\"if we wait about {} minutes, we should eventually get more requests\".format(WAIT_TIME / 60))\n         self.nodes[0].setmocktime(int(time.time() + WAIT_TIME))\n-        wait_until(lambda: p.tx_getdata_count == MAX_GETDATA_IN_FLIGHT + 2)\n+        self.wait_until(lambda: p.tx_getdata_count == MAX_GETDATA_IN_FLIGHT + 2)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073568",
      "id" : 477073568,
      "in_reply_to_id" : 477064174,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzU2OA==",
      "original_commit_id" : "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
      "original_line" : 153,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "test/functional/p2p_tx_download.py",
      "position" : null,
      "pull_request_review_id" : 475199074,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T06:52:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073568",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/17165664?v=4",
         "events_url" : "https://api.github.com/users/slmtpz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slmtpz/followers",
         "following_url" : "https://api.github.com/users/slmtpz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slmtpz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slmtpz",
         "id" : 17165664,
         "login" : "slmtpz",
         "node_id" : "MDQ6VXNlcjE3MTY1NjY0",
         "organizations_url" : "https://api.github.com/users/slmtpz/orgs",
         "received_events_url" : "https://api.github.com/users/slmtpz/received_events",
         "repos_url" : "https://api.github.com/users/slmtpz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slmtpz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slmtpz"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-08-26T09:01:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-680754595",
      "id" : 680754595,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDc1NDU5NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T09:01:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680754595",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for keeping this updated and addressing all the feedback!\r\n\r\nACK d841301010914203fb5ef02627c76fad99cb11f1 ð¦\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK d841301010914203fb5ef02627c76fad99cb11f1 ð¦\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjVKAwAzGdH57AIPkBd3pQiCIm0PMYONNZEur6hn6VVGnLOatyGbLlTQLaw/kwu\r\nVZl6jutSgIusoKNUkjJLgPV2yiQF3PN9xrhS5IwGfGXYX9nvdwy4T/dhmLv6XUuE\r\nHO0+pM7fYE6XoyvK+YPV60uIkb3cgX8hVOU8ACd7GuIESkGiLnxN4zYxZN2Zyrvo\r\nyPUcOAKGXXJom6wzXXUQUZSp9BE5HJexWydui4iduwwkX2n+8yJKOYQ0Hv/kzqo1\r\nuD2gB+GmVUzpfNs3RUkLot2gtl0yK5bqYAVmyCfNXTppRD1yt1JnvxWooFeeW02t\r\nkL5JRg6aFy/PkM+tfTU/uZ3kEuSI0STHYJu5O0Ev9nG2cWKHbERP+LLIIiy0crns\r\nUyyQ9rSaKjMucDlNfbXEg95zf2pRxE9hvqFwBQQT5VC06Pfn6k4Xmi5UfpwRlTSa\r\n4uSSz/dtO5FMvbST5NCXtTOutkFmDmkLyHGOtynLs0Px7GrHtyhn0mL9OnnLbeqV\r\n/mQJZu0x\r\n=HU8g\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `8841ab10d7ee7a298b7cd8d05a44bfb9c3aaaa6e2c48b70e1d0adeb3afe2f62e  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401088841ab10d7ee7a298b7cd8d05a44bfb9c3aaaa6e2c48b70e1d0adeb3afe2f62ef0101d4790d4063ab54cf6239340292e71de08fff010776092f6a46d9ca36d132d166e20a22808f12058fcb5e3010ee7801400fc92d81cf3159ffa298d068316fae5ed8fd27970408508f1045f4750d8f00893974a16dfa15af90083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff010a050ef6e7475950ae413c56eb4f1385b08f1045f4750d5f008a127cfef5c51efba0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6dfff010c9f74c8651cc4f2ccd4178cda2a6ab3008f1045f4750d6f0086b83737467fd27980083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6df010f44b5f42470afc9006b1627cfb94a1d808f120ed4ef979e2052e23bca56820652b48303eb03d3f5a24362dac07717a0cb9d2fe08f1045f4750d9f00821f2befafbe226900083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
      "created_at" : "2020-08-27T06:21:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-681617705",
      "id" : 681617705,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MTYxNzcwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-27T06:21:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/681617705",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
