[
   {
      "author_association" : "MEMBER",
      "body" : "What's the problem of using a virtual package?",
      "created_at" : "2020-08-24T11:08:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-679063103",
      "id" : 679063103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTA2MzEwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T11:08:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679063103",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> What's the problem of using a virtual package?\r\n\r\nhttps://packages.ubuntu.com/search?keywords=libz-dev&searchon=names",
      "created_at" : "2020-08-24T11:13:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-679064871",
      "id" : 679064871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTA2NDg3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T11:13:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679064871",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "https://packages.ubuntu.com/bionic/libz-dev",
      "created_at" : "2020-08-24T11:21:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-679068113",
      "id" : 679068113,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTA2ODExMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T11:21:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679068113",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag \r\n> What's the problem of using a virtual package?\r\n\r\nThanks! Updated.\r\n",
      "created_at" : "2020-08-24T11:47:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-679078937",
      "id" : 679078937,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTA3ODkzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T11:47:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679078937",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@hebasto I've just asked what is the problem of virtual packages ð   maybe we shouldn't use them? I don't have a strong opinion..",
      "created_at" : "2020-08-24T11:51:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-679080528",
      "id" : 679080528,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTA4MDUyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T11:52:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679080528",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @hebasto I've just asked what is the problem of virtual packages sweat_smile maybe we shouldn't use them? I don't have a strong opinion..\r\n\r\nhttps://www.debian.org/doc/debian-policy/ch-binary.html#virtual-packages:\r\n> All packages should use virtual package names where appropriate, and arrange to create new ones if necessary. They should not use virtual package names (except privately, amongst a cooperating group of packages) unless they have been agreed upon and appear in the list of virtual package names.",
      "created_at" : "2020-08-24T11:53:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-679081276",
      "id" : 679081276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTA4MTI3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T11:53:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679081276",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept NACK - unless I'm misunderstanding something.\r\n\r\nCan you post some build logs or output? What's the actual error this is fixing? From [#18536](https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-654261884):\r\n\r\n> Also the build system didn't find zconf.h header in the depends/armv7l-unknown-linux-gnueabihf/include directory.\r\n\r\nWhich build system? If it's a Qt precondition that's failing, that sounds like something that needs to be fixed in Qt. Do you still see the same issue if you test with a newer version? i.e #19716.\r\n\r\n`-system-zlib` is the one we build in depends, and it should be being used for the Qt build (if it's not it should be removed, as there'd be point in building it). I don't think the solution to your issue is to bypass that zlib an install other headers. \r\n\r\nI'd like us to revisit all of our Qt hacks as part of #19716, as it's quite possible that a bunch of them are no-longer required, maybe we no-longer need a split out zlib (In any case, Qt also seems to be migrating away from zlib to zstd), and don't want to sink a bunch of time trying to solve issues now that may just disappear very soon.",
      "created_at" : "2020-08-27T12:15:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-681911492",
      "id" : 681911492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MTkxMTQ5Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-27T12:15:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/681911492",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Do you still see the same issue if you test with a newer version? i.e #19716.\r\n\r\nBuild #19716 (3f4fe21d3fa04cc8f284dccae03a5e4a27dba9e4) on Linux x86_64:\r\n```\r\n$ dpkg-query --show zlib1g-dev libz-dev\r\ndpkg-query: no packages found matching zlib1g-dev\r\ndpkg-query: no packages found matching libz-dev\r\n$ make -C depends qt\r\n# no errors\r\n```\r\n\r\nNot tested on ARM though.",
      "created_at" : "2020-08-27T12:53:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-681929798",
      "id" : 681929798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MTkyOTc5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-27T12:53:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/681929798",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Do you still see the same issue if you test with a newer version? i.e #19716.\r\n\r\nBuild #19716 (3f4fe21d3fa04cc8f284dccae03a5e4a27dba9e4) on ARM 32-bit:\r\n```\r\n$ uname -srm\r\nLinux 4.14.191-odroidxu4 armv7l\r\n$ dpkg-query --show zlib1g-dev libz-dev\r\ndpkg-query: no packages found matching zlib1g-dev\r\ndpkg-query: no packages found matching libz-dev\r\n$ make -C depends qt\r\n...\r\ncompiling ../../corelib/io/qipaddress.cpp\r\ncompiling ../../corelib/io/qfiledevice.cpp\r\ncompiling ../../corelib/io/qresource.cpp\r\n../../corelib/io/qresource.cpp:64:12: fatal error: zconf.h: No such file or directory\r\n   64 | #  include <zconf.h>\r\n      |            ^~~~~~~~~\r\ncompilation terminated.\r\nmake[2]: *** [Makefile:4219: .obj/qresource.o] Error 1\r\nmake[2]: Leaving directory '/home/hebasto/bitcoin/depends/work/build/armv7l-unknown-linux-gnueabihf/qt/5.15.0-39f03cb2eac/qtbase/src/tools/bootstrap'\r\nmake[1]: *** [Makefile:65: sub-bootstrap] Error 2\r\nmake[1]: Leaving directory '/home/hebasto/bitcoin/depends/work/build/armv7l-unknown-linux-gnueabihf/qt/5.15.0-39f03cb2eac/qtbase/src'\r\nmake: *** [funcs.mk:262: /home/hebasto/bitcoin/depends/work/build/armv7l-unknown-linux-gnueabihf/qt/5.15.0-39f03cb2eac/qtbase/.stamp_built] Error 2\r\nmake: Leaving directory '/home/hebasto/bitcoin/depends'\r\n```",
      "created_at" : "2020-08-27T15:34:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-682024934",
      "id" : 682024934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MjAyNDkzNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-27T15:34:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/682024934",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@hebasto how do you want to progress here? As mentioned, we aren't going to merge these  changes as-is. If you'd like to continue investigating/look at a different approach, could you turn this into a draft?",
      "created_at" : "2020-09-15T06:39:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19783#issuecomment-692500829",
      "id" : 692500829,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19783",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MjUwMDgyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-15T06:39:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692500829",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
