[
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky do you agree that this is a good use case for settings.json? The only unusual thing about the ban list is that items have expiry times, after which they should be removed from the config. Would that involve frequently reserializing the entire settings.json file?",
      "created_at" : "2020-08-17T14:23:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19748#issuecomment-674912202",
      "id" : 674912202,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19748",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NDkxMjIwMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-17T14:23:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674912202",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think a json file would be a nice way to store this information (easy to read, write, and inspect), but that it would be better to use a different json file than settings.json if entries auto-expire and would be removed without user intervention. Also if there is a use-case for wanting to allow manual bans and run bitcoin with `-nosettings` or with the settings file in a read-only location, it could be another reason to use a different file.\r\n\r\nBut thinking of settings.json as storage more under user control is just my own inclination. Best to chose an approach based on concrete advantages and disadvantages.",
      "created_at" : "2020-08-17T15:40:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19748#issuecomment-674955617",
      "id" : 674955617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19748",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NDk1NTYxNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-17T15:40:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674955617",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Each ban entry has an expiry time set by the user (with a default of 24 hours in the future). The software doesn't make any autonomous decisions about expiring the ban. So one way to do this that is in line with the settings.json usage would be to only lazily remove the entries from the json either when the user bans/unbans an address or during shutdown.",
      "created_at" : "2020-08-17T16:13:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19748#issuecomment-674972930",
      "id" : 674972930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19748",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NDk3MjkzMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-17T16:13:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674972930",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, could go either way on a separate/monolithic file, but favor a separate file. Also favor a super-lazy file writer.",
      "created_at" : "2020-09-16T06:20:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19748#issuecomment-693199083",
      "id" : 693199083,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19748",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MzE5OTA4Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-16T06:20:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/693199083",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/8435003?v=4",
         "events_url" : "https://api.github.com/users/tryphe/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tryphe/followers",
         "following_url" : "https://api.github.com/users/tryphe/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tryphe/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tryphe",
         "id" : 8435003,
         "login" : "tryphe",
         "node_id" : "MDQ6VXNlcjg0MzUwMDM=",
         "organizations_url" : "https://api.github.com/users/tryphe/orgs",
         "received_events_url" : "https://api.github.com/users/tryphe/received_events",
         "repos_url" : "https://api.github.com/users/tryphe/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tryphe/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tryphe/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tryphe"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Tend to agree with @ryanofsky on preferring keeping a separate `banlist.json` file. Keeping banned peers in their own file as a separate concern seems clearer and more convenient for users, the only observable change for them being the file format (a more convenient one).",
      "created_at" : "2020-09-16T06:53:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19748#issuecomment-693211797",
      "id" : 693211797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19748",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MzIxMTc5Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-16T06:53:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/693211797",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.\r\n\r\nThis would make it possible to store ban entries of Torv3 addresses and would supersede #20904.\r\n\r\nGiven that we dump the banlist periodically, it may be easier to implement if data is saved to its own file, e.g. `banlist.json`, rather than in `settings.json`.",
      "created_at" : "2021-01-13T16:03:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19748#issuecomment-759548863",
      "id" : 759548863,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19748",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1OTU0ODg2Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-13T16:03:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/759548863",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "A tentative implementation is at https://github.com/bitcoin/bitcoin/pull/20966.",
      "created_at" : "2021-01-19T19:07:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19748#issuecomment-763062271",
      "id" : 763062271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19748",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MzA2MjI3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-19T19:07:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/763062271",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   }
]
