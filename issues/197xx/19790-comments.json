[
   {
      "author_association" : "MEMBER",
      "body" : "Hmm, one shortcoming of this approach, is that it doesn't differentiate between \"verified with ruleset X\" from \"verified with ruleset Y\" as would occur when you upgrade for a softfork after activation.\r\n\r\nThis is still better than nothing at all, but I wonder if we should add logic for the latter? Perhaps just a \"ruleset version\" in the db, which we can check and clear the flag on blocks appropriately?",
      "created_at" : "2020-08-24T18:53:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19790#issuecomment-679303896",
      "id" : 679303896,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19790",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTMwMzg5Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T18:53:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679303896",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This is still better than nothing at all, but I wonder if we should add logic for the latter? Perhaps just a \"ruleset version\" in the db, which we can check and clear the flag on blocks appropriately?\r\n\r\nI think I'm a concept ACK on adding something to track which validation rules were applied when validating each block, so that after softfork activation we could efficiently revalidate the blocks that weren't validated with all the rules.  I haven't given a lot of thought to how much work it is to do this though.",
      "created_at" : "2021-01-06T15:29:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19790#issuecomment-755367176",
      "id" : 755367176,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19790",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTM2NzE3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T15:29:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755367176",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22564](https://github.com/bitcoin/bitcoin/pull/22564) ([WIP] refactor: Move mutable globals cleared in `::UnloadBlockIndex` to `BlockManager` by dongcarl)\n* [#21526](https://github.com/bitcoin/bitcoin/pull/21526) (validation: UpdateTip/CheckBlockIndex assumeutxo support by jamesob)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-07-24T08:00:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19790#issuecomment-886017239",
      "id" : 886017239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19790",
      "node_id" : "IC_kwDOABII5840z4zX",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-17T17:31:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/886017239",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-09-23T21:12:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19790#issuecomment-926165360",
      "id" : 926165360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19790",
      "node_id" : "IC_kwDOABII5843NClw",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-23T21:12:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/926165360",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Think this is better off being redone softfork-aware somehow. Closing for now.",
      "created_at" : "2021-12-19T00:02:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19790#issuecomment-997302374",
      "id" : 997302374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19790",
      "node_id" : "IC_kwDOABII5847caBm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997302374/reactions"
      },
      "updated_at" : "2021-12-19T00:02:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997302374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
