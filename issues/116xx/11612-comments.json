[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If it should be technically possible, I would suggest to add the endtime of the ban to the according debug.log ban message, e.g.\r\n\r\n`YYYY-MM-DD HH:MM:SS Misbehaving: 1.2.3.4:12345 peer=1234 (0 -> 100) BAN THRESHOLD EXCEEDED. Peer banned until YYYY-MM-DD HH:MM:SS`",
      "created_at" : "2017-11-05T21:19:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11612#issuecomment-342006602",
      "id" : 342006602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11612",
      "updated_at" : "2017-11-05T21:19:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342006602",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8447873?v=4",
         "events_url" : "https://api.github.com/users/wodry/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wodry/followers",
         "following_url" : "https://api.github.com/users/wodry/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wodry/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wodry",
         "id" : 8447873,
         "login" : "wodry",
         "organizations_url" : "https://api.github.com/users/wodry/orgs",
         "received_events_url" : "https://api.github.com/users/wodry/received_events",
         "repos_url" : "https://api.github.com/users/wodry/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wodry/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wodry/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wodry"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "`CConnman::DumpData()` is called every 15 mins which is the only call that can sweep (clean) the ban-list (expect of an active ban/unban).\r\nBut your offset looks like you have a delta of 28 minutes.... \r\nThe problem is that the periodic sweep call does not update the UI.\r\nYour peer was probably unbanned already (the UI was not up to date).\r\nWorking on a fix...",
      "created_at" : "2017-11-06T02:25:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11612#issuecomment-342030008",
      "id" : 342030008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11612",
      "updated_at" : "2017-11-06T02:25:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342030008",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Does #11457 change the behavior here? (@theuni).\n\nOn November 5, 2017 9:25:15 PM EST, Jonas Schnelli <notifications@github.com> wrote:\n>`CConnman::DumpData()` is called every 15 mins which is the only call\n>that can sweep (clean) the ban-list (expect of an active ban/unban).\n>But your offset looks like you have a delta of 28 minutes.... \n>The problem is that the periodic sweep call does not update the UI.\n>Your peer was probably unbanned already (the UI was not up to date).\n>Working on a fix...\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/11612#issuecomment-342030008\n",
      "created_at" : "2017-11-06T02:27:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11612#issuecomment-342030288",
      "id" : 342030288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11612",
      "updated_at" : "2017-11-06T02:27:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342030288",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think it's fixed in #11457 because the missing signal call in SweepBanned() is also missing there...",
      "created_at" : "2017-11-06T02:34:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11612#issuecomment-342031070",
      "id" : 342031070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11612",
      "updated_at" : "2017-11-06T02:34:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342031070",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I can confirm, that while both peers still show up as banned as the screenshot shows, the output of the rpc call `listbanned` is `[]`, so I guess there is actually no banned peer.\r\n\r\n> Your peer was probably unbanned already (the UI was not up to date).\r\n\r\nBTW what about logging a ban release in the debug.log? Like `Peer x released from ban.` I did not find a message like this for the formerly banned IP, only the ban itself (\"Threshold exceeded\") and then some  lines `connection from <banned IP:port> dropped (banned)`.",
      "created_at" : "2017-11-06T04:43:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11612#issuecomment-342045332",
      "id" : 342045332,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11612",
      "updated_at" : "2017-11-06T04:43:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342045332",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8447873?v=4",
         "events_url" : "https://api.github.com/users/wodry/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wodry/followers",
         "following_url" : "https://api.github.com/users/wodry/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wodry/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wodry",
         "id" : 8447873,
         "login" : "wodry",
         "organizations_url" : "https://api.github.com/users/wodry/orgs",
         "received_events_url" : "https://api.github.com/users/wodry/received_events",
         "repos_url" : "https://api.github.com/users/wodry/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wodry/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wodry/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wodry"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, I don't think #11457 changes this behavior (it's intended to not change any behavior, really).\r\n\r\n@wodry SweepBanned() does log something like that, so you should be able to see this once the bug is fixed.",
      "created_at" : "2017-11-07T19:02:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11612#issuecomment-342587019",
      "id" : 342587019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11612",
      "updated_at" : "2017-11-07T19:02:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342587019",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "This has happened to me too, the listbanned RPC shows an empty list, which suggest that the issue is within the GUI. Restarting bitcoin core or using Right click > Unban on any node on the GUI seem to refresh the list and fix it.",
      "created_at" : "2017-11-09T10:42:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11612#issuecomment-343116415",
      "id" : 343116415,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11612",
      "updated_at" : "2017-11-09T10:42:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343116415",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/11365204?v=4",
         "events_url" : "https://api.github.com/users/Victorsueca/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Victorsueca/followers",
         "following_url" : "https://api.github.com/users/Victorsueca/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Victorsueca/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Victorsueca",
         "id" : 11365204,
         "login" : "Victorsueca",
         "organizations_url" : "https://api.github.com/users/Victorsueca/orgs",
         "received_events_url" : "https://api.github.com/users/Victorsueca/received_events",
         "repos_url" : "https://api.github.com/users/Victorsueca/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Victorsueca/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Victorsueca/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Victorsueca"
      }
   }
]
