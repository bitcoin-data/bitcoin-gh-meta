[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr @promag, would you mind reviewing this revised version? :-)",
      "created_at" : "2017-11-15T15:23:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-344626045",
      "id" : 344626045,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-11-15T15:23:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344626045",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11694#discussion_r151159309"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11694"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151159309"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "My suggestion is to create a function like:\r\n```cpp\r\nbool KeepRunning() {\r\n    LOCK(cs_main);\r\n    assert(chainActive.Tip());\r\n    return chainActive.Tip()->GetBlockHash() == hashWatchedChain && IsRPCRunning();\r\n}\r\n```\r\nAnd here just:\r\n```cpp\r\nwhile (KeepRunning()) {\r\n    ...\r\n}\r\n```",
      "commit_id" : "6e65f35f23337cf0b284acb2bb2ec038ae83aeca",
      "created_at" : "2017-11-15T15:29:25Z",
      "diff_hunk" : "@@ -479,7 +479,12 @@ UniValue getblocktemplate(const JSONRPCRequest& request)\n             checktxtime = std::chrono::steady_clock::now() + std::chrono::minutes(1);\n \n             WaitableLock lock(csBestBlock);\n-            while (chainActive.Tip()->GetBlockHash() == hashWatchedChain && IsRPCRunning())\n+            bool keepRunning;\n+            {\n+                LOCK(cs_main);\n+                keepRunning = chainActive.Tip()->GetBlockHash() == hashWatchedChain && IsRPCRunning();\n+            }\n+            while (keepRunning)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#discussion_r151159309",
      "id" : 151159309,
      "original_commit_id" : "dbb4a14c7a5a656de2e3d9908d32a502f830711f",
      "original_position" : 10,
      "path" : "src/rpc/mining.cpp",
      "position" : null,
      "pull_request_review_id" : 76821740,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11694",
      "updated_at" : "2017-11-15T16:43:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151159309",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Restarted travis job.",
      "created_at" : "2017-11-15T16:11:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-344642334",
      "id" : 344642334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-11-15T16:11:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344642334",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The whole point of csBestBlock was that we shouldn't need cs_main to simply check the best block. It looks like the logic for that got lost somewhere, and I'm not sure we're even safe from races anymore. :(\r\n\r\nSuggest instead of this, fixing csBestBlock so it is sufficient/works.",
      "created_at" : "2017-11-15T16:43:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-344652882",
      "id" : 344652882,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-11-15T16:43:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344652882",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag Now using a lambda to keep it DRY - please re-review :-)",
      "created_at" : "2017-11-15T16:45:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-344653344",
      "id" : 344653344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-11-15T16:47:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344653344",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr Do you mean that fixing this make things worse? If so, please describe why :-)\r\n\r\nI'm not familiar with the `csBestBlock` issue you are describing, so I'm afraid I'll have to leave fixing that to someone else :-)",
      "created_at" : "2017-11-21T19:08:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-346129546",
      "id" : 346129546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-11-21T19:10:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346129546",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Pinging @luke-jr :-)",
      "created_at" : "2017-11-30T08:32:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-348117755",
      "id" : 348117755,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-11-30T08:32:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/348117755",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "No reason to wait on a \"better fix\" before merging this. Lets just merge and then @luke-jr can fix it in the way he wants in a cleanup follow-up.\r\n\r\nutACK 6e65f35f23337cf0b284acb2bb2ec038ae83aeca",
      "created_at" : "2017-12-04T17:58:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-349047928",
      "id" : 349047928,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-12-04T17:58:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349047928",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I agree with @luke-jr on this one. I'd rather fix it to use csBestBlock properly than waste the time figuring out the possible impact of locking cs_main in the loop.",
      "created_at" : "2017-12-04T18:42:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-349062038",
      "id" : 349062038,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-12-04T18:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349062038",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@theuni i find the current code relatively readable, and I'm really not at all sure what \"fixing csBestBlock\" means, given a condition variable is allowed to wake up spuriously whenever it wants.",
      "created_at" : "2017-12-04T18:45:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-349063020",
      "id" : 349063020,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-12-04T18:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349063020",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@TheBlueMatt as @luke-jr mentioned, presumably cvBlockChange was at one point paired with a uint256 reflecting the miner's best known hash, which at some point got removed. We shouldn't need to take cs_main to check whether the new tip matches the cached one.\r\n\r\n",
      "created_at" : "2017-12-04T19:06:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-349070425",
      "id" : 349070425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-12-04T19:06:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349070425",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If the scope of this grows beyond this PR's goal of fixing the missing `cs_main` lock I'm afraid I'll have to leave that for others to fix. Let me know when a fix for the issue described by @luke-jr is available and I'll close this PR.\r\n\r\nIf that is something that is unlikely to happen soon I'd vote for merging this fix while waiting for a future better fix.",
      "created_at" : "2017-12-04T19:28:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-349077835",
      "id" : 349077835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-12-04T19:30:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349077835",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@theuni \"fixing\" cvBlockChanged/csBestBlock probably means wholesale removing it and replacing it with appropriate event listeners, but for that, I think, we (realistically) need to beef up the infrastructure behind CValidationInterface so that we dont end up with wallet or other things blocking each other just because they're all on the validation interface (or add some new interface for this stuff that isnt \"call into RPC stuff from inside ConnectBlock\"), but unless you want to do that, I really think it shouldnt block a simple lock fix.",
      "created_at" : "2017-12-04T19:53:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-349085011",
      "id" : 349085011,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-12-04T19:53:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349085011",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, since we re-lock cs_main before returning anyway, and since cs_main being locked for any notable period of time after a legitimate cvBlockChange notification would likely indicate a rapid 2nd block anyway, I suppose no regressions would be introduced.\r\n\r\nSo, -0 to 6e65f35f23337cf0b284acb2bb2ec038ae83aeca. Looks correct to fix the unguarded access.",
      "created_at" : "2017-12-04T20:15:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-349091379",
      "id" : 349091379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2017-12-04T20:15:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349091379",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Any chance of getting this merged? :-)",
      "created_at" : "2018-03-14T20:02:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-373155836",
      "id" : 373155836,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2018-03-14T20:02:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373155836",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag Good suggestion. Please re-review!\r\n\r\n@TheBlueMatt @theuni Would you mind re-reviewing in light of the latest commit? :-)",
      "created_at" : "2018-03-14T22:26:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-373195606",
      "id" : 373195606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2018-03-14T22:26:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373195606",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Here is an alternative: #12743",
      "created_at" : "2018-03-21T04:06:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-374829288",
      "id" : 374829288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2018-03-21T04:06:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374829288",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing in favour of #12743 which is a better alternative :-)",
      "created_at" : "2018-03-21T07:09:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11694#issuecomment-374849379",
      "id" : 374849379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11694",
      "updated_at" : "2018-03-21T07:09:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374849379",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
