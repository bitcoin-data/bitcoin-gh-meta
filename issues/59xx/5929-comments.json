[
   {
      "body" : "I'm concerned that the diff between this and the prior version is about 750kloc, it's huge even with whitespace elimination. It's basically unreviewable. We need to let the OpenSSL project know that this is unacceptable in an urgent security update backport release.",
      "created_at" : "2015-03-19T17:27:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5929#issuecomment-83684974",
      "id" : 83684974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5929",
      "updated_at" : "2015-03-19T17:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/83684974",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Yes, it's crazy.\r\n",
      "created_at" : "2015-03-19T17:36:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5929#issuecomment-83689399",
      "id" : 83689399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5929",
      "updated_at" : "2015-03-19T17:36:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/83689399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "FWIW, Gentoo's security team believes this patch backports only the security fixes to 1.0.1l: http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/dev-libs/openssl/files/openssl-1.0.1l-CVE-2015-0286.patch?revision=1.1\r\nSee also: https://bugs.gentoo.org/show_bug.cgi?id=543552",
      "created_at" : "2015-03-21T15:16:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5929#issuecomment-84370072",
      "id" : 84370072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5929",
      "updated_at" : "2015-03-21T15:17:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/84370072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Debian is apparently doing the same thing.",
      "created_at" : "2015-03-21T21:46:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5929#issuecomment-84456427",
      "id" : 84456427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5929",
      "updated_at" : "2015-03-21T21:46:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/84456427",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@luke-jr thanks for pointing that out.\r\n\r\nHere's a change to take Gentoo's patch rather than 1.0.1m if we decide to go that route. Seems like a sane approach to me, but the patch would need a thorough audit first.\r\n\r\nhttps://github.com/theuni/bitcoin/commit/3b0c532c5985aa3744706108a5b8efb91698db27",
      "created_at" : "2015-03-22T13:34:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5929#issuecomment-84608932",
      "id" : 84608932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5929",
      "updated_at" : "2015-03-22T13:34:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/84608932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "As discussed on IRC:\r\nIt looks like Gentoo only went for a subset of the changes.\r\n\r\nI did my own quick+dirty backport based on changes presented in the changelog. I don't claim that it's correct (probably far from it), but it illustrates the differences and the approach we may wish to use instead: https://github.com/theuni/openssl/tree/OpenSSL_1_0_1m-backport\r\n\r\nCompared to gentoo's patch: https://gist.github.com/theuni/10a5345be3ef2daf1d70\r\n- Gentoo modified ASN1_item_d2i() in crypto/asn1/tasn_dec.c in a way that differs from upstream. I'm not sure where theirs comes from.\r\n- Gentoo misses CVE-2015-0288: https://github.com/openssl/openssl/commit/51527f1e3564f210e984fe5b654c45d34e4f03d7\r\n- Gentoo misses https://github.com/openssl/openssl/commit/bc2e18a3c818ae7e2d8c996b6648aa4ae8e3ee28. No CVE here, but it was necessary to take before cd56a08d4e1dcae6a0ad8a5b39512fb80ccd1b73 for CVE-2015-0293.\r\n- Gentoo misses https://github.com/openssl/openssl/commit/8ca79fcbf45ea2ed505679be20e1a8a4c3df07cf (Part of CVE-2015-0293. I'm unsure if this is only cosmetic)\r\n- Gentoo misses https://github.com/openssl/openssl/commit/a4517be9e348634ac64f9cf093131e13e8c03e38. Follow-up of CVE-2015-0209. Doesn't look significant.\r\n\r\nI'm not at all familiar with the openssl codebase and certainly not qualified to do the backporting, the above is just an at-a-glance review.",
      "created_at" : "2015-03-23T18:56:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5929#issuecomment-85144187",
      "id" : 85144187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5929",
      "updated_at" : "2015-03-23T18:56:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/85144187",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "> I'm not at all familiar with the openssl codebase and certainly not qualified to do the backporting\r\n\r\nSame here. I'm not at all happy to get into the maintenance of OpenSSL forks. It is so easy to get something wrong, as Debian did back with the entropy issue. If we think 1.0.1m is too risky compared to the fixes, I'd rather just forego the version bump (and work harder on getting rid of OpenSSL).",
      "created_at" : "2015-03-24T09:59:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5929#issuecomment-85428647",
      "id" : 85428647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5929",
      "updated_at" : "2015-03-24T10:00:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/85428647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Closing this, seems not worth the risk.\r\n",
      "created_at" : "2015-03-30T12:35:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5929#issuecomment-87661683",
      "id" : 87661683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5929",
      "updated_at" : "2015-03-30T12:35:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/87661683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
