{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "<!-- This issue tracker is only for technical issues related to Bitcoin Core.\r\n\r\nGeneral bitcoin questions and/or support requests are best directed to the Bitcoin StackExchange at https://bitcoin.stackexchange.com.\r\n\r\nFor reporting security issues, please read instructions at https://bitcoincore.org/en/contact/.\r\n\r\nIf the node is \"stuck\" during sync or giving \"block checksum mismatch\" errors, please ensure your hardware is stable by running memtest and observe CPU temperature with a load-test tool such as linpack before creating an issue! -->\r\n\r\n**Describe the issue**\r\n\r\nLast year, I made transactions from 1-addresses to P2SH 3-addresses generated from a different address than the sending address, but within the same wallet. Now, in another wallet.dat with the same keys, the old (empty) 1-addresses with no balance read as inputs in the spend window coin selection section, underneath them is the P2SH address that received the funds. This is very confusing. As this is a backup wallet, it seems to lump together the 'sent from' address with the receiving P2SH address. \r\n\r\nedit: when expanding on the inputs in tree-mode, I do see the 3-addresses as inputs. \r\n\r\n**What behavior did you expect?**\r\n\r\nHave the Bitcoin client automatically read the address which the P2SH address was generated from in the coin spend section, since the client reads it received funds on there, even though it was sent to a generated P2SH address. \r\n\r\n**What version of Bitcoin Core are you using, where did you get it (website, self-compiled, etc)?**\r\n\r\nBitcoin Core 14.2 / 16.0 binaries linux.\r\n\r\n**What type of machine are you observing the error on (OS/CPU and disk type)?**\r\n\r\nUbuntu 14.04\r\n\r\n",
   "closed_at" : "2018-09-24T21:06:01Z",
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13904/comments",
   "created_at" : "2018-08-07T16:50:31Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13904/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/13904",
   "id" : 348404044,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13904/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWUzNDg0MDQwNDQ=",
   "number" : 13904,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "1-addresses with no balance read as inputs if 'addwitnessaddress' was used",
   "updated_at" : "2018-09-24T21:06:01Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13904",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/10137?v=4",
      "events_url" : "https://api.github.com/users/ghost/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ghost/followers",
      "following_url" : "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ghost/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ghost",
      "id" : 10137,
      "login" : "ghost",
      "node_id" : "MDQ6VXNlcjEwMTM3",
      "organizations_url" : "https://api.github.com/users/ghost/orgs",
      "received_events_url" : "https://api.github.com/users/ghost/received_events",
      "repos_url" : "https://api.github.com/users/ghost/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ghost/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ghost"
   }
}
