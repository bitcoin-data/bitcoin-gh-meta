[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16106](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16106.html) (gui: Sort wallets in open wallet menu by promag)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-06-18T18:45:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16231#issuecomment-503262975",
      "id" : 503262975,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16231",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMzI2Mjk3NQ==",
      "updated_at" : "2019-06-18T18:45:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503262975",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 5224be5a3354e1a22ea4d7f0e40aadfccdf67064, I have tested the code on Bionic with Qt 5.12.4.\r\n",
      "created_at" : "2019-06-21T18:37:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16231#issuecomment-504529440",
      "id" : 504529440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16231",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNDUyOTQ0MA==",
      "updated_at" : "2019-06-21T18:37:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504529440",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag apologies, will review this tomorrow.",
      "created_at" : "2019-06-22T16:07:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16231#issuecomment-504677955",
      "id" : 504677955,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16231",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNDY3Nzk1NQ==",
      "updated_at" : "2019-06-22T16:07:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504677955",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag Thanks for following up here, and sorry for the slow review..\r\n\r\nI've tested that this change fixes the `File -> Open Wallet -> ` behaviour (https://github.com/bitcoin/bitcoin/issues/16230):\r\n\r\n![file_open](https://user-images.githubusercontent.com/863730/59974835-21e0b480-95e3-11e9-861e-f7c2cc01a211.png)\r\n\r\nI've also checked that with this change on top of `master` (2cbcc55ba6aea26d64eae3981b83dac04f70240f), the `File` menu is still disabled during load (#16118):\r\n\r\n![no_use_before_load](https://user-images.githubusercontent.com/863730/59974840-38870b80-95e3-11e9-9388-97f7ac765466.png)\r\n\r\nYou've mentioned in some other PRs that going forward, when we are testing GUI changes we should be using `QT_FATAL_WARNINGS=1`. When I use that env variable with this PR, `bitcoin-qt` segfaults when it finishes loading:\r\n```bash\r\nlldb Bitcoin-Qt.app\r\n(lldb) target create \"Bitcoin-Qt.app\"\r\nCurrent executable set to 'Bitcoin-Qt.app' (x86_64).\r\n(lldb) env QT_FATAL_WARNINGS=1\r\n(lldb) run\r\nProcess 23386 launched: '/Users/michael/github/bitcoin/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt' (x86_64)\r\n2019-06-23 18:21:14.578614+0800 Bitcoin-Qt[23386:57844] MessageTracer: Falling back to default whitelist\r\nProcess 23386 stopped\r\n* thread #1, name = 'bitcoin-main', queue = 'com.apple.main-thread', stop reason = signal SIGABRT\r\n    frame #0: 0x00007fff7e3be2c6 libsystem_kernel.dylib`__pthread_kill + 10\r\nlibsystem_kernel.dylib`__pthread_kill:\r\n->  0x7fff7e3be2c6 <+10>: jae    0x7fff7e3be2d0            ; <+20>\r\n    0x7fff7e3be2c8 <+12>: movq   %rax, %rdi\r\n    0x7fff7e3be2cb <+15>: jmp    0x7fff7e3b8457            ; cerror_nocancel\r\n    0x7fff7e3be2d0 <+20>: retq   \r\nTarget 0: (Bitcoin-Qt) stopped.\r\n```",
      "created_at" : "2019-06-23T10:23:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16231#issuecomment-504738607",
      "id" : 504738607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16231",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNDczODYwNw==",
      "updated_at" : "2019-06-23T10:23:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504738607",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fanquake \r\n> You've mentioned in some other PRs that going forward, when we are testing GUI changes we should be using QT_FATAL_WARNINGS=1. When I use that env variable with this PR, bitcoin-qt segfaults when it finishes loading...\r\n\r\nIt seems unrelated to this PR as warnings could be produced by the internal Qt code. To verify you could launch:\r\n```\r\nQT_FATAL_WARNINGS=7 bitcoin-qt -debug=qt\r\n```\r\n\r\nand check out warnings in the `debug.log`.",
      "created_at" : "2019-06-23T10:33:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16231#issuecomment-504739299",
      "id" : 504739299,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16231",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNDczOTI5OQ==",
      "updated_at" : "2019-06-23T10:34:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504739299",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@hebasto Thanks. I had just about figured that out myself, as the debug.log was always cutting off at:\r\n```\r\n2019-06-23T10:21:21Z UpdateTip: new best=000000000000000000b6a9e3c4aa5619a48023818df48f757f8fff650b51de85 height=494994 version=0x20000002 log2_work=87.490425 tx=272517027 date='2017-11-18T23:38:38Z' progress=0.642811 cache=4.2MiB(31387txo)\r\n2019-06-23T10:21:21Z UpdateTip: new best=000000000000000000aa16a81a9b3b74f47f07bd6184705a3525e8325dffa54f height=494995 version=0x20000000 log2_work=87.490464 tx=272519017 date='2017-11-19T00:03:10Z' progress=0.642816 cache=5.2MiB(39744txo)\r\n2019-06-23T10:21:21Z UpdateTip: new best=00000000000000000076be6678a2efa7793f98900ac0490863514f291e0f90f8 height=494996 version=0x20000000 log2_work=87.490502 tx=272519980 date='2017-11-19T00:03:48Z' progress=0.642818 cache=6.1MiB(47055txo)\r\n2019-06-23T10:21:21Z GUI: Platform customization: \"macosx\"\r\n```\r\n\r\nSo yes, that seems unrelated to this PR, and the changes in #16263 look good.",
      "created_at" : "2019-06-23T10:36:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16231#issuecomment-504739479",
      "id" : 504739479,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16231",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNDczOTQ3OQ==",
      "updated_at" : "2019-06-23T10:36:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504739479",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fanquake \r\n>  I had just about figured that out myself, as the debug.log was always cutting off at:\r\n> \r\n> ```\r\n> 2019-06-23T10:21:21Z UpdateTip: new best=000000000000000000b6a9e3c4aa5619a48023818df48f757f8fff650b51de85 height=494994 version=0x20000002 log2_work=87.490425 tx=272517027 date='2017-11-18T23:38:38Z' progress=0.642811 cache=4.2MiB(31387txo)\r\n> 2019-06-23T10:21:21Z UpdateTip: new best=000000000000000000aa16a81a9b3b74f47f07bd6184705a3525e8325dffa54f height=494995 version=0x20000000 log2_work=87.490464 tx=272519017 date='2017-11-19T00:03:10Z' progress=0.642816 cache=5.2MiB(39744txo)\r\n> 2019-06-23T10:21:21Z UpdateTip: new best=00000000000000000076be6678a2efa7793f98900ac0490863514f291e0f90f8 height=494996 version=0x20000000 log2_work=87.490502 tx=272519980 date='2017-11-19T00:03:48Z' progress=0.642818 cache=6.1MiB(47055txo)\r\n> 2019-06-23T10:21:21Z GUI: Platform customization: \"macosx\"\r\n> ```\r\n\r\nThis case has been fixed in #16263 ;)",
      "created_at" : "2019-06-23T10:43:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16231#issuecomment-504739904",
      "id" : 504739904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16231",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNDczOTkwNA==",
      "updated_at" : "2019-06-23T10:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504739904",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
