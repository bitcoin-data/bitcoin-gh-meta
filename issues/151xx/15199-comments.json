[
   {
      "author_association" : "MEMBER",
      "body" : "I prefer the readability and robustness of the existing code -- it seems error-prone to rely on behavior of `strncpy` that I think many developers may not be familiar with, in particular if that code were changed I could imagine reviewers overlooking the `memset()` issue.\r\n\r\nI think my concern could be addressed by adding a comment above the call to `strncpy` and ensuring we have a test that would fail if this behavior were broken (is that already the case?).",
      "created_at" : "2019-01-18T11:42:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15199#issuecomment-455519239",
      "id" : 455519239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15199",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NTUxOTIzOQ==",
      "updated_at" : "2019-01-18T11:42:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/455519239",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "NACK.\r\n\r\nI prefer the current code, too. I see no need to change this.\r\nSee, this concerns a very small buffer, if ti'd be megabytes of memory and a potential performance impact it might be different.\r\n\r\nEdit: note that I've actually seen issues in the wild where clients didn't properly clear the command field and it leaked a bit of memory. Better to be sure than sorry here.",
      "created_at" : "2019-01-18T14:40:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15199#issuecomment-455568100",
      "id" : 455568100,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15199",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NTU2ODEwMA==",
      "updated_at" : "2019-01-18T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/455568100",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "May I replace `strncpy` with `memcpy` then? That'd silence a -pedantic warning.",
      "created_at" : "2019-01-18T14:44:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15199#issuecomment-455569239",
      "id" : 455569239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15199",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NTU2OTIzOQ==",
      "updated_at" : "2019-01-18T14:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/455569239",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/23437045?v=4",
         "events_url" : "https://api.github.com/users/DesWurstes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DesWurstes/followers",
         "following_url" : "https://api.github.com/users/DesWurstes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DesWurstes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DesWurstes",
         "id" : 23437045,
         "login" : "DesWurstes",
         "node_id" : "MDQ6VXNlcjIzNDM3MDQ1",
         "organizations_url" : "https://api.github.com/users/DesWurstes/orgs",
         "received_events_url" : "https://api.github.com/users/DesWurstes/received_events",
         "repos_url" : "https://api.github.com/users/DesWurstes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DesWurstes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DesWurstes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DesWurstes"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nah, I'd say, if you contribute, please make changes that fix user-facing issues. This just isn't worth the overhead IMO.",
      "created_at" : "2019-01-18T15:13:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15199#issuecomment-455579045",
      "id" : 455579045,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15199",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NTU3OTA0NQ==",
      "updated_at" : "2019-01-18T15:13:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/455579045",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
