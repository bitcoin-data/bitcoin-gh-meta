[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15181#discussion_r248576199"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15181"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/248576199"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please choose another variable name to avoid shadowing function `help` :-)",
      "commit_id" : "d87e40afd7f1e0b58f1420773ee6b198bbfdd01b",
      "created_at" : "2019-01-17T08:30:21Z",
      "diff_hunk" : "@@ -567,8 +569,17 @@ std::string HelpExampleCli(const std::string& methodname, const std::string& arg\n \n std::string HelpExampleRpc(const std::string& methodname, const std::string& args)\n {\n-    return \"> curl --user myusername --data-binary '{\\\"jsonrpc\\\": \\\"1.0\\\", \\\"id\\\":\\\"curltest\\\", \"\n-        \"\\\"method\\\": \\\"\" + methodname + \"\\\", \\\"params\\\": [\" + args + \"] }' -H 'content-type: text/plain;' http://127.0.0.1:8332/\\n\";\n+    const int rpcPort = gArgs.GetArg(\"-rpcport\", BaseParams().RPCPort());\n+\n+    std::ostringstream help;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15181#discussion_r248576199",
      "id" : 248576199,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0ODU3NjE5OQ==",
      "original_commit_id" : "acefa70702b73ca1e290027167f908901c3a7e1e",
      "original_position" : 29,
      "path" : "src/rpc/server.cpp",
      "position" : null,
      "pull_request_review_id" : 193504161,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15181",
      "updated_at" : "2019-01-18T07:01:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/248576199",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15181#discussion_r248943535"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15181"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/248943535"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed, another good catch!  Do you have an automated script to check for those shadowing instances? :)",
      "commit_id" : "d87e40afd7f1e0b58f1420773ee6b198bbfdd01b",
      "created_at" : "2019-01-18T07:02:10Z",
      "diff_hunk" : "@@ -567,8 +569,17 @@ std::string HelpExampleCli(const std::string& methodname, const std::string& arg\n \n std::string HelpExampleRpc(const std::string& methodname, const std::string& args)\n {\n-    return \"> curl --user myusername --data-binary '{\\\"jsonrpc\\\": \\\"1.0\\\", \\\"id\\\":\\\"curltest\\\", \"\n-        \"\\\"method\\\": \\\"\" + methodname + \"\\\", \\\"params\\\": [\" + args + \"] }' -H 'content-type: text/plain;' http://127.0.0.1:8332/\\n\";\n+    const int rpcPort = gArgs.GetArg(\"-rpcport\", BaseParams().RPCPort());\n+\n+    std::ostringstream help;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15181#discussion_r248943535",
      "id" : 248943535,
      "in_reply_to_id" : 248576199,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0ODk0MzUzNQ==",
      "original_commit_id" : "acefa70702b73ca1e290027167f908901c3a7e1e",
      "original_position" : 29,
      "path" : "src/rpc/server.cpp",
      "position" : null,
      "pull_request_review_id" : 193968770,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15181",
      "updated_at" : "2019-01-18T07:02:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/248943535",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm really sorry to say, but again this introduces an unwanted dependency.\r\n`rpcserver` is supposed to be more or less independent of bitcoin (or -coin specific stuff), which includes the chain.",
      "created_at" : "2019-01-22T10:00:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15181#issuecomment-456340074",
      "id" : 456340074,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjM0MDA3NA==",
      "updated_at" : "2019-01-22T10:00:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456340074",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I'm really sorry to say, but again this introduces an unwanted dependency.\r\n> `rpcserver` is supposed to be more or less independent of bitcoin (or -coin specific stuff), which includes the chain.\r\n\r\nWell, then I guess there is no way at all to do what I'm trying to do here.\r\n\r\nWhy do you think such a (simple) code dependency is so bad, considering that there is already a semantic dependency anyway (by having that `curl` example in the first place)?",
      "created_at" : "2019-01-22T14:46:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15181#issuecomment-456425150",
      "id" : 456425150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjQyNTE1MA==",
      "updated_at" : "2019-01-22T14:46:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456425150",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Why do you think such a (simple) code dependency is so bad, considering that there is already a semantic dependency anyway (by having that curl example in the first place)?\r\n\r\nLook, I'm not going to back down on keeping the architecture clean here. It should in principle be possible to copy `rpc/server.cpp` to another project and have it still work. A curl example would still be valid as long as there is a http frontend, but it might use a different way to determine the port to listen on than bitcoin does.\r\n\r\nI think it is possible to do this without introducing any new dependencies by making `httprpc`, which knows about both HTTP and RPC, request the port number from `http` and then tell the `rpc_server` module about which port number to use in the help.\r\n",
      "created_at" : "2019-01-22T16:15:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15181#issuecomment-456459447",
      "id" : 456459447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjQ1OTQ0Nw==",
      "updated_at" : "2019-01-22T16:15:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456459447",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think it is possible to do this without introducing any new dependencies by making `httprpc`, which knows about both HTTP and RPC, request the port number from `http` and then tell the `rpc_server` module about which port number to use in the help.\r\n\r\nThat seems like overengineering to me - but I'm happy to do whatever you prefer.  I guess we have two remaining options:\r\n\r\n1. Just drop this and leave it the way it is.\r\n2. Do what you suggest - make the port (or perhaps bind address again) a variable that is set from the HTTP RPC server.\r\n\r\nDo you like 2), or is that too much complexity for little benefit?  I think this is something that would be nice to fix, but I'm perfectly happy to go with 1) as well if that's what you and others prefer.",
      "created_at" : "2019-01-22T18:34:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15181#issuecomment-456511985",
      "id" : 456511985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjUxMTk4NQ==",
      "updated_at" : "2019-01-22T18:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456511985",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> That seems like overengineering to me - but I'm happy to do whatever you prefer. I guess we have two remaining options:\r\n\r\nIMO it's not over-engineering if it's simply working within the constraints of the architecture. It will become a mess if we start to add dependencies from every single thing to everything else, certainly for what is only a slight documentation improvement.\r\n\r\nI'm okay with both options.",
      "created_at" : "2019-01-24T15:55:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15181#issuecomment-457248719",
      "id" : 457248719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NzI0ODcxOQ==",
      "updated_at" : "2019-01-24T15:55:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/457248719",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the feedback - I've implemented option 2) now in #15259.",
      "created_at" : "2019-01-25T09:37:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15181#issuecomment-457513238",
      "id" : 457513238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NzUxMzIzOA==",
      "updated_at" : "2019-01-25T09:37:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/457513238",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   }
]
