[
   {
      "author_association" : "MEMBER",
      "body" : "Would it be possible to run the program in valgrind and reproduce the crash? You'd have to start it in the terminal: If you start it with `bitcoin-qt`, then you'd run `valgrind bitcoin-qt`.",
      "created_at" : "2019-01-08T08:27:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15125#issuecomment-452213754",
      "id" : 452213754,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15125",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MjIxMzc1NA==",
      "updated_at" : "2019-01-08T08:27:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/452213754",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I no longer can reproduce it after upgrading to 0.17.1 (below is the output from 0.17.0.1 for reference).\r\n\r\nWhen I send a transaction with a custom change address in 0.17.1, and then try to use \"replace by fee\", it says \"Transaction does not have a change output\", so even though I do can use a custom change address in 0.17.1, it doesn't really count as change, at least the \"Fee bump error\" pop-up doesn't think it does.\r\n\r\nThis is the requested output from `valgrind bitcoin-qt`, Core 0.17.0.1, testnet:\r\n\r\n>bitcoin-qt: policy/feerate.cpp:25: CAmount CFeeRate::GetFee(size_t) const: Assertion `nBytes_ <= uint64_t(std::numeric_limits<int64_t>::max())' failed.\r\n==1104== \r\n==1104== Process terminating with default action of signal 6 (SIGABRT)\r\n==1104==    at 0x4EDB077: raise (raise.c:51)\r\n==1104==    by 0x4EBC534: abort (abort.c:79)\r\n==1104==    by 0x4EBC40E: __assert_fail_base.cold.0 (assert.c:92)\r\n==1104==    by 0x4ECC141: __assert_fail (assert.c:101)\r\n==1104==    by 0x73591E: ??? (in /home/wiktor/.programy/bitcoin-0.17.0/bin/bitcoin-qt)\r\n==1104==    by 0x617DFF: ??? (in /home/wiktor/.programy/bitcoin-0.17.0/bin/bitcoin-qt)\r\n==1104==    by 0x626602: ??? (in /home/wiktor/.programy/bitcoin-0.17.0/bin/bitcoin-qt)\r\n==1104==    by 0x628510: ??? (in /home/wiktor/.programy/bitcoin-0.17.0/bin/bitcoin-qt)\r\n==1104==    by 0x5B33C0: ??? (in /home/wiktor/.programy/bitcoin-0.17.0/bin/bitcoin-qt)\r\n==1104==    by 0x2E9E5F: ??? (in /home/wiktor/.programy/bitcoin-0.17.0/bin/bitcoin-qt)\r\n==1104==    by 0x32BCA7: ??? (in /home/wiktor/.programy/bitcoin-0.17.0/bin/bitcoin-qt)\r\n==1104==    by 0x2F771C: ??? (in /home/wiktor/.programy/bitcoin-0.17.0/bin/bitcoin-qt)\r\n==1104== \r\n==1104== HEAP SUMMARY:\r\n==1104==     in use at exit: 428,798,266 bytes in 3,170,688 blocks\r\n==1104==   total heap usage: 10,077,057 allocs, 6,906,369 frees, 1,316,274,049 bytes allocated\r\n==1104== \r\n==1104== LEAK SUMMARY:\r\n==1104==    definitely lost: 8,392,294 bytes in 75,050 blocks\r\n==1104==    indirectly lost: 352 bytes in 3 blocks\r\n==1104==      possibly lost: 14,854,323 bytes in 6,244 blocks\r\n==1104==    still reachable: 405,551,297 bytes in 3,089,391 blocks\r\n==1104==                       of which reachable via heuristic:\r\n==1104==                         newarray           : 6,288 bytes in 117 blocks\r\n==1104==                         multipleinheritance: 448 bytes in 3 blocks\r\n==1104==         suppressed: 0 bytes in 0 blocks\r\n==1104== Rerun with --leak-check=full to see details of leaked memory\r\n==1104== \r\n==1104== For counts of detected and suppressed errors, rerun with: -v\r\n==1104== Use --track-origins=yes to see where uninitialised values come from\r\n==1104== ERROR SUMMARY: 425933 errors from 352 contexts (suppressed: 0 from 0)\r\nAborted (core dumped)",
      "created_at" : "2019-01-08T19:35:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15125#issuecomment-452424533",
      "id" : 452424533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15125",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MjQyNDUzMw==",
      "updated_at" : "2019-01-08T19:35:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/452424533",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/19635111?v=4",
         "events_url" : "https://api.github.com/users/syrop/events{/privacy}",
         "followers_url" : "https://api.github.com/users/syrop/followers",
         "following_url" : "https://api.github.com/users/syrop/following{/other_user}",
         "gists_url" : "https://api.github.com/users/syrop/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/syrop",
         "id" : 19635111,
         "login" : "syrop",
         "node_id" : "MDQ6VXNlcjE5NjM1MTEx",
         "organizations_url" : "https://api.github.com/users/syrop/orgs",
         "received_events_url" : "https://api.github.com/users/syrop/received_events",
         "repos_url" : "https://api.github.com/users/syrop/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/syrop/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/syrop/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/syrop"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This looks like one of the bugs that were fixed in 0.17.1.",
      "created_at" : "2019-01-08T21:21:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15125#issuecomment-452455673",
      "id" : 452455673,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15125",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MjQ1NTY3Mw==",
      "updated_at" : "2019-01-08T21:21:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/452455673",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes this looks like the same bug as #14634 which was fixed by #14380.",
      "created_at" : "2019-01-08T23:25:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15125#issuecomment-452488877",
      "id" : 452488877,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15125",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MjQ4ODg3Nw==",
      "updated_at" : "2019-01-08T23:25:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/452488877",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "It is the same situation, as it is also connected to using a custom change address, and I have verified it doesn't occur in 0.17.1.",
      "created_at" : "2019-01-09T09:17:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15125#issuecomment-452626139",
      "id" : 452626139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15125",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MjYyNjEzOQ==",
      "updated_at" : "2019-01-09T09:17:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/452626139",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/19635111?v=4",
         "events_url" : "https://api.github.com/users/syrop/events{/privacy}",
         "followers_url" : "https://api.github.com/users/syrop/followers",
         "following_url" : "https://api.github.com/users/syrop/following{/other_user}",
         "gists_url" : "https://api.github.com/users/syrop/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/syrop",
         "id" : 19635111,
         "login" : "syrop",
         "node_id" : "MDQ6VXNlcjE5NjM1MTEx",
         "organizations_url" : "https://api.github.com/users/syrop/orgs",
         "received_events_url" : "https://api.github.com/users/syrop/received_events",
         "repos_url" : "https://api.github.com/users/syrop/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/syrop/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/syrop/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/syrop"
      }
   }
]
