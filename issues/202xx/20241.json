{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "This function is only used by `TransactionTableModel` constructor which, for big wallets, causes a delay/hang on startup. This is even noticeable in #10102.\r\n\r\nThere's two simple changes to improve this:\r\n 1. defer `getWalletTxs` to when the transactions view is opened\r\n 2. call in a background thread to not block Qt event loop, like wallet loading\r\n\r\nHowever the following issues would still be present:\r\n - doesn't reduce IPC traffic\r\n - keeps a huge lock on `cs_wallet`\r\n - loads the whole wallet in the transaction model unnecessarily (the view only shows a subset)\r\n\r\nConsidering the above, one way to improve is to paginate `getWalletTxs`. \r\n\r\nHowever, `TransactionTableModel` can decomposes each transaction in multiple records, so it's not possible to know beforehand the row count and also because each page of transactions results in an indeterminate number of rows.\r\n\r\nI have 2 different approaches to improve:\r\n\r\n a) manage wallet records on `CWallet` and expose them with `interfaces::Wallet::getRecords` that supports pagination\r\n b) instead of table model, make records children of a row for each txid - this would allow to reopen #12578.\r\n\r\nI'd love to know other's thoughts on this matter. Are the 2 simple changes 1. and 2. enough for the moment?",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20241/comments",
   "created_at" : "2020-10-26T00:28:08Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20241/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/20241",
   "id" : 729153083,
   "labels" : [
      {
         "color" : "7cf575",
         "default" : false,
         "description" : null,
         "id" : 64583,
         "name" : "Feature",
         "node_id" : "MDU6TGFiZWw2NDU4Mw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20241/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU3MjkxNTMwODM=",
   "number" : 20241,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Ditch interfaces::Wallet::getWalletTxs",
   "updated_at" : "2020-10-26T00:29:23Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20241",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
      "events_url" : "https://api.github.com/users/promag/events{/privacy}",
      "followers_url" : "https://api.github.com/users/promag/followers",
      "following_url" : "https://api.github.com/users/promag/following{/other_user}",
      "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/promag",
      "id" : 3534524,
      "login" : "promag",
      "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
      "organizations_url" : "https://api.github.com/users/promag/orgs",
      "received_events_url" : "https://api.github.com/users/promag/received_events",
      "repos_url" : "https://api.github.com/users/promag/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/promag"
   }
}
