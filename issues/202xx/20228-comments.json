[
   {
      "author_association" : "MEMBER",
      "body" : "does it conceptually make sense to have an addrman without connman or connman without addrman? I'd say no.\r\n\r\n> This allows us to eliminate some functions in connman that are simply forwarding\r\n\r\nAn alternative to achieve that would be to let PeerMan steal a reference to addrman from connman (and assign it to m_addrman)",
      "created_at" : "2020-10-23T10:38:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715260032",
      "id" : 715260032,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTI2MDAzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-23T10:38:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715260032",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> This allows us to eliminate some functions in connman that are simply forwarding\r\n\r\nIn general to have things double or more if ( ,,,)  or detrimental decision processes in the same code is a good design in industry where u can kill ppl easy, if there is no double check and just one bit ( that could be just by chance or external forces have flipped ) decides over mayhem.\r\n\r\nIn financials we used to do that the same and wrote \"bad ugly code\". bcs u get no bonus at the years end, if the code \"looks\" good but your customers got screwed. Unless that was ur biz.",
      "created_at" : "2020-10-23T10:57:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715269145",
      "id" : 715269145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTI2OTE0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-23T10:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715269145",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> does it conceptually make sense to have an addrman without connman or connman without addrman? I'd say no.\r\n\r\nWhy not? If `-connect` is set, then we don't use addrman for choosing outbound connections (see `m_use_addrman_outgoing` inside connman). In general, I think being able to run with different components disabled enforces strict separation between components and means there can't be unintentional coupling between them.",
      "created_at" : "2020-10-23T11:47:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715292877",
      "id" : 715292877,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTI5Mjg3Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-23T11:47:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715292877",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed whitespace linter issue",
      "created_at" : "2020-10-23T17:52:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715488401",
      "id" : 715488401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTQ4ODQwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-23T17:52:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715488401",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21527 (NOMERGE: net_processing: orphan handling changes by ajtowns)\n* #21244 (Move GetDataDir to ArgsManager by kiminuo)\n* #20966 (banman: save the banlist in a JSON format on disk by vasild)\n* #19460 (multiprocess: Add bitcoin-wallet -ipcconnect option by ryanofsky)\n* #19160 (multiprocess: Add basic spawn and IPC support by ryanofsky)\n* #10102 ([experimental] Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-10-23T21:25:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715597188",
      "id" : 715597188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTU5NzE4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-25T12:49:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715597188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This doesn't compile on gcc4.8, but we'll drop support for that soon anyway, so the failure can be ignored/rebased out when 22.0 is branched off.",
      "created_at" : "2020-10-24T06:58:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715821653",
      "id" : 715821653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTgyMTY1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-24T06:58:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715821653",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This doesn't compile on gcc4.8\r\n\r\nHopefully fixed",
      "created_at" : "2020-10-24T08:26:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715880510",
      "id" : 715880510,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTg4MDUxMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-24T08:26:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715880510",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-11-03T03:13:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-720881073",
      "id" : 720881073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyMDg4MTA3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-03T03:13:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/720881073",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-11-03T09:02:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-720989229",
      "id" : 720989229,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyMDk4OTIyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-03T09:02:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/720989229",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK",
      "created_at" : "2020-11-12T18:31:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-726259278",
      "id" : 726259278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNjI1OTI3OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-12T18:31:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/726259278",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-11-19T11:28:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-730311462",
      "id" : 730311462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDMxMTQ2Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T11:28:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730311462",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-11-19T16:36:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-730493338",
      "id" : 730493338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDQ5MzMzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T16:36:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730493338",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2020-11-19T17:51:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-730537448",
      "id" : 730537448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDUzNzQ0OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T17:51:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730537448",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r533754270"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533754270"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Look like the fuzzer is complaining about this and needs to be updated to take this additional arg type:\r\n\r\n```\r\ntest/fuzz/connman.cpp:26:14: error: no matching constructor for initialization of 'CConnman'\r\n    CConnman connman{fuzzed_data_provider.ConsumeIntegral<uint64_t>(), fuzzed_data_provider.ConsumeIntegral<uint64_t>(), fuzzed_data_provider.ConsumeBool()};\r\n             ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n./net.h:255:5: note: candidate constructor not viable: no known conversion from 'bool' to 'CAddrMan &' for 3rd argument\r\n    CConnman(uint64_t seed0, uint64_t seed1, CAddrMan& addrman, bool network_active = true);\r\n    ^\r\n./net.h:187:7: note: candidate constructor (the implicit copy constructor) not viable: requires 1 argument, but 3 were provided\r\nclass CConnman\r\n      ^\r\n1 error generated.\r\n```",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2020-12-01T22:09:31Z",
      "diff_hunk" : "@@ -252,7 +252,7 @@ class CConnman\n         m_onion_binds = connOptions.onion_binds;\n     }\n \n-    CConnman(uint64_t seed0, uint64_t seed1, bool network_active = true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r533754270",
      "id" : 533754270,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc1NDI3MA==",
      "original_commit_id" : "c98ddf89f776389bae8813f0749566bc3c8b8dab",
      "original_line" : 248,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 542337975,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533754270",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r536081937"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/536081937"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! Should be fixed now.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2020-12-04T12:59:07Z",
      "diff_hunk" : "@@ -252,7 +252,7 @@ class CConnman\n         m_onion_binds = connOptions.onion_binds;\n     }\n \n-    CConnman(uint64_t seed0, uint64_t seed1, bool network_active = true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r536081937",
      "id" : 536081937,
      "in_reply_to_id" : 533754270,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA4MTkzNw==",
      "original_commit_id" : "c98ddf89f776389bae8813f0749566bc3c8b8dab",
      "original_line" : 248,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 544936461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/536081937",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and fixed fuzz build errors.",
      "created_at" : "2020-12-04T12:59:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-738770960",
      "id" : 738770960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODc3MDk2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-04T12:59:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738770960",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-07T12:15:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-739881825",
      "id" : 739881825,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczOTg4MTgyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T12:15:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739881825",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-12-09T11:12:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-741704350",
      "id" : 741704350,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MTcwNDM1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-09T11:12:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/741704350",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-09T11:51:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-741722688",
      "id" : 741722688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MTcyMjY4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-09T11:51:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/741722688",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-12-10T08:19:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-742361508",
      "id" : 742361508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MjM2MTUwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-10T08:19:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/742361508",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-10T10:11:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-742422041",
      "id" : 742422041,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MjQyMjA0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-10T10:11:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/742422041",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-12-15T14:25:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-745320530",
      "id" : 745320530,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NTMyMDUzMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-15T14:25:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/745320530",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-15T14:43:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-745338349",
      "id" : 745338349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NTMzODM0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-15T14:43:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/745338349",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-18T19:25:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-748277708",
      "id" : 748277708,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0ODI3NzcwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-18T19:25:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/748277708",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-02T13:33:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-753474340",
      "id" : 753474340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MzQ3NDM0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-02T13:33:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753474340",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2021-01-02T14:19:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-753479041",
      "id" : 753479041,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MzQ3OTA0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-02T14:19:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753479041",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think having addrman referenced from both peerman and connman makes much sense -- peerman already has a reference to connman, so avoiding the layering can be done just by letting peerman access connman's addrman directly  -- `m_connman.AddrMan().do_something()`, and that also avoids the potential for peerman and connman somehow getting their addrmans out of sync.\r\n\r\nAs far as better testing of addrman goes, I think that's easy to do without this PR or the above alternative, see https://github.com/bitcoin/bitcoin/pull/20233#issuecomment-755044221\r\n\r\nAs far as disabling addrman goes, I'm not convinced that's a meaningful benefit (most people are going to use it enabled, and I think the memory saving if done at runtime rather than compiletime would be insignificant), and if it was, it can also be done via connman rather than doing it in init/node and then passing that on to both connman and peerman.",
      "created_at" : "2021-01-06T03:08:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-755047268",
      "id" : 755047268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTA0NzI2OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T03:08:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755047268",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've left a comment on the linked PR here: https://github.com/bitcoin/bitcoin/pull/20233#issuecomment-755188580. I'll copy the parts that are relevant here:\r\n\r\n> > I don't think there's any need for this to be based on #20228 -- passing a \"check_addrman\" from init to CConnman seems to work fine, see ajtowns/bitcoin@202101-addrman-check (commits) eg.\r\n\r\n> Sure, we could continue to pass function calls and (now) ctor parameters through CConnman, but I don't see why that is desirable. Connman _uses_ addrman, but there's no reason for it to _have_ an addrman. Addrman is also used by peerman and the RPCs. Connman's resposibility is to open and maintain connections. Storing and maintaining our map of accessible nodes on the network is a separate  responsibility.\r\n> \r\n> There was also some discussion here: http://www.erisian.com.au/bitcoin-core-dev/log-2020-12-16.html#l-585 about being able to manage addrman more directly. Again, in that case it'd be easier if RPC directly held a handle to the addrman instead of passing messages through connman.\r\n\r\nFor your specific objections here:\r\n\r\n> avoids the potential for peerman and connman somehow getting their addrmans out of sync.\r\n\r\nI don't see how that could happen. addrman gets constructed and passed to the connman and peerman ctors to be saved as a reference a few lines later. How could those possible get out of sync?\r\n\r\n> As far as disabling addrman goes, I'm not convinced that's a meaningful benefit (most people are going to use it enabled, and I think the memory saving if done at runtime rather than compiletime would be insignificant), and if it was, it can also be done via connman rather than doing it in init/node and then passing that on to both connman and peerman.\r\n\r\nI agree that most people aren't going run without addrman, or that the memory savings are meaningful. However, I think having it as an option is beneficial from an architectural standpoint -- being able to run with different components disabled enforces strict separation between components and means there can't be unintentional coupling between them.",
      "created_at" : "2021-01-06T09:40:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-755193873",
      "id" : 755193873,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTE5Mzg3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T09:40:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755193873",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-07T15:06:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-756172326",
      "id" : 756172326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NjE3MjMyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-07T15:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/756172326",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2021-01-07T17:36:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-756266181",
      "id" : 756266181,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NjI2NjE4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-07T17:36:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/756266181",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555697136"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555697136"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: to follow the alphabetical order:\r\n```suggestion\r\nclass CAddrMan;\r\nclass CBlockPolicyEstimator;\r\n```",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-12T11:18:59Z",
      "diff_hunk" : "@@ -13,6 +13,7 @@\n class ArgsManager;\n class BanMan;\n class CBlockPolicyEstimator;\n+class CAddrMan;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555697136",
      "id" : 555697136,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTY5NzEzNg==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 15,
      "original_position" : 4,
      "original_start_line" : 15,
      "path" : "src/node/context.h",
      "position" : null,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555697136",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555705214"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555705214"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "A member variable of type reference is actually a bare pointer. By assigning it to an object that lives outside of the class we loose the benefits of smart pointers and have to manage lifetime ourselves.\r\n\r\nWhat about defining `addrman` as `std::shared_ptr` in `NodeContext`, `CConnman` and `PeerManager`?",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-12T11:34:28Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555705214",
      "id" : 555705214,
      "line" : 1130,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTcwNTIxNA==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1130,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1133,
      "start_side" : "LEFT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555705214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555707059"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555707059"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: `m_addrman`?",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-12T11:37:47Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555707059",
      "id" : 555707059,
      "line" : 1130,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTcwNzA1OQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1130,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1133,
      "start_side" : "LEFT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555707059",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555712422"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555712422"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here we pass 5 members of `node`:\r\n\r\n```cpp\r\n*node.connman, *node.addrman, node.banman.get(), *node.scheduler, *node.mempool\r\n```\r\n\r\nWhat about just passing a pointer to `node` itself, i.e. store a pointer to the \"parent\" node class in `PeerManager`? And have `node->ConnMan()`, `node->AddrMan()`, etc getters.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-12T11:47:56Z",
      "diff_hunk" : "@@ -1398,7 +1401,7 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     ChainstateManager& chainman = *Assert(node.chainman);\n \n     assert(!node.peerman);\n-    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, node.banman.get(),\n+    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, *node.addrman, node.banman.get(),\n                                                  *node.scheduler, chainman, *node.mempool, ignores_incoming_txs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555712422",
      "id" : 555712422,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTcxMjQyMg==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1405,
      "original_position" : 28,
      "original_start_line" : 1404,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555712422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555796596"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555796596"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Just an observation: before this patch `AddrMan::Connected()` would not have been called here and it will be called after this patch. Also `PeerManager::FinalizeNode()` would try to dereference `PeerManager::m_addrman`. It is fine, as far as I can see.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-12T14:11:07Z",
      "diff_hunk" : "@@ -129,8 +130,7 @@ BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n     BOOST_CHECK(dummyNode1.fDisconnect == true);\n     SetMockTime(0);\n \n-    bool dummy;\n-    peerLogic->FinalizeNode(dummyNode1, dummy);\n+    peerLogic->FinalizeNode(dummyNode1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555796596",
      "id" : 555796596,
      "line" : 120,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTc5NjU5Ng==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 120,
      "original_position" : 20,
      "original_start_line" : 133,
      "path" : "src/test/denialofservice_tests.cpp",
      "position" : 19,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 121,
      "start_side" : "LEFT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555796596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-13T09:12:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-759313380",
      "id" : 759313380,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1OTMxMzM4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-13T09:12:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/759313380",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased now that the fuzz conflicts should no longer be a problem (#20828)",
      "created_at" : "2021-01-14T12:45:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-760173601",
      "id" : 760173601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MDE3MzYwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-14T12:45:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/760173601",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557369469"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557369469"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops. Fixed.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-14T12:46:41Z",
      "diff_hunk" : "@@ -13,6 +13,7 @@\n class ArgsManager;\n class BanMan;\n class CBlockPolicyEstimator;\n+class CAddrMan;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557369469",
      "id" : 557369469,
      "in_reply_to_id" : 555697136,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM2OTQ2OQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 15,
      "original_position" : 4,
      "original_start_line" : 15,
      "path" : "src/node/context.h",
      "position" : null,
      "pull_request_review_id" : 568199177,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557369469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557370743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557370743"
         }
      },
      "author_association" : "MEMBER",
      "body" : "shared_ptr implies shared ownership of a resource. In this case, CConnman and PeerManager don't own the addrman, they just hold a reference to it.\r\n\r\nWe already use this same model for holding references to mempool, chainman, conman, etc, where the resource is owned by NodeContext.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-14T12:48:48Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557370743",
      "id" : 557370743,
      "in_reply_to_id" : 555705214,
      "line" : 1130,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM3MDc0Mw==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1130,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568200691,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1133,
      "start_side" : "LEFT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557370743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557371855"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557371855"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd prefer not to rename this. `addrman` is used in >50 places in net.cpp/net.h, so updating the name would add a lot of noise to the diff for this PR.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-14T12:50:43Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557371855",
      "id" : 557371855,
      "in_reply_to_id" : 555707059,
      "line" : 1130,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM3MTg1NQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1130,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568202108,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1133,
      "start_side" : "LEFT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557371855",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557372902"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557372902"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Because net_processing doesn't depend on node/context (and adding that would be a circular dependency between net_processing and node/context). In fact, a NodeContext object isn't even needed to construct a PeerManager object - see denialofservice_tests.cpp.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-14T12:52:35Z",
      "diff_hunk" : "@@ -1398,7 +1401,7 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     ChainstateManager& chainman = *Assert(node.chainman);\n \n     assert(!node.peerman);\n-    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, node.banman.get(),\n+    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, *node.addrman, node.banman.get(),\n                                                  *node.scheduler, chainman, *node.mempool, ignores_incoming_txs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557372902",
      "id" : 557372902,
      "in_reply_to_id" : 555712422,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM3MjkwMg==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1405,
      "original_position" : 28,
      "original_start_line" : 1404,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 568203419,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557372902",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557373966"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557373966"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, this is a slightly different ordering, but I agree that it's fine. Everything between here and the end of Finalize is just internal net_processing book-keeping.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-14T12:54:30Z",
      "diff_hunk" : "@@ -129,8 +130,7 @@ BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n     BOOST_CHECK(dummyNode1.fDisconnect == true);\n     SetMockTime(0);\n \n-    bool dummy;\n-    peerLogic->FinalizeNode(dummyNode1, dummy);\n+    peerLogic->FinalizeNode(dummyNode1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557373966",
      "id" : 557373966,
      "in_reply_to_id" : 555796596,
      "line" : 120,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM3Mzk2Ng==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 120,
      "original_position" : 20,
      "original_start_line" : 133,
      "path" : "src/test/denialofservice_tests.cpp",
      "position" : 19,
      "pull_request_review_id" : 568204789,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 121,
      "start_side" : "LEFT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557373966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the review @vasild - I've addressed all your comments.",
      "created_at" : "2021-01-14T12:55:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-760179139",
      "id" : 760179139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MDE3OTEzOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-14T12:55:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/760179139",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557388770"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557388770"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ok",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-14T13:20:13Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557388770",
      "id" : 557388770,
      "in_reply_to_id" : 555707059,
      "line" : 1130,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM4ODc3MA==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1130,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568224288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1133,
      "start_side" : "LEFT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557388770",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557393701"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557393701"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ok",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-14T13:28:09Z",
      "diff_hunk" : "@@ -1398,7 +1401,7 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     ChainstateManager& chainman = *Assert(node.chainman);\n \n     assert(!node.peerman);\n-    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, node.banman.get(),\n+    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, *node.addrman, node.banman.get(),\n                                                  *node.scheduler, chainman, *node.mempool, ignores_incoming_txs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557393701",
      "id" : 557393701,
      "in_reply_to_id" : 555712422,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM5MzcwMQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1405,
      "original_position" : 28,
      "original_start_line" : 1404,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 568230621,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557393701",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557401515"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557401515"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> shared_ptr implies shared ownership of a resource. In this case, CConnman and PeerManager don't own the addrman, they just hold a reference to it.\r\n\r\n`shared_ptr` would just destroy the object when its last instance is destroyed. The fact that we know that this is going to be the instance in `NodeContext` does not make it less useful.\r\n\r\nThe problem with the bare pointer (or bare reference) is that it can become dangling. `shared_ptr` aims to fix exactly that problem.\r\n\r\n> We already use this same model for holding references to mempool, chainman, conman, etc, where the resource is owned by NodeContext.\r\n\r\nRight, that can be improved with `shared_ptr` too.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-14T13:40:22Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557401515",
      "id" : 557401515,
      "in_reply_to_id" : 555705214,
      "line" : 1130,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzQwMTUxNQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1130,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568240458,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1133,
      "start_side" : "LEFT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557401515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557451429"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557451429"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Another good reason to leave this as a reference is that it explicitly communicates that there *must* be a reference to an addrman, and that we can 'dereference' addrman throughout peerman without checking for nullness first.\r\n\r\nIn any case, I agree that this discussion can be deferred to another issue/PR.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-01-14T14:51:40Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557451429",
      "id" : 557451429,
      "in_reply_to_id" : 555705214,
      "line" : 1130,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzQ1MTQyOQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1130,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568307425,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1133,
      "start_side" : "LEFT",
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557451429",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-03-12T07:42:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-797300790",
      "id" : 797300790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5NzMwMDc5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-12T07:42:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/797300790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2021-03-19T09:33:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-802688201",
      "id" : 802688201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMjY4ODIwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-19T09:33:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/802688201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK cfbf35efb6acf182a31b57220b9001a1459c937c",
      "created_at" : "2021-03-20T03:07:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-803234232",
      "id" : 803234232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzIzNDIzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T03:07:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803234232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598081121"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598081121"
         }
      },
      "author_association" : "MEMBER",
      "body" : "8f3d35a83affc7061e6bf9b9e6be6e9861c84632:\r\n\r\nAny reason to implicitly deconstruct this last, as opposed to in the same order that `init` deconstructs it? This will leave a \"dangling\" addrman in memory after the datadir (and addrman.dat) is cleared.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T08:16:39Z",
      "diff_hunk" : "@@ -187,8 +188,9 @@ TestingSetup::TestingSetup(const std::string& chainName, const std::vector<const\n         throw std::runtime_error(strprintf(\"ActivateBestChain failed. (%s)\", state.ToString()));\n     }\n \n+    m_node.addrman = std::make_unique<CAddrMan>();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598081121",
      "id" : 598081121,
      "line" : 192,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA4MTEyMQ==",
      "original_commit_id" : "8f3d35a83affc7061e6bf9b9e6be6e9861c84632",
      "original_line" : 192,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : 20,
      "pull_request_review_id" : 616893853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598081121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598081787"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598081787"
         }
      },
      "author_association" : "MEMBER",
      "body" : "48f96385c809a3e1d957538db8864ac068aca7eb\r\n\r\nWhen removing this here, it would be nice to update the addrman fuzz target to use `ConsumeWeakEnum`",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T08:24:07Z",
      "diff_hunk" : "@@ -128,9 +128,6 @@ FUZZ_TARGET_INIT(connman, initialize_connman)\n             [&] {\n                 connman.SetNetworkActive(fuzzed_data_provider.ConsumeBool());\n             },\n-            [&] {\n-                connman.SetServices(random_service, ConsumeWeakEnum(fuzzed_data_provider, ALL_SERVICE_FLAGS));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598081787",
      "id" : 598081787,
      "line" : 131,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA4MTc4Nw==",
      "original_commit_id" : "48f96385c809a3e1d957538db8864ac068aca7eb",
      "original_line" : 131,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/connman.cpp",
      "position" : 57,
      "pull_request_review_id" : 616893853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598081787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598081986"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598081986"
         }
      },
      "author_association" : "MEMBER",
      "body" : "61aecae0dafcc4c050343ef9c3e0242a11614cd9\r\n\r\nwhat is the point of keeping the unused variable?",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T08:26:11Z",
      "diff_hunk" : "@@ -98,9 +98,6 @@ FUZZ_TARGET_INIT(connman, initialize_connman)\n             [&] {\n                 (void)connman.GetNodeCount(fuzzed_data_provider.PickValueInArray({ConnectionDirection::None, ConnectionDirection::In, ConnectionDirection::Out, ConnectionDirection::Both}));\n             },\n-            [&] {\n-                connman.MarkAddressGood(random_address);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598081986",
      "id" : 598081986,
      "line" : 101,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA4MTk4Ng==",
      "original_commit_id" : "61aecae0dafcc4c050343ef9c3e0242a11614cd9",
      "original_line" : 101,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/connman.cpp",
      "position" : 47,
      "pull_request_review_id" : 616893853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598081986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598083016"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598083016"
         }
      },
      "author_association" : "MEMBER",
      "body" : "cfbf35efb6acf182a31b57220b9001a1459c937c\r\n\r\nI am not a fan of moving this into the cs_main scope. The goal should be to limit cs_main to validation, not to accidentally extend it to cover addrman and other components.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T08:36:58Z",
      "diff_hunk" : "@@ -993,8 +992,10 @@ void PeerManagerImpl::FinalizeNode(const CNode& node, bool& fUpdateConnectionTim\n \n     if (node.fSuccessfullyConnected && misbehavior == 0 &&\n         !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\n-        // Only change visible addrman state for outbound, full-relay peers\n-        fUpdateConnectionTime = true;\n+        // Only change visible addrman state for full outbound peers.  We don't\n+        // call Connected() for feeler connections since they don't have\n+        // fSuccessfullyConnected set.\n+        m_addrman.Connected(node.addr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598083016",
      "id" : 598083016,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA4MzAxNg==",
      "original_commit_id" : "cfbf35efb6acf182a31b57220b9001a1459c937c",
      "original_line" : 998,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 616893853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598083016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598089481"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598089481"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Just to be clear, are you suggesting a `~TestingSetup()` dtor that destructs the components in reverse order, like in `Shutdown()`? That seems reasonable to me.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T09:42:56Z",
      "diff_hunk" : "@@ -187,8 +188,9 @@ TestingSetup::TestingSetup(const std::string& chainName, const std::vector<const\n         throw std::runtime_error(strprintf(\"ActivateBestChain failed. (%s)\", state.ToString()));\n     }\n \n+    m_node.addrman = std::make_unique<CAddrMan>();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598089481",
      "id" : 598089481,
      "in_reply_to_id" : 598081121,
      "line" : 192,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA4OTQ4MQ==",
      "original_commit_id" : "8f3d35a83affc7061e6bf9b9e6be6e9861c84632",
      "original_line" : 192,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : 20,
      "pull_request_review_id" : 616898995,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598089481",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598090345"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598090345"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, just add `m_node.addrman.reset()` to where the other node members are reset.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T09:51:42Z",
      "diff_hunk" : "@@ -187,8 +188,9 @@ TestingSetup::TestingSetup(const std::string& chainName, const std::vector<const\n         throw std::runtime_error(strprintf(\"ActivateBestChain failed. (%s)\", state.ToString()));\n     }\n \n+    m_node.addrman = std::make_unique<CAddrMan>();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598090345",
      "id" : 598090345,
      "in_reply_to_id" : 598081121,
      "line" : 192,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA5MDM0NQ==",
      "original_commit_id" : "8f3d35a83affc7061e6bf9b9e6be6e9861c84632",
      "original_line" : 192,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : 20,
      "pull_request_review_id" : 616899504,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598090345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598093006"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598093006"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Improving the addrman fuzzer seems out of scope of this PR (since it doesn't change the addrman interface).",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T10:20:09Z",
      "diff_hunk" : "@@ -128,9 +128,6 @@ FUZZ_TARGET_INIT(connman, initialize_connman)\n             [&] {\n                 connman.SetNetworkActive(fuzzed_data_provider.ConsumeBool());\n             },\n-            [&] {\n-                connman.SetServices(random_service, ConsumeWeakEnum(fuzzed_data_provider, ALL_SERVICE_FLAGS));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598093006",
      "id" : 598093006,
      "in_reply_to_id" : 598081787,
      "line" : 131,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA5MzAwNg==",
      "original_commit_id" : "48f96385c809a3e1d957538db8864ac068aca7eb",
      "original_line" : 131,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/connman.cpp",
      "position" : 57,
      "pull_request_review_id" : 616901111,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598093006",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598093021"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598093021"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done (also removed the unused random_service variable)",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T10:20:29Z",
      "diff_hunk" : "@@ -98,9 +98,6 @@ FUZZ_TARGET_INIT(connman, initialize_connman)\n             [&] {\n                 (void)connman.GetNodeCount(fuzzed_data_provider.PickValueInArray({ConnectionDirection::None, ConnectionDirection::In, ConnectionDirection::Out, ConnectionDirection::Both}));\n             },\n-            [&] {\n-                connman.MarkAddressGood(random_address);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598093021",
      "id" : 598093021,
      "in_reply_to_id" : 598081986,
      "line" : 101,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA5MzAyMQ==",
      "original_commit_id" : "61aecae0dafcc4c050343ef9c3e0242a11614cd9",
      "original_line" : 101,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/connman.cpp",
      "position" : 47,
      "pull_request_review_id" : 616901126,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598093021",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598093096"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598093096"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In general I agree with reducing cs_main scope, but I think doing that in Finalize can happen in a follow-up PR.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T10:21:19Z",
      "diff_hunk" : "@@ -993,8 +992,10 @@ void PeerManagerImpl::FinalizeNode(const CNode& node, bool& fUpdateConnectionTim\n \n     if (node.fSuccessfullyConnected && misbehavior == 0 &&\n         !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\n-        // Only change visible addrman state for outbound, full-relay peers\n-        fUpdateConnectionTime = true;\n+        // Only change visible addrman state for full outbound peers.  We don't\n+        // call Connected() for feeler connections since they don't have\n+        // fSuccessfullyConnected set.\n+        m_addrman.Connected(node.addr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598093096",
      "id" : 598093096,
      "in_reply_to_id" : 598083016,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA5MzA5Ng==",
      "original_commit_id" : "cfbf35efb6acf182a31b57220b9001a1459c937c",
      "original_line" : 998,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 616901183,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598093096",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598093498"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598093498"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done. Seems odd to me that the components are constructed in the `TestingSetup()` ctor, but destructed in the `ChainTestingSetup()` destructor, but I've followed the existing pattern.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T10:25:49Z",
      "diff_hunk" : "@@ -187,8 +188,9 @@ TestingSetup::TestingSetup(const std::string& chainName, const std::vector<const\n         throw std::runtime_error(strprintf(\"ActivateBestChain failed. (%s)\", state.ToString()));\n     }\n \n+    m_node.addrman = std::make_unique<CAddrMan>();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598093498",
      "id" : 598093498,
      "in_reply_to_id" : 598081121,
      "line" : 192,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA5MzQ5OA==",
      "original_commit_id" : "8f3d35a83affc7061e6bf9b9e6be6e9861c84632",
      "original_line" : 192,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : 20,
      "pull_request_review_id" : 616901427,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598093498",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the review @MarcoFalke. I've addressed all of your comments.",
      "created_at" : "2021-03-20T10:26:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-803286645",
      "id" : 803286645,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzI4NjY0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T10:26:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803286645",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598096481"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598096481"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree, but does it need to be made worse?\r\n\r\n\r\n```diff\r\ndiff --git a/src/net_processing.cpp b/src/net_processing.cpp\r\nindex 0fa201a047..619693536b 100644\r\n--- a/src/net_processing.cpp\r\n+++ b/src/net_processing.cpp\r\n@@ -972,6 +972,7 @@ void PeerManagerImpl::ReattemptInitialBroadcast(CScheduler& scheduler)\r\n void PeerManagerImpl::FinalizeNode(const CNode& node)\r\n {\r\n     NodeId nodeid = node.GetId();\r\n+    {\r\n     LOCK(cs_main);\r\n     int misbehavior{0};\r\n     {\r\n@@ -990,14 +991,6 @@ void PeerManagerImpl::FinalizeNode(const CNode& node)\r\n     if (state->fSyncStarted)\r\n         nSyncStarted--;\r\n \r\n-    if (node.fSuccessfullyConnected && misbehavior == 0 &&\r\n-        !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\r\n-        // Only change visible addrman state for full outbound peers.  We don't\r\n-        // call Connected() for feeler connections since they don't have\r\n-        // fSuccessfullyConnected set.\r\n-        m_addrman.Connected(node.addr);\r\n-    }\r\n-\r\n     for (const QueuedBlock& entry : state->vBlocksInFlight) {\r\n         mapBlocksInFlight.erase(entry.hash);\r\n     }\r\n@@ -1022,6 +1015,14 @@ void PeerManagerImpl::FinalizeNode(const CNode& node)\r\n         assert(m_wtxid_relay_peers == 0);\r\n         assert(m_txrequest.Size() == 0);\r\n     }\r\n+    } // cs_main\r\n+    if (node.fSuccessfullyConnected && misbehavior == 0 &&\r\n+        !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\r\n+        // Only change visible addrman state for full outbound peers.  We don't\r\n+        // call Connected() for feeler connections since they don't have\r\n+        // fSuccessfullyConnected set.\r\n+        m_addrman.Connected(node.addr);\r\n+    }\r\n     LogPrint(BCLog::NET, \"Cleared nodestate for peer=%d\\n\", nodeid);\r\n }\r\n \r\n",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T10:56:35Z",
      "diff_hunk" : "@@ -993,8 +992,10 @@ void PeerManagerImpl::FinalizeNode(const CNode& node, bool& fUpdateConnectionTim\n \n     if (node.fSuccessfullyConnected && misbehavior == 0 &&\n         !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\n-        // Only change visible addrman state for outbound, full-relay peers\n-        fUpdateConnectionTime = true;\n+        // Only change visible addrman state for full outbound peers.  We don't\n+        // call Connected() for feeler connections since they don't have\n+        // fSuccessfullyConnected set.\n+        m_addrman.Connected(node.addr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598096481",
      "id" : 598096481,
      "in_reply_to_id" : 598083016,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODA5NjQ4MQ==",
      "original_commit_id" : "cfbf35efb6acf182a31b57220b9001a1459c937c",
      "original_line" : 998,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 616903112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598096481",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598105282"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598105282"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm really not convinced that it matters, but I've taken your diff.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T12:24:28Z",
      "diff_hunk" : "@@ -993,8 +992,10 @@ void PeerManagerImpl::FinalizeNode(const CNode& node, bool& fUpdateConnectionTim\n \n     if (node.fSuccessfullyConnected && misbehavior == 0 &&\n         !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\n-        // Only change visible addrman state for outbound, full-relay peers\n-        fUpdateConnectionTime = true;\n+        // Only change visible addrman state for full outbound peers.  We don't\n+        // call Connected() for feeler connections since they don't have\n+        // fSuccessfullyConnected set.\n+        m_addrman.Connected(node.addr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598105282",
      "id" : 598105282,
      "in_reply_to_id" : 598083016,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODEwNTI4Mg==",
      "original_commit_id" : "cfbf35efb6acf182a31b57220b9001a1459c937c",
      "original_line" : 998,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 616908424,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598105282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke - I've taken your suggested diff.",
      "created_at" : "2021-03-20T12:24:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-803301538",
      "id" : 803301538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzMwMTUzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-20T12:24:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803301538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598122502"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598122502"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry, I didn't type `make` after writing the diff. Looks like ci doesn't like me.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T15:09:06Z",
      "diff_hunk" : "@@ -993,8 +992,10 @@ void PeerManagerImpl::FinalizeNode(const CNode& node, bool& fUpdateConnectionTim\n \n     if (node.fSuccessfullyConnected && misbehavior == 0 &&\n         !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\n-        // Only change visible addrman state for outbound, full-relay peers\n-        fUpdateConnectionTime = true;\n+        // Only change visible addrman state for full outbound peers.  We don't\n+        // call Connected() for feeler connections since they don't have\n+        // fSuccessfullyConnected set.\n+        m_addrman.Connected(node.addr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598122502",
      "id" : 598122502,
      "in_reply_to_id" : 598083016,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODEyMjUwMg==",
      "original_commit_id" : "cfbf35efb6acf182a31b57220b9001a1459c937c",
      "original_line" : 998,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 616919407,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598122502",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598132437"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598132437"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah indeed. Fails compilation because `misbehavior` isn't in the outer scope. I've now fixed.",
      "commit_id" : "06653e4aaccc84dc7773d3888f687cf44e20abcd",
      "created_at" : "2021-03-20T16:40:12Z",
      "diff_hunk" : "@@ -993,8 +992,10 @@ void PeerManagerImpl::FinalizeNode(const CNode& node, bool& fUpdateConnectionTim\n \n     if (node.fSuccessfullyConnected && misbehavior == 0 &&\n         !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\n-        // Only change visible addrman state for outbound, full-relay peers\n-        fUpdateConnectionTime = true;\n+        // Only change visible addrman state for full outbound peers.  We don't\n+        // call Connected() for feeler connections since they don't have\n+        // fSuccessfullyConnected set.\n+        m_addrman.Connected(node.addr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r598132437",
      "id" : 598132437,
      "in_reply_to_id" : 598083016,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODEzMjQzNw==",
      "original_commit_id" : "cfbf35efb6acf182a31b57220b9001a1459c937c",
      "original_line" : 998,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 616926112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-20T16:40:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/598132437",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK 06653e4aaccc84dc7773d3888f687cf44e20abcd ð¸\r\n\r\nOnly changes:\r\n* Add missing m_node.addrman.reset() in tests\r\n* Remove unused symbols random_service and random_address in tests\r\n* Add commit 06653e4aac\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nre-ACK 06653e4aaccc84dc7773d3888f687cf44e20abcd ð¸\r\n\r\nOnly changes:\r\n* Add missing m_node.addrman.reset() in tests\r\n* Remove unused symbols random_service and random_address in tests\r\n* Add commit 06653e4aac\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUh2TQwAuta5eICUDWp5ZOK6mqTbXME6W4oZ2tq4JrradpQgatb0gd7Cvl9voHBS\r\n95imHMkW8gS8qyTS5lCJfmaGZs6GsANQ4WY/SSMDAYPZHR7UUnicrlP5hBE1zUP0\r\nolJXiIu/cNeTibA2gImd1bwxW11h3UII6R8fZ91lLHBTlsakqgX84n1fsRmOHdn7\r\nUG4S6VDK9qceJ/dNTbww56vEn7hnrE9t0FUmFNqb6Yb5LgkG11Bw9XA71urWcFjc\r\n2nvl4CBmZI73SzCyPtcyQ8iYuL6INtg6Rt6BtV6ff8Xm9cYB28cvkP6PFwjp4SHw\r\nZns+ZiBshcMWgODAvaetrCQNVHo597lW94zfCrSRrhsIVWw9TK6sTJRpkJRLMNxv\r\n6ASeEetu7cME/nFHzabA+PV6nhQIcHoaczCZfdkiY+n1u83KJGvyEl3c12LW/rLT\r\nyjNU8VV/34GM7Fr+HmjK1TJx3aBdcurK+4sNorAr+7JiAovtqTTjEavKYnoeftmm\r\nN1OnbouT\r\n=MOU8\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `04be068a42318cb4f710b8b8d5521a5bda7090c95bd0fa710e8d6dbc7a70894e  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e89294010804be068a42318cb4f710b8b8d5521a5bda7090c95bd0fa710e8d6dbc7a70894ef0106b681ee27c92d6af514f057dec686f2b08fff010651420f9326a3c4c0f3183a9f06fa8ca08f10460586a5bf0080e8d5c9845ba11150083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff010678b8c1f3559a08d0259f0c52ec0026d08f10460585c84f008d8545a2a995c59ac0083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6dfff0109a3f58ada9f6e205c0bd3513237d82f708f10460586a5bf00860d97b0879d548d80083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6df010a862f07f2504cb1e04db9be29a33e61d08f1204aca68cd802afa0900011b1d7ecca286edc60978ce6c7afd6f5759a28977ed2908f10460586a5af00821206823e6e133d20083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
      "created_at" : "2021-03-22T09:59:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-803933291",
      "id" : 803933291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzkzMzI5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-22T09:59:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803933291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Could squash the last two commits and mention that `--color-moved=dimmed-zebra` can be used on them for review?",
      "created_at" : "2021-03-22T10:01:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-803934716",
      "id" : 803934716,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzkzNDcxNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-22T10:01:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803934716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Could squash the last two commits\r\n\r\nDone\r\n\r\n> and mention that --color-moved=dimmed-zebra can be used on them for review?\r\n\r\nI tried this and it wasn't very useful - there are only a couple of lines that are moved without changing.",
      "created_at" : "2021-03-22T10:26:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-803952297",
      "id" : 803952297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzk1MjI5Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-22T10:26:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803952297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK 3fc06d3d7b43dc1143fe0850db23c4e7ffbfe682 only change is squash ð\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nre-ACK 3fc06d3d7b43dc1143fe0850db23c4e7ffbfe682 only change is squash ð\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUhYRgv+NLihAeug6hwKodKc6lvG+BPtQdQqV3afHzM2iCE9UzX8UPEWDomfRpNr\r\n/TCwhhMSaT1yKoWh3S9ePwDiVqEx0g9UPfJIfB0bZ20N94tDZY/L/9NXk4jxNlV7\r\n0uqA5jtS93p3QggaVRhGOuOYUBXlgFC+kROYSLgAK9wuQmDI1X9NGlgx1h1tC3yt\r\nqrGvDAuL+x1ALFYH6fOkAZHEwntte+lHPwymA9wktdPCntsmQaM7WimftLMK+z/H\r\n47EYxadADEKJ84aLzeLzU2NJjb+Ow5OwEvsH6DdwcAazCrN5TnSWvpEso+EXP+qY\r\n/CN7Iyy/beRbZsA0inj81zKs2P9k5sKvJuKvzdZLY+HjHcOBZnvB4TqgrSrlQ/sf\r\n9smWO+ndxPc1vjakxxkB7ZFTVL+ju/sc9S14eD6zx9WAldtTeafz6/3YePo7IQlB\r\ngq6AIW8HVsTDV0BHgjG3P2H+TclKtdT5pykhN781QhMuHVvfvkKs7p+dfCv7Lwxi\r\nugjJlKIA\r\n=o4vy\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `a02bd2eb33e158baac0fe590960dabd93a73914fa44637c90c6b2566e605a7f5  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e892940108a02bd2eb33e158baac0fe590960dabd93a73914fa44637c90c6b2566e605a7f5f0101805e3b6a239ed1e8d52c74120f918a708fff0104fcf9e974a1dd6c2d1d51e674f2bb60108f0201b97af5b7f2657988f2fe3f2b43c63f22c1c5620b5317e40baa955b886d27c5c08f020a2d4d670c37db30e22a84ef106675e943148b8f2317ab0dd3b398715620ca21808f1205f008b29dc23f538675ef2f2a5c0f89668e4903191a438b6c74aa291819303f108f020125369d571e97e6e72279cbad6eda12a3cc90110aedb65d2b6436b6be85e0ef508f1046058728cf00800f76de992cc390d0083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff0109d0ca8b7d1d1b85a382757c57bd89fc508f1046058728df008d46a91fdae4d188b0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6dfff010bf622b67a5d96777b658c99d5f72ebf508f12051490204cea18e01fb69be8dc5049d74aeb54b84c561e767e38ff404cceb0d7f08f020506da4818a115ad0c2b689faa0368d343ffc3ab06b0209f542c8a6228ffbfe3808f120e4da5de34ef2939fbe48f7785ac81f3c709968e2ed461265ff65f0f44797216708f104605864b6f008ad9f6583953099530083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6df010ff2b173a5dedc96f2cb387c2d37ca78f08f0208d435ea084fb8837bdae627364e42c4ccd46c52710a6cd785771f545e8d3bfa308f1046058728df00860989d22249e16d80083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
      "created_at" : "2021-03-22T10:33:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-803956888",
      "id" : 803956888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzk1Njg4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-22T10:33:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803956888",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@vasild @sipa: Do you mind reACKing? There have only been minor changes since your last reviews.",
      "created_at" : "2021-03-22T11:02:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-803974966",
      "id" : 803974966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMzk3NDk2Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-22T11:02:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/803974966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa do you mind rereviewing this? It has two ACKs on the current branch.",
      "created_at" : "2021-03-30T09:53:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-810084790",
      "id" : 810084790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMDA4NDc5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-30T09:53:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/810084790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
