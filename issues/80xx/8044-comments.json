[
   {
      "author_association" : "MEMBER",
      "body" : "bad_alloc means that memory is full.\nAdd swap or reduce the dbcache size :-)\n",
      "created_at" : "2016-05-12T09:42:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8044#issuecomment-218709091",
      "id" : 218709091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODcwOTA5MQ==",
      "updated_at" : "2016-05-12T09:42:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218709091",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I though 2GB ram, minimal linux and dbcache=1500 should do it.\nBut let me try to use dbcache=1000.\n",
      "created_at" : "2016-05-12T09:44:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8044#issuecomment-218709464",
      "id" : 218709464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODcwOTQ2NA==",
      "updated_at" : "2016-05-12T09:44:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218709464",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ideally a bad_alloc would close the application immediately with a clearer error though\nSee also #7228, which is even worse as there it simply continues, rejecting a block.\n",
      "created_at" : "2016-05-12T10:26:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8044#issuecomment-218718660",
      "id" : 218718660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODcxODY2MA==",
      "updated_at" : "2016-05-12T10:26:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218718660",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The main problem with the bad_alloc crash is that the database was/is corrupted afterwards.\nEither we should implement something like #8037 or try to graceful close in low-men situations (maybe impossible).\n",
      "created_at" : "2016-05-14T15:40:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8044#issuecomment-219226956",
      "id" : 219226956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxOTIyNjk1Ng==",
      "updated_at" : "2016-05-14T15:40:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219226956",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Again a `St9bad_alloc` at `progress=0.901800`.\nRAM: 2GB.\nDBCache: 800MB.\n\nNode running in a gnu-screen:\n\n```\nubuntu@pine64:~/bitcoin$ ./src/bitcoind --dbcache=800 --datadir=/disk2/fullnode/ --prune=550\n\n\n************************\nEXCEPTION: St9bad_alloc\nstd::bad_alloc\nbitcoin in ProcessMessages()\n\nbitcoind: main.cpp:2237: bool ConnectBlock(const CBlock&, CValidationState&, CBlockIndex*, CCoinsViewCache&, const CChainParams&, bool): Assertion `hashPrevBlock == view.GetBestBlock()' failed.\nAborted\n```\n\nMore details:\n\n```\nubuntu@pine64:~$ tail -f /disk2/fullnode/debug.log \n2016-05-25 17:30:53 skip verificationUpdateTip: new best=00000000000000000145cb386289ab8f9015246d226431a4b5de6da87f524c79 height=393014 version=0x00000004 log2_work=83.900934 tx=103124904 date='2016-01-12 14:55:45' progress=0.901795 cache=589.5MiB(357746tx)\n2016-05-25 17:30:54 skip verificationUpdateTip: new best=0000000000000000075e9a75e8d44ba9e512e96d05a70a3159b13ad62eef1066 height=393015 version=0x00000004 log2_work=83.90097 tx=103126917 date='2016-01-12 15:00:52' progress=0.901800 cache=590.4MiB(359388tx)\n2016-05-25 17:30:58 skip verification\n\n************************\nEXCEPTION: St9bad_alloc       \nstd::bad_alloc       \nbitcoin in ProcessMessages()       \n\n2016-05-25 17:31:12 ProcessMessages(block, 248665 bytes) FAILED peer=31\n^C\nubuntu@pine64:~$ free\n              total        used        free      shared  buff/cache   available\nMem:        2036960       49056     1731308       16744      256596     1939369\nSwap:             0           0           0\nubuntu@pine64:~$ \n```\n\nRAM failure?\n",
      "created_at" : "2016-05-26T07:32:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8044#issuecomment-221798239",
      "id" : 221798239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMTc5ODIzOQ==",
      "updated_at" : "2016-05-26T07:32:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221798239",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Calling `free` _after_ the memory has been deallocated by the kernel doesn't provide any information. Call free periodically in other `screen`...\n",
      "created_at" : "2016-05-26T07:35:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8044#issuecomment-221798704",
      "id" : 221798704,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMTc5ODcwNA==",
      "updated_at" : "2016-05-26T07:35:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221798704",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/6848764?v=4",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "node_id" : "MDQ6VXNlcjY4NDg3NjQ=",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@paveljanik: I did paste the `free` output only to prove the system total memory (2GB).\n",
      "created_at" : "2016-05-26T07:56:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8044#issuecomment-221802813",
      "id" : 221802813,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMTgwMjgxMw==",
      "updated_at" : "2016-05-26T07:56:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221802813",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli It may be useful to monitor memory usage while the application is running too...\n",
      "created_at" : "2016-05-26T12:18:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8044#issuecomment-221855271",
      "id" : 221855271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMTg1NTI3MQ==",
      "updated_at" : "2016-05-26T12:18:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221855271",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli Closing for now, since there hasn't been an update.",
      "created_at" : "2018-12-22T18:23:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8044#issuecomment-449589248",
      "id" : 449589248,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0OTU4OTI0OA==",
      "updated_at" : "2018-12-22T18:23:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449589248",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
