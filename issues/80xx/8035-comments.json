[
   {
      "author_association" : "NONE",
      "body" : "Nice minimalistic PR. One question though. Why to use m/0'/0'/i instead of something more standard? BIP32 proposes m/0'/0/i for external chains (I suppose Core in current implementation does not need internal/change chain). Or even better - use m/0/i, which is forward compatible with BIP44 (maybe Core will make it somedays). m/0/i is subset of BIP44 - an account.\n",
      "created_at" : "2016-05-10T10:06:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218114283",
      "id" : 218114283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODExNDI4Mw==",
      "updated_at" : "2016-05-10T10:06:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218114283",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/565341?v=4",
         "events_url" : "https://api.github.com/users/slush0/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slush0/followers",
         "following_url" : "https://api.github.com/users/slush0/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slush0/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slush0",
         "id" : 565341,
         "login" : "slush0",
         "node_id" : "MDQ6VXNlcjU2NTM0MQ==",
         "organizations_url" : "https://api.github.com/users/slush0/orgs",
         "received_events_url" : "https://api.github.com/users/slush0/received_events",
         "repos_url" : "https://api.github.com/users/slush0/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slush0/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slush0/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slush0"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62645694"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62645694"
         }
      },
      "body" : "No need for `strprintf`. See previous line.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T10:15:42Z",
      "diff_hunk" : "@@ -3036,6 +3104,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n         strUsage += HelpMessageOpt(\"-sendfreetransactions\", strprintf(_(\"Send transactions as zero-fee transactions if possible (default: %u)\"), DEFAULT_SEND_FREE_TRANSACTIONS));\n     strUsage += HelpMessageOpt(\"-spendzeroconfchange\", strprintf(_(\"Spend unconfirmed change when sending transactions (default: %u)\"), DEFAULT_SPEND_ZEROCONF_CHANGE));\n     strUsage += HelpMessageOpt(\"-txconfirmtarget=<n>\", strprintf(_(\"If paytxfee is not set, include enough fee so transactions begin confirmation on average within n blocks (default: %u)\"), DEFAULT_TX_CONFIRM_TARGET));\n+    strUsage += HelpMessageOpt(\"-usehd\", _(\"Use hierarchical deterministic key generation (HD) after bip32. Has only affect during wallet creation/first start\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_USE_HD_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62645694",
      "id" : 62645694,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 99,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62645694",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62645945"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62645945"
         }
      },
      "body" : "s/AddChain/SetHDChain/",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T10:17:31Z",
      "diff_hunk" : "@@ -599,6 +599,16 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"hdchain\")\n+        {\n+            CHDChain chain;\n+            ssValue >> chain;\n+            if (!pwallet->SetHDChain(chain, true))\n+            {\n+                strErr = \"Error reading wallet database: AddChain failed\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62645945",
      "id" : 62645945,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 10,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62645945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62646344"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62646344"
         }
      },
      "body" : "Repeating `\"hdchain\"` several times reminds me there was some patch redefining these as constants...",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T10:20:47Z",
      "diff_hunk" : "@@ -599,6 +599,16 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"hdchain\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62646344",
      "id" : 62646344,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 4,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62646344",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\n\nNice, small, elegant Ã°ÂÂÂ \n",
      "created_at" : "2016-05-10T10:25:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218118237",
      "id" : 218118237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODExODIzNw==",
      "updated_at" : "2016-05-10T10:25:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218118237",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/6848764?v=4",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "node_id" : "MDQ6VXNlcjY4NDg3NjQ=",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62647015"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62647015"
         }
      },
      "body" : "This line is there two times in the file. You can make the diff even shorter!",
      "commit_id" : "c3b8aa5869f7cadbb030f66c5f48770142a6c2ea",
      "created_at" : "2016-05-10T10:26:27Z",
      "diff_hunk" : "@@ -91,7 +91,45 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62647015",
      "id" : 62647015,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 6,
      "path" : "src/wallet/wallet.cpp",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-05-10T13:55:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62647015",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "What should RPC `dumpwallet` dump after this?\n",
      "created_at" : "2016-05-10T10:52:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218123738",
      "id" : 218123738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODEyMzczOA==",
      "updated_at" : "2016-05-10T10:52:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218123738",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/6848764?v=4",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "node_id" : "MDQ6VXNlcjY4NDg3NjQ=",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Some import path needed then.\n",
      "created_at" : "2016-05-10T10:56:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218124694",
      "id" : 218124694,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODEyNDY5NA==",
      "updated_at" : "2016-05-10T10:56:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218124694",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/6848764?v=4",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "node_id" : "MDQ6VXNlcjY4NDg3NjQ=",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\n",
      "created_at" : "2016-05-10T11:02:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218125757",
      "id" : 218125757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODEyNTc1Nw==",
      "updated_at" : "2016-05-10T11:02:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218125757",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62651748"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62651748"
         }
      },
      "body" : "Which one? We did the redefine-magic-strings-as-constants it in other places, but also for the wallet?",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T11:02:45Z",
      "diff_hunk" : "@@ -599,6 +599,16 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"hdchain\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62651748",
      "id" : 62651748,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 4,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62651748",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62653035"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62653035"
         }
      },
      "body" : "Yes, because some of them are repeated several times in the file. But maybe I'm remembering some other patch.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T11:12:46Z",
      "diff_hunk" : "@@ -599,6 +599,16 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"hdchain\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62653035",
      "id" : 62653035,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 4,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62653035",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62653333"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62653333"
         }
      },
      "body" : "Ah, it probably was #5707.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T11:15:34Z",
      "diff_hunk" : "@@ -599,6 +599,16 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"hdchain\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62653333",
      "id" : 62653333,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 4,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62653333",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62667509"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62667509"
         }
      },
      "body" : "Yes. I did refactor out these stings into constants serval times. But this should be done in another PR and hopefully after this has been merged.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T13:09:20Z",
      "diff_hunk" : "@@ -599,6 +599,16 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"hdchain\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62667509",
      "id" : 62667509,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 4,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62667509",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62667901"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62667901"
         }
      },
      "body" : "Hmm... I have looked at `walletbroadcast`, there `strprintf` is also used. Isn't more flexible for the translation then?",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T13:11:57Z",
      "diff_hunk" : "@@ -3036,6 +3104,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n         strUsage += HelpMessageOpt(\"-sendfreetransactions\", strprintf(_(\"Send transactions as zero-fee transactions if possible (default: %u)\"), DEFAULT_SEND_FREE_TRANSACTIONS));\n     strUsage += HelpMessageOpt(\"-spendzeroconfchange\", strprintf(_(\"Spend unconfirmed change when sending transactions (default: %u)\"), DEFAULT_SPEND_ZEROCONF_CHANGE));\n     strUsage += HelpMessageOpt(\"-txconfirmtarget=<n>\", strprintf(_(\"If paytxfee is not set, include enough fee so transactions begin confirmation on average within n blocks (default: %u)\"), DEFAULT_TX_CONFIRM_TARGET));\n+    strUsage += HelpMessageOpt(\"-usehd\", _(\"Use hierarchical deterministic key generation (HD) after bip32. Has only affect during wallet creation/first start\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_USE_HD_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62667901",
      "id" : 62667901,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 99,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62667901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@slush0: One reason for the current keypath is the use hardened-only key derivation.\nI personally think people overestimate the switch-wallet feature. Importing a bip32 master key together with a given keypath can be tricky (lookup window).\n\nBut I agree.\nIf and once this PR gets merged into master, next thing I would do is writing a PR that would make the keypath flexible.\n\nWe could discuss the default keypath and the keypath flexibility in a such follow up PR.\n\nThis PR only intent to solve the \"backup problem\" by using deterministic key derivation. So we could even think of using m/k'.\n",
      "created_at" : "2016-05-10T13:18:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218154051",
      "id" : 218154051,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODE1NDA1MQ==",
      "updated_at" : "2016-05-10T13:18:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218154051",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62671064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62671064"
         }
      },
      "body" : "I think you want to `strprintf(_(string))` the whole string and not two separate stings, as other languages might have different grammar. but consider it a nit.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T13:31:29Z",
      "diff_hunk" : "@@ -3036,6 +3104,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n         strUsage += HelpMessageOpt(\"-sendfreetransactions\", strprintf(_(\"Send transactions as zero-fee transactions if possible (default: %u)\"), DEFAULT_SEND_FREE_TRANSACTIONS));\n     strUsage += HelpMessageOpt(\"-spendzeroconfchange\", strprintf(_(\"Spend unconfirmed change when sending transactions (default: %u)\"), DEFAULT_SPEND_ZEROCONF_CHANGE));\n     strUsage += HelpMessageOpt(\"-txconfirmtarget=<n>\", strprintf(_(\"If paytxfee is not set, include enough fee so transactions begin confirmation on average within n blocks (default: %u)\"), DEFAULT_TX_CONFIRM_TARGET));\n+    strUsage += HelpMessageOpt(\"-usehd\", _(\"Use hierarchical deterministic key generation (HD) after bip32. Has only affect during wallet creation/first start\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_USE_HD_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62671064",
      "id" : 62671064,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 99,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62671064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed @paveljanik nits.\n",
      "created_at" : "2016-05-10T13:56:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218164667",
      "id" : 218164667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODE2NDY2Nw==",
      "updated_at" : "2016-05-10T13:56:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218164667",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> I personally think people overestimate the switch-wallet feature.\n\n@jonasschnelli It's actually quite useful feature, and it may be even for Core. I can imagine somebody who'll have Qt wallet awfully out of sync and will need to get his funds ASAP. Then loading the backup to some other software like Multibit HD will do the job. BIP44 is actually being used by most of current wallets so heading towards the same structure makes sense.\n\n> This PR only intent to solve the \"backup problem\" \n\nFair point and I appreciate somebody is finally addressing it.\n",
      "created_at" : "2016-05-10T14:19:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218171888",
      "id" : 218171888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODE3MTg4OA==",
      "updated_at" : "2016-05-10T14:19:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218171888",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/565341?v=4",
         "events_url" : "https://api.github.com/users/slush0/events{/privacy}",
         "followers_url" : "https://api.github.com/users/slush0/followers",
         "following_url" : "https://api.github.com/users/slush0/following{/other_user}",
         "gists_url" : "https://api.github.com/users/slush0/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/slush0",
         "id" : 565341,
         "login" : "slush0",
         "node_id" : "MDQ6VXNlcjU2NTM0MQ==",
         "organizations_url" : "https://api.github.com/users/slush0/orgs",
         "received_events_url" : "https://api.github.com/users/slush0/received_events",
         "repos_url" : "https://api.github.com/users/slush0/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/slush0/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/slush0/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/slush0"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62714441"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62714441"
         }
      },
      "body" : "the the",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T17:23:14Z",
      "diff_hunk" : "@@ -1051,6 +1087,37 @@ CAmount CWallet::GetChange(const CTransaction& tx) const\n     return nChange;\n }\n \n+bool CWallet::SetHDMasterKey(const CKey& key)\n+{\n+    LOCK(cs_wallet);\n+\n+    // store the key as normal \"key\"/\"ckey\" object\n+    // in the the database",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62714441",
      "id" : 62714441,
      "original_commit_id" : "c3b8aa5869f7cadbb030f66c5f48770142a6c2ea",
      "original_position" : 67,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62714441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62714610"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62714610"
         }
      },
      "body" : "derived",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T17:24:10Z",
      "diff_hunk" : "@@ -57,6 +57,9 @@ static const unsigned int DEFAULT_TX_CONFIRM_TARGET = 2;\n static const unsigned int MAX_FREE_TRANSACTION_CREATE_SIZE = 1000;\n static const bool DEFAULT_WALLETBROADCAST = true;\n \n+//! if set, all keys will be deriven by using BIP32",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62714610",
      "id" : 62714610,
      "original_commit_id" : "c3b8aa5869f7cadbb030f66c5f48770142a6c2ea",
      "original_position" : 4,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62714610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62714724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62714724"
         }
      },
      "body" : "Definitely not for this PR, of course.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T17:24:44Z",
      "diff_hunk" : "@@ -599,6 +599,16 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"hdchain\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62714724",
      "id" : 62714724,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 4,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62714724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62714844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62714844"
         }
      },
      "body" : "two spaces",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T17:25:28Z",
      "diff_hunk" : "@@ -40,6 +40,34 @@ enum DBErrors\n     DB_NEED_REWRITE\n };\n \n+/* simple hd chain data model */\n+class CHDChain\n+{\n+public:\n+    uint32_t nExternalChainCounter;\n+    CKeyID  masterKeyID; /* master key hash160 */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62714844",
      "id" : 62714844,
      "original_commit_id" : "c3b8aa5869f7cadbb030f66c5f48770142a6c2ea",
      "original_position" : 9,
      "path" : "src/wallet/walletdb.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62714844",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62715716"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62715716"
         }
      },
      "body" : "Maybe just clang-format the diff?\n",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T17:30:25Z",
      "diff_hunk" : "@@ -40,6 +40,34 @@ enum DBErrors\n     DB_NEED_REWRITE\n };\n \n+/* simple hd chain data model */\n+class CHDChain\n+{\n+public:\n+    uint32_t nExternalChainCounter;\n+    CKeyID  masterKeyID; /* master key hash160 */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62715716",
      "id" : 62715716,
      "original_commit_id" : "c3b8aa5869f7cadbb030f66c5f48770142a6c2ea",
      "original_position" : 9,
      "path" : "src/wallet/walletdb.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62715716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Force push fixed @paveljanik nits. Formatted some of the code with clang-format.\n",
      "created_at" : "2016-05-10T18:12:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218243036",
      "id" : 218243036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODI0MzAzNg==",
      "updated_at" : "2016-05-10T18:12:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218243036",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62723177"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62723177"
         }
      },
      "body" : "I think you should check whether the derived key already exists in the keystore, and if so, try the next chaincounter. Otheriwse you'll give out the same keys twice after a backup restore.\r\n\r\nEDIT: nevermind, that's not going to work. we'll also need to make keypool entries be regenerated when one is encountered in the blockchain or mempool. I think we can defer that...",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-10T18:13:12Z",
      "diff_hunk" : "@@ -91,7 +91,45 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull())\n+    {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key; //master key seed (256bit)\n+        CExtKey masterKey; //hd master key\n+        CExtKey accountKey; //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey; //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        assert(key.size() == 32);\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        masterKey.Derive(accountKey, 0 | 0x80000000);\n+\n+        // derive m/0'/0'\n+        accountKey.Derive(externalChainChildKey, 0 | 0x80000000);\n+\n+        // derive child key at next index\n+        externalChainChildKey.Derive(childKey, hdChain.nExternalChainCounter | 0x80000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62723177",
      "id" : 62723177,
      "original_commit_id" : "c3b8aa5869f7cadbb030f66c5f48770142a6c2ea",
      "original_position" : 34,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62723177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\n\nSo as I understand this, it won't affect the keys already in the wallet, right? It just generates all new keys using the HD master key?\n\nAlso there should be an RPC command to dump the master private key.\n",
      "created_at" : "2016-05-11T12:17:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218442297",
      "id" : 218442297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODQ0MjI5Nw==",
      "updated_at" : "2016-05-11T12:17:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218442297",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@achow101:\nfor now (this PR), HD will only be enabled when you create a new wallet (first start).\n\n> Also there should be an RPC command to dump the master private key.\n\nI agree. Have a look at #6265 and #7273.\nThis is my third try to get HD into Cores wallet. I think the way to go is this extremely simple basic step.\nWe can add RPC/API changes later.\n",
      "created_at" : "2016-05-11T12:20:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218442964",
      "id" : 218442964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODQ0Mjk2NA==",
      "updated_at" : "2016-05-11T12:20:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218442964",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62838900"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62838900"
         }
      },
      "body" : "I added a loop to derive the next key as long as its not known by the wallet. I think this is required otherwise we might run into an exception if someone restores a backup or has imported a derived key of a higher child index.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-11T12:32:05Z",
      "diff_hunk" : "@@ -91,7 +91,45 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull())\n+    {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key; //master key seed (256bit)\n+        CExtKey masterKey; //hd master key\n+        CExtKey accountKey; //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey; //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        assert(key.size() == 32);\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        masterKey.Derive(accountKey, 0 | 0x80000000);\n+\n+        // derive m/0'/0'\n+        accountKey.Derive(externalChainChildKey, 0 | 0x80000000);\n+\n+        // derive child key at next index\n+        externalChainChildKey.Derive(childKey, hdChain.nExternalChainCounter | 0x80000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r62838900",
      "id" : 62838900,
      "original_commit_id" : "c3b8aa5869f7cadbb030f66c5f48770142a6c2ea",
      "original_position" : 34,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62838900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63034009"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63034009"
         }
      },
      "body" : "external only for now? (and in the other 2 places in the PR)",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-12T14:50:59Z",
      "diff_hunk" : "@@ -574,6 +577,9 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n \n     void SyncMetaData(std::pair<TxSpends::iterator, TxSpends::iterator>);\n \n+    /* the hd chain data model (internal and external counters) */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63034009",
      "id" : 63034009,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 14,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63034009",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63034380"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63034380"
         }
      },
      "body" : "s/Has only affect/Only has effect/",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-12T14:53:16Z",
      "diff_hunk" : "@@ -3036,6 +3104,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n         strUsage += HelpMessageOpt(\"-sendfreetransactions\", strprintf(_(\"Send transactions as zero-fee transactions if possible (default: %u)\"), DEFAULT_SEND_FREE_TRANSACTIONS));\n     strUsage += HelpMessageOpt(\"-spendzeroconfchange\", strprintf(_(\"Spend unconfirmed change when sending transactions (default: %u)\"), DEFAULT_SPEND_ZEROCONF_CHANGE));\n     strUsage += HelpMessageOpt(\"-txconfirmtarget=<n>\", strprintf(_(\"If paytxfee is not set, include enough fee so transactions begin confirmation on average within n blocks (default: %u)\"), DEFAULT_TX_CONFIRM_TARGET));\n+    strUsage += HelpMessageOpt(\"-usehd\", _(\"Use hierarchical deterministic key generation (HD) after bip32. Has only affect during wallet creation/first start\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_USE_HD_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63034380",
      "id" : 63034380,
      "original_commit_id" : "ce6332ec0a0a95e86fcc461b826c79e8b5e34f96",
      "original_position" : 99,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63034380",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63035718"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63035718"
         }
      },
      "body" : "Nit: I think you want to use `//!<` when placing a trailing comment.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#doxygen-comments",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-12T14:59:59Z",
      "diff_hunk" : "@@ -40,6 +40,35 @@ enum DBErrors\n     DB_NEED_REWRITE\n };\n \n+/* simple hd chain data model */\n+class CHDChain\n+{\n+public:\n+    uint32_t nExternalChainCounter;\n+    CKeyID masterKeyID; /* master key hash160 */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63035718",
      "id" : 63035718,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 9,
      "path" : "src/wallet/walletdb.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63035718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63036439"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63036439"
         }
      },
      "body" : "~~nit: simply calling AddKey should work here~~ nevermind, wrong function",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-12T15:03:58Z",
      "diff_hunk" : "@@ -1051,6 +1089,37 @@ CAmount CWallet::GetChange(const CTransaction& tx) const\n     return nChange;\n }\n \n+bool CWallet::SetHDMasterKey(const CKey& key)\n+{\n+    LOCK(cs_wallet);\n+\n+    // store the key as normal \"key\"/\"ckey\" object\n+    // in the database\n+    // key metadata is not required\n+    CPubKey pubkey = key.GetPubKey();\n+    if (!AddKeyPubKey(key, pubkey))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63036439",
      "id" : 63036439,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 72,
      "path" : "src/wallet/wallet.cpp",
      "position" : 84,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63036439",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/8035/commits/cc1df8fa6f4849b65187f60a3cb4c83da3d16788\n\nGlad to see a really simple PR. Baby steps better than no steps.\n",
      "created_at" : "2016-05-12T15:14:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218788961",
      "id" : 218788961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODc4ODk2MQ==",
      "updated_at" : "2016-05-12T15:14:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218788961",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added a squash me commit with some non-code nit fixes.\n",
      "created_at" : "2016-05-12T18:56:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-218852532",
      "id" : 218852532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxODg1MjUzMg==",
      "updated_at" : "2016-05-12T18:56:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218852532",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63466646"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63466646"
         }
      },
      "body" : "Why is this an assertion but missing the master key is an exception?",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-17T05:36:33Z",
      "diff_hunk" : "@@ -91,7 +91,47 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        assert(key.size() == 32);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63466646",
      "id" : 63466646,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 23,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63466646",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63466697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63466697"
         }
      },
      "body" : "Needs comment about hardened derivation.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-17T05:37:33Z",
      "diff_hunk" : "@@ -91,7 +91,47 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        assert(key.size() == 32);\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        masterKey.Derive(accountKey, 0 | 0x80000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63466697",
      "id" : 63466697,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 27,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63466697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63466976"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63466976"
         }
      },
      "body" : "Please add braces here for the else block.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-17T05:42:02Z",
      "diff_hunk" : "@@ -91,7 +91,47 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        assert(key.size() == 32);\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        masterKey.Derive(accountKey, 0 | 0x80000000);\n+\n+        // derive m/0'/0'\n+        accountKey.Derive(externalChainChildKey, 0 | 0x80000000);\n+\n+        // derive child key at next index, skip keys already known to the wallet\n+        do\n+        {\n+            externalChainChildKey.Derive(childKey, hdChain.nExternalChainCounter | 0x80000000);\n+            // increment childkey index\n+            hdChain.nExternalChainCounter++;\n+        } while(HaveKey(childKey.key.GetPubKey().GetID()));\n+        secret = childKey.key;\n+\n+        // update the chain model in the database\n+        if (!CWalletDB(strWalletFile).WriteHDChain(hdChain))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Writing HD chain model failed\");\n+    } else\n+        secret.MakeNewKey(fCompressed);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63466976",
      "id" : 63466976,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 45,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63466976",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63467081"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63467081"
         }
      },
      "body" : "I agree. This assertion should be removed.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-17T05:43:08Z",
      "diff_hunk" : "@@ -91,7 +91,47 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        assert(key.size() == 32);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63467081",
      "id" : 63467081,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 23,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63467081",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63476458"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63476458"
         }
      },
      "body" : "our clang format script accepted that.\r\nWhat's wrong with it? :-)",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-17T07:40:40Z",
      "diff_hunk" : "@@ -91,7 +91,47 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        assert(key.size() == 32);\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        masterKey.Derive(accountKey, 0 | 0x80000000);\n+\n+        // derive m/0'/0'\n+        accountKey.Derive(externalChainChildKey, 0 | 0x80000000);\n+\n+        // derive child key at next index, skip keys already known to the wallet\n+        do\n+        {\n+            externalChainChildKey.Derive(childKey, hdChain.nExternalChainCounter | 0x80000000);\n+            // increment childkey index\n+            hdChain.nExternalChainCounter++;\n+        } while(HaveKey(childKey.key.GetPubKey().GetID()));\n+        secret = childKey.key;\n+\n+        // update the chain model in the database\n+        if (!CWalletDB(strWalletFile).WriteHDChain(hdChain))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Writing HD chain model failed\");\n+    } else\n+        secret.MakeNewKey(fCompressed);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63476458",
      "id" : 63476458,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 45,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63476458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added another squash-me commit with minor nit fixes.\n",
      "created_at" : "2016-05-17T07:42:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-219642847",
      "id" : 219642847,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxOTY0Mjg0Nw==",
      "updated_at" : "2016-05-17T07:42:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219642847",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli clang-format does not reject anything, it just reformats.\n",
      "created_at" : "2016-05-17T07:55:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-219645472",
      "id" : 219645472,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxOTY0NTQ3Mg==",
      "updated_at" : "2016-05-17T07:55:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219645472",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa: right! Sorry. I meant it didn't reformat the `else` part.\n",
      "created_at" : "2016-05-17T08:11:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-219648708",
      "id" : 219648708,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxOTY0ODcwOA==",
      "updated_at" : "2016-05-17T08:11:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219648708",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli It can't reformat it, because all it does is change whitespace. What we want here is more than just changing whitespace, but there is no way to make clang do that (and also not make it yell about it). Just because a whitespace formatting tool accepts the code, doesn't mean it satisfies all our style guidelines. For example, it also does not check consistency of variable names.\n",
      "created_at" : "2016-05-17T08:13:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-219649367",
      "id" : 219649367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxOTY0OTM2Nw==",
      "updated_at" : "2016-05-17T08:13:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219649367",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63481179"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63481179"
         }
      },
      "body" : "I think that is what clang-tidy is supposed to do ;)",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-17T08:17:42Z",
      "diff_hunk" : "@@ -91,7 +91,47 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        assert(key.size() == 32);\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        masterKey.Derive(accountKey, 0 | 0x80000000);\n+\n+        // derive m/0'/0'\n+        accountKey.Derive(externalChainChildKey, 0 | 0x80000000);\n+\n+        // derive child key at next index, skip keys already known to the wallet\n+        do\n+        {\n+            externalChainChildKey.Derive(childKey, hdChain.nExternalChainCounter | 0x80000000);\n+            // increment childkey index\n+            hdChain.nExternalChainCounter++;\n+        } while(HaveKey(childKey.key.GetPubKey().GetID()));\n+        secret = childKey.key;\n+\n+        // update the chain model in the database\n+        if (!CWalletDB(strWalletFile).WriteHDChain(hdChain))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Writing HD chain model failed\");\n+    } else\n+        secret.MakeNewKey(fCompressed);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r63481179",
      "id" : 63481179,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 45,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/63481179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Amend force pushed last squash-me commit with the `else` + bracket change.\n",
      "created_at" : "2016-05-17T11:07:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-219686978",
      "id" : 219686978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxOTY4Njk3OA==",
      "updated_at" : "2016-05-17T11:07:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219686978",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147195"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147195"
         }
      },
      "body" : "Sorry, I don't understand this ```| 0x80000000``` from the comments...",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-22T09:46:35Z",
      "diff_hunk" : "@@ -91,7 +91,48 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        // use hardened derivation (child keys > 0x80000000 are hardened after bip32)\n+        masterKey.Derive(accountKey, 0 | 0x80000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147195",
      "id" : 64147195,
      "original_commit_id" : "d2f3c1ded185cd0f67bb0f48b59c995d63ad50b7",
      "original_position" : 27,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147377"
         }
      },
      "body" : "Hardened keys are >= 0x80000000, not > according to bip32",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-22T10:05:32Z",
      "diff_hunk" : "@@ -91,7 +91,48 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        // use hardened derivation (child keys > 0x80000000 are hardened after bip32)\n+        masterKey.Derive(accountKey, 0 | 0x80000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147377",
      "id" : 64147377,
      "original_commit_id" : "d2f3c1ded185cd0f67bb0f48b59c995d63ad50b7",
      "original_position" : 27,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147389"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147389"
         }
      },
      "body" : "It's specified here:\r\nhttps://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki#child-key-derivation-ckd-functions\r\n\r\nYou can derive 2^32 key, child keys <= 2147483648 (<=0x80000000) are non-hardened key. Derived child keys > 2147483648 are hardened keys.\r\n\r\nThis line:\r\n`masterKey.Derive(accountKey, 0 | 0x80000000);`\r\n.. is equal to ..\r\n`masterKey.Derive(accountKey, 0 + 2147483648)`",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-22T10:06:10Z",
      "diff_hunk" : "@@ -91,7 +91,48 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        // use hardened derivation (child keys > 0x80000000 are hardened after bip32)\n+        masterKey.Derive(accountKey, 0 | 0x80000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147389",
      "id" : 64147389,
      "original_commit_id" : "d2f3c1ded185cd0f67bb0f48b59c995d63ad50b7",
      "original_position" : 27,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147389",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147425"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147425"
         }
      },
      "body" : "I think the comment has a typo?",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-22T10:09:09Z",
      "diff_hunk" : "@@ -91,7 +91,48 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        // use hardened derivation (child keys > 0x80000000 are hardened after bip32)\n+        masterKey.Derive(accountKey, 0 | 0x80000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147425",
      "id" : 64147425,
      "original_commit_id" : "d2f3c1ded185cd0f67bb0f48b59c995d63ad50b7",
      "original_position" : 27,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I still have limited knowledge of the wallet, but thanks to this being so simple I was able to review it and everything looks good.\nsomething-between-concept-and-ut ACK\n",
      "created_at" : "2016-05-22T10:21:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-220824867",
      "id" : 220824867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMDgyNDg2Nw==",
      "updated_at" : "2016-05-22T10:21:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/220824867",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "node_id" : "MDQ6VXNlcjEwMDg0NTg=",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147696"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147696"
         }
      },
      "body" : "Oh, I forgot about this, thanks. IIRC, pycoin (what I've used for bip32 so far) used an asterisk in its interface for hardened keys. I wouldn't complain if the link was added to the comment, but maybe an appropriately named constant for  0x80000000 would be enough.\r\n",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-22T10:27:39Z",
      "diff_hunk" : "@@ -91,7 +91,48 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        // use hardened derivation (child keys > 0x80000000 are hardened after bip32)\n+        masterKey.Derive(accountKey, 0 | 0x80000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r64147696",
      "id" : 64147696,
      "original_commit_id" : "d2f3c1ded185cd0f67bb0f48b59c995d63ad50b7",
      "original_position" : 27,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/64147696",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Can one of the admins verify this patch?\n",
      "created_at" : "2016-05-25T08:43:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-221510428",
      "id" : 221510428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMTUxMDQyOA==",
      "updated_at" : "2016-05-25T08:43:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221510428",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/541066?v=4",
         "events_url" : "https://api.github.com/users/arowser/events{/privacy}",
         "followers_url" : "https://api.github.com/users/arowser/followers",
         "following_url" : "https://api.github.com/users/arowser/following{/other_user}",
         "gists_url" : "https://api.github.com/users/arowser/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/arowser",
         "id" : 541066,
         "login" : "arowser",
         "node_id" : "MDQ6VXNlcjU0MTA2Ng==",
         "organizations_url" : "https://api.github.com/users/arowser/orgs",
         "received_events_url" : "https://api.github.com/users/arowser/received_events",
         "repos_url" : "https://api.github.com/users/arowser/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/arowser/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/arowser/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/arowser"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased. Squashed squash-me commits.\n",
      "created_at" : "2016-05-31T08:45:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-222628091",
      "id" : 222628091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMjYyODA5MQ==",
      "updated_at" : "2016-05-31T08:45:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222628091",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This needs to be added to doc/bips.md. I can add it to #8121 if you'd rather not add additional commits.\n",
      "created_at" : "2016-05-31T08:57:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-222630620",
      "id" : 222630620,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMjYzMDYyMA==",
      "updated_at" : "2016-05-31T08:57:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222630620",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Doesn't build here:\n\n```\nwallet/wallet.cpp:3219:9: error: use of undeclared identifier 'RandAddSeedPerfmon'\n```\n\nSee #7891, it should be enough to remove it.\n",
      "created_at" : "2016-05-31T11:44:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-222664829",
      "id" : 222664829,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMjY2NDgyOQ==",
      "updated_at" : "2016-05-31T11:44:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222664829",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/6848764?v=4",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "node_id" : "MDQ6VXNlcjY4NDg3NjQ=",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think this should be added to doc/bips.md, as this pull does not add any interface at all. Though, the release notes should be updated.\n",
      "created_at" : "2016-05-31T11:50:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-222666001",
      "id" : 222666001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMjY2NjAwMQ==",
      "updated_at" : "2016-05-31T11:50:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222666001",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r65167230"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/65167230"
         }
      },
      "body" : "comment-nit: It is >= 0x80000000",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-05-31T11:51:17Z",
      "diff_hunk" : "@@ -91,7 +91,48 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        // use hardened derivation (child keys > 0x80000000 are hardened after bip32)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r65167230",
      "id" : 65167230,
      "original_commit_id" : "d89e8d5664f614750fe13c8ad014ba1478e37784",
      "original_position" : 26,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/65167230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed and force pushed the rebase issue `RandAddSeedPerfmon` (#7891).\n",
      "created_at" : "2016-05-31T12:47:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-222677814",
      "id" : 222677814,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMjY3NzgxNA==",
      "updated_at" : "2016-05-31T12:47:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222677814",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r65399174"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/65399174"
         }
      },
      "body" : "Agree about adding a named constant.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-06-01T16:49:27Z",
      "diff_hunk" : "@@ -91,7 +91,48 @@ CPubKey CWallet::GenerateNewKey()\n     bool fCompressed = CanSupportFeature(FEATURE_COMPRPUBKEY); // default to compressed public keys if we want 0.6.0 wallets\n \n     CKey secret;\n-    secret.MakeNewKey(fCompressed);\n+\n+    // Create new metadata\n+    int64_t nCreationTime = GetTime();\n+    CKeyMetadata metadata(nCreationTime);\n+\n+    // use HD key derivation if HD was enabled during wallet creation\n+    if (!hdChain.masterKeyID.IsNull()) {\n+        // for now we use a fixed keypath scheme of m/0'/0'/k\n+        CKey key;                      //master key seed (256bit)\n+        CExtKey masterKey;             //hd master key\n+        CExtKey accountKey;            //key at m/0'\n+        CExtKey externalChainChildKey; //key at m/0'/0'\n+        CExtKey childKey;              //key at m/0'/0'/<n>'\n+\n+        // try to get the master key\n+        if (!GetKey(hdChain.masterKeyID, key))\n+            throw std::runtime_error(\"CWallet::GenerateNewKey(): Master key not found\");\n+\n+        masterKey.SetMaster(key.begin(), key.size());\n+\n+        // derive m/0'\n+        // use hardened derivation (child keys > 0x80000000 are hardened after bip32)\n+        masterKey.Derive(accountKey, 0 | 0x80000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r65399174",
      "id" : 65399174,
      "original_commit_id" : "d2f3c1ded185cd0f67bb0f48b59c995d63ad50b7",
      "original_position" : 27,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/65399174",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r65400352"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/65400352"
         }
      },
      "body" : "I'd like to know why this comment does not apply.\r\n\r\nEDIT: because you need pubkey below anyway, ok!",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-06-01T16:56:17Z",
      "diff_hunk" : "@@ -1051,6 +1089,37 @@ CAmount CWallet::GetChange(const CTransaction& tx) const\n     return nChange;\n }\n \n+bool CWallet::SetHDMasterKey(const CKey& key)\n+{\n+    LOCK(cs_wallet);\n+\n+    // store the key as normal \"key\"/\"ckey\" object\n+    // in the database\n+    // key metadata is not required\n+    CPubKey pubkey = key.GetPubKey();\n+    if (!AddKeyPubKey(key, pubkey))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r65400352",
      "id" : 65400352,
      "original_commit_id" : "cc1df8fa6f4849b65187f60a3cb4c83da3d16788",
      "original_position" : 72,
      "path" : "src/wallet/wallet.cpp",
      "position" : 84,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/65400352",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK, will test. There are a few nits left to address.\n",
      "created_at" : "2016-06-01T17:03:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-223058733",
      "id" : 223058733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMzA1ODczMw==",
      "updated_at" : "2016-06-01T17:03:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/223058733",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added a commit that...\n- ... uses a constant for 0x80000000 (hardened child index range limit)\n- ... extend the source code comment\n- ... simplify `0 | 0x80000000` in `0x80000000` (and is now a const)\n",
      "created_at" : "2016-06-01T18:33:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-223084234",
      "id" : 223084234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMzA4NDIzNA==",
      "updated_at" : "2016-06-01T18:33:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/223084234",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is a high-profile feature. Definitely needs mention in release notes.\n",
      "created_at" : "2016-06-09T08:24:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-224830592",
      "id" : 224830592,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNDgzMDU5Mg==",
      "updated_at" : "2016-06-09T08:24:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/224830592",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Okay. I'll write something for the release notes.\n",
      "created_at" : "2016-06-09T08:24:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-224830743",
      "id" : 224830743,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNDgzMDc0Mw==",
      "updated_at" : "2016-06-09T08:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/224830743",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added a part in the `release-notes.md` (thanks for lang review).\nUpdated the `bips.md`.\n",
      "created_at" : "2016-06-10T09:09:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-225131334",
      "id" : 225131334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTEzMTMzNA==",
      "updated_at" : "2016-06-10T09:09:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225131334",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66585229"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66585229"
         }
      },
      "body" : "Nit: Let's call it \"Backups of HD wallets\"?",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-06-10T09:26:58Z",
      "diff_hunk" : "@@ -112,6 +112,24 @@ feerate. [BIP 133](https://github.com/bitcoin/bips/blob/master/bip-0133.mediawik\n \n ### Wallet\n \n+Hierarchical Deterministic Key Generation\n+-----------------------------------------\n+Newly created wallets will use hierarchical deterministic key generation\n+according to BIP32 (keypath m/0'/0'/k').\n+Existing wallets will still use traditional key generation.\n+\n+Backups, regardless of when they have been created, can therefore be",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66585229",
      "id" : 66585229,
      "original_commit_id" : "e9ec7b2aa01e3b673a3a11b3a779270c0f5a0eab",
      "original_position" : 10,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66585229",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66585346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66585346"
         }
      },
      "body" : "\"even the ones **which haven't** already\"?",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-06-10T09:28:01Z",
      "diff_hunk" : "@@ -112,6 +112,24 @@ feerate. [BIP 133](https://github.com/bitcoin/bips/blob/master/bip-0133.mediawik\n \n ### Wallet\n \n+Hierarchical Deterministic Key Generation\n+-----------------------------------------\n+Newly created wallets will use hierarchical deterministic key generation\n+according to BIP32 (keypath m/0'/0'/k').\n+Existing wallets will still use traditional key generation.\n+\n+Backups, regardless of when they have been created, can therefore be\n+used to re-generate all possible private keys, even the ones who hasn't",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66585346",
      "id" : 66585346,
      "original_commit_id" : "e9ec7b2aa01e3b673a3a11b3a779270c0f5a0eab",
      "original_position" : 11,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66585346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66585657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66585657"
         }
      },
      "body" : "Nit: Might as well call this `-createhdwallet` or similar. Using a lengthy and more verbose option does not hurt if it is expected to be changed from its default only very rarely.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-06-10T09:31:12Z",
      "diff_hunk" : "@@ -3058,6 +3132,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n         strUsage += HelpMessageOpt(\"-sendfreetransactions\", strprintf(_(\"Send transactions as zero-fee transactions if possible (default: %u)\"), DEFAULT_SEND_FREE_TRANSACTIONS));\n     strUsage += HelpMessageOpt(\"-spendzeroconfchange\", strprintf(_(\"Spend unconfirmed change when sending transactions (default: %u)\"), DEFAULT_SPEND_ZEROCONF_CHANGE));\n     strUsage += HelpMessageOpt(\"-txconfirmtarget=<n>\", strprintf(_(\"If paytxfee is not set, include enough fee so transactions begin confirmation on average within n blocks (default: %u)\"), DEFAULT_TX_CONFIRM_TARGET));\n+    strUsage += HelpMessageOpt(\"-usehd\", _(\"Use hierarchical deterministic key generation (HD) after bip32. Only has effect during wallet creation/first start\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_USE_HD_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66585657",
      "id" : 66585657,
      "original_commit_id" : "e9ec7b2aa01e3b673a3a11b3a779270c0f5a0eab",
      "original_position" : 114,
      "path" : "src/wallet/wallet.cpp",
      "position" : 114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66585657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66585755"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66585755"
         }
      },
      "body" : "Agree that `-createhdwallet` would make more sense.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-06-10T09:32:07Z",
      "diff_hunk" : "@@ -3058,6 +3132,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n         strUsage += HelpMessageOpt(\"-sendfreetransactions\", strprintf(_(\"Send transactions as zero-fee transactions if possible (default: %u)\"), DEFAULT_SEND_FREE_TRANSACTIONS));\n     strUsage += HelpMessageOpt(\"-spendzeroconfchange\", strprintf(_(\"Spend unconfirmed change when sending transactions (default: %u)\"), DEFAULT_SPEND_ZEROCONF_CHANGE));\n     strUsage += HelpMessageOpt(\"-txconfirmtarget=<n>\", strprintf(_(\"If paytxfee is not set, include enough fee so transactions begin confirmation on average within n blocks (default: %u)\"), DEFAULT_TX_CONFIRM_TARGET));\n+    strUsage += HelpMessageOpt(\"-usehd\", _(\"Use hierarchical deterministic key generation (HD) after bip32. Only has effect during wallet creation/first start\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_USE_HD_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66585755",
      "id" : 66585755,
      "original_commit_id" : "e9ec7b2aa01e3b673a3a11b3a779270c0f5a0eab",
      "original_position" : 114,
      "path" : "src/wallet/wallet.cpp",
      "position" : 114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66585755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I prefer `-usehd`, but adding a check that if it is given in case there already exists a wallet, we verify that it matches that wallet. That way you won't ever get any surprises, just set `-usehd`, and you're sure you'll always use HD derivation, set `-usehd=0` and you're sure you'll never.\n\nThat's similar to how `-txindex` works: if given, it must match the existing tree.\n",
      "created_at" : "2016-06-11T14:40:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-225366630",
      "id" : 225366630,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTM2NjYzMA==",
      "updated_at" : "2016-06-11T14:50:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225366630",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa If you add the check that your wallet must match with `-usehd` you can't set the default to true, I assume. Otherwise the a user switching from 0.12.1 to 0.13 would see a InitError or InitWarning pop up on every start.\n",
      "created_at" : "2016-06-12T10:51:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-225426103",
      "id" : 225426103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTQyNjEwMw==",
      "updated_at" : "2016-06-12T10:51:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225426103",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If -usehd is not explicitly given, default to whatever is the current\nwallet (or true for new wallets). if it is explicitly given, it must match\nthe existing wallet.\n",
      "created_at" : "2016-06-12T10:55:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-225426266",
      "id" : 225426266,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTQyNjI2Ng==",
      "updated_at" : "2016-06-12T10:55:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225426266",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok makes sense. (But that is different from txindex, as I remember you can't set -txindex=1 once and then remove it, to make it default to true. I may be mistaken but I should better not hijack this pull's discussion.)\n",
      "created_at" : "2016-06-12T11:35:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-225427804",
      "id" : 225427804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTQyNzgwNA==",
      "updated_at" : "2016-06-12T11:35:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225427804",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke it's slightly different, yes, but txindex behavior wouldn't make sense since you can't \"reindex\" your HD wallet to legacy.\n",
      "created_at" : "2016-06-12T11:39:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-225427944",
      "id" : 225427944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTQyNzk0NA==",
      "updated_at" : "2016-06-12T11:39:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225427944",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added a commit.\nNow the PR detects if a user likes to disabled hd (with `-usehd=0`) when using a hd wallet.dat file.\nThe PR also detects if a user likes to enable hd (with `-usehd=1`) when using a non hd wallet.dat file.\n\nThe node will shutdown/stop init in a such mismatch situation.\n",
      "created_at" : "2016-06-13T14:30:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-225598299",
      "id" : 225598299,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTU5ODI5OQ==",
      "updated_at" : "2016-06-13T14:30:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225598299",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 71ff55fcc2245e03c786d7e0312755e812d9de8e\n",
      "created_at" : "2016-06-13T15:45:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-225621461",
      "id" : 225621461,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTYyMTQ2MQ==",
      "updated_at" : "2016-06-13T15:45:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225621461",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66916247"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66916247"
         }
      },
      "body" : "Can be simplified a bit:\r\n```\r\nelse if (mapArgs.count(\"-usehd\")) {\r\n    bool useHd = GetBoolArg(\"-usehd\", DEFAULT_USEHD);\r\n    if (!walletInstance->hdChain.masterKeyID.IsNull() && !useHD)\r\n        return InitError(strprintf(_(\"Error loading %s: You can't disable HD on a already existing HD wallet\"), walletFile));\r\n    if (walletInstance->hdChain.masterKeyID.IsNull() && useHD)\r\n        return InitError(strprintf(_(\"Error loading %s: You can't enable HD on a already existing non-HD wallet\"), walletFile));\r\n}\r\n```\r\n(also please introduce a DEFAULT_USEHD constant)",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-06-14T06:45:36Z",
      "diff_hunk" : "@@ -3236,6 +3236,14 @@ bool CWallet::InitLoadWallet()\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66916247",
      "id" : 66916247,
      "original_commit_id" : "71ff55fcc2245e03c786d7e0312755e812d9de8e",
      "original_position" : 4,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66916247",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66917220"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66917220"
         }
      },
      "body" : "Thanks. Much simpler.\r\nForce push updated last commit.",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-06-14T06:56:30Z",
      "diff_hunk" : "@@ -3236,6 +3236,14 @@ bool CWallet::InitLoadWallet()\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r66917220",
      "id" : 66917220,
      "original_commit_id" : "71ff55fcc2245e03c786d7e0312755e812d9de8e",
      "original_position" : 4,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-06-14T06:56:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66917220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK afcd77e\n\nEven though this wallet change is reasonably risky, I think this has received enough review for correctness, and it should be merged now to make sure it gets more actual testing.\n",
      "created_at" : "2016-06-14T09:44:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-225831832",
      "id" : 225831832,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTgzMTgzMg==",
      "updated_at" : "2016-06-14T09:44:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225831832",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Post merge utACK. Will also test.\n",
      "created_at" : "2016-06-15T09:40:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-226138316",
      "id" : 226138316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNjEzODMxNg==",
      "updated_at" : "2016-06-15T09:40:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/226138316",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Just found out about this PR. Would like to clarify the keypath: It's purpose number is `0'` not `0`? (`(m/0'/0'/k')` not `(m/0/0'/k')`)\n\nI'm asking because otherwise it could be incompatible to how bitcoinj derives addresses.\n",
      "created_at" : "2016-06-15T18:22:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-226275624",
      "id" : 226275624,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNjI3NTYyNA==",
      "updated_at" : "2016-06-15T18:22:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/226275624",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/743306?v=4",
         "events_url" : "https://api.github.com/users/schildbach/events{/privacy}",
         "followers_url" : "https://api.github.com/users/schildbach/followers",
         "following_url" : "https://api.github.com/users/schildbach/following{/other_user}",
         "gists_url" : "https://api.github.com/users/schildbach/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/schildbach",
         "id" : 743306,
         "login" : "schildbach",
         "node_id" : "MDQ6VXNlcjc0MzMwNg==",
         "organizations_url" : "https://api.github.com/users/schildbach/orgs",
         "received_events_url" : "https://api.github.com/users/schildbach/received_events",
         "repos_url" : "https://api.github.com/users/schildbach/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/schildbach/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/schildbach/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/schildbach"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@schildbach: We have decided to go with a \"hardened only derivation\" version for the first implementation. Using `m/0/0'/k'` would introduce the risk of revealing extended pubkey `m/0` together with a non extended child privatekey resulting in revealing the whole chain of keys.\n\nOn top of that, I personally think importing a xpriv into another wallet in order to \"reconstruct everything\" is not a very good concept.\n",
      "created_at" : "2016-06-17T14:12:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-226779483",
      "id" : 226779483,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNjc3OTQ4Mw==",
      "updated_at" : "2016-06-17T14:12:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/226779483",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonasschnelli Yes that's fine. I just wanted to make sure there is no \"partial overlap\" with the bitcoinj impl.\n",
      "created_at" : "2016-06-17T19:42:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-226863839",
      "id" : 226863839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNjg2MzgzOQ==",
      "updated_at" : "2016-06-17T19:42:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/226863839",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/743306?v=4",
         "events_url" : "https://api.github.com/users/schildbach/events{/privacy}",
         "followers_url" : "https://api.github.com/users/schildbach/followers",
         "following_url" : "https://api.github.com/users/schildbach/following{/other_user}",
         "gists_url" : "https://api.github.com/users/schildbach/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/schildbach",
         "id" : 743306,
         "login" : "schildbach",
         "node_id" : "MDQ6VXNlcjc0MzMwNg==",
         "organizations_url" : "https://api.github.com/users/schildbach/orgs",
         "received_events_url" : "https://api.github.com/users/schildbach/received_events",
         "repos_url" : "https://api.github.com/users/schildbach/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/schildbach/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/schildbach/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/schildbach"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "So, how does one import a BIP32 master key into an existing wallet?\n",
      "created_at" : "2016-06-25T15:54:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-228551932",
      "id" : 228551932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyODU1MTkzMg==",
      "updated_at" : "2016-06-25T15:54:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228551932",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm switching to Core (from Electrum) after this lands in 0.13, thanks for your efforts.\n",
      "created_at" : "2016-06-25T16:10:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-228553045",
      "id" : 228553045,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyODU1MzA0NQ==",
      "updated_at" : "2016-06-25T16:10:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228553045",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/4371?v=4",
         "events_url" : "https://api.github.com/users/diegoviola/events{/privacy}",
         "followers_url" : "https://api.github.com/users/diegoviola/followers",
         "following_url" : "https://api.github.com/users/diegoviola/following{/other_user}",
         "gists_url" : "https://api.github.com/users/diegoviola/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/diegoviola",
         "id" : 4371,
         "login" : "diegoviola",
         "node_id" : "MDQ6VXNlcjQzNzE=",
         "organizations_url" : "https://api.github.com/users/diegoviola/orgs",
         "received_events_url" : "https://api.github.com/users/diegoviola/received_events",
         "repos_url" : "https://api.github.com/users/diegoviola/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/diegoviola/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/diegoviola/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/diegoviola"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> So, how does one import a BIP32 master key into an existing wallet?\n\nThat functionality currently doesn't exist. Please read the OP: this is the smallest possible change to introduce BIP32 into Bitcoin Core. This made it realistic to get it reviewed and merged in a small timespan. More functionality can be added later.\n",
      "created_at" : "2016-06-27T12:27:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-228731246",
      "id" : 228731246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyODczMTI0Ng==",
      "updated_at" : "2016-06-27T12:27:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228731246",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r70108857"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/70108857"
         }
      },
      "body" : "Nit: Wrong function name",
      "commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "created_at" : "2016-07-08T17:20:34Z",
      "diff_hunk" : "@@ -1049,6 +1092,37 @@ CAmount CWallet::GetChange(const CTransaction& tx) const\n     return nChange;\n }\n \n+bool CWallet::SetHDMasterKey(const CKey& key)\n+{\n+    LOCK(cs_wallet);\n+\n+    // store the key as normal \"key\"/\"ckey\" object\n+    // in the database\n+    // key metadata is not required\n+    CPubKey pubkey = key.GetPubKey();\n+    if (!AddKeyPubKey(key, pubkey))\n+        throw std::runtime_error(\"CWallet::GenerateNewKey(): AddKey failed\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#discussion_r70108857",
      "id" : 70108857,
      "original_commit_id" : "afcd77e17936f7ec9bbf7b47f55a211eccc08364",
      "original_position" : 85,
      "path" : "src/wallet/wallet.cpp",
      "position" : 85,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8035",
      "updated_at" : "2016-07-08T17:20:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/70108857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Post-merge review comments, sorry :/ (continued from IRC):\nThere is also a comment on #8324 and other related PRs here.\n- The use of an ECDSA private key (stored as such) as the master seed is somewhat strange...While not strictly an issue, I'm concerned about the ability of users to dump this as a regular key, potentially causing some interesting behavior.\n- The way I read the current code, every time we go to GenerateNewKey() we will iterate over every key we have already generated before generating a new one (as we never call SetHDChain to store the updated counter on disk)....anyone with a test hd wallet lying around want to see what their disk-counter is?\n- I think IsKeyType should be changed to include hdchain, not add an explicit hdchain check in ::Recover, since we probably definitely want it in ::LoadWallet as well.\n- The duplication of the old CTransaction READWRITE(this->nVersion); nVersion = this->nVersion; logic seems strange to me. I always found that a kinda funny way to do things and was glad to see it go in SegWit...Its \"hidden functionality\" and I'd prefer if we handled that very explicitly instead of via this strange hack.\n\nI think all but the first could easily be fixed even now, if we decide they are, indeed, issues.\n",
      "created_at" : "2016-07-19T01:48:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-233508913",
      "id" : 233508913,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIzMzUwODkxMw==",
      "updated_at" : "2016-07-19T01:53:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/233508913",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the post-merge review Matt.\n\n> The use of an ECDSA private key (stored as such) as the master seed is somewhat strange...While not strictly an issue, I'm concerned about the ability of users to dump this as a regular key, potentially causing some interesting behavior.\n\nYes. Agree. This was done after two of my former PR did not made it into the master (https://github.com/bitcoin/bitcoin/pull/6265 https://github.com/bitcoin/bitcoin/pull/7273) and I was looking for a simpler solutions.\nThere is a PR to identify the seed when dumping (https://github.com/bitcoin/bitcoin/pull/8206).\n\n> The way I read the current code, every time we go to GenerateNewKey() we will iterate over every key we have already generated before generating a new one (as we never call SetHDChain to store the updated counter on disk)....anyone with a test hd wallet lying around want to see what their disk-counter is?\n\nThis is to ensure we don't re-generate an already existing key (there are some cases where this would be possible otherwise).\nThe iteration should be painless. It's a `std::map` `count()` of an in memory map of all the key.\n",
      "created_at" : "2016-07-19T05:32:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-233536242",
      "id" : 233536242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIzMzUzNjI0Mg==",
      "updated_at" : "2016-07-19T05:32:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/233536242",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "re: GenerateNewKey(): Not sure what your response was about (seems to be communication failure there), but it was pointed out to me that I missed the save line and was incorrect.\n",
      "created_at" : "2016-07-19T23:51:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-233800543",
      "id" : 233800543,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIzMzgwMDU0Mw==",
      "updated_at" : "2016-07-19T23:51:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/233800543",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I foget my sceond wallet passwor. Thats why i cant get backup. I need help  ",
      "created_at" : "2018-08-11T21:10:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-412301835",
      "id" : 412301835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMjMwMTgzNQ==",
      "updated_at" : "2018-08-11T21:10:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/412301835",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/42302857?v=4",
         "events_url" : "https://api.github.com/users/zihad944/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zihad944/followers",
         "following_url" : "https://api.github.com/users/zihad944/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zihad944/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zihad944",
         "id" : 42302857,
         "login" : "zihad944",
         "node_id" : "MDQ6VXNlcjQyMzAyODU3",
         "organizations_url" : "https://api.github.com/users/zihad944/orgs",
         "received_events_url" : "https://api.github.com/users/zihad944/received_events",
         "repos_url" : "https://api.github.com/users/zihad944/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zihad944/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zihad944/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zihad944"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@zihad944 what problem do you have specifically, what do you mean by \"my second wallet password\"? ",
      "created_at" : "2018-08-11T21:16:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-412302075",
      "id" : 412302075,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMjMwMjA3NQ==",
      "updated_at" : "2018-08-11T21:16:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/412302075",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5952531?v=4",
         "events_url" : "https://api.github.com/users/jeandudey/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jeandudey/followers",
         "following_url" : "https://api.github.com/users/jeandudey/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jeandudey/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jeandudey",
         "id" : 5952531,
         "login" : "jeandudey",
         "node_id" : "MDQ6VXNlcjU5NTI1MzE=",
         "organizations_url" : "https://api.github.com/users/jeandudey/orgs",
         "received_events_url" : "https://api.github.com/users/jeandudey/received_events",
         "repos_url" : "https://api.github.com/users/jeandudey/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jeandudey/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jeandudey/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jeandudey"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I use sceons password in my block chain. but i forget it.how i  cant send money. I cant see my backu.  ",
      "created_at" : "2018-08-11T21:29:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8035#issuecomment-412302678",
      "id" : 412302678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8035",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMjMwMjY3OA==",
      "updated_at" : "2018-08-11T21:29:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/412302678",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/42302857?v=4",
         "events_url" : "https://api.github.com/users/zihad944/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zihad944/followers",
         "following_url" : "https://api.github.com/users/zihad944/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zihad944/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zihad944",
         "id" : 42302857,
         "login" : "zihad944",
         "node_id" : "MDQ6VXNlcjQyMzAyODU3",
         "organizations_url" : "https://api.github.com/users/zihad944/orgs",
         "received_events_url" : "https://api.github.com/users/zihad944/received_events",
         "repos_url" : "https://api.github.com/users/zihad944/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zihad944/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zihad944/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zihad944"
      }
   }
]
