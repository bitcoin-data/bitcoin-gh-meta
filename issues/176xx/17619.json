{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Now that #16944 has landed the GUI can create a PSBT and put it on the clipboard. The user can then use this with e.g. [HWI](https://github.com/bitcoin-core/HWI):\r\n\r\n```\r\nhwi --fingerprint=00000000 signtx \r\n```\r\n\r\nBut if something goes wrong and clipboard loses the PSBT, they have to start over.\r\n\r\n#17509 adds support saving the PSBT to disk. Currently it only uses binary format, but it's easy to add base64 too, as @gwillen did in #16954.  Problem then is: if the user chooses the wrong format, they have to create the transaction all over again.\r\n\r\nI propose that we store PSBTs in the wallet. They would show up in the transaction tab with some icon to indicate that they're incomplete. The user can copy them to clipboard or save to disk whenever they like. It should also be possible to delete them.\r\n\r\nWhen a user loads a PSBT (e.g. via #17509) we should match it against what's in the wallet, and automagically join it. When a PSBT is complete it can be broadcast, deleted from the wallet, replaced by the regular transaction. All these steps should probably prompt for permission.\r\n\r\nSlightly more advanced: PSBTs could keep coins locked by default (which incidentally creates a convenient way to persist locked coins, though there's other was to do that).\r\n \r\nThis is probably most useful for the GUI, but we could also support this with a few new RPC methods like `listwalletpsbts` (bash autocompletion ftw #17289). This also saves applications like [Specter](https://github.com/cryptoadvance/specter-desktop) (@stepansnigirev) and [Junction](https://github.com/justinmoon/junction) (@justinmoon) from having to build their own pseudo-wallet, when dealing with air gapped wallets.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17619/comments",
   "created_at" : "2019-11-27T10:33:58Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17619/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/17619",
   "id" : 529258308,
   "labels" : [
      {
         "color" : "7cf575",
         "default" : false,
         "description" : null,
         "id" : 64583,
         "name" : "Feature",
         "node_id" : "MDU6TGFiZWw2NDU4Mw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17619/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU1MjkyNTgzMDg=",
   "number" : 17619,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "rfc: store PSBTs in wallet ",
   "updated_at" : "2019-11-27T10:34:23Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17619",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
      "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Sjors/followers",
      "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Sjors",
      "id" : 10217,
      "login" : "Sjors",
      "node_id" : "MDQ6VXNlcjEwMjE3",
      "organizations_url" : "https://api.github.com/users/Sjors/orgs",
      "received_events_url" : "https://api.github.com/users/Sjors/received_events",
      "repos_url" : "https://api.github.com/users/Sjors/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Sjors"
   }
}
