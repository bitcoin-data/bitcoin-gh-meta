[
   {
      "author_association" : "NONE",
      "body" : "~Travis tests should be re-run following the merge of #14300.~ Rebased this PR on #14300, so dependency isn't an issue.",
      "created_at" : "2018-09-24T03:15:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423869528",
      "id" : 423869528,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzg2OTUyOA==",
      "updated_at" : "2018-09-24T03:32:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423869528",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Reviewers, this pull request conflicts with the following ones:\n\n* #14318 (Relay ancestors of transactions by sdaftuar)\n* #14312 (tests: Remove unused testing code by practicalswift)\n* #14220 (Transaction relay privacy bugfix by sdaftuar)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-09-24T04:13:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423873642",
      "id" : 423873642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzg3MzY0Mg==",
      "updated_at" : "2018-09-27T02:46:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423873642",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What an excellent first-time contribution! Thanks!\r\n\r\nThis is my favourite type of contribution: it not only fixes current code but also fixes **future** code by introducing a mechanism that helps us avoid introducing new instances of the same class of issue. Exactly the type of contribution that I was referring to in https://github.com/bitcoin/bitcoin/pull/14217#issuecomment-423812131:\r\n\r\n> Personally I'm much more excited to see a PR submitted which strengthens the long term security of the project in some form compared to when I see a PR submitted which implements some shiny new feature :-)\r\n\r\nIn addition to the above: `__slots__` is also an unambiguous improvement from a memory usage perspective.\r\n\r\nutACK 965c8ff9c7539719eb36bd46297358e33b571766",
      "created_at" : "2018-09-24T05:49:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423881690",
      "id" : 423881690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzg4MTY5MA==",
      "updated_at" : "2018-09-24T07:27:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423881690",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nThere's some suggestion in this thread: https://stackoverflow.com/questions/472000/usage-of-slots that using `__slots__` to constrain attribute creation is discouraged. However, I've searched for a few minutes and haven't been able to find a 'better' way to do it.",
      "created_at" : "2018-09-24T12:23:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423956439",
      "id" : 423956439,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzk1NjQzOQ==",
      "updated_at" : "2018-09-24T12:23:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423956439",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r219822066"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219822066"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would be nice to demonstrate that this fails due to the correct reason: \"non-mandatory-script-verify-flag (Witness program was passed an empty witness)\"\r\n\r\nYou can achieve this with the `assert_debug_log` helper.",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-24T12:47:19Z",
      "diff_hunk" : "@@ -771,8 +771,8 @@ def test_p2sh_witness(self):\n         # segwit-aware would also reject this for failing CLEANSTACK.\n         test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r219822066",
      "id" : 219822066,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgyMjA2Ng==",
      "original_commit_id" : "965c8ff9c7539719eb36bd46297358e33b571766",
      "original_position" : 11,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 158085790,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219822066",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r219822513"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219822513"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same here: The reject reason is just the same as above, whereas it now should be \"mandatory-script-verify-flag-failed (Script evaluated without error but finished with a false/empty top stack element)\"",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-24T12:49:00Z",
      "diff_hunk" : "@@ -771,8 +771,8 @@ def test_p2sh_witness(self):\n         # segwit-aware would also reject this for failing CLEANSTACK.\n         test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n \n-        # Try to put the witness script in the script_sig, should also fail.\n-        spend_tx.vin[0].script_sig = CScript([p2wsh_pubkey, b'a'])\n+        # Try to put the witness script in the scriptSig, should also fail.\n+        spend_tx.vin[0].scriptSig = CScript([p2wsh_pubkey, b'a'])\n         spend_tx.rehash()\n         test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r219822513",
      "id" : 219822513,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgyMjUxMw==",
      "original_commit_id" : "965c8ff9c7539719eb36bd46297358e33b571766",
      "original_position" : 18,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 158086404,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219822513",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. I guess this could also be implemented with a \"frozen\" decorator, which freezes the attributes after `__init__`.\r\n\r\nIt worries me that the tests just pass with or without this fix, which doesn't add much value to the fix. Would you mind changing the tests itself, such that they would fail without, but pass with the change. (See inline comments)",
      "created_at" : "2018-09-24T12:53:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423964067",
      "id" : 423964067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzk2NDA2Nw==",
      "updated_at" : "2018-09-24T12:53:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423964067",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "You are my hero of the day. I am python ignorant, and so I'm only concept ACKing because (1) I've run into this problem before and been frustrated, (2) I see people who know the tests better haven't opposed it, and (3) I asked for someone to fix this. :P",
      "created_at" : "2018-09-26T00:25:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-424544655",
      "id" : 424544655,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDU0NDY1NQ==",
      "updated_at" : "2018-09-26T00:25:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424544655",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220408478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220408478"
         }
      },
      "author_association" : "NONE",
      "body" : "I agree. Thanks for the tip on assert_debug_log. I'm more familiar with Python than I am of the test suite. Addressed in a new commit.",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-26T02:11:21Z",
      "diff_hunk" : "@@ -771,8 +771,8 @@ def test_p2sh_witness(self):\n         # segwit-aware would also reject this for failing CLEANSTACK.\n         test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220408478",
      "id" : 220408478,
      "in_reply_to_id" : 219822066,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDQwODQ3OA==",
      "original_commit_id" : "965c8ff9c7539719eb36bd46297358e33b571766",
      "original_position" : 11,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 158809627,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220408478",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220408545"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220408545"
         }
      },
      "author_association" : "NONE",
      "body" : "Addressed in a new commit.",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-26T02:11:55Z",
      "diff_hunk" : "@@ -771,8 +771,8 @@ def test_p2sh_witness(self):\n         # segwit-aware would also reject this for failing CLEANSTACK.\n         test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n \n-        # Try to put the witness script in the script_sig, should also fail.\n-        spend_tx.vin[0].script_sig = CScript([p2wsh_pubkey, b'a'])\n+        # Try to put the witness script in the scriptSig, should also fail.\n+        spend_tx.vin[0].scriptSig = CScript([p2wsh_pubkey, b'a'])\n         spend_tx.rehash()\n         test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220408545",
      "id" : 220408545,
      "in_reply_to_id" : 219822513,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDQwODU0NQ==",
      "original_commit_id" : "965c8ff9c7539719eb36bd46297358e33b571766",
      "original_position" : 18,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 158809696,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220408545",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Concept ACK. I guess this could also be implemented with a \"frozen\" decorator, which freezes the attributes after `__init__`.\r\n\r\nI'm not opposed to moving to that at some point. Using `__slots__`  everywhere makes the code more verbose, where Python can otherwise excel at being concise. Unfortunately, these tests seem to do a bit of assignment after initialization so some refactoring would be necessary.\r\n\r\nAdded some checks for specific transaction acceptance failures in the debug log per @MarcoFalke's suggestion. Now at least the scriptSig typo would have caused a failure.\r\n\r\nThanks for the feedback, @MarcoFalke @gmaxwell and @practicalswift.",
      "created_at" : "2018-09-26T02:28:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-424563641",
      "id" : 424563641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDU2MzY0MQ==",
      "updated_at" : "2018-09-26T02:28:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424563641",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@MarcoFalke I've created an alternate implementation that uses a freezing decorator as you've suggested:\r\nhttps://github.com/bitcoin/bitcoin/compare/master...JustinTArthur:functional-test-attr-enforcement-decorator\r\nDecorator implementation isn't great to look at, but makes the classes easier on the eyes. We'd lose the performance benefits of `__slots__`, if that matters. Unlike the freezing method used by attrs and Python 3.7 data classes, this will allow re-assignment of initialized attributes.\r\n\r\nIf the new implementation is preferred across the board, I can replace this PR's commits with the alternate ones. For what it's worth, I prefer `__slots__`. I don't think it's an aspect of the language at risk of breaking in the Python 3.x timeframe and while using double-underscore stuff never looks great, I don't see `__slots__` as being much different from supplying an `__init__`. We're starting to see `__slots__` mentioned in more of the higher level Python docs.",
      "created_at" : "2018-09-26T05:27:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-424589395",
      "id" : 424589395,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDU4OTM5NQ==",
      "updated_at" : "2018-09-26T05:48:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424589395",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Will try to learn how `__slots__` work.",
      "created_at" : "2018-09-26T06:54:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-424605762",
      "id" : 424605762,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDYwNTc2Mg==",
      "updated_at" : "2018-09-26T06:54:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424605762",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "node_id" : "MDQ6VXNlcjExMTU0MTE4",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, +1 `__slots__` for this case.",
      "created_at" : "2018-09-26T08:43:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-424635157",
      "id" : 424635157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDYzNTE1Nw==",
      "updated_at" : "2018-09-26T08:43:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424635157",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220608073"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220608073"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Could use the full error message here?\r\n\r\n`'was not accepted: mandatory-script-verify-flag-failed (Script evaluated without error but finished with a false/empty top stack element)'`",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-26T15:17:09Z",
      "diff_hunk" : "@@ -769,12 +769,14 @@ def test_p2sh_witness(self):\n         # will require a witness to spend a witness program regardless of\n         # segwit activation.  Note that older bitcoind's that are not\n         # segwit-aware would also reject this for failing CLEANSTACK.\n-        test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n+        with self.nodes[0].assert_debug_log(expected_msgs=(spend_tx.hash, 'was not accepted: non-mandatory-script-verify-flag')):\n+            test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n \n-        # Try to put the witness script in the script_sig, should also fail.\n-        spend_tx.vin[0].script_sig = CScript([p2wsh_pubkey, b'a'])\n+        # Try to put the witness script in the scriptSig, should also fail.\n+        spend_tx.vin[0].scriptSig = CScript([p2wsh_pubkey, b'a'])\n         spend_tx.rehash()\n-        test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n+        with self.nodes[0].assert_debug_log(expected_msgs=('Not relaying invalid transaction {}'.format(spend_tx.hash), 'mandatory-script-verify-flag-failed')):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220608073",
      "id" : 220608073,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDYwODA3Mw==",
      "original_commit_id" : "35c9a46e69a6174e04df3f53e6d9bc1e621d95e1",
      "original_position" : 23,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 159053858,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220608073",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220608269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220608269"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Could use the full error message here?\r\n\r\n`'was not accepted: non-mandatory-script-verify-flag (Witness program was passed an empty witness)'`",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-26T15:17:38Z",
      "diff_hunk" : "@@ -769,12 +769,14 @@ def test_p2sh_witness(self):\n         # will require a witness to spend a witness program regardless of\n         # segwit activation.  Note that older bitcoind's that are not\n         # segwit-aware would also reject this for failing CLEANSTACK.\n-        test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n+        with self.nodes[0].assert_debug_log(expected_msgs=(spend_tx.hash, 'was not accepted: non-mandatory-script-verify-flag')):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220608269",
      "id" : 220608269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDYwODI2OQ==",
      "original_commit_id" : "35c9a46e69a6174e04df3f53e6d9bc1e621d95e1",
      "original_position" : 14,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 159053858,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220608269",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK either approach. I slightly prefer the `__slots__` approach, since it seems more explicit to me and doesn't require us to roll our own attribute-fixing code, but I'm happy with either.",
      "created_at" : "2018-09-26T15:42:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-424764659",
      "id" : 424764659,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDc2NDY1OQ==",
      "updated_at" : "2018-09-26T15:42:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424764659",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, let's keep the slots then.",
      "created_at" : "2018-09-26T16:01:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-424772255",
      "id" : 424772255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDc3MjI1NQ==",
      "updated_at" : "2018-09-26T16:01:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424772255",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Agree with @jnewbery Ã¢ÂÂ the explicitness of `__slots__` is nice. Also: it is more idiomatic since it works out of the box without any extra code.\r\n\r\nFrom the Zen of Python:\r\n* Explicit is better than implicit.\r\n* There should be one Ã¢ÂÂ and preferably only one Ã¢ÂÂ obvious way to do it.\r\n\r\n:-)",
      "created_at" : "2018-09-26T16:49:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-424789709",
      "id" : 424789709,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDc4OTcwOQ==",
      "updated_at" : "2018-09-26T16:51:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424789709",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220757942"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220757942"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Any reason for not doing `__slots__ = ()` for `CScript` below?",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-26T23:52:29Z",
      "diff_hunk" : "@@ -361,8 +361,11 @@ def __init__(self, msg, data):\n         self.data = data\n         super(CScriptTruncatedPushDataError, self).__init__(msg)\n \n+\n # This is used, eg, for blockchain heights in coinbase scripts (bip34)\n-class CScriptNum():\n+class CScriptNum:\n+    __slots__ = (\"value\",)\n+\n     def __init__(self, d=0):\n         self.value = d\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220757942",
      "id" : 220757942,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDc1Nzk0Mg==",
      "original_commit_id" : "35c9a46e69a6174e04df3f53e6d9bc1e621d95e1",
      "original_position" : 21,
      "path" : "test/functional/test_framework/script.py",
      "position" : 21,
      "pull_request_review_id" : 159240946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220757942",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/524761?v=4",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "node_id" : "MDQ6VXNlcjUyNDc2MQ==",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220778450"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220778450"
         }
      },
      "author_association" : "NONE",
      "body" : "I avoided it because it used to be [documented as impossible for variable length sequences](https://docs.python.org/2.5/ref/slots.html#l2h-252). Looks like [recent revisions have been updated](https://docs.python.org/3/reference/datamodel.html#notes-on-using-slots) to clarify that it's ok as long as it's an empty `__slots__`.\r\n\r\nI'll revise, test-to-confirm, and adjust the commit.",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-27T02:36:07Z",
      "diff_hunk" : "@@ -361,8 +361,11 @@ def __init__(self, msg, data):\n         self.data = data\n         super(CScriptTruncatedPushDataError, self).__init__(msg)\n \n+\n # This is used, eg, for blockchain heights in coinbase scripts (bip34)\n-class CScriptNum():\n+class CScriptNum:\n+    __slots__ = (\"value\",)\n+\n     def __init__(self, d=0):\n         self.value = d\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220778450",
      "id" : 220778450,
      "in_reply_to_id" : 220757942,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDc3ODQ1MA==",
      "original_commit_id" : "35c9a46e69a6174e04df3f53e6d9bc1e621d95e1",
      "original_position" : 21,
      "path" : "test/functional/test_framework/script.py",
      "position" : 21,
      "pull_request_review_id" : 159265571,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220778450",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220779291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220779291"
         }
      },
      "author_association" : "NONE",
      "body" : "Reasonable, will adjust commit.",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-27T02:44:32Z",
      "diff_hunk" : "@@ -769,12 +769,14 @@ def test_p2sh_witness(self):\n         # will require a witness to spend a witness program regardless of\n         # segwit activation.  Note that older bitcoind's that are not\n         # segwit-aware would also reject this for failing CLEANSTACK.\n-        test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n+        with self.nodes[0].assert_debug_log(expected_msgs=(spend_tx.hash, 'was not accepted: non-mandatory-script-verify-flag')):\n+            test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n \n-        # Try to put the witness script in the script_sig, should also fail.\n-        spend_tx.vin[0].script_sig = CScript([p2wsh_pubkey, b'a'])\n+        # Try to put the witness script in the scriptSig, should also fail.\n+        spend_tx.vin[0].scriptSig = CScript([p2wsh_pubkey, b'a'])\n         spend_tx.rehash()\n-        test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n+        with self.nodes[0].assert_debug_log(expected_msgs=('Not relaying invalid transaction {}'.format(spend_tx.hash), 'mandatory-script-verify-flag-failed')):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220779291",
      "id" : 220779291,
      "in_reply_to_id" : 220608073,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDc3OTI5MQ==",
      "original_commit_id" : "35c9a46e69a6174e04df3f53e6d9bc1e621d95e1",
      "original_position" : 23,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 159266614,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220779291",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220779298"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220779298"
         }
      },
      "author_association" : "NONE",
      "body" : "Reasonable, will adjust commit.",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-27T02:44:36Z",
      "diff_hunk" : "@@ -769,12 +769,14 @@ def test_p2sh_witness(self):\n         # will require a witness to spend a witness program regardless of\n         # segwit activation.  Note that older bitcoind's that are not\n         # segwit-aware would also reject this for failing CLEANSTACK.\n-        test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n+        with self.nodes[0].assert_debug_log(expected_msgs=(spend_tx.hash, 'was not accepted: non-mandatory-script-verify-flag')):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220779298",
      "id" : 220779298,
      "in_reply_to_id" : 220608269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDc3OTI5OA==",
      "original_commit_id" : "35c9a46e69a6174e04df3f53e6d9bc1e621d95e1",
      "original_position" : 14,
      "path" : "test/functional/p2p_segwit.py",
      "position" : null,
      "pull_request_review_id" : 159266620,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220779298",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220782900"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220782900"
         }
      },
      "author_association" : "NONE",
      "body" : "Done",
      "commit_id" : "e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-27T03:17:15Z",
      "diff_hunk" : "@@ -361,8 +361,11 @@ def __init__(self, msg, data):\n         self.data = data\n         super(CScriptTruncatedPushDataError, self).__init__(msg)\n \n+\n # This is used, eg, for blockchain heights in coinbase scripts (bip34)\n-class CScriptNum():\n+class CScriptNum:\n+    __slots__ = (\"value\",)\n+\n     def __init__(self, d=0):\n         self.value = d\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r220782900",
      "id" : 220782900,
      "in_reply_to_id" : 220757942,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDc4MjkwMA==",
      "original_commit_id" : "35c9a46e69a6174e04df3f53e6d9bc1e621d95e1",
      "original_position" : 21,
      "path" : "test/functional/test_framework/script.py",
      "position" : 21,
      "pull_request_review_id" : 159270969,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-27T03:17:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220782900",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Revised commits to incorporate code comment suggestions from @MarcoFalke and @jimmysong.",
      "created_at" : "2018-09-27T03:19:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-424945677",
      "id" : 424945677,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDk0NTY3Nw==",
      "updated_at" : "2018-09-27T03:19:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424945677",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK e46023287689fc8e79b9a82fe1a827d87c769423",
      "created_at" : "2018-09-27T14:52:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-425123045",
      "id" : 425123045,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNTEyMzA0NQ==",
      "updated_at" : "2018-09-27T14:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/425123045",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK e460232876",
      "created_at" : "2018-09-27T15:10:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-425129845",
      "id" : 425129845,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNTEyOTg0NQ==",
      "updated_at" : "2018-09-27T15:10:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/425129845",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
