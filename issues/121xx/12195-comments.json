[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hard coded seeds have been broken on master for a while now, see #11512, though they should work fine on 0.15.X and previous versions.\n\nOn January 16, 2018 6:59:50 AM UTC, Michael Polzer <notifications@github.com> wrote:\n>The issue was discovered due to our strict firewall settings blocking\n>all traffic from DNS Seeders. \n>\n>OS: OSX 10.13.2\n>reproduced on Ubuntu 16.04, 17.04\n>\n>Git branch: master (0.15.99)\n>\n>Expected behaviour: nodes are failing to receive addresses from DNS\n>seeders, upgraded ones are expected to connect to cached addresses from\n>peers.dat, new ones should fall back to the hard coded seeds. In\n>reality, addresses are reported to be loaded but no connection attempt\n>is made.\n>\n>2018-01-16 06:22:33 Adding fixed seed nodes as DNS doesn't seem to be\n>available.\n>2018-01-16 06:22:33 Added 1450 addresses from\n>cgd63h25kfci3gdl.internal: 0 tried, 1053 new\n>\n>Manually adding live nodes through console or bitcoin.conf will cause a\n>connection to be established. \n>\n>We were able to reproduce the issue on an open network (no firewall at\n>all) by removing all DNS seeders from chainparams.cpp and there for\n>forcing the node to look after peers.dat and hard coded seeds.  Code\n>compiled that way is not establishing a single connection, even it is\n>writing the hard coded nodes to peers.dat\n>\n>2018-01-16 06:44:08 Flushed 1053 addresses to peers.dat  31ms\n>\n>We have double-checked by applying the same change to the 0.13 branch\n>where it is working as expected, no DNS available and there for falling\n>back to chainparamsseeds.h and establishing connections.\n>\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/12195\n",
      "created_at" : "2018-01-16T07:09:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12195#issuecomment-357871907",
      "id" : 357871907,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12195",
      "updated_at" : "2018-01-16T07:09:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357871907",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Well, I need to enhance my brain-filter when searching for issues. Verified on 0.15 branch -> OK. Anyways thank you for the quick reply, will deploy some workaround for our pre-release test nodes.",
      "created_at" : "2018-01-16T07:50:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12195#issuecomment-357879111",
      "id" : 357879111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12195",
      "updated_at" : "2018-01-16T07:50:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357879111",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/26601261?v=4",
         "events_url" : "https://api.github.com/users/HashUnlimited/events{/privacy}",
         "followers_url" : "https://api.github.com/users/HashUnlimited/followers",
         "following_url" : "https://api.github.com/users/HashUnlimited/following{/other_user}",
         "gists_url" : "https://api.github.com/users/HashUnlimited/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/HashUnlimited",
         "id" : 26601261,
         "login" : "HashUnlimited",
         "organizations_url" : "https://api.github.com/users/HashUnlimited/orgs",
         "received_events_url" : "https://api.github.com/users/HashUnlimited/received_events",
         "repos_url" : "https://api.github.com/users/HashUnlimited/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/HashUnlimited/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/HashUnlimited/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/HashUnlimited"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Just in case someone stumbling over here again... 0.15 (release) is connecting to fixed seeds down to 0.13 but no older, even there are just one or two newer ones in the firewall environment. Is that really the desired behaviour?\r\nEdit: if that's the case, why are we then flushing all the other peers to .dat regardless it's version?",
      "created_at" : "2018-01-16T15:13:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12195#issuecomment-357991033",
      "id" : 357991033,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12195",
      "updated_at" : "2018-01-16T15:15:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357991033",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/26601261?v=4",
         "events_url" : "https://api.github.com/users/HashUnlimited/events{/privacy}",
         "followers_url" : "https://api.github.com/users/HashUnlimited/followers",
         "following_url" : "https://api.github.com/users/HashUnlimited/following{/other_user}",
         "gists_url" : "https://api.github.com/users/HashUnlimited/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/HashUnlimited",
         "id" : 26601261,
         "login" : "HashUnlimited",
         "organizations_url" : "https://api.github.com/users/HashUnlimited/orgs",
         "received_events_url" : "https://api.github.com/users/HashUnlimited/received_events",
         "repos_url" : "https://api.github.com/users/HashUnlimited/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/HashUnlimited/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/HashUnlimited/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/HashUnlimited"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@HashUnlimited No, it's not desired behaviour. It's a known bug, which will be fixed in the next release (a proposed fix is #11512).",
      "created_at" : "2018-01-16T16:32:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12195#issuecomment-358021060",
      "id" : 358021060,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12195",
      "updated_at" : "2018-01-16T16:33:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358021060",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks again for the answer. I have tried to implement the PR locally, unfortunately we do still not connect the old nodes (<0.13.x without NODE_WITNESS), even when I add their IPs to chainparamsseeds.h. Now that our target is to gracefully upgrade our servers and nodes behind the firewall, so the only chance I currently see is to run some \"gateway nodes\" on 0.13 until the whole cluster is up to date. On the global network this might not be a big deal as there are still a lot of intermediate versions around, locally it would isolate the older ones.",
      "created_at" : "2018-01-16T18:30:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12195#issuecomment-358059656",
      "id" : 358059656,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12195",
      "updated_at" : "2018-01-16T18:30:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358059656",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/26601261?v=4",
         "events_url" : "https://api.github.com/users/HashUnlimited/events{/privacy}",
         "followers_url" : "https://api.github.com/users/HashUnlimited/followers",
         "following_url" : "https://api.github.com/users/HashUnlimited/following{/other_user}",
         "gists_url" : "https://api.github.com/users/HashUnlimited/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/HashUnlimited",
         "id" : 26601261,
         "login" : "HashUnlimited",
         "organizations_url" : "https://api.github.com/users/HashUnlimited/orgs",
         "received_events_url" : "https://api.github.com/users/HashUnlimited/received_events",
         "repos_url" : "https://api.github.com/users/HashUnlimited/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/HashUnlimited/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/HashUnlimited/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/HashUnlimited"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Errr...no? Yes, that is the desired behavior. All the static seeds are filtered to at least be 0.13+ (ie have NODE_WITNESS) and #11512 does nto change that. We do not make any outbound connections to non-NODE_WITNESS peers (except feelers) period.",
      "created_at" : "2018-01-17T20:56:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12195#issuecomment-358442173",
      "id" : 358442173,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12195",
      "updated_at" : "2018-01-17T20:56:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358442173",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Oh, sorry I misread. Connecting only to witness capable nodes is intentional.",
      "created_at" : "2018-01-18T02:41:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12195#issuecomment-358519867",
      "id" : 358519867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12195",
      "updated_at" : "2018-01-18T02:41:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358519867",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
