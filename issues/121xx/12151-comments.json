[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161026738"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161026738"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why? You can just do a GetAncestor for blockindex->nHeight here, no?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T17:46:47Z",
      "diff_hunk" : "@@ -78,20 +78,22 @@ double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n     return dDiff;\n }\n \n-double GetDifficulty(const CBlockIndex* blockindex)\n+static int ComputeBlockConfirmations(const CBlockIndex* tip, const CBlockIndex* blockindex, const CBlockIndex*& next)\n {\n-    return GetDifficulty(chainActive, blockindex);\n+    next = tip->GetAncestor(blockindex->nHeight + 1);\n+    if (next && next->pprev == blockindex) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161026738",
      "id" : 161026738,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTAyNjczOA==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 88248888,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161026738",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161027116"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161027116"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "No need to change these unless you're gonna actually kill the cs_main held for the whole time, I'd think, no (and little reason to, its not like its being held for an extended period)?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T17:48:15Z",
      "diff_hunk" : "@@ -1185,20 +1182,21 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n \n     LOCK(cs_main);\n \n+    const CBlockIndex* tip = chainActive.Tip();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161027116",
      "id" : 161027116,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTAyNzExNg==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 143,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 114,
      "pull_request_review_id" : 88248888,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161027116",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161034204"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161034204"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This way you get next of blockindex.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T18:16:44Z",
      "diff_hunk" : "@@ -78,20 +78,22 @@ double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n     return dDiff;\n }\n \n-double GetDifficulty(const CBlockIndex* blockindex)\n+static int ComputeBlockConfirmations(const CBlockIndex* tip, const CBlockIndex* blockindex, const CBlockIndex*& next)\n {\n-    return GetDifficulty(chainActive, blockindex);\n+    next = tip->GetAncestor(blockindex->nHeight + 1);\n+    if (next && next->pprev == blockindex) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161034204",
      "id" : 161034204,
      "in_reply_to_id" : 161026738,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTAzNDIwNA==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 88257771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161034204",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161034615"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161034615"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This moves up tip variable declared below.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T18:18:13Z",
      "diff_hunk" : "@@ -1185,20 +1182,21 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n \n     LOCK(cs_main);\n \n+    const CBlockIndex* tip = chainActive.Tip();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161034615",
      "id" : 161034615,
      "in_reply_to_id" : 161027116,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTAzNDYxNQ==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 143,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 114,
      "pull_request_review_id" : 88258212,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161034615",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161034671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161034671"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ohoh, sorry, missed its use in blockheaderToJSON.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T18:18:28Z",
      "diff_hunk" : "@@ -78,20 +78,22 @@ double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n     return dDiff;\n }\n \n-double GetDifficulty(const CBlockIndex* blockindex)\n+static int ComputeBlockConfirmations(const CBlockIndex* tip, const CBlockIndex* blockindex, const CBlockIndex*& next)\n {\n-    return GetDifficulty(chainActive, blockindex);\n+    next = tip->GetAncestor(blockindex->nHeight + 1);\n+    if (next && next->pprev == blockindex) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161034671",
      "id" : 161034671,
      "in_reply_to_id" : 161026738,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTAzNDY3MQ==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 88258294,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161034671",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Best reviewed commit by commit",
      "created_at" : "2018-01-11T18:19:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-357015434",
      "id" : 357015434,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "updated_at" : "2018-01-11T18:19:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357015434",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161085651"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161085651"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`tip` instead of `chainActive.Tip()`?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T21:51:28Z",
      "diff_hunk" : "@@ -101,26 +103,22 @@ UniValue blockheaderToJSON(const CBlockIndex* blockindex)\n     result.push_back(Pair(\"mediantime\", (int64_t)blockindex->GetMedianTimePast()));\n     result.push_back(Pair(\"nonce\", (uint64_t)blockindex->nNonce));\n     result.push_back(Pair(\"bits\", strprintf(\"%08x\", blockindex->nBits)));\n-    result.push_back(Pair(\"difficulty\", GetDifficulty(blockindex)));\n+    result.push_back(Pair(\"difficulty\", GetDifficulty(chainActive.Tip(), blockindex)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161085651",
      "id" : 161085651,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTA4NTY1MQ==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 54,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 88318476,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161085651",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "node_id" : "MDQ6VXNlcjg4MTI1Mw==",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161085870"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161085870"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`tip` instead of `chainActive.Tip()`?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T21:52:31Z",
      "diff_hunk" : "@@ -146,12 +144,11 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* blockindex, bool tx\n     result.push_back(Pair(\"mediantime\", (int64_t)blockindex->GetMedianTimePast()));\n     result.push_back(Pair(\"nonce\", (uint64_t)block.nNonce));\n     result.push_back(Pair(\"bits\", strprintf(\"%08x\", block.nBits)));\n-    result.push_back(Pair(\"difficulty\", GetDifficulty(blockindex)));\n+    result.push_back(Pair(\"difficulty\", GetDifficulty(chainActive.Tip(), blockindex)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161085870",
      "id" : 161085870,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTA4NTg3MA==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 85,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 88318476,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161085870",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "node_id" : "MDQ6VXNlcjg4MTI1Mw==",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161087140"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161087140"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should be `+1` I believe?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T21:57:15Z",
      "diff_hunk" : "@@ -78,20 +78,22 @@ double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n     return dDiff;\n }\n \n-double GetDifficulty(const CBlockIndex* blockindex)\n+static int ComputeBlockConfirmations(const CBlockIndex* tip, const CBlockIndex* blockindex, const CBlockIndex*& next)\n {\n-    return GetDifficulty(chainActive, blockindex);\n+    next = tip->GetAncestor(blockindex->nHeight + 1);\n+    if (next && next->pprev == blockindex) {\n+        return tip->nHeight - blockindex->nHeight;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161087140",
      "id" : 161087140,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTA4NzE0MA==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 28,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 88318476,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161087140",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "node_id" : "MDQ6VXNlcjg4MTI1Mw==",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161087306"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161087306"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should be `? 1 : -1`. Blocks that are the chain tip have 1 confirmation.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T21:57:55Z",
      "diff_hunk" : "@@ -78,20 +78,22 @@ double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n     return dDiff;\n }\n \n-double GetDifficulty(const CBlockIndex* blockindex)\n+static int ComputeBlockConfirmations(const CBlockIndex* tip, const CBlockIndex* blockindex, const CBlockIndex*& next)\n {\n-    return GetDifficulty(chainActive, blockindex);\n+    next = tip->GetAncestor(blockindex->nHeight + 1);\n+    if (next && next->pprev == blockindex) {\n+        return tip->nHeight - blockindex->nHeight;\n+    }\n+    next = nullptr;\n+    return blockindex == tip ? 0 : -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161087306",
      "id" : 161087306,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTA4NzMwNg==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 31,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 88318476,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161087306",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "node_id" : "MDQ6VXNlcjg4MTI1Mw==",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161096849"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161096849"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Wrong order, should be `tip, pblockindex`.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T22:41:25Z",
      "diff_hunk" : "@@ -242,11 +243,7 @@ static bool rest_block(HTTPRequest* req,\n     }\n \n     case RF_JSON: {\n-        UniValue objBlock;\n-        {\n-            LOCK(cs_main);\n-            objBlock = blockToJSON(block, pblockindex, showTxDetails);\n-        }\n+        UniValue objBlock = std::move(blockToJSON(block, pblockindex, tip, showTxDetails));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161096849",
      "id" : 161096849,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTA5Njg0OQ==",
      "original_commit_id" : "8ca09810e14a99de8ff8ed57f17f058a061c1943",
      "original_position" : 47,
      "path" : "src/rest.cpp",
      "position" : null,
      "pull_request_review_id" : 88331049,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161096849",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161096922"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161096922"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-01-11T22:41:47Z",
      "diff_hunk" : "@@ -785,7 +782,7 @@ UniValue getblock(const JSONRPCRequest& request)\n         return strHex;\n     }\n \n-    return blockToJSON(block, pblockindex, verbosity >= 2);\n+    return blockToJSON(block, pblockindex, chainActive.Tip(), verbosity >= 2);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r161096922",
      "id" : 161096922,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTA5NjkyMg==",
      "original_commit_id" : "8ca09810e14a99de8ff8ed57f17f058a061c1943",
      "original_position" : 117,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 88331049,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161096922",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed @TheBlueMatt and @jimpo comments, thanks.",
      "created_at" : "2018-01-11T22:52:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-357088015",
      "id" : 357088015,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "updated_at" : "2018-01-11T22:52:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357088015",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r166140331"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166140331"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This confused me for a minute too. Maybe could rename function to something like `ComputeNextBlockAndDepth` to mention the `next` part.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-02-05T23:01:39Z",
      "diff_hunk" : "@@ -78,20 +78,22 @@ double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n     return dDiff;\n }\n \n-double GetDifficulty(const CBlockIndex* blockindex)\n+static int ComputeBlockConfirmations(const CBlockIndex* tip, const CBlockIndex* blockindex, const CBlockIndex*& next)\n {\n-    return GetDifficulty(chainActive, blockindex);\n+    next = tip->GetAncestor(blockindex->nHeight + 1);\n+    if (next && next->pprev == blockindex) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r166140331",
      "id" : 166140331,
      "in_reply_to_id" : 161026738,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2NjE0MDMzMQ==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 94174540,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166140331",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r166142183"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166142183"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can do, WDYT about returning `std::pair<int, const CBlockIndex*>`?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-02-05T23:10:16Z",
      "diff_hunk" : "@@ -78,20 +78,22 @@ double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n     return dDiff;\n }\n \n-double GetDifficulty(const CBlockIndex* blockindex)\n+static int ComputeBlockConfirmations(const CBlockIndex* tip, const CBlockIndex* blockindex, const CBlockIndex*& next)\n {\n-    return GetDifficulty(chainActive, blockindex);\n+    next = tip->GetAncestor(blockindex->nHeight + 1);\n+    if (next && next->pprev == blockindex) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r166142183",
      "id" : 166142183,
      "in_reply_to_id" : 161026738,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2NjE0MjE4Mw==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 94176497,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166142183",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r166142499"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166142499"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I can add a comment there too explaning the `height + 1` and `->pprev == blockindex`.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-02-05T23:11:53Z",
      "diff_hunk" : "@@ -78,20 +78,22 @@ double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n     return dDiff;\n }\n \n-double GetDifficulty(const CBlockIndex* blockindex)\n+static int ComputeBlockConfirmations(const CBlockIndex* tip, const CBlockIndex* blockindex, const CBlockIndex*& next)\n {\n-    return GetDifficulty(chainActive, blockindex);\n+    next = tip->GetAncestor(blockindex->nHeight + 1);\n+    if (next && next->pprev == blockindex) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r166142499",
      "id" : 166142499,
      "in_reply_to_id" : 161026738,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2NjE0MjQ5OQ==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 94176858,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166142499",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r170648923"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170648923"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Renamed to `ComputeNextBlockAndDepth` as per @ryanofsky suggestion. ",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-02-26T16:23:43Z",
      "diff_hunk" : "@@ -78,20 +78,22 @@ double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n     return dDiff;\n }\n \n-double GetDifficulty(const CBlockIndex* blockindex)\n+static int ComputeBlockConfirmations(const CBlockIndex* tip, const CBlockIndex* blockindex, const CBlockIndex*& next)\n {\n-    return GetDifficulty(chainActive, blockindex);\n+    next = tip->GetAncestor(blockindex->nHeight + 1);\n+    if (next && next->pprev == blockindex) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r170648923",
      "id" : 170648923,
      "in_reply_to_id" : 161026738,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MDY0ODkyMw==",
      "original_commit_id" : "f88df2e9c986ff49f9bf5c13838087ba0ef96858",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 99366624,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170648923",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased mainly due to recent change from `push_back(Pair())` to `pushKV()`.\r\n\r\nAlso reworded to replace prefix `[rpc]` to `rpc:` as per @laanwj suggestion.  ",
      "created_at" : "2018-02-26T16:25:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-368559753",
      "id" : 368559753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "updated_at" : "2018-02-26T16:25:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/368559753",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase if still relevant",
      "created_at" : "2018-03-19T01:13:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-374074718",
      "id" : 374074718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "updated_at" : "2018-03-19T01:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374074718",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r175320702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175320702"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Does return-value optimization not capture this?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-03-19T02:49:00Z",
      "diff_hunk" : "@@ -242,11 +243,7 @@ static bool rest_block(HTTPRequest* req,\n     }\n \n     case RF_JSON: {\n-        UniValue objBlock;\n-        {\n-            LOCK(cs_main);\n-            objBlock = blockToJSON(block, pblockindex, showTxDetails);\n-        }\n+        UniValue objBlock = std::move(blockToJSON(block, tip, pblockindex, showTxDetails));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r175320702",
      "id" : 175320702,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTMyMDcwMg==",
      "original_commit_id" : "2925d3be3f313b64648e36b10e7e278ab338560e",
      "original_position" : 47,
      "path" : "src/rest.cpp",
      "position" : null,
      "pull_request_review_id" : 104829008,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175320702",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/413395?v=4",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "node_id" : "MDQ6VXNlcjQxMzM5NQ==",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r175440391"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175440391"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you are correct.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-03-19T13:51:22Z",
      "diff_hunk" : "@@ -242,11 +243,7 @@ static bool rest_block(HTTPRequest* req,\n     }\n \n     case RF_JSON: {\n-        UniValue objBlock;\n-        {\n-            LOCK(cs_main);\n-            objBlock = blockToJSON(block, pblockindex, showTxDetails);\n-        }\n+        UniValue objBlock = std::move(blockToJSON(block, tip, pblockindex, showTxDetails));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r175440391",
      "id" : 175440391,
      "in_reply_to_id" : 175320702,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTQ0MDM5MQ==",
      "original_commit_id" : "2925d3be3f313b64648e36b10e7e278ab338560e",
      "original_position" : 47,
      "path" : "src/rest.cpp",
      "position" : null,
      "pull_request_review_id" : 104967906,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175440391",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased.\r\n\r\n@MarcoFalke like @TheBlueMatt said above:\r\n\r\n> in the context of #11913 it makes sense to not lock cs_main and then unlock, then re-lock it there.\r\n\r\nI'd say at least let's wait for that.",
      "created_at" : "2018-03-19T13:53:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-374218882",
      "id" : 374218882,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "updated_at" : "2018-03-19T13:53:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374218882",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "needs rebase",
      "created_at" : "2018-04-03T21:56:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-378412453",
      "id" : 378412453,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "updated_at" : "2018-04-03T21:56:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378412453",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased.",
      "created_at" : "2018-04-03T22:13:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-378416488",
      "id" : 378416488,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "updated_at" : "2018-04-03T22:13:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378416488",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r179242303"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179242303"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Indentation isn't consistent this line.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-04-04T18:37:06Z",
      "diff_hunk" : "@@ -242,11 +243,7 @@ static bool rest_block(HTTPRequest* req,\n     }\n \n     case RetFormat::JSON: {\n-        UniValue objBlock;\n-        {\n-            LOCK(cs_main);\n-            objBlock = blockToJSON(block, pblockindex, showTxDetails);\n-        }\n+      UniValue objBlock = blockToJSON(block, tip, pblockindex, showTxDetails);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r179242303",
      "id" : 179242303,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTI0MjMwMw==",
      "original_commit_id" : "77d51a68108e282856d9894d41e8a600dba78dd8",
      "original_position" : 47,
      "path" : "src/rest.cpp",
      "position" : null,
      "pull_request_review_id" : 109450010,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179242303",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r179304358"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179304358"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry, indentation fixed.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-04-04T22:38:54Z",
      "diff_hunk" : "@@ -242,11 +243,7 @@ static bool rest_block(HTTPRequest* req,\n     }\n \n     case RetFormat::JSON: {\n-        UniValue objBlock;\n-        {\n-            LOCK(cs_main);\n-            objBlock = blockToJSON(block, pblockindex, showTxDetails);\n-        }\n+      UniValue objBlock = blockToJSON(block, tip, pblockindex, showTxDetails);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r179304358",
      "id" : 179304358,
      "in_reply_to_id" : 179242303,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTMwNDM1OA==",
      "original_commit_id" : "77d51a68108e282856d9894d41e8a600dba78dd8",
      "original_position" : 47,
      "path" : "src/rest.cpp",
      "position" : null,
      "pull_request_review_id" : 109525167,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179304358",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r189129075"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189129075"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "commit: rpc: Specify chain tip instead of chain in GetDifficulty\r\n\r\nI don't think this is really necessary. Would rather just inline `GetDifficulty(blockindex ? blockindex : chainActive.Tip())` at the few call sites if blockindex may be null.\r\n\r\nI don't actually see any instances in this file where `blockindex` might be `nullptr`.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-05-17T23:25:23Z",
      "diff_hunk" : "@@ -51,14 +51,14 @@ extern void TxToJSON(const CTransaction& tx, const uint256 hashBlock, UniValue&\n /* Calculate the difficulty for a given block index,\n  * or the block index of the given chain.\n  */\n-double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n+double GetDifficulty(const CBlockIndex* tip, const CBlockIndex* blockindex)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r189129075",
      "id" : 189129075,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTEyOTA3NQ==",
      "original_commit_id" : "8e2dec70dcbf0662fb8b713310642522d3683cc3",
      "original_position" : 5,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 121249582,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189129075",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "node_id" : "MDQ6VXNlcjg4MTI1Mw==",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r189135108"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189135108"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Below there is the test\r\n```cpp\r\n// Verify that difficulty is 1.0 for a null chain tip.\r\nBOOST_AUTO_TEST_CASE(get_difficulty_for_null_tip)\r\n{\r\n    double difficulty = GetDifficulty(nullptr, nullptr);\r\n    RejectDifficultyMismatch(difficulty, 1.0);\r\n}\r\n```\r\nDo you agree changing to\r\n```cpp\r\n// Verify that difficulty is 1.0 for a null block index.\r\nBOOST_AUTO_TEST_CASE(get_difficulty_for_null_block)\r\n{\r\n    double difficulty = GetDifficulty(nullptr);\r\n    RejectDifficultyMismatch(difficulty, 1.0);\r\n}\r\n```\r\nor should change the return value?\r\n\r\nIf you don't mind I would rather keep the existing behaviour and discuss this elsewhere.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-05-18T00:11:45Z",
      "diff_hunk" : "@@ -51,14 +51,14 @@ extern void TxToJSON(const CTransaction& tx, const uint256 hashBlock, UniValue&\n /* Calculate the difficulty for a given block index,\n  * or the block index of the given chain.\n  */\n-double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n+double GetDifficulty(const CBlockIndex* tip, const CBlockIndex* blockindex)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r189135108",
      "id" : 189135108,
      "in_reply_to_id" : 189129075,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTEzNTEwOA==",
      "original_commit_id" : "8e2dec70dcbf0662fb8b713310642522d3683cc3",
      "original_position" : 5,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 121256720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189135108",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r189135851"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189135851"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, I am proposing changing the behavior so that if null is passed it, it returns 1. I think that makes the most sense in the context of this change because you want are removing the dependence of this function on `chainActive`. Given that you are updating every invocation, this seems like the right time to make the change I am proposing.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-05-18T00:17:40Z",
      "diff_hunk" : "@@ -51,14 +51,14 @@ extern void TxToJSON(const CTransaction& tx, const uint256 hashBlock, UniValue&\n /* Calculate the difficulty for a given block index,\n  * or the block index of the given chain.\n  */\n-double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n+double GetDifficulty(const CBlockIndex* tip, const CBlockIndex* blockindex)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r189135851",
      "id" : 189135851,
      "in_reply_to_id" : 189129075,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTEzNTg1MQ==",
      "original_commit_id" : "8e2dec70dcbf0662fb8b713310642522d3683cc3",
      "original_position" : 5,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 121257564,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189135851",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "node_id" : "MDQ6VXNlcjg4MTI1Mw==",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r189138576"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189138576"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed in https://github.com/bitcoin/bitcoin/pull/12151/commits/92e68393e4e9ab1cdecef976c8500b2e058b9376",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-05-18T00:41:45Z",
      "diff_hunk" : "@@ -51,14 +51,14 @@ extern void TxToJSON(const CTransaction& tx, const uint256 hashBlock, UniValue&\n /* Calculate the difficulty for a given block index,\n  * or the block index of the given chain.\n  */\n-double GetDifficulty(const CChain& chain, const CBlockIndex* blockindex)\n+double GetDifficulty(const CBlockIndex* tip, const CBlockIndex* blockindex)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r189138576",
      "id" : 189138576,
      "in_reply_to_id" : 189129075,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTEzODU3Ng==",
      "original_commit_id" : "8e2dec70dcbf0662fb8b713310642522d3683cc3",
      "original_position" : 5,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 121260791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189138576",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase",
      "created_at" : "2018-06-05T22:35:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-394882221",
      "id" : 394882221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDg4MjIyMQ==",
      "updated_at" : "2018-06-05T22:35:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394882221",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2018-06-10T20:34:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-396079909",
      "id" : 396079909,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjA3OTkwOQ==",
      "updated_at" : "2018-06-10T20:34:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396079909",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r200839844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200839844"
         }
      },
      "author_association" : "MEMBER",
      "body" : "From #13602: Can you drop the \"to\" here.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-07-08T13:03:12Z",
      "diff_hunk" : "@@ -10,8 +10,7 @@ class CBlockIndex;\n class UniValue;\n \n /**\n- * Get the difficulty of the net wrt to the given block index, or the chain tip if\n- * not provided.\n+ * Get the difficulty of the net wrt to the given block index.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r200839844",
      "id" : 200839844,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDgzOTg0NA==",
      "original_commit_id" : "124b71774a71207f9ab3b05458ee82333cb2fd5a",
      "original_position" : 6,
      "path" : "src/rpc/blockchain.h",
      "position" : null,
      "pull_request_review_id" : 135232621,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200839844",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r200847655"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200847655"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sure!",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-07-08T17:36:08Z",
      "diff_hunk" : "@@ -10,8 +10,7 @@ class CBlockIndex;\n class UniValue;\n \n /**\n- * Get the difficulty of the net wrt to the given block index, or the chain tip if\n- * not provided.\n+ * Get the difficulty of the net wrt to the given block index.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r200847655",
      "id" : 200847655,
      "in_reply_to_id" : 200839844,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDg0NzY1NQ==",
      "original_commit_id" : "124b71774a71207f9ab3b05458ee82333cb2fd5a",
      "original_position" : 6,
      "path" : "src/rpc/blockchain.h",
      "position" : null,
      "pull_request_review_id" : 135239966,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200847655",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r209420971"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209420971"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This call could fail the new assert:\r\nhttps://github.com/bitcoin/bitcoin/blob/d6faea4f917efdbd6cefe6e91a61c101e20db434/src/rpc/mining.cpp#L217",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-08-11T08:34:59Z",
      "diff_hunk" : "@@ -52,10 +52,7 @@ static CUpdatedBlock latestblock;\n  */\n double GetDifficulty(const CBlockIndex* blockindex)\n {\n-    if (blockindex == nullptr)\n-    {\n-        return 1.0;\n-    }\n+    assert(blockindex);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r209420971",
      "id" : 209420971,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQyMDk3MQ==",
      "original_commit_id" : "ceac7845ba83e505f7253d111e5e02875a44340e",
      "original_position" : 8,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 145440825,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-09T17:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209420971",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Now related to #13903.",
      "created_at" : "2018-08-12T00:43:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-412310709",
      "id" : 412310709,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMjMxMDcwOQ==",
      "updated_at" : "2018-08-12T00:43:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/412310709",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r217853810"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217853810"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In rpc code, assert should be replaced with throw JSONRPCError?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2018-09-14T22:05:40Z",
      "diff_hunk" : "@@ -58,10 +58,7 @@ static CUpdatedBlock latestblock;\n  */\n double GetDifficulty(const CBlockIndex* blockindex)\n {\n-    if (blockindex == nullptr)\n-    {\n-        return 1.0;\n-    }\n+    assert(blockindex);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r217853810",
      "id" : 217853810,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNzg1MzgxMA==",
      "original_commit_id" : "343b98cbcd52854ffffaca7ada72f5522117ac7f",
      "original_position" : 8,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 155676778,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2018-09-14T22:05:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217853810",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2018-09-21T13:27:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-423530764",
      "id" : 423530764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzUzMDc2NA==",
      "updated_at" : "2018-12-21T14:33:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423530764",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r245067168"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245067168"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe `chainActive.Tip()` is always non null.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2019-01-03T17:05:30Z",
      "diff_hunk" : "@@ -52,10 +52,7 @@ static CUpdatedBlock latestblock;\n  */\n double GetDifficulty(const CBlockIndex* blockindex)\n {\n-    if (blockindex == nullptr)\n-    {\n-        return 1.0;\n-    }\n+    assert(blockindex);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r245067168",
      "id" : 245067168,
      "in_reply_to_id" : 209420971,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTA2NzE2OA==",
      "original_commit_id" : "ceac7845ba83e505f7253d111e5e02875a44340e",
      "original_position" : 8,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 189099273,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2019-01-03T17:05:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245067168",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r245067656"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245067656"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think this is a usage error, should be a programatic error?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2019-01-03T17:06:51Z",
      "diff_hunk" : "@@ -58,10 +58,7 @@ static CUpdatedBlock latestblock;\n  */\n double GetDifficulty(const CBlockIndex* blockindex)\n {\n-    if (blockindex == nullptr)\n-    {\n-        return 1.0;\n-    }\n+    assert(blockindex);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r245067656",
      "id" : 245067656,
      "in_reply_to_id" : 217853810,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTA2NzY1Ng==",
      "original_commit_id" : "343b98cbcd52854ffffaca7ada72f5522117ac7f",
      "original_position" : 8,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 189099837,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2019-01-03T17:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245067656",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2019-01-03T17:10:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#issuecomment-451210485",
      "id" : 451210485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12151",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTIxMDQ4NQ==",
      "updated_at" : "2019-01-03T17:10:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451210485",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r245069328"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245069328"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I guess you could avoid the assert by passing in a const reference?",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2019-01-03T17:12:37Z",
      "diff_hunk" : "@@ -58,10 +58,7 @@ static CUpdatedBlock latestblock;\n  */\n double GetDifficulty(const CBlockIndex* blockindex)\n {\n-    if (blockindex == nullptr)\n-    {\n-        return 1.0;\n-    }\n+    assert(blockindex);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r245069328",
      "id" : 245069328,
      "in_reply_to_id" : 217853810,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTA2OTMyOA==",
      "original_commit_id" : "343b98cbcd52854ffffaca7ada72f5522117ac7f",
      "original_position" : 8,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 189102052,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2019-01-03T17:12:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245069328",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r245071089"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245071089"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sure but out of scope here and I'm happy to submit that refactor in a separate PR.",
      "commit_id" : "b9f226b41f989f5c07fe57801701a39c14a6e173",
      "created_at" : "2019-01-03T17:18:35Z",
      "diff_hunk" : "@@ -58,10 +58,7 @@ static CUpdatedBlock latestblock;\n  */\n double GetDifficulty(const CBlockIndex* blockindex)\n {\n-    if (blockindex == nullptr)\n-    {\n-        return 1.0;\n-    }\n+    assert(blockindex);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12151#discussion_r245071089",
      "id" : 245071089,
      "in_reply_to_id" : 217853810,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTA3MTA4OQ==",
      "original_commit_id" : "343b98cbcd52854ffffaca7ada72f5522117ac7f",
      "original_position" : 8,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 189104285,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12151",
      "updated_at" : "2019-01-03T17:18:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245071089",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
