[
   {
      "author_association" : "MEMBER",
      "body" : "The field is an `int64_t` which is a signed integer. Any value 2^63 and greater and less than 2^64 will be interpreted as a negative value so it will unlock and then relock immediately.\r\n\r\nI suppose this should be a `uint64_t` or check that it isn't negative.\r\n  ",
      "created_at" : "2018-01-06T05:28:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355724703",
      "id" : 355724703,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T05:30:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355724703",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Any value 2^63 and greater is already rejected.\r\n\r\nThe bug I'm reporting is for numbers between 359711509437336257 and 2^63-1. ie.\r\n\r\n     359711509437336257 and\r\n    9223372036854775807",
      "created_at" : "2018-01-06T05:31:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355724802",
      "id" : 355724802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T05:32:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355724802",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Oh crap, I had a complete failure of math. My bad.",
      "created_at" : "2018-01-06T05:33:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355724883",
      "id" : 355724883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T05:33:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355724883",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It turns out I'm wrong:\r\n\r\n     359711509437336257 : fails\r\n    1000000000000000000 : succeeds\r\n\r\nSo there are some bigger numbers of seconds I can unlock for. But I can't unlock for exactly 359711509437336257 seconds.",
      "created_at" : "2018-01-06T05:35:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355724973",
      "id" : 355724973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T05:35:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355724973",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "    1000000000000000000 : ok\r\n    2000000000000000000 : ok\r\n    3000000000000000000 : fail\r\n    4000000000000000000 : fail\r\n    5000000000000000000 : ok\r\n    6000000000000000000 : ok\r\n    7000000000000000000 : ok\r\n    8000000000000000000 : fail\r\n    9000000000000000000 : fail",
      "created_at" : "2018-01-06T05:38:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355725112",
      "id" : 355725112,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T05:38:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355725112",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The problem is that it uses a `timeval` struct which has a seconds field of type `time_t`. Unfortunately this is not very well specified. The problem here is that there is integer roll over with each of these large values. Sometimes it is positive, other times its negative. I added some additional debugging output to my build and this is what I get:\r\n\r\n```\r\nentered: 359711509437336257 output: timeval seconds: -9223372036854775, microseconds: -320000\r\nentered: 1000000000000000000 output: timeval seconds: 3875820019684212, microseconds: 736000\r\nentered: 3000000000000000000 output: timeval seconds: -6819284014656913, microseconds: -408000\r\n```",
      "created_at" : "2018-01-06T05:55:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355725802",
      "id" : 355725802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T05:55:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355725802",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I was thinking it might be because boost's posix_time::seconds is a 'long'.\r\n\r\nI notice the unlocking for 2^31 seconds works, but unlocking for 2^31+1 seconds doesn't.\r\n\r\nThe RPCRunLater() callback which re-locks the wallet is running instantly when the 32 bit signed long number of seconds wraps around to a negative value.\r\n\r\n    2147483648 : ok\r\n    2147483649 : fail\r\n\r\n2147483648 seconds is a little over 68 years which should be long enough. Maybe we should simply limit the unlock time to 2^31 seconds.\r\n\r\nEdit: or treat any number greater than 2^31 as meaning \"forever\", and skip the RPCRunLater() call.",
      "created_at" : "2018-01-06T06:04:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355726198",
      "id" : 355726198,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T06:07:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355726198",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "2^31+1 works find for me.",
      "created_at" : "2018-01-06T06:08:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355726342",
      "id" : 355726342,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T06:08:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355726342",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "OK. I've been testing against a very old version of Bitcoin. I'll try with the master branch.",
      "created_at" : "2018-01-06T06:09:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355726402",
      "id" : 355726402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T06:09:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355726402",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Through my basic testing, I have found that `time_t`, at least on my system, changes sign somewhere between 2^53 and 2^54. This range also happens to be close to the range that doubles can represent integers plainly.",
      "created_at" : "2018-01-06T06:14:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355726612",
      "id" : 355726612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T06:14:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355726612",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I found the same. It changes at `2^63 / 1000` - because class RPCTimerInterface works in milliseconds.\r\n\r\n    9223372036854775 is ok\r\n    9223372036854776 isn't\r\n    9223372036854775.808 = 2^63 / 1000",
      "created_at" : "2018-01-06T06:30:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355727235",
      "id" : 355727235,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T06:30:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355727235",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yup, looks like it to me:\r\n\r\n```\r\ntimeval seconds: 9223372036854775, microseconds: 0\r\ntimeval seconds: -9223372036854775, microseconds: -616000\r\n```\r\n\r\nI guess the solution is to just put a bounds check at 9223372036854775 seconds.",
      "created_at" : "2018-01-06T06:38:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355727585",
      "id" : 355727585,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T06:38:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355727585",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "9223372036854775 seconds is 292 million years.\r\n\r\nSeems pretty safe to skip over the RPCRunLater() call if the specified time offset is greater than that...",
      "created_at" : "2018-01-06T06:40:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355727672",
      "id" : 355727672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T06:40:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355727672",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Actually it might be easier and make more sense when reading the code to make the input field an `int32` rather than an `int64`. That caps it to only 136 years which also sounds pretty reasonable not to go past.",
      "created_at" : "2018-01-06T06:43:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355727797",
      "id" : 355727797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T06:44:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355727797",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Wouldn't doing that break any existing script that runs \"walletpassphrase $pass 9999999999\" for instance. That call currently works, but stops working if we require the time to fit within 32 bits.\r\n\r\nHow about this?\r\n\r\n    diff --git a/src/wallet/rpcwallet.cpp b/src/wallet/rpcwallet.cpp\r\n    index f839a1861..a0b647195 100644\r\n    --- a/src/wallet/rpcwallet.cpp\r\n    +++ b/src/wallet/rpcwallet.cpp\r\n    @@ -2312,8 +2312,11 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\r\n         pwallet->TopUpKeyPool();\r\n     \r\n         int64_t nSleepTime = request.params[1].get_int64();\r\n    +    int64_t nMaxSleepTime = (1LU << 63) / 1000;\r\n         pwallet->nRelockTime = GetTime() + nSleepTime;\r\n    -    RPCRunLater(strprintf(\"lockwallet(%s)\", pwallet->GetName()), boost::bind(LockWallet, pwallet), nSleepTime);\r\n    +    if (nSleepTime <= nMaxSleepTime) {\r\n    +        RPCRunLater(strprintf(\"lockwallet(%s)\", pwallet->GetName()), boost::bind(LockWallet, pwallet), nSleepTime);\r\n    +    }\r\n     \r\n         return NullUniValue;\r\n     }",
      "created_at" : "2018-01-06T07:23:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355729463",
      "id" : 355729463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T07:23:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355729463",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Wouldn't doing that break any existing script that runs \"walletpassphrase $pass 9999999999\" for instance. That call currently works, but stops working if we require the time to fit within 32 bits.\r\n\r\nI'm wary of allowing super long timeouts since it keeps the unencrypted keys in memory. With the recent news of the Spectre and Meltdown attacks, I don't think allowing such large timeouts is a good idea at all as we should be trying to keep private keys in memory for as little time as possible.",
      "created_at" : "2018-01-06T07:34:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355729909",
      "id" : 355729909,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T07:34:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355729909",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm thinking of hot wallets for sites which offer automated payments. If there's no way of keeping the private keys in memory constantly then I'll have no choice but not to use encryption at all for those wallets. At least using encryption but having the wallet unlocked on load means that stolen backups don't leak your private keys.",
      "created_at" : "2018-01-06T07:36:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355729982",
      "id" : 355729982,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T07:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355729982",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "136 years is still sufficient for that use case.",
      "created_at" : "2018-01-06T07:37:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355730032",
      "id" : 355730032,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T07:37:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355730032",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This might be a cleaner patch:\r\n\r\n    diff --git a/src/wallet/rpcwallet.cpp b/src/wallet/rpcwallet.cpp\r\n    index f839a1861..83f82db6a 100644\r\n    --- a/src/wallet/rpcwallet.cpp\r\n    +++ b/src/wallet/rpcwallet.cpp\r\n    @@ -2312,6 +2312,10 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\r\n         pwallet->TopUpKeyPool();\r\n     \r\n         int64_t nSleepTime = request.params[1].get_int64();\r\n    +    int64_t nMaxSleepTime = (1LU << 63) / 1000;\r\n    +    if (nSleepTime > nMaxSleepTime) {\r\n    +        nSleepTime = nMaxSleepTime;\r\n    +    }\r\n         pwallet->nRelockTime = GetTime() + nSleepTime;\r\n         RPCRunLater(strprintf(\"lockwallet(%s)\", pwallet->GetName()), boost::bind(LockWallet, pwallet), nSleepTime);\r\n     \r\n",
      "created_at" : "2018-01-06T07:38:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355730053",
      "id" : 355730053,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T07:38:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355730053",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "136 years is long enough, but existing scripts could be using a value like 9999999999 which currently works and which your proposed fix would break.",
      "created_at" : "2018-01-06T07:39:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355730087",
      "id" : 355730087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T07:39:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355730087",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, and the fix for it is trivial. Just make the value 999999. The change will be documented in the release notes. You can also make an alternative PR with your proposal.",
      "created_at" : "2018-01-06T07:47:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355730411",
      "id" : 355730411,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T07:47:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355730411",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fair enough. I don't see why you would want to break the existing scripts when there's an equally good fix which doesn't break them.",
      "created_at" : "2018-01-06T07:55:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12100#issuecomment-355730771",
      "id" : 355730771,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12100",
      "updated_at" : "2018-01-06T07:55:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355730771",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   }
]
