{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "Not sure if this issue is a bug or the if the the change made in the commit e507acb expects different debugging configuration than the one described below.\r\n\r\n**Expected behavior**\r\n\r\nIf I clone Bitcoin Core from the repository and switch to the commit 2bce932 (the commit prior to e507acb), the debugging (`gdb src/qt/bitcoin-qt` or `gdb src/bitcoind`) will work as expected.\r\n\r\n```\r\ngit clone https://github.com/bitcoin/bitcoin.git\r\ncd bitcoin\r\ngit checkout -b test_commit 2bce932\r\n./autogen.sh \r\n./configure BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" BDB_CFLAGS=\"-I${BDB_PREFIX}/include\" --enable-debug\r\nmake -j \"$(($(nproc)+1))\"\r\ngdb src/bitcoind\r\nb init.cpp:1193\r\n(gdb) run -testnet\r\n```\r\n\r\n**Actual behavior**\r\n\r\nBut If I clone the project and debug from e507acb or from any subsequent commit ( such as the current top one 9313c4e6 ) , the `gbd` will not be able to find the files. Shows the message below for any file (in the example, the file is `init.cpp`). The message says that the file does not exist.\r\n\r\n```\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n\r\nBreakpoint 1, AppInitMain (node=..., tip_info=0x0) at init.cpp:1193\r\n1193\tinit.cpp: No such file or directory.\r\n```\r\n\r\n**To reproduce**\r\n\r\n```\r\ngit clone https://github.com/bitcoin/bitcoin.git\r\ncd bitcoin\r\ngit checkout -b test_commit e507acb\r\n./autogen.sh \r\n./configure BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" BDB_CFLAGS=\"-I${BDB_PREFIX}/include\" --enable-debug\r\nmake -j \"$(($(nproc)+1))\"\r\ngdb src/bitcoind\r\nb init.cpp:1193\r\n(gdb) run -testnet\r\n```\r\n\r\n**System information**\r\n\r\nTested on Ubuntu 20.04 and macOS Big Sur 11.3.\r\n\r\nIf the change made in the commit e507acb is undone on the local machine, the debugging of the master branch will work normally.",
   "closed_at" : "2021-10-11T02:34:49Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   },
   "comments" : 4,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21885/comments",
   "created_at" : "2021-05-08T22:31:24Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21885/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/21885",
   "id" : 881401448,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21885/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU4ODE0MDE0NDg=",
   "number" : 21885,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21885/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21885/timeline",
   "title" : "Debugging does not work after commit e507acb (PR #20353)",
   "updated_at" : "2021-10-11T02:34:49Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21885",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/2694753?v=4",
      "events_url" : "https://api.github.com/users/leonardojobim/events{/privacy}",
      "followers_url" : "https://api.github.com/users/leonardojobim/followers",
      "following_url" : "https://api.github.com/users/leonardojobim/following{/other_user}",
      "gists_url" : "https://api.github.com/users/leonardojobim/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/leonardojobim",
      "id" : 2694753,
      "login" : "leonardojobim",
      "node_id" : "MDQ6VXNlcjI2OTQ3NTM=",
      "organizations_url" : "https://api.github.com/users/leonardojobim/orgs",
      "received_events_url" : "https://api.github.com/users/leonardojobim/received_events",
      "repos_url" : "https://api.github.com/users/leonardojobim/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/leonardojobim/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/leonardojobim/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/leonardojobim"
   }
}
