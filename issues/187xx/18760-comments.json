[
   {
      "author_association" : "MEMBER",
      "body" : "Can you explain why you'd want to disconnect a good peer during ibd when there was a bit flip during transmission?",
      "created_at" : "2020-04-25T11:43:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18760#issuecomment-619366557",
      "id" : 619366557,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18760",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTM2NjU1Nw==",
      "updated_at" : "2020-04-25T11:43:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619366557",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Also the tests fail",
      "created_at" : "2020-04-25T13:45:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18760#issuecomment-619381991",
      "id" : 619381991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18760",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTM4MTk5MQ==",
      "updated_at" : "2020-04-25T13:45:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619381991",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Also the tests fail\r\n\r\nThank you. I'll look into this.\r\n\r\n> Can you explain why you'd want to disconnect a good peer during ibd when there was a bit flip during transmission?\r\n\r\nbecause it fixes the issue #18755 in the simplest way possible is the short answer. What would you prefer as a solution?\r\n\r\nThe only other options I can see, which is more complex, would be to keep some connected nodes on standby, not downloading during the IBD, so that when something like this happens, they can be ready to respond and provide the blocks needed most urgently (in order not to delay IBD), as the other nodes downloading will be queued up to download more recent blocks.\r\n\r\nAnother option, less ideal but simpler, would be to identify the block that failed, and immediately class it as no longer in flight, so that it gets added to the download queue again, albeit delayed as it will need to wait for the more recent blocks to have downloaded first.\r\n\r\nThis solution (in this pull request) assumes there is little value in keeping the node that delivered the corrupted block connected. Is there a value in keeping the connection open that I am not aware of?\r\n\r\nFor example, there are already places in the code where the simplest way to deal with things is disconnection, e.g. when blocks are requested that have been pruned, and probably other examples also, so disconnection already seems to be an accepted practice in order to expedite IBD when things go wrong.\r\n\r\n",
      "created_at" : "2020-04-27T16:40:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18760#issuecomment-620099731",
      "id" : 620099731,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18760",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDA5OTczMQ==",
      "updated_at" : "2020-04-28T02:42:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620099731",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "closing until tests fixed",
      "created_at" : "2020-04-29T11:29:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18760#issuecomment-621143395",
      "id" : 621143395,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18760",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMTE0MzM5NQ==",
      "updated_at" : "2020-04-29T11:29:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/621143395",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
