[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Will look into it.",
      "created_at" : "2020-04-25T17:35:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619414599",
      "id" : 619414599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTQxNDU5OQ==",
      "updated_at" : "2020-04-25T17:35:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619414599",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hi @MarcoFalke \r\n\r\nWell, after having played ping pong with the test framework for a while, I came to [this solution](https://github.com/brakmic/bitcoin/commit/6356f79e18d326f490e60c7c5ddaf97ce5b960f4), that, in my opinion, is nothing but an **ugly hack**.\r\n\r\nAs I couldn't use older binaries to run test nodes ([the docs are clear about that](https://github.com/brakmic/bitcoin/blob/master/test/functional/feature_backwards_compatibility.py#L11)) I saw no other option than to manually setup and run a **v0.16.3** node, that I needed to create an older wallet.\r\n\r\nNot sure, if I should open a PR at all. Maybe only as draft for now? \r\n\r\nRegards,",
      "created_at" : "2020-04-26T11:13:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619531642",
      "id" : 619531642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTUzMTY0Mg==",
      "updated_at" : "2020-04-26T11:22:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619531642",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What are the issues you are seeing when running a 0.16 node with the test framework. Maybe they can be solved?",
      "created_at" : "2020-04-26T11:40:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619535535",
      "id" : 619535535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTUzNTUzNQ==",
      "updated_at" : "2020-04-26T11:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619535535",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> What are the issues you are seeing when running a 0.16 node with the test framework. Maybe they can be solved?\r\n\r\nIt simply doesn't start the node. Although I've downloaded the v0.16.3 binaries and configured them similarly to those from `./test/functional/feature_backwards_compatibility.py` the framework can't start them. The error gets thrown in test_node.py's `wait_for_rpcconnection`. Usually, it should be able to call `rpc.blockcount` from there, but as it can't create a proper RPC connection there is no way to continue test.\r\n\r\nSo I did it manually.",
      "created_at" : "2020-04-26T11:46:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619536338",
      "id" : 619536338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTUzNjMzOA==",
      "updated_at" : "2020-04-26T11:46:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619536338",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What is the log (combined_log.py) ?",
      "created_at" : "2020-04-26T11:48:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619536584",
      "id" : 619536584,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTUzNjU4NA==",
      "updated_at" : "2020-04-26T11:48:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619536584",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> What is the log (combined_log.py) ?\r\n\r\nI have included the previous entries to my current test.\r\n\r\n```python\r\nself.add_nodes(self.num_nodes, extra_args=self.extra_args, versions=[\r\n            None,\r\n            160300,\r\n        ], binary=[\r\n            self.options.bitcoind,\r\n            releases_path + \"/v0.16.3/bin/bitcoind\",\r\n        ], binary_cli=[\r\n            self.options.bitcoincli,\r\n            releases_path + \"/v0.16.3/bin/bitcoin-cli\",\r\n        ])\r\n```\r\n\r\nThen I have started the test (so it tries to run v0.16.3 the same way it does with newer version).\r\n\r\nThis is the combined_logs.py output.\r\n\r\n```shell\r\n./test/functional/combine_logs.py                                               (1) (1m 2s 828ms) â\r\nOpening latest test directory: /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7\r\n node1                                    2020-04-26 11:56:40.815959  \r\n                                   2020-04-26 11:56:40.819755 Bitcoin Core version v0.16.3 (release build)\r\n                                   2020-04-26 11:56:40.819802 InitParameterInteraction: parameter interaction: -whitelistforcerelay=1 -> setting -whitelistrelay=1\r\n                                   2020-04-26 11:56:40.819845 Validating signatures for all blocks.\r\n                                   2020-04-26 11:56:40.819864 Setting nMinimumChainWork=0000000000000000000000000000000000000000000000000000000000000000\r\n                                   2020-04-26 11:56:40.821144 Using the 'sse4' SHA256 implementation\r\n                                   2020-04-26 11:56:40.821166 Using RdRand as an additional entropy source\r\n                                   2020-04-26 11:56:40.843335 Default data directory /Users/brakmic/Library/Application Support/Bitcoin\r\n                                   2020-04-26 11:56:40.843386 Using data directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest\r\n                                   2020-04-26 11:56:40.843422 Using config file /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/bitcoin.conf\r\n                                   2020-04-26 11:56:40.843460 Using at most 125 automatic connections (8192 file descriptors available)\r\n                                   2020-04-26 11:56:40.852177 Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n                                   2020-04-26 11:56:40.862566 Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n                                   2020-04-26 11:56:40.862634 Using 2 threads for script verification\r\n                                   2020-04-26 11:56:40.862728 scheduler thread start\r\n                                   2020-04-26 11:56:40.864468 Allowing HTTP connections from: 127.0.0.0/8 ::1/128 \r\n                                   2020-04-26 11:56:40.866260 Binding RPC on address ::1 port 18443\r\n                                   2020-04-26 11:56:40.872933 Binding RPC on address 127.0.0.1 port 18443\r\n                                   2020-04-26 11:56:40.873025 Initialized HTTP server\r\n                                   2020-04-26 11:56:40.873054 HTTP: creating work queue of depth 16\r\n                                   2020-04-26 11:56:40.873075 Starting RPC\r\n                                   2020-04-26 11:56:40.873113 Starting HTTP RPC server\r\n                                   2020-04-26 11:56:40.873134 No rpcpassword set - using random cookie authentication\r\n                                   2020-04-26 11:56:40.873470 Generated RPC authentication cookie /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/.cookie\r\n                                   2020-04-26 11:56:40.873508 Registering HTTP handler for / (exactmatch 1)\r\n                                   2020-04-26 11:56:40.873532 Registering HTTP handler for /wallet/ (exactmatch 0)\r\n                                   2020-04-26 11:56:40.873558 Starting HTTP server\r\n                                   2020-04-26 11:56:40.873578 HTTP: starting 4 worker threads\r\n                                   2020-04-26 11:56:40.873642 Entering http event loop\r\n                                   2020-04-26 11:56:40.873704 Using wallet directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/wallets\r\n                                   2020-04-26 11:56:40.873771 init message: Verifying wallet(s)...\r\n                                   2020-04-26 11:56:40.873912 Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n                                   2020-04-26 11:56:40.873942 Using wallet wallet.dat\r\n                                   2020-04-26 11:56:40.874210 CDBEnv::Open: LogDir=/var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/wallets/database ErrorFile=/var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/wallets/db.log\r\n                                   2020-04-26 11:56:40.895366 net: setting try another outbound peer=false\r\n                                   2020-04-26 11:56:40.896207 Cache configuration:\r\n                                   2020-04-26 11:56:40.896253 * Using 2.0MiB for block index database\r\n                                   2020-04-26 11:56:40.896277 * Using 8.0MiB for chain state database\r\n                                   2020-04-26 11:56:40.896298 * Using 440.0MiB for in-memory UTXO set (plus up to 286.1MiB of unused mempool space)\r\n                                   2020-04-26 11:56:40.896320 init message: Loading block index...\r\n                                   2020-04-26 11:56:40.897008 Opening LevelDB in /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/blocks/index\r\n                                   2020-04-26 11:56:40.944595 Opened LevelDB successfully\r\n                                   2020-04-26 11:56:40.944751 Using obfuscation key for /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/blocks/index: 0000000000000000\r\n                                   2020-04-26 11:56:40.945289 LoadBlockIndexDB: last block file = 0\r\n                                   2020-04-26 11:56:40.945415 LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=0, size=0, heights=0...0, time=1970-01-01...1970-01-01)\r\n                                   2020-04-26 11:56:40.945462 Checking all blk files are present...\r\n                                   2020-04-26 11:56:40.945520 LoadBlockIndexDB: transaction index disabled\r\n                                   2020-04-26 11:56:40.945639 Initializing databases...\r\n                                   2020-04-26 11:56:40.946150 Pre-allocating up to position 0x1000000 in blk00000.dat\r\n                                   2020-04-26 11:56:40.976107 Opening LevelDB in /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/chainstate\r\n                                   2020-04-26 11:56:41.016356 Opened LevelDB successfully\r\n                                   2020-04-26 11:56:41.016502 Wrote new obfuscate key for /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/chainstate: 213f82d42b179542\r\n                                   2020-04-26 11:56:41.016540 Using obfuscation key for /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/chainstate: 213f82d42b179542\r\n                                   2020-04-26 11:56:41.016606 init message: Rewinding blocks...\r\n                                   2020-04-26 11:56:41.016642  block index             120ms\r\n                                   2020-04-26 11:56:41.016708 init message: Loading wallet...\r\n                                   2020-04-26 11:56:41.143143 nFileVersion = 160300\r\n                                   2020-04-26 11:56:41.144104 Keys: 0 plaintext, 0 encrypted, 0 w/ metadata, 0 total\r\n                                   2020-04-26 11:56:41.230872 Performing wallet upgrade to 60000\r\n                                   2020-04-26 11:56:43.095054 keypool added 2000 keys (1000 internal), size=2000 (1000 internal)\r\n                                   2020-04-26 11:56:43.186474  wallet                 2170ms\r\n                                   2020-04-26 11:56:43.186784 setKeyPool.size() = 2000\r\n                                   2020-04-26 11:56:43.186842 mapWallet.size() = 0\r\n                                   2020-04-26 11:56:43.186881 mapAddressBook.size() = 0\r\n                                   2020-04-26 11:56:43.187518   - Load block from disk: 0.23ms [0.00s]\r\n                                   2020-04-26 11:56:43.188005   - Connect total: 0.48ms [0.00s (infms/blk)]\r\n                                   2020-04-26 11:56:43.188089   - Flush: 0.10ms [0.00s (infms/blk)]\r\n                                   2020-04-26 11:56:43.188154   - Writing chainstate: 0.07ms [0.00s (infms/blk)]\r\n                                   2020-04-26 11:56:43.188256 UpdateTip: new best=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 height=0 version=0x00000001 log2_work=1 tx=1 date='2011-02-02 23:16:42' progress=1.000000 cache=0.0MiB(0txo)\r\n                                   2020-04-26 11:56:43.188320   - Connect postprocess: 0.17ms [0.00s (infms/blk)]\r\n                                   2020-04-26 11:56:43.188360 - Connect block: 1.04ms [0.00s (infms/blk)]\r\n                                   2020-04-26 11:56:43.188410 Checking mempool with 0 transactions and 0 inputs\r\n                                   2020-04-26 11:56:43.188554 mapBlockIndex.size() = 1\r\n                                   2020-04-26 11:56:43.188629 Failed to open mempool file from disk. Continuing anyway.\r\n                                   2020-04-26 11:56:43.188697 nBestHeight = 0\r\n                                   2020-04-26 11:56:43.188944 torcontrol thread start\r\n                                   2020-04-26 11:56:43.189144 Bound to [::]:18444\r\n                                   2020-04-26 11:56:43.189301 Bound to 0.0.0.0:18444\r\n                                   2020-04-26 11:56:43.189389 init message: Loading P2P addresses...\r\n                                   2020-04-26 11:56:43.189446 tor: Error connecting to Tor control socket\r\n                                   2020-04-26 11:56:43.189495 ERROR: DeserializeFileDB: Failed to open file /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/peers.dat\r\n                                   2020-04-26 11:56:43.189547 tor: Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n                                   2020-04-26 11:56:43.189646 Invalid or missing peers.dat; recreating\r\n                                   2020-04-26 11:56:43.202629 Flushed 0 addresses to peers.dat  13ms\r\n                                   2020-04-26 11:56:43.202713 init message: Loading banlist...\r\n                                   2020-04-26 11:56:43.202816 ERROR: DeserializeFileDB: Failed to open file /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/banlist.dat\r\n                                   2020-04-26 11:56:43.202860 Invalid or missing banlist.dat; recreating\r\n                                   2020-04-26 11:56:43.218546 Flushed 0 banned node ips/subnets to banlist.dat  16ms\r\n                                   2020-04-26 11:56:43.218631 init message: Starting network threads...\r\n                                   2020-04-26 11:56:43.218829 net thread start\r\n                                   2020-04-26 11:56:43.218835 addcon thread start\r\n                                   2020-04-26 11:56:43.218957 msghand thread start\r\n                                   2020-04-26 11:56:43.218879 opencon thread start\r\n                                   2020-04-26 11:56:43.218931 dnsseed thread start\r\n                                   2020-04-26 11:56:43.218862 init message: Done loading\r\n                                   2020-04-26 11:56:43.219106 Loading addresses from DNS seeds (could take a while)\r\n                                   2020-04-26 11:56:43.219154 0 addresses found from DNS seeds\r\n                                   2020-04-26 11:56:43.219195 dnsseed thread exit\r\n                                   2020-04-26 11:56:44.190918 tor: Error connecting to Tor control socket\r\n                                   2020-04-26 11:56:44.191008 tor: Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n                                   2020-04-26 11:56:45.230628 Flushing wallet.dat\r\n                                   2020-04-26 11:56:45.279563 Flushed wallet.dat 49ms\r\n                                   2020-04-26 11:56:45.693318 tor: Error connecting to Tor control socket\r\n                                   2020-04-26 11:56:45.693431 tor: Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n                                   2020-04-26 11:56:47.948601 tor: Error connecting to Tor control socket\r\n                                   2020-04-26 11:56:47.948716 tor: Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n                                   2020-04-26 11:56:51.328746 tor: Error connecting to Tor control socket\r\n                                   2020-04-26 11:56:51.328855 tor: Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n                                   2020-04-26 11:56:56.391857 tor: Error connecting to Tor control socket\r\n                                   2020-04-26 11:56:56.393227 tor: Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n                                   2020-04-26 11:57:03.989212 tor: Error connecting to Tor control socket\r\n                                   2020-04-26 11:57:03.990166 tor: Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n                                   2020-04-26 11:57:15.386022 tor: Error connecting to Tor control socket\r\n                                   2020-04-26 11:57:15.387224 tor: Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n                                   2020-04-26 11:57:32.475315 tor: Error connecting to Tor control socket\r\n                                   2020-04-26 11:57:32.480111 tor: Not connected to Tor control port 127.0.0.1:9051, trying to reconnect\r\n test  2020-04-26T11:56:40.774000Z TestFramework (DEBUG): PRNG seed is: 5125992667073647060 \r\n test  2020-04-26T11:56:40.775000Z TestFramework (DEBUG): Setting up network thread \r\n test  2020-04-26T11:56:40.776000Z TestFramework (INFO): Initializing test directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7 \r\n test  2020-04-26T11:56:40.783000Z TestFramework.node0 (DEBUG): bitcoind started, waiting for RPC to come up \r\n test  2020-04-26T11:56:40.791000Z TestFramework.node1 (DEBUG): bitcoind started, waiting for RPC to come up \r\n node0 2020-04-26T11:56:40.923809Z [init] Bitcoin Core version v0.20.99.0-65276c773-dirty (release build) \r\n node0 2020-04-26T11:56:40.923848Z [init] InitParameterInteraction: parameter interaction: -bind set -> setting -listen=1 \r\n node0 2020-04-26T11:56:40.924194Z [init] Validating signatures for all blocks. \r\n node0 2020-04-26T11:56:40.924216Z [init] Setting nMinimumChainWork=0000000000000000000000000000000000000000000000000000000000000000 \r\n node0 2020-04-26T11:56:40.928347Z [init] Using the 'sse4(1way),sse41(4way),avx2(8way)' SHA256 implementation \r\n node0 2020-04-26T11:56:40.928406Z [init] Using RdSeed as additional entropy source \r\n node0 2020-04-26T11:56:40.928435Z [init] Using RdRand as an additional entropy source \r\n node0 2020-04-26T11:56:40.982665Z [init] Default data directory /Users/brakmic/Library/Application Support/Bitcoin \r\n node0 2020-04-26T11:56:40.982703Z [init] Using data directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest \r\n node0 2020-04-26T11:56:40.982761Z [init] Config file: /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/bitcoin.conf \r\n node0 2020-04-26T11:56:40.982807Z [init] Config file arg: regtest=\"1\" \r\n node0 2020-04-26T11:56:40.982837Z [init] Config file arg: [regtest] bind=\"127.0.0.1\" \r\n node0 2020-04-26T11:56:40.982863Z [init] Config file arg: [regtest] discover=\"0\" \r\n node0 2020-04-26T11:56:40.982888Z [init] Config file arg: [regtest] dnsseed=\"0\" \r\n node0 2020-04-26T11:56:40.982913Z [init] Config file arg: [regtest] fallbackfee=\"0.0002\" \r\n node0 2020-04-26T11:56:40.982938Z [init] Config file arg: [regtest] keypool=\"1\" \r\n node0 2020-04-26T11:56:40.982962Z [init] Config file arg: [regtest] listenonion=\"0\" \r\n node0 2020-04-26T11:56:40.982986Z [init] Config file arg: [regtest] port=\"11794\" \r\n node0 2020-04-26T11:56:40.983010Z [init] Config file arg: [regtest] printtoconsole=\"0\" \r\n node0 2020-04-26T11:56:40.983037Z [init] Config file arg: [regtest] rpcport=\"16794\" \r\n node0 2020-04-26T11:56:40.983063Z [init] Config file arg: [regtest] server=\"1\" \r\n node0 2020-04-26T11:56:40.983089Z [init] Config file arg: [regtest] shrinkdebugfile=\"0\" \r\n node0 2020-04-26T11:56:40.983113Z [init] Config file arg: [regtest] upnp=\"0\" \r\n node0 2020-04-26T11:56:40.983137Z [init] Command-line arg: addresstype=\"bech32\" \r\n node0 2020-04-26T11:56:40.983166Z [init] Command-line arg: datadir=\"/var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0\" \r\n node0 2020-04-26T11:56:40.983191Z [init] Command-line arg: debug=\"\" \r\n node0 2020-04-26T11:56:40.983216Z [init] Command-line arg: debugexclude=\"libevent\" \r\n node0 2020-04-26T11:56:40.983240Z [init] Command-line arg: debugexclude=\"leveldb\" \r\n node0 2020-04-26T11:56:40.983265Z [init] Command-line arg: logthreadnames=\"\" \r\n node0 2020-04-26T11:56:40.983288Z [init] Command-line arg: logtimemicros=\"\" \r\n node0 2020-04-26T11:56:40.983313Z [init] Command-line arg: uacomment=\"testnode0\" \r\n node0 2020-04-26T11:56:40.983343Z [init] Using at most 125 automatic connections (8192 file descriptors available) \r\n node0 2020-04-26T11:56:40.994110Z [init] Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements \r\n node0 2020-04-26T11:56:41.003876Z [init] Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements \r\n node0 2020-04-26T11:56:41.003957Z [init] Script verification uses 3 additional threads \r\n node0 2020-04-26T11:56:41.004165Z [scheduler] scheduler thread start \r\n node0 2020-04-26T11:56:41.004744Z [init] Allowing HTTP connections from: 127.0.0.0/8 ::1/128 \r\n node0 2020-04-26T11:56:41.005055Z [init] Binding RPC on address ::1 port 16794 \r\n node0 2020-04-26T11:56:41.008333Z [init] Binding RPC on address 127.0.0.1 port 16794 \r\n node0 2020-04-26T11:56:41.008428Z [init] Initialized HTTP server \r\n node0 2020-04-26T11:56:41.008453Z [init] HTTP: creating work queue of depth 16 \r\n node0 2020-04-26T11:56:41.008475Z [init] Starting RPC \r\n node0 2020-04-26T11:56:41.008506Z [init] Starting HTTP RPC server \r\n node0 2020-04-26T11:56:41.008521Z [init] No rpcpassword set - using random cookie authentication. \r\n node0 2020-04-26T11:56:41.008943Z [init] Generated RPC authentication cookie /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/.cookie \r\n node0 2020-04-26T11:56:41.008971Z [init] Registering HTTP handler for / (exactmatch 1) \r\n node0 2020-04-26T11:56:41.008989Z [init] Registering HTTP handler for /wallet/ (exactmatch 0) \r\n node0 2020-04-26T11:56:41.009025Z [init] Starting HTTP server \r\n node0 2020-04-26T11:56:41.009037Z [init] HTTP: starting 4 worker threads \r\n node0 2020-04-26T11:56:41.009117Z [http] Entering http event loop \r\n node0 2020-04-26T11:56:41.009166Z [init] Using wallet directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/wallets \r\n node0 2020-04-26T11:56:41.009196Z [init] init message: Verifying wallet(s)... \r\n node0 2020-04-26T11:56:41.009354Z [init] Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010) \r\n node0 2020-04-26T11:56:41.009370Z [init] Using wallet /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/wallets \r\n node0 2020-04-26T11:56:41.009605Z [init] BerkeleyEnvironment::Open: LogDir=/var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/wallets/database ErrorFile=/var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/wallets/db.log \r\n node0 2020-04-26T11:56:41.078384Z [init] init message: Loading banlist... \r\n node0 2020-04-26T11:56:41.078448Z [init] ERROR: DeserializeFileDB: Failed to open file /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/banlist.dat \r\n node0 2020-04-26T11:56:41.078463Z [init] Invalid or missing banlist.dat; recreating \r\n node0 2020-04-26T11:56:41.080432Z [http] Received a POST request for / from 127.0.0.1:55700 \r\n node0 2020-04-26T11:56:41.080535Z [httpworker.0] ThreadRPCServer method=getblockcount user=__cookie__ \r\n node0 2020-04-26T11:56:41.098750Z [init] Flushed 0 banned node ips/subnets to banlist.dat  20ms \r\n node0 2020-04-26T11:56:41.099105Z [init] net: setting try another outbound peer=false \r\n node0 2020-04-26T11:56:41.105230Z [init] Using /16 prefix for IP bucketing \r\n node0 2020-04-26T11:56:41.105288Z [init] Cache configuration: \r\n node0 2020-04-26T11:56:41.105369Z [init] * Using 2.0 MiB for block index database \r\n node0 2020-04-26T11:56:41.105405Z [init] * Using 8.0 MiB for chain state database \r\n node0 2020-04-26T11:56:41.105441Z [init] * Using 440.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space) \r\n node0 2020-04-26T11:56:41.105462Z [init] init message: Loading block index... \r\n node0 2020-04-26T11:56:41.105497Z [init] Switching active chainstate to Chainstate [ibd] @ height -1 (null) \r\n node0 2020-04-26T11:56:41.105848Z [init] Opening LevelDB in /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/blocks/index \r\n node0 2020-04-26T11:56:41.215067Z [init] Opened LevelDB successfully \r\n node0 2020-04-26T11:56:41.215116Z [init] Using obfuscation key for /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/blocks/index: 0000000000000000 \r\n node0 2020-04-26T11:56:41.215156Z [init] LoadBlockIndexDB: last block file = 0 \r\n node0 2020-04-26T11:56:41.215179Z [init] LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=0, size=0, heights=0...0, time=1970-01-01...1970-01-01) \r\n node0 2020-04-26T11:56:41.215192Z [init] Checking all blk files are present... \r\n node0 2020-04-26T11:56:41.215209Z [init] Initializing databases... \r\n node0 2020-04-26T11:56:41.215385Z [init] Pre-allocating up to position 0x1000000 in blk00000.dat \r\n node0 2020-04-26T11:56:41.281411Z [init] Initializing chainstate Chainstate [ibd] @ height -1 (null) \r\n node0 2020-04-26T11:56:41.281659Z [init] Opening LevelDB in /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/chainstate \r\n node0 2020-04-26T11:56:41.334044Z [http] Received a POST request for / from 127.0.0.1:55701 \r\n node0 2020-04-26T11:56:41.348092Z [httpworker.1] ThreadRPCServer method=getblockcount user=__cookie__ \r\n node0 2020-04-26T11:56:41.388851Z [init] Opened LevelDB successfully \r\n node0 2020-04-26T11:56:41.389060Z [init] Wrote new obfuscate key for /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/chainstate: 73c001bc6fb0d573 \r\n node0 2020-04-26T11:56:41.389100Z [init] Using obfuscation key for /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/chainstate: 73c001bc6fb0d573 \r\n node0 2020-04-26T11:56:41.389177Z [init] init message: Rewinding blocks... \r\n node0 2020-04-26T11:56:41.389220Z [init]  block index             284ms \r\n node0 2020-04-26T11:56:41.389377Z [init] init message: Loading wallet... \r\n node0 2020-04-26T11:56:41.389785Z [init] BerkeleyEnvironment::Open: LogDir=/var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/wallets/database ErrorFile=/var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/wallets/db.log \r\n node0 2020-04-26T11:56:41.537808Z [init] [default wallet] Wallet File Version = 10500 \r\n node0 2020-04-26T11:56:41.538110Z [init] [default wallet] Keys: 0 plaintext, 0 encrypted, 0 w/ metadata, 0 total. Unknown wallet records: 0 \r\n node0 2020-04-26T11:56:41.613654Z [http] Received a POST request for / from 127.0.0.1:55702 \r\n node0 2020-04-26T11:56:41.613824Z [httpworker.3] ThreadRPCServer method=getblockcount user=__cookie__ \r\n node0 2020-04-26T11:56:41.772833Z [init] [default wallet] keypool added 2 keys (1 internal), size=2 (1 internal) \r\n node0 2020-04-26T11:56:41.810418Z [init] [default wallet] LegacyScriptPubKeyMan::NewKeyPool rewrote keypool \r\n node0 2020-04-26T11:56:41.845649Z [init] [default wallet] Wallet completed loading in             456ms \r\n node0 2020-04-26T11:56:41.845860Z [init] [default wallet] setKeyPool.size() = 2 \r\n node0 2020-04-26T11:56:41.845953Z [init] [default wallet] mapWallet.size() = 0 \r\n node0 2020-04-26T11:56:41.845983Z [init] [default wallet] m_address_book.size() = 0 \r\n node0 2020-04-26T11:56:41.846755Z [loadblk]   - Load block from disk: 0.32ms [0.00s] \r\n node0 2020-04-26T11:56:41.846863Z [loadblk] BlockChecked: block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 state=Valid \r\n node0 2020-04-26T11:56:41.846914Z [loadblk]   - Connect total: 0.17ms [0.00s (0.17ms/blk)] \r\n node0 2020-04-26T11:56:41.846948Z [loadblk]   - Flush: 0.04ms [0.00s (0.04ms/blk)] \r\n node0 2020-04-26T11:56:41.846992Z [loadblk]   - Writing chainstate: 0.04ms [0.00s (0.04ms/blk)] \r\n node0 2020-04-26T11:56:41.847079Z [loadblk] UpdateTip: new best=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 height=0 version=0x00000001 log2_work=1 tx=1 date='2011-02-02T23:16:42Z' progress=1.000000 cache=0.0MiB(0txo) \r\n node0 2020-04-26T11:56:41.847111Z [loadblk]   - Connect postprocess: 0.12ms [0.00s (0.12ms/blk)] \r\n node0 2020-04-26T11:56:41.847138Z [loadblk] - Connect block: 0.68ms [0.00s (0.68ms/blk)] \r\n node0 2020-04-26T11:56:41.847177Z [loadblk] Checking mempool with 0 transactions and 0 inputs \r\n node0 2020-04-26T11:56:41.847234Z [loadblk] Enqueuing BlockConnected: block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 block height=0 \r\n node0 2020-04-26T11:56:41.847293Z [loadblk] Enqueuing UpdatedBlockTip: new block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 fork block hash=null (in IBD=true) \r\n node0 2020-04-26T11:56:41.847367Z [scheduler] BlockConnected: block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 block height=0 \r\n node0 2020-04-26T11:56:41.847450Z [init] block tree size = 1 \r\n node0 2020-04-26T11:56:41.847583Z [init] nBestHeight = 0 \r\n node0 2020-04-26T11:56:41.847657Z [loadblk] Failed to open mempool file from disk. Continuing anyway. \r\n node0 2020-04-26T11:56:41.847738Z [scheduler] UpdatedBlockTip: new block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 fork block hash=null (in IBD=true) \r\n node0 2020-04-26T11:56:41.847878Z [init] Bound to 127.0.0.1:11794 \r\n node0 2020-04-26T11:56:41.847934Z [init] init message: Loading P2P addresses... \r\n node0 2020-04-26T11:56:41.848032Z [init] ERROR: DeserializeFileDB: Failed to open file /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node0/regtest/peers.dat \r\n node0 2020-04-26T11:56:41.848169Z [init] Invalid or missing peers.dat; recreating \r\n node0 2020-04-26T11:56:41.861490Z [init] Flushed 0 addresses to peers.dat  13ms \r\n node0 2020-04-26T11:56:41.861573Z [init] init message: Starting network threads... \r\n node0 2020-04-26T11:56:41.861721Z [init] DNS seeding disabled \r\n node0 2020-04-26T11:56:41.861901Z [init] init message: Done loading \r\n node0 2020-04-26T11:56:41.863198Z [addcon] addcon thread start \r\n node0 2020-04-26T11:56:41.863327Z [net] net thread start \r\n node0 2020-04-26T11:56:41.863459Z [msghand] msghand thread start \r\n node0 2020-04-26T11:56:41.863568Z [opencon] opencon thread start \r\n node0 2020-04-26T11:56:41.868413Z [http] Received a POST request for / from 127.0.0.1:55703 \r\n node0 2020-04-26T11:56:41.868583Z [httpworker.2] ThreadRPCServer method=getblockcount user=__cookie__ \r\n test  2020-04-26T11:56:41.869000Z TestFramework.node0 (DEBUG): RPC successfully started \r\n node0 2020-04-26T11:56:44.375789Z [scheduler] Flushing wallet.dat \r\n node0 2020-04-26T11:56:44.416852Z [scheduler] Flushed wallet.dat 41ms \r\n node0 2020-04-26T11:57:41.009682Z [scheduler] Feeding 308 bytes of dynamic environment data into RNG \r\n node0 2020-04-26T11:57:42.173548Z [opencon] Adding fixed seed nodes as DNS doesn't seem to be available. \r\n test  2020-04-26T11:57:42.914000Z TestFramework.node0 (DEBUG): Stopping node \r\n node0 2020-04-26T11:57:42.917544Z [http] Received a POST request for / from 127.0.0.1:55978 \r\n node0 2020-04-26T11:57:42.917698Z [httpworker.0] ThreadRPCServer method=stop user=__cookie__ \r\n test  2020-04-26T11:57:42.918000Z TestFramework.node1 (DEBUG): Stopping node \r\n test  2020-04-26T11:57:42.919000Z TestFramework (ERROR): Assertion failed \r\n                                   Traceback (most recent call last):\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_framework.py\", line 434, in start_nodes\r\n                                       node.wait_for_rpc_connection()\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_node.py\", line 245, in wait_for_rpc_connection\r\n                                       self._raise_assertion_error(\"Unable to connect to bitcoind after {}s\".format(self.rpc_timeout))\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_node.py\", line 158, in _raise_assertion_error\r\n                                       raise AssertionError(self._node_msg(msg))\r\n                                   AssertionError: [node 1] Unable to connect to bitcoind after 60s\r\n                                   During handling of the above exception, another exception occurred:\r\n                                   Traceback (most recent call last):\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_framework.py\", line 111, in main\r\n                                       self.setup()\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_framework.py\", line 226, in setup\r\n                                       self.setup_network()\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_framework.py\", line 315, in setup_network\r\n                                       self.setup_nodes()\r\n                                     File \"./test/functional/wallet_upgradewallet.py\", line 56, in setup_nodes\r\n                                       self.start_nodes()\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_framework.py\", line 437, in start_nodes\r\n                                       self.stop_nodes()\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_framework.py\", line 453, in stop_nodes\r\n                                       node.stop_node(wait=wait)\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_node.py\", line 284, in stop_node\r\n                                       self.stop()\r\n                                     File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_node.py\", line 175, in __getattr__\r\n                                       assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\n                                   AssertionError: [node 1] Error: no RPC connection\r\n test  2020-04-26T11:57:42.926000Z TestFramework (DEBUG): Closing down network thread \r\n test  2020-04-26T11:57:42.978000Z TestFramework (INFO): Stopping nodes \r\n test  2020-04-26T11:57:42.979000Z TestFramework.node0 (DEBUG): Stopping node \r\n node0 2020-04-26T11:57:42.979833Z [http] Received a POST request for / from 127.0.0.1:55979 \r\n node0 2020-04-26T11:57:42.979945Z [httpworker.1] ThreadRPCServer method=stop user=__cookie__ \r\n```",
      "created_at" : "2020-04-26T11:58:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619537986",
      "id" : 619537986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTUzNzk4Ng==",
      "updated_at" : "2020-04-26T11:58:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619537986",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There are four cases that might continue the loop for 60 seconds. Can you add print statements to check which one it is?\r\n\r\n\r\n```py\r\n            except JSONRPCException as e:  # Initialization phase\r\n                # -28 RPC in warmup\r\n                # -342 Service unavailable, RPC server started but is shutting down due to error\r\n                if e.error['code'] != -28 and e.error['code'] != -342:\r\n                    raise  # unknown JSON RPC exception\r\n            except ConnectionResetError:\r\n                # This might happen when the RPC server is in warmup, but shut down before the call to getblockcount\r\n                # succeeds. Try again to properly raise the FailedToStartError\r\n                pass\r\n            except OSError as e:\r\n                if e.errno != errno.ECONNREFUSED:  # Port not yet open?\r\n                    raise  # unknown OS error\r\n            except ValueError as e:  # cookie file not found and no rpcuser or rpcpassword; bitcoind is still starting\r\n                if \"No RPC credentials\" not in str(e):\r\n                    raise\r\n",
      "created_at" : "2020-04-26T12:12:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619539941",
      "id" : 619539941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTUzOTk0MQ==",
      "updated_at" : "2020-04-26T12:12:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619539941",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "When I add print's to it I get this while running the test:\r\n\r\n```shell\r\n./test/functional/wallet_upgradewallet.py                                                     (736ms)  \r\n2020-04-26T12:16:28.456000Z TestFramework (INFO): Initializing test directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_c8qst9si\r\nEXCEPTION: ValueError No RPC credentials\r\nEXCEPTION: ValueError No RPC credentials\r\nEXCEPTION: JSONRPCException Loading block index... (-28)\r\nEXCEPTION: JSONRPCException Loading wallet... (-28)\r\nEXCEPTION: JSONRPCException Loading wallet... (-28)\r\nEXCEPTION: [Errno 61] Connection refused\r\nEXCEPTION: [Errno 61] Connection refused\r\nEXCEPTION: [Errno 61] Connection refused\r\nEXCEPTION: [Errno 61] Connection refused\r\n```\r\n\r\nAnd it continues like that.",
      "created_at" : "2020-04-26T12:17:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619540529",
      "id" : 619540529,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0MDUyOQ==",
      "updated_at" : "2020-04-26T12:17:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619540529",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "So\r\n\r\n* the node starts correctly\r\n* the authproxy has the right credentials\r\n* ?",
      "created_at" : "2020-04-26T12:46:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619544203",
      "id" : 619544203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NDIwMw==",
      "updated_at" : "2020-04-26T12:46:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619544203",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It seems to be using the default ports. Can you try with this:\r\n\r\n```diff\r\ndiff --git a/test/functional/test_framework/util.py b/test/functional/test_framework/util.py\r\nindex 64e1aa3bbc..65cb7ffb7a 100644\r\n--- a/test/functional/test_framework/util.py\r\n+++ b/test/functional/test_framework/util.py\r\n@@ -310,7 +310,7 @@ def initialize_datadir(dirname, n, chain):\r\n         chain_name_conf_section = chain\r\n     with open(os.path.join(datadir, \"bitcoin.conf\"), 'w', encoding='utf8') as f:\r\n         f.write(\"{}=1\\n\".format(chain_name_conf_arg))\r\n-        f.write(\"[{}]\\n\".format(chain_name_conf_section))\r\n+        #f.write(\"[{}]\\n\".format(chain_name_conf_section))\r\n         f.write(\"port=\" + str(p2p_port(n)) + \"\\n\")\r\n         f.write(\"rpcport=\" + str(rpc_port(n)) + \"\\n\")\r\n         f.write(\"fallbackfee=0.0002\\n\")\r\n",
      "created_at" : "2020-04-26T12:56:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619545407",
      "id" : 619545407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NTQwNw==",
      "updated_at" : "2020-04-26T12:56:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619545407",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> So\r\n> \r\n> * the node starts correctly\r\n> * the authproxy has the right credentials\r\n> * ?\r\n\r\nNot sure about credentials as I am using v0.16.3 the same way as with newer nodes from `./test/functional/feature_backwards_compatibility.py`. Basically, I downloaded the binary with `previous_release.sh`, then given the paths to `self.add_nodes` and hoped it'd start it the same way it did with other nodes. ",
      "created_at" : "2020-04-26T12:56:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619545410",
      "id" : 619545410,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NTQxMA==",
      "updated_at" : "2020-04-26T12:56:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619545410",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> It seems to be using the default ports. Can you try with this:\r\n> \r\n> ```diff\r\n> diff --git a/test/functional/test_framework/util.py b/test/functional/test_framework/util.py\r\n> index 64e1aa3bbc..65cb7ffb7a 100644\r\n> --- a/test/functional/test_framework/util.py\r\n> +++ b/test/functional/test_framework/util.py\r\n> @@ -310,7 +310,7 @@ def initialize_datadir(dirname, n, chain):\r\n>          chain_name_conf_section = chain\r\n>      with open(os.path.join(datadir, \"bitcoin.conf\"), 'w', encoding='utf8') as f:\r\n>          f.write(\"{}=1\\n\".format(chain_name_conf_arg))\r\n> -        f.write(\"[{}]\\n\".format(chain_name_conf_section))\r\n> +        #f.write(\"[{}]\\n\".format(chain_name_conf_section))\r\n>          f.write(\"port=\" + str(p2p_port(n)) + \"\\n\")\r\n>          f.write(\"rpcport=\" + str(rpc_port(n)) + \"\\n\")\r\n>          f.write(\"fallbackfee=0.0002\\n\")\r\n> ```\r\n\r\nHave tried it, same error: no rpc credentials:\r\n\r\n```shell\r\n2020-04-26T12:58:29.540000Z TestFramework (INFO): Initializing test directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_zq4ik840\r\nEXCEPTION: ValueError No RPC credentials\r\n2020-04-26T12:58:29.808000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_framework.py\", line 434, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"/Users/brakmic/projects/bitcoin-dev/btc-master/test/functional/test_framework/test_node.py\", line 217, in wait_for_rpc_connection\r\n    'bitcoind exited with status {} during initialization'.format(self.process.returncode)))\r\ntest_framework.test_node.FailedToStartError: [node 0] bitcoind exited with status 1 during initialization\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n```",
      "created_at" : "2020-04-26T12:59:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619545787",
      "id" : 619545787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NTc4Nw==",
      "updated_at" : "2020-04-26T12:59:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619545787",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is not the same error. The previous error was `EXCEPTION: [Errno 61] Connection refused`.",
      "created_at" : "2020-04-26T13:01:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619546124",
      "id" : 619546124,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NjEyNA==",
      "updated_at" : "2020-04-26T13:01:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619546124",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is the excerpt from the 0.16 debug log:\r\n\r\n```\r\n                                   2020-04-26 11:56:40.864468 Allowing HTTP connections from: 127.0.0.0/8 ::1/128 \r\n                                   2020-04-26 11:56:40.866260 Binding RPC on address ::1 port 18443\r\n                                   2020-04-26 11:56:40.872933 Binding RPC on address 127.0.0.1 port 18443\r\n                                   2020-04-26 11:56:40.873025 Initialized HTTP server\r\n                                   2020-04-26 11:56:40.873054 HTTP: creating work queue of depth 16\r\n                                   2020-04-26 11:56:40.873075 Starting RPC\r\n                                   2020-04-26 11:56:40.873113 Starting HTTP RPC server\r\n                                   2020-04-26 11:56:40.873134 No rpcpassword set - using random cookie authentication\r\n                                   2020-04-26 11:56:40.873470 Generated RPC authentication cookie /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/.cookie\r\n                                   2020-04-26 11:56:40.873508 Registering HTTP handler for / (exactmatch 1)\r\n                                   2020-04-26 11:56:40.873532 Registering HTTP handler for /wallet/ (exactmatch 0)\r\n                                   2020-04-26 11:56:40.873558 Starting HTTP server\r\n```\r\n\r\nYou want it to use the right rpc_port",
      "created_at" : "2020-04-26T13:03:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619546309",
      "id" : 619546309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NjMwOQ==",
      "updated_at" : "2020-04-26T13:03:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619546309",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> This is the excerpt from the 0.16 debug log:\r\n> \r\n> ```\r\n>                                    2020-04-26 11:56:40.864468 Allowing HTTP connections from: 127.0.0.0/8 ::1/128 \r\n>                                    2020-04-26 11:56:40.866260 Binding RPC on address ::1 port 18443\r\n>                                    2020-04-26 11:56:40.872933 Binding RPC on address 127.0.0.1 port 18443\r\n>                                    2020-04-26 11:56:40.873025 Initialized HTTP server\r\n>                                    2020-04-26 11:56:40.873054 HTTP: creating work queue of depth 16\r\n>                                    2020-04-26 11:56:40.873075 Starting RPC\r\n>                                    2020-04-26 11:56:40.873113 Starting HTTP RPC server\r\n>                                    2020-04-26 11:56:40.873134 No rpcpassword set - using random cookie authentication\r\n>                                    2020-04-26 11:56:40.873470 Generated RPC authentication cookie /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/regtest/.cookie\r\n>                                    2020-04-26 11:56:40.873508 Registering HTTP handler for / (exactmatch 1)\r\n>                                    2020-04-26 11:56:40.873532 Registering HTTP handler for /wallet/ (exactmatch 0)\r\n>                                    2020-04-26 11:56:40.873558 Starting HTTP server\r\n> ```\r\n> \r\n> You want it to use the right rpc_port\r\n\r\nI actually hoped, it would do it without any additional config. My problem is: what to do to make v0.16.3 run with the test_framework.",
      "created_at" : "2020-04-26T13:05:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619546543",
      "id" : 619546543,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NjU0Mw==",
      "updated_at" : "2020-04-26T13:05:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619546543",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I have no idea why 0.16.3 is not picking up the `-rpcport` setting.\r\n\r\nWhat is \r\n\r\n```\r\ncat  /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_foobar/node1/bitcoin.conf\r\n./releases_path/v0.16.3/bin/bitcoind -datadir=/var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_foobar/node1/\r\n^C",
      "created_at" : "2020-04-26T13:08:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619547070",
      "id" : 619547070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NzA3MA==",
      "updated_at" : "2020-04-26T13:08:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619547070",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I have no idea why 0.16.3 is not picking up the `-rpcport` setting.\r\n> \r\n> What is\r\n> \r\n> ```\r\n> cat  /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_foobar/node1/bitcoin.conf\r\n> ./releases_path/v0.16.3/bin/bitcoind -datadir=/var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_foobar/node1/\r\n> ^C\r\n> ```\r\n\r\nThis is the content of node1's bitcoin.conf, which is the v0.16.3 node on my machine. The rpcport is there:\r\n\r\n```shell\r\ncat /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_jdbyq_69/node1/bitcoin.conf \r\nregtest=1\r\nport=12391\r\nrpcport=17391\r\nfallbackfee=0.0002\r\nserver=1\r\nkeypool=1\r\ndiscover=0\r\ndnsseed=0\r\nlistenonion=0\r\nprinttoconsole=0\r\nupnp=0\r\nshrinkdebugfile=0\r\nbind=127.0.0.1\r\n```",
      "created_at" : "2020-04-26T13:11:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619547434",
      "id" : 619547434,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NzQzNA==",
      "updated_at" : "2020-04-26T13:11:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619547434",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe v0.16.3 doesn't read this bitcoin.conf automatically (for whatever reason). Maybe we should try starting it with explicit **--conf=path_to_conf**.\r\n\r\nJust speculating.",
      "created_at" : "2020-04-26T13:13:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619547639",
      "id" : 619547639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0NzYzOQ==",
      "updated_at" : "2020-04-26T13:13:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619547639",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It does use it:\r\n\r\n```\r\n                                   2020-04-26 11:56:40.843422 Using config file /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/bitcoin.conf",
      "created_at" : "2020-04-26T13:18:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619548458",
      "id" : 619548458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0ODQ1OA==",
      "updated_at" : "2020-04-26T13:18:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619548458",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> It does use it:\r\n> \r\n> ```\r\n>                                    2020-04-26 11:56:40.843422 Using config file /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_7nf60xj7/node1/bitcoin.conf\r\n> ```\r\n\r\nWell, then we have entered the **weird reasons** territory. :)",
      "created_at" : "2020-04-26T13:19:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619548621",
      "id" : 619548621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0ODYyMQ==",
      "updated_at" : "2020-04-26T13:19:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619548621",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "When I add this to *util.py*\r\n\r\n```python\r\nf.write(\"rpcuser=dummy\\n\")\r\nf.write(\"rpcpassword=dummypwd\\n\")\r\n```\r\nI get this error:\r\n\r\n```shell\r\n./test/functional/wallet_upgradewallet.py                                                 (775ms) â\r\n2020-04-26T13:21:53.390000Z TestFramework (INFO): Initializing test directory /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/bitcoin_func_test_8knpfnb1\r\nEXCEPTION: [Errno 61] Connection refused\r\n2020-04-26T13:21:53.670000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n```\r\n\r\nNo more `no RPC credentials`.",
      "created_at" : "2020-04-26T13:23:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619549099",
      "id" : 619549099,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU0OTA5OQ==",
      "updated_at" : "2020-04-26T13:23:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619549099",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Works for me:\r\n\r\n```\r\nroot@d016acdaf338:/# batcat /tmp/node1/bitcoin.conf \r\nââââââââ¬ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ\r\n       â File: /tmp/node1/bitcoin.conf\r\nââââââââ¼ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ\r\n   1   â regtest=1\r\n   2   â port=12391\r\n   3   â rpcport=17391\r\n   4   â fallbackfee=0.0002\r\n   5   â server=1\r\n   6   â keypool=1\r\n   7   â discover=0\r\n   8   â dnsseed=0\r\n   9   â listenonion=0\r\n  10   â printtoconsole=0\r\n  11   â upnp=0\r\n  12   â shrinkdebugfile=0\r\n  13   â bind=127.0.0.1\r\nââââââââ´ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ\r\nroot@d016acdaf338:/# ./bitcoin-0.16.3/bin/bitcoind -datadir=/tmp/node1/ -printtoconsole -debug|grep 'RPC on address'\r\n2020-04-26 14:52:40 Binding RPC on address ::1 port 17391\r\n2020-04-26 14:52:40 Binding RPC on address 127.0.0.1 port 17391\r\n^C\r\n",
      "created_at" : "2020-04-26T14:53:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619564786",
      "id" : 619564786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU2NDc4Ng==",
      "updated_at" : "2020-04-26T14:53:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619564786",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "So the section is the issue:\r\n\r\n```\r\nroot@d016acdaf338:/# batcat /tmp/node1/bitcoin.conf \r\nââââââââ¬ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ\r\n       â File: /tmp/node1/bitcoin.conf\r\nââââââââ¼ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ\r\n   1   â regtest=1\r\n   2   â [regtest]\r\n   3   â port=12391\r\n   4   â rpcport=17391\r\n   5   â fallbackfee=0.0002\r\n   6   â server=1\r\n   7   â keypool=1\r\n   8   â discover=0\r\n   9   â dnsseed=0\r\n  10   â listenonion=0\r\n  11   â printtoconsole=0\r\n  12   â upnp=0\r\n  13   â shrinkdebugfile=0\r\n  14   â bind=127.0.0.1\r\nââââââââ´ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ\r\nroot@d016acdaf338:/# ./bitcoin-0.16.3/bin/bitcoind -datadir=/tmp/node1/ -printtoconsole -debug|grep 'RPC on address'\r\n2020-04-26 14:53:48 Binding RPC on address ::1 port 18443\r\n2020-04-26 14:53:48 Binding RPC on address 127.0.0.1 port 18443\r\n^C\r\n",
      "created_at" : "2020-04-26T14:54:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619564972",
      "id" : 619564972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU2NDk3Mg==",
      "updated_at" : "2020-04-26T14:54:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619564972",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "So before you start the 0.16.3 node, remove this line from the bitcoin.conf:\r\n\r\nhttps://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619545407",
      "created_at" : "2020-04-26T14:55:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619565092",
      "id" : 619565092,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU2NTA5Mg==",
      "updated_at" : "2020-04-26T14:55:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619565092",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "So it would make sense to provide a fix for the section issue first?",
      "created_at" : "2020-04-26T14:55:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619565097",
      "id" : 619565097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU2NTA5Nw==",
      "updated_at" : "2020-04-26T14:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619565097",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It will be fine if you do it in the same pull request.",
      "created_at" : "2020-04-26T14:55:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619565197",
      "id" : 619565197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU2NTE5Nw==",
      "updated_at" : "2020-04-26T14:55:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619565197",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> It will be fine if you do it in the same pull request.\r\n\r\nOk, no problem. Will fix it there and then rewrite the test. That is, will use my original solution that didn't work.\r\n\r\nThanks for helping me out!",
      "created_at" : "2020-04-26T14:56:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619565343",
      "id" : 619565343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU2NTM0Mw==",
      "updated_at" : "2020-04-26T14:56:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619565343",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "One question regarding fixing of `util.py`:\r\n\r\nAs I don't see any option to check for `bitcoind` version that should read those settings, I am applying this cheap trick to make old `bitcoind`'s accept port/rpcport settings:\r\n\r\n```diff\r\ndiff --git a/test/functional/test_framework/util.py b/test/functional/test_framework/util.py\r\nindex 64e1aa3bb..44d1c8509 100644\r\n--- a/test/functional/test_framework/util.py\r\n+++ b/test/functional/test_framework/util.py\r\n@@ -310,6 +310,8 @@ def initialize_datadir(dirname, n, chain):\r\n         chain_name_conf_section = chain\r\n     with open(os.path.join(datadir, \"bitcoin.conf\"), 'w', encoding='utf8') as f:\r\n         f.write(\"{}=1\\n\".format(chain_name_conf_arg))\r\n+        f.write(\"port=\" + str(p2p_port(n)) + \"\\n\")\r\n+        f.write(\"rpcport=\" + str(rpc_port(n)) + \"\\n\")\r\n         f.write(\"[{}]\\n\".format(chain_name_conf_section))\r\n         f.write(\"port=\" + str(p2p_port(n)) + \"\\n\")\r\n         f.write(\"rpcport=\" + str(rpc_port(n)) + \"\\n\")\r\n```\r\n\r\nSo, I'm just putting these two settings above the section name. Old `bitcoind`'s would read them and ignore the rest, while new ones would simply ignore redundant entries.\r\n\r\nHowever, not sure if this is the cleanest approach. Is there a way to find out the node version? \r\n\r\nI could try to expand the `initialize_datadir` function, but this seems to be a bit too invasive, imo.\r\n\r\nMy tests with the now rewritten `wallet_upgradewallet.py` are successful, v0.16.3 `bitcoind` runs without any problems.\r\n",
      "created_at" : "2020-04-26T15:23:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18767#issuecomment-619569203",
      "id" : 619569203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18767",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTU2OTIwMw==",
      "updated_at" : "2020-04-26T15:24:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619569203",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   }
]
