[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-04-23T04:45:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-618174811",
      "id" : 618174811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxODE3NDgxMQ==",
      "updated_at" : "2020-05-01T19:33:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618174811",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for splitting this out. Will review.",
      "created_at" : "2020-04-25T13:13:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-619377965",
      "id" : 619377965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTM3Nzk2NQ==",
      "updated_at" : "2020-04-25T13:13:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619377965",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit 65276c7737176a5269b052ceae78dbb44b216bf4<br>(master) | commit 3eef5a85cdb2b74b161ea6f19e9426e398017bf2<br>(master and this pull) |\n|--|--|--|\n| bitcoin-0.20.99-aarch64-linux-gnu-debug.tar.gz | [`673ecc74f832f550...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-aarch64-linux-gnu-debug.tar.gz) | [`ef2da77636f77213...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-aarch64-linux-gnu-debug.tar.gz) |\n| bitcoin-0.20.99-aarch64-linux-gnu.tar.gz | [`8cacd39d9032cfa0...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-aarch64-linux-gnu.tar.gz) | [`d518a16100bebac1...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-aarch64-linux-gnu.tar.gz) |\n| bitcoin-0.20.99-arm-linux-gnueabihf-debug.tar.gz | [`f33c821af966c7cc...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-arm-linux-gnueabihf-debug.tar.gz) | [`51517d70e1cc74c5...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-arm-linux-gnueabihf-debug.tar.gz) |\n| bitcoin-0.20.99-arm-linux-gnueabihf.tar.gz | [`1610dfc4ad6edcc8...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-arm-linux-gnueabihf.tar.gz) | [`3329784eeba74a35...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-arm-linux-gnueabihf.tar.gz) |\n| bitcoin-0.20.99-osx-unsigned.dmg | [`d9b58fd52650821b...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-osx-unsigned.dmg) | [`e90b4ef8b34de195...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-osx-unsigned.dmg) |\n| bitcoin-0.20.99-osx64.tar.gz | [`2dd8003da396d8ff...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-osx64.tar.gz) | [`efe0d7ad03802192...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-osx64.tar.gz) |\n| bitcoin-0.20.99-riscv64-linux-gnu-debug.tar.gz | [`6ab423f10d0576b8...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-riscv64-linux-gnu-debug.tar.gz) | [`159270fcefb99d2f...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-riscv64-linux-gnu-debug.tar.gz) |\n| bitcoin-0.20.99-riscv64-linux-gnu.tar.gz | [`e2c3d277f9188905...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-riscv64-linux-gnu.tar.gz) | [`4c21230cb8e7bba6...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-riscv64-linux-gnu.tar.gz) |\n| bitcoin-0.20.99-win64-debug.zip | [`920cfb921c277ab6...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-win64-debug.zip) | [`17c821f355dbcb1e...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-win64-debug.zip) |\n| bitcoin-0.20.99-win64-setup-unsigned.exe | [`499d0e7e3d66123b...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-win64-setup-unsigned.exe) | [`a740d57641934e69...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-win64-setup-unsigned.exe) |\n| bitcoin-0.20.99-win64.zip | [`b4c5466788c5ab31...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-win64.zip) | [`e5cecb010a8761d0...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-win64.zip) |\n| bitcoin-0.20.99-x86_64-linux-gnu-debug.tar.gz | [`771c49516716cf2f...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-x86_64-linux-gnu-debug.tar.gz) | [`7a889fadc72217f6...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-x86_64-linux-gnu-debug.tar.gz) |\n| bitcoin-0.20.99-x86_64-linux-gnu.tar.gz | [`9baf50756b8e295a...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-x86_64-linux-gnu.tar.gz) | [`dfb6d8c65626ce14...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99-x86_64-linux-gnu.tar.gz) |\n| bitcoin-0.20.99.tar.gz | [`20db243e4a63e9be...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99.tar.gz) | [`e6f760ab887255cb...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-0.20.99.tar.gz) |\n| bitcoin-core-linux-0.21-res.yml | [`3764dafda91b4998...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-core-linux-0.21-res.yml) | [`f87b786f87dc80d6...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-core-linux-0.21-res.yml) |\n| bitcoin-core-osx-0.21-res.yml | [`c908e4d8f612478d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-core-osx-0.21-res.yml) | [`8328176b5a51f997...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-core-osx-0.21-res.yml) |\n| bitcoin-core-win-0.21-res.yml | [`65a1ad714e6b7e4c...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-core-win-0.21-res.yml) | [`a301db7f0b7ab07d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-core-win-0.21-res.yml) |\n| linux-build.log | [`dbc67f519f1bc039...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/linux-build.log) | [`a5ca86f8bcf5ee20...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/linux-build.log) |\n| osx-build.log | [`680987f733987400...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/osx-build.log) | [`bceeff7bb568289d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/osx-build.log) |\n| win-build.log | [`861910357a3af2e6...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/win-build.log) | [`11e069a64a7df2b8...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/win-build.log) |\n| bitcoin-core-linux-0.21-res.yml.diff |  | [`8d65ed4c652db944...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-core-linux-0.21-res.yml.diff) |\n| bitcoin-core-osx-0.21-res.yml.diff |  | [`02b2959f25184b43...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-core-osx-0.21-res.yml.diff) |\n| bitcoin-core-win-0.21-res.yml.diff |  | [`8ff030c505315d26...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/bitcoin-core-win-0.21-res.yml.diff) |\n| linux-build.log.diff |  | [`667d3b0264bc58d7...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/linux-build.log.diff) |\n| osx-build.log.diff |  | [`cd0fbf4e35269f82...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/osx-build.log.diff) |\n| win-build.log.diff |  | [`dab47fa63d28ec09...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3eef5a85cdb2b74b161ea6f19e9426e398017bf2/win-build.log.diff) |\n\n",
      "created_at" : "2020-04-26T22:20:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-619633792",
      "id" : 619633792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTYzMzc5Mg==",
      "updated_at" : "2020-04-26T22:20:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619633792",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 1e94a2bcbc5ff8ae61eed9f31317ea534649116d - I think this change is ok, and I prefer it to the previous patch. Thanks for the summary in the PR description. I played around with Xcode and the CLT; I think previously I didn't fully grok the slight differences between the two.\r\n\r\nThis output was produced from a test.cpp containing just `#include <stdlib.h>`.\r\n\r\nCLT Clang vs CLT Clang with `-isysroot`:\r\n\r\n`/Library/Developer/CommandLineTools/usr/bin/clang++ -c test.cpp -v`\r\n`/Library/Developer/CommandLineTools/usr/bin/clang++ -c test.cpp -v -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk`\r\n\r\n```diff\r\n--- a.txt\r\n+++ b.txt\r\n@@ -1,17 +1,17 @@\r\n Apple clang version 11.0.3 (clang-1103.0.32.59)\r\n Target: x86_64-apple-darwin19.4.0\r\n Thread model: posix\r\n InstalledDir: /Library/Developer/CommandLineTools/usr/bin\r\n- \"/Library/Developer/CommandLineTools/usr/bin/clang\" -cc1 -triple x86_64-apple-macosx10.15.0 -Wdeprecated-objc-isa-usage -Werror=deprecated-objc-isa-usage -emit-obj -mrelax-all -disable-free -disable-llvm-verifier -discard-value-names -main-file-name test.cpp -mrelocation-model pic -pic-level 2 -mthread-model posix -mframe-pointer=all -fno-strict-return -masm-verbose -munwind-tables -target-cpu penryn -dwarf-column-info -debugger-tuning=lldb -target-linker-version 556.6 -v -coverage-notes-file /Users/michael/Desktop/clt/test.gcno -resource-dir /Library/Developer/CommandLineTools/usr/lib/clang/11.0.3 -stdlib=libc++ -internal-isystem /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1 -internal-isystem /usr/include/c++/v1 -internal-isystem /usr/local/include -internal-isystem /Library/Developer/CommandLineTools/usr/lib/clang/11.0.3/include -internal-externc-isystem /usr/include -internal-externc-isystem /Library/Developer/CommandLineTools/usr/include -Wno-objc-signed-char-bool-implicit-int-conversion -Wno-extra-semi-stmt -Wno-quoted-include-in-framework-header -fdeprecated-macro -fdebug-compilation-dir /Users/michael/Desktop/clt -ferror-limit 19 -fmessage-length 131 -stack-protector 1 -fstack-check -mdarwin-stkchk-strong-link -fblocks -fencode-extended-block-signature -fregister-global-dtors-with-atexit -fobjc-runtime=macosx-10.15.0 -fcxx-exceptions -fexceptions -fmax-type-align=16 -fdiagnostics-show-option -fcolor-diagnostics -o test.o -x c++ test.cpp\r\n+ \"/Library/Developer/CommandLineTools/usr/bin/clang\" -cc1 -triple x86_64-apple-macosx10.15.0 -Wdeprecated-objc-isa-usage -Werror=deprecated-objc-isa-usage -emit-obj -mrelax-all -disable-free -disable-llvm-verifier -discard-value-names -main-file-name test.cpp -mrelocation-model pic -pic-level 2 -mthread-model posix -mframe-pointer=all -fno-strict-return -masm-verbose -munwind-tables -target-sdk-version=10.15.4 -target-cpu penryn -dwarf-column-info -debugger-tuning=lldb -target-linker-version 556.6 -v -coverage-notes-file /Users/michael/Desktop/clt/test.gcno -resource-dir /Library/Developer/CommandLineTools/usr/lib/clang/11.0.3 -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk -stdlib=libc++ -internal-isystem /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1 -internal-isystem /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1 -internal-isystem /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/local/include -internal-isystem /Library/Developer/CommandLineTools/usr/lib/clang/11.0.3/include -internal-externc-isystem /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -internal-externc-isystem /Library/Developer/CommandLineTools/usr/include -Wno-objc-signed-char-bool-implicit-int-conversion -Wno-extra-semi-stmt -Wno-quoted-include-in-framework-header -fdeprecated-macro -fdebug-compilation-dir /Users/michael/Desktop/clt -ferror-limit 19 -fmessage-length 131 -stack-protector 1 -fstack-check -mdarwin-stkchk-strong-link -fblocks -fencode-extended-block-signature -fregister-global-dtors-with-atexit -fobjc-runtime=macosx-10.15.0 -fcxx-exceptions -fexceptions -fmax-type-align=16 -fdiagnostics-show-option -fcolor-diagnostics -o test.o -x c++ test.cpp\r\n clang -cc1 version 11.0.3 (clang-1103.0.32.59) default target x86_64-apple-darwin19.4.0\r\n-ignoring nonexistent directory \"/usr/include/c++/v1\"\r\n-ignoring nonexistent directory \"/usr/include\"\r\n+ignoring nonexistent directory \"/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1\"\r\n+ignoring nonexistent directory \"/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/local/include\"\r\n+ignoring nonexistent directory \"/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/Library/Frameworks\"\r\n #include \"...\" search starts here:\r\n #include <...> search starts here:\r\n  /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1\r\n- /usr/local/include\r\n  /Library/Developer/CommandLineTools/usr/lib/clang/11.0.3/include\r\n+ /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include\r\n  /Library/Developer/CommandLineTools/usr/include\r\n- /System/Library/Frameworks (framework directory)\r\n- /Library/Frameworks (framework directory)\r\n+ /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks (framework directory)\r\n End of search list.\r\n```\r\n\r\nWhen you pass `-isysroot`, to CLT Clang, `/usr/local/include` and `/Library/Frameworks` are dropped from the include search paths, and `/usr/include` is added. Note that `-target-sdk-version=SDK_VERSION` is also added to the compile flags.\r\n\r\nCLT Clang `-isysroot` vs Xcode Clang:\r\n\r\nInvoking CLT Clang with `-isysroot` is then seemingly equivalent to Xcode Clang, except for Xcode Clang additionally searching `/usr/local/include`.\r\n\r\n`/Library/Developer/CommandLineTools/usr/bin/clang++ -c test.cpp -v -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk`\r\n`clang++ -c test.cpp -v`\r\n\r\n```diff\r\n-InstalledDir: /Library/Developer/CommandLineTools/usr/bin\r\n- \"/Library/Developer/CommandLineTools/usr/bin/clang\" -cc1 -triple x86_64-apple-macosx10.15.0 -Wdeprecated-objc-isa-usage -Werror=deprecated-objc-isa-usage -emit-obj -mrelax-all -disable-free -disable-llvm-verifier -discard-value-names -main-file-name test.cpp -mrelocation-model pic -pic-level 2 -mthread-model posix -mframe-pointer=all -fno-strict-return -masm-verbose -munwind-tables -target-sdk-version=10.15.4 -target-cpu penryn -dwarf-column-info -debugger-tuning=lldb -target-linker-version 556.6 -v -coverage-notes-file /Users/michael/Desktop/clt/test.gcno -resource-dir /Library/Developer/CommandLineTools/usr/lib/clang/11.0.3 -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk -stdlib=libc++ -internal-isystem /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1 -internal-isystem /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1 -internal-isystem /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/local/include -internal-isystem /Library/Developer/CommandLineTools/usr/lib/clang/11.0.3/include -internal-externc-isystem /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -internal-externc-isystem /Library/Developer/CommandLineTools/usr/include -Wno-objc-signed-char-bool-implicit-int-conversion -Wno-extra-semi-stmt -Wno-quoted-include-in-framework-header -fdeprecated-macro -fdebug-compilation-dir /Users/michael/Desktop/clt -ferror-limit 19 -fmessage-length 131 -stack-protector 1 -fstack-check -mdarwin-stkchk-strong-link -fblocks -fencode-extended-block-signature -fregister-global-dtors-with-atexit -fobjc-runtime=macosx-10.15.0 -fcxx-exceptions -fexceptions -fmax-type-align=16 -fdiagnostics-show-option -fcolor-diagnostics -o test.o -x c++ test.cpp\r\n+InstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n+ \"/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang\" -cc1 -triple x86_64-apple-macosx10.15.0 -Wdeprecated-objc-isa-usage -Werror=deprecated-objc-isa-usage -emit-obj -mrelax-all -disable-free -disable-llvm-verifier -discard-value-names -main-file-name test.cpp -mrelocation-model pic -pic-level 2 -mthread-model posix -mframe-pointer=all -fno-strict-return -masm-verbose -munwind-tables -target-sdk-version=10.15.4 -target-cpu penryn -dwarf-column-info -debugger-tuning=lldb -target-linker-version 556.6 -v -coverage-notes-file /Users/michael/Desktop/clt/test.gcno -resource-dir /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/11.0.3 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -I/usr/local/include -stdlib=libc++ -internal-isystem /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1 -internal-isystem /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/c++/v1 -internal-isystem /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/local/include -internal-isystem /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/11.0.3/include -internal-externc-isystem /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include -internal-externc-isystem /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -Wno-objc-signed-char-bool-implicit-int-conversion -Wno-extra-semi-stmt -Wno-quoted-include-in-framework-header -fdeprecated-macro -fdebug-compilation-dir /Users/michael/Desktop/clt -ferror-limit 19 -fmessage-length 131 -stack-protector 1 -fstack-check -mdarwin-stkchk-strong-link -fblocks -fencode-extended-block-signature -fregister-global-dtors-with-atexit -fobjc-runtime=macosx-10.15.0 -fcxx-exceptions -fexceptions -fmax-type-align=16 -fdiagnostics-show-option -fcolor-diagnostics -o test.o -x c++ test.cpp\r\n clang -cc1 version 11.0.3 (clang-1103.0.32.59) default target x86_64-apple-darwin19.4.0\r\n-ignoring nonexistent directory \"/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1\"\r\n-ignoring nonexistent directory \"/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/local/include\"\r\n-ignoring nonexistent directory \"/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/Library/Frameworks\"\r\n+ignoring nonexistent directory \"/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/c++/v1\"\r\n+ignoring nonexistent directory \"/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/local/include\"\r\n+ignoring nonexistent directory \"/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/Library/Frameworks\"\r\n #include \"...\" search starts here:\r\n #include <...> search starts here:\r\n- /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1\r\n- /Library/Developer/CommandLineTools/usr/lib/clang/11.0.3/include\r\n- /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include\r\n- /Library/Developer/CommandLineTools/usr/include\r\n- /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks (framework directory)\r\n+ /usr/local/include\r\n+ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1\r\n+ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/11.0.3/include\r\n+ /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include\r\n+ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include\r\n+ /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks (framework directory)\r\n End of search list.\r\n```",
      "created_at" : "2020-04-27T11:48:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-619932195",
      "id" : 619932195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTkzMjE5NQ==",
      "updated_at" : "2020-04-27T11:51:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619932195",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Is `/Library/Developer/CommandLineTools` a symlink to `/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain` or vice versa?",
      "created_at" : "2020-04-27T12:07:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-619942973",
      "id" : 619942973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTk0Mjk3Mw==",
      "updated_at" : "2020-04-27T12:07:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619942973",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is /Library/Developer/CommandLineTools a symlink to /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain or vice versa?\r\n\r\nNo, they are standalone, and there are decent differences between the content of either. Xcode has a bunch more Swift modules, Apple simulator components and dylibs bundled with it. For example, you can see a diff of `/Library/Developer/CommandLineTools/usr` and `/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr` here: https://gist.github.com/fanquake/22267d783ac76fbe3eba110d14433e7c.\r\n\r\nThe macOS SDKs inside either seem to be identical. i.e: `diffoscope /Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.15.sdk --exclude-directory-metadata`",
      "created_at" : "2020-04-27T12:33:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-619957575",
      "id" : 619957575,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTk1NzU3NQ==",
      "updated_at" : "2020-04-27T12:33:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619957575",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> ACK [1e94a2b](https://github.com/bitcoin/bitcoin/commit/1e94a2bcbc5ff8ae61eed9f31317ea534649116d) - I think this change is ok, and I prefer it to the previous patch.\r\n\r\nThe current change 1e94a2bcbc5ff8ae61eed9f31317ea534649116d is the original fix I made for the issue before Cory's suggestion in https://github.com/bitcoin/bitcoin/pull/16367#issuecomment-595393546.\r\n\r\nIt seems safe and good. But Cory's suggestion to just use clang and presumably ld, nm, etc directly instead of going through an SDK for native packages (which are internal build & code generation tools not distributed or used at runtime) seems it should be a nice simplification and cleanup and more durable fix. I could be wrong but I'd assume a more typical way of building non-gui unix tools on mac is:\r\n\r\n```\r\n./configure\r\nmake\r\nmake install\r\n```\r\n\r\nand not:\r\n\r\n```\r\n./configure CC=\"$(shell xcrun -f clang) --sysroot $(shell xcrun --show-sdk-path)\"\r\nmake\r\nmake install\r\n```\r\n\r\nMy reason for going back to the direct bugfix 1e94a2bcbc5ff8ae61eed9f31317ea534649116d instead of my half-implementation fba09de775f1eff68d2f72650bccc418cbe87cf8 of Cory suggestion is just that I know the direct fix works and I don't have a great way of testing other alternatives. But probably an extension of fba09de775f1eff68d2f72650bccc418cbe87cf8 would be a better way to go in the long run.",
      "created_at" : "2020-04-27T14:36:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-620027368",
      "id" : 620027368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDAyNzM2OA==",
      "updated_at" : "2020-04-27T14:36:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620027368",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@dongcarl did you have something specific you wanted to follow up with here in regards to the symlink query?",
      "created_at" : "2020-05-02T13:26:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-622953577",
      "id" : 622953577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjk1MzU3Nw==",
      "updated_at" : "2020-05-02T13:26:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622953577",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@fanquake No not really. My initial impression here is that we should remove all the `xcrun` invocations if we can, as doing that makes explicit we're expecting a standard toolchain for building (open source) applications from source. Will need to test that it works though.",
      "created_at" : "2020-05-04T17:50:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-623609571",
      "id" : 623609571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzYwOTU3MQ==",
      "updated_at" : "2020-05-04T17:50:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623609571",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@dongcarl Ok, lets follow up with that then. Want to open an issue to track? I'm going to merge this now to unblock Russ and #18677.",
      "created_at" : "2020-05-07T12:37:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18743#issuecomment-625229108",
      "id" : 625229108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18743",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNTIyOTEwOA==",
      "updated_at" : "2020-05-07T12:37:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/625229108",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
