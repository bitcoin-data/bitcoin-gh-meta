[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not sure this change is a good idea. I think it made sense to add shared_ptr support to the validation interface in #18338 because it only required 4 new lines of code in validationinterface.cpp, and because without that support it would have been more complicated to unload wallets safely, given the wallet was already using shared_ptr to share CWallet references between `vpwallet` vector, active RPC calls, and the GUI.\r\n\r\nBut I don't think the non-shared validation interface should be removed just because a shared_ptr interface is available. Or if this change is a good idea, we should figure out exactly what the goal is. I don't think when we first switched to shared_ptr in the wallet we intended it to spread virally to unrelated classes like `BaseIndex` and `PeerLogicValidation`",
      "created_at" : "2020-04-28T00:34:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18791#issuecomment-620307875",
      "id" : 620307875,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18791",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDMwNzg3NQ==",
      "updated_at" : "2020-04-28T00:34:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620307875",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky I'm on the same page. I've submitted this for 2 reasons:\r\n - address same issue as #18742\r\n - show the extent of the change\r\n\r\nI'll leave this open so others can weight in too.",
      "created_at" : "2020-04-28T00:45:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18791#issuecomment-620310738",
      "id" : 620310738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18791",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDMxMDczOA==",
      "updated_at" : "2020-04-28T00:45:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620310738",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Makes sense. This is good as an experiment to uncover other possible use-after-free bugs, and see what impact of removing the non-shared functions would be",
      "created_at" : "2020-04-28T00:51:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18791#issuecomment-620312208",
      "id" : 620312208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18791",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDMxMjIwOA==",
      "updated_at" : "2020-04-28T00:51:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620312208",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18742 (miner: Avoid stack-use-after-return in validationinterface by MarcoFalke)\n* #18698 (Make g_chainman internal to validation by MarcoFalke)\n* #17479 (Return BlockValidationState from ProcessNewBlock if CheckBlock/AcceptBlock fails by jnewbery)\n* #13686 (ZMQ: Small cleanups in the ZMQ code by domob1812)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-28T04:20:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18791#issuecomment-620371756",
      "id" : 620371756,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18791",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDM3MTc1Ng==",
      "updated_at" : "2020-04-28T04:20:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620371756",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
