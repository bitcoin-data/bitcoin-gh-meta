[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-04-28T10:47:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18796#issuecomment-620530378",
      "id" : 620530378,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18796",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDUzMDM3OA==",
      "updated_at" : "2020-04-28T10:47:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620530378",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18796#discussion_r417894805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18796"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/417894805"
         }
      },
      "author_association" : "MEMBER",
      "body" : "- Do we want to print `stderr` to `stderr` maybe? (in this case, why `PIPE` it at all)\r\n- I'm not sure `Error opening file` is a good error message here. Might want to print the command that failed with the exit status.\r\n- Launching a command and raising an error on non-zero exit status what `subprocess.check_call` does. This might be good enough instead of defining our own function.",
      "commit_id" : "eacedfb0230978748cbcfb13817fed7e7c756ba7",
      "created_at" : "2020-04-30T09:57:59Z",
      "diff_hunk" : "@@ -12,33 +12,37 @@\n import sys\n import os\n \n+from typing import List, Optional\n+\n READELF_CMD = os.getenv('READELF', '/usr/bin/readelf')\n OBJDUMP_CMD = os.getenv('OBJDUMP', '/usr/bin/objdump')\n OTOOL_CMD = os.getenv('OTOOL', '/usr/bin/otool')\n-NONFATAL = {} # checks which are non-fatal for now but only generate a warning\n \n-def check_ELF_PIE(executable):\n-    '''\n-    Check for position independent executable (PIE), allowing for address space randomization.\n-    '''\n-    p = subprocess.Popen([READELF_CMD, '-h', '-W', executable], stdout=subprocess.PIPE, stderr=subprocess.PIPE, stdin=subprocess.PIPE, universal_newlines=True)\n+def run_command(command) -> str:\n+    p = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, stdin=subprocess.PIPE, universal_newlines=True)\n     (stdout, stderr) = p.communicate()\n     if p.returncode:\n+        print(stderr)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18796#discussion_r417894805",
      "id" : 417894805,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg5NDgwNQ==",
      "original_commit_id" : "00dd74a25e573241eb58d646152bd5a26313f6aa",
      "original_line" : 25,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "contrib/devtools/security-check.py",
      "position" : null,
      "pull_request_review_id" : 403373585,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18796",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-14T12:11:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/417894805",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK otherwise, `NON_FATAL` was always a temporary hack it's good to see it gone.",
      "created_at" : "2020-04-30T13:23:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18796#issuecomment-621832906",
      "id" : 621832906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18796",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMTgzMjkwNg==",
      "updated_at" : "2020-04-30T13:23:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/621832906",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18796#discussion_r425088374"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18796"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425088374"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I've swapped to just using [`subprocess.run`](https://docs.python.org/3.5/library/subprocess.html#subprocess.run).",
      "commit_id" : "eacedfb0230978748cbcfb13817fed7e7c756ba7",
      "created_at" : "2020-05-14T12:12:43Z",
      "diff_hunk" : "@@ -12,33 +12,37 @@\n import sys\n import os\n \n+from typing import List, Optional\n+\n READELF_CMD = os.getenv('READELF', '/usr/bin/readelf')\n OBJDUMP_CMD = os.getenv('OBJDUMP', '/usr/bin/objdump')\n OTOOL_CMD = os.getenv('OTOOL', '/usr/bin/otool')\n-NONFATAL = {} # checks which are non-fatal for now but only generate a warning\n \n-def check_ELF_PIE(executable):\n-    '''\n-    Check for position independent executable (PIE), allowing for address space randomization.\n-    '''\n-    p = subprocess.Popen([READELF_CMD, '-h', '-W', executable], stdout=subprocess.PIPE, stderr=subprocess.PIPE, stdin=subprocess.PIPE, universal_newlines=True)\n+def run_command(command) -> str:\n+    p = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, stdin=subprocess.PIPE, universal_newlines=True)\n     (stdout, stderr) = p.communicate()\n     if p.returncode:\n+        print(stderr)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18796#discussion_r425088374",
      "id" : 425088374,
      "in_reply_to_id" : 417894805,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4ODM3NA==",
      "original_commit_id" : "00dd74a25e573241eb58d646152bd5a26313f6aa",
      "original_line" : 25,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "contrib/devtools/security-check.py",
      "position" : null,
      "pull_request_review_id" : 411740660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18796",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-14T12:12:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/425088374",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK eacedfb0230978748cbcfb13817fed7e7c756ba7",
      "created_at" : "2020-05-14T17:59:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18796#issuecomment-628795869",
      "id" : 628795869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18796",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyODc5NTg2OQ==",
      "updated_at" : "2020-05-14T17:59:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628795869",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
