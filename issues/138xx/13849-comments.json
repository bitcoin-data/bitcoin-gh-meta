[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The script/install block was moved as it was in the middle of the `jobs` section now. It was moved as is.",
      "created_at" : "2018-08-02T13:18:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#issuecomment-409922802",
      "id" : 409922802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwOTkyMjgwMg==",
      "updated_at" : "2018-08-02T13:18:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/409922802",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/295504?v=4",
         "events_url" : "https://api.github.com/users/scravy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/scravy/followers",
         "following_url" : "https://api.github.com/users/scravy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/scravy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/scravy",
         "id" : 295504,
         "login" : "scravy",
         "node_id" : "MDQ6VXNlcjI5NTUwNA==",
         "organizations_url" : "https://api.github.com/users/scravy/orgs",
         "received_events_url" : "https://api.github.com/users/scravy/received_events",
         "repos_url" : "https://api.github.com/users/scravy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/scravy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/scravy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/scravy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207222685"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207222685"
         }
      },
      "author_association" : "MEMBER",
      "body" : "unrelated whitspace change",
      "commit_id" : "566f826902cf1a1df18dba83d5302cf173b64e1d",
      "created_at" : "2018-08-02T13:21:44Z",
      "diff_hunk" : "@@ -26,16 +64,19 @@ env:\n     - SDK_URL=https://bitcoincore.org/depends-sources/sdks\n     - WINEDEBUG=fixme-all\n     - DOCKER_PACKAGES=\"build-essential libtool autotools-dev automake pkg-config bsdmainutils curl git ca-certificates ccache\"\n-  matrix:\n+jobs:\n+  include:\n # ARM\n-    - >-\n+    - stage: test\n+      env: >-\n         HOST=arm-linux-gnueabihf\n         PACKAGES=\"g++-arm-linux-gnueabihf\"\n         DEP_OPTS=\"NO_QT=1\"\n         GOAL=\"install\"\n         BITCOIN_CONFIG=\"--enable-glibc-back-compat --enable-reduce-exports\"\n-# Win32\n-    - >-\n+ # Win32",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207222685",
      "id" : 207222685,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNzIyMjY4NQ==",
      "original_commit_id" : "dfad9c66167efd331d6142ef9e0f6bb4ea820d8e",
      "original_position" : 63,
      "path" : ".travis.yml",
      "position" : null,
      "pull_request_review_id" : 142789017,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849",
      "updated_at" : "2018-08-02T13:36:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207222685",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207222816"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207222816"
         }
      },
      "author_association" : "MEMBER",
      "body" : "unrelated removal of the bench_bitcoin",
      "commit_id" : "566f826902cf1a1df18dba83d5302cf173b64e1d",
      "created_at" : "2018-08-02T13:22:10Z",
      "diff_hunk" : "@@ -11,6 +11,44 @@ cache:\n stages:\n   - lint\n   - test\n+before_install:\n+    - export PATH=$(echo $PATH | tr ':' \"\\n\" | sed '/\\/opt\\/python/d' | tr \"\\n\" \":\" | sed \"s|::|:|g\")\n+    - BEGIN_FOLD () { echo \"\"; CURRENT_FOLD_NAME=$1; echo \"travis_fold:start:${CURRENT_FOLD_NAME}\"; }\n+    - END_FOLD () { RET=$?; echo \"travis_fold:end:${CURRENT_FOLD_NAME}\"; return $RET; }\n+install:\n+    - travis_retry docker pull $DOCKER_NAME_TAG\n+    - env | grep -E '^(CCACHE_|WINEDEBUG|BOOST_TEST_RANDOM|CONFIG_SHELL)' | tee /tmp/env\n+    - if [[ $HOST = *-mingw32 ]]; then DOCKER_ADMIN=\"--cap-add SYS_ADMIN\"; fi\n+    - DOCKER_ID=$(docker run $DOCKER_ADMIN -idt --mount type=bind,src=$TRAVIS_BUILD_DIR,dst=$TRAVIS_BUILD_DIR --mount type=bind,src=$CCACHE_DIR,dst=$CCACHE_DIR -w $TRAVIS_BUILD_DIR --env-file /tmp/env $DOCKER_NAME_TAG)\n+    - DOCKER_EXEC () { docker exec $DOCKER_ID bash -c \"cd $PWD && $*\"; }\n+    - if [ -n \"$DPKG_ADD_ARCH\" ]; then DOCKER_EXEC dpkg --add-architecture \"$DPKG_ADD_ARCH\" ; fi\n+    - travis_retry DOCKER_EXEC apt-get update\n+    - travis_retry DOCKER_EXEC apt-get install --no-install-recommends --no-upgrade -qq $PACKAGES $DOCKER_PACKAGES\n+before_script:\n+    - DOCKER_EXEC echo \\> \\$HOME/.bitcoin  # Make sure default datadir does not exist and is never read by creating a dummy file\n+    - mkdir -p depends/SDKs depends/sdk-sources\n+    - if [ -n \"$OSX_SDK\" -a ! -f depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz ]; then curl --location --fail $SDK_URL/MacOSX${OSX_SDK}.sdk.tar.gz -o depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz; fi\n+    - if [ -n \"$OSX_SDK\" -a -f depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz ]; then tar -C depends/SDKs -xf depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz; fi\n+    - if [[ $HOST = *-mingw32 ]]; then DOCKER_EXEC update-alternatives --set $HOST-g++ \\$\\(which $HOST-g++-posix\\); fi\n+    - if [ -z \"$NO_DEPENDS\" ]; then DOCKER_EXEC CONFIG_SHELL= make $MAKEJOBS -C depends HOST=$HOST $DEP_OPTS; fi\n+script:\n+    - export TRAVIS_COMMIT_LOG=`git log --format=fuller -1`\n+    - OUTDIR=$BASE_OUTDIR/$TRAVIS_PULL_REQUEST/$TRAVIS_JOB_NUMBER-$HOST\n+    - BITCOIN_CONFIG_ALL=\"--disable-dependency-tracking --prefix=$TRAVIS_BUILD_DIR/depends/$HOST --bindir=$OUTDIR/bin --libdir=$OUTDIR/lib\"\n+    - if [ -z \"$NO_DEPENDS\" ]; then DOCKER_EXEC ccache --max-size=$CCACHE_SIZE; fi\n+    - BEGIN_FOLD autogen; test -n \"$CONFIG_SHELL\" && DOCKER_EXEC \"$CONFIG_SHELL\" -c \"./autogen.sh\" || DOCKER_EXEC ./autogen.sh; END_FOLD\n+    - mkdir build && cd build\n+    - BEGIN_FOLD configure; DOCKER_EXEC ../configure --cache-file=config.cache $BITCOIN_CONFIG_ALL $BITCOIN_CONFIG || ( cat config.log && false); END_FOLD\n+    - BEGIN_FOLD distdir; DOCKER_EXEC make distdir VERSION=$HOST; END_FOLD\n+    - cd bitcoin-$HOST\n+    - BEGIN_FOLD configure; DOCKER_EXEC ./configure --cache-file=../config.cache $BITCOIN_CONFIG_ALL $BITCOIN_CONFIG || ( cat config.log && false); END_FOLD\n+    - BEGIN_FOLD build; DOCKER_EXEC make $MAKEJOBS $GOAL || ( echo \"Build failure. Verbose build follows.\" && DOCKER_EXEC make $GOAL V=1 ; false ); END_FOLD\n+    - if [ \"$RUN_TESTS\" = \"true\" ]; then BEGIN_FOLD unit-tests; DOCKER_EXEC LD_LIBRARY_PATH=$TRAVIS_BUILD_DIR/depends/$HOST/lib make $MAKEJOBS check VERBOSE=1; END_FOLD; fi\n+    - if [ \"$TRAVIS_EVENT_TYPE\" = \"cron\" ]; then extended=\"--extended --exclude feature_pruning,feature_dbcrash\"; fi",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207222816",
      "id" : 207222816,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNzIyMjgxNg==",
      "original_commit_id" : "dfad9c66167efd331d6142ef9e0f6bb4ea820d8e",
      "original_position" : 37,
      "path" : ".travis.yml",
      "position" : null,
      "pull_request_review_id" : 142789017,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849",
      "updated_at" : "2018-08-02T13:36:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207222816",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207224930"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207224930"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "good spot. I though I had kept an eye on that, but the most recent rebase swallowed it :-X",
      "commit_id" : "566f826902cf1a1df18dba83d5302cf173b64e1d",
      "created_at" : "2018-08-02T13:28:17Z",
      "diff_hunk" : "@@ -11,6 +11,44 @@ cache:\n stages:\n   - lint\n   - test\n+before_install:\n+    - export PATH=$(echo $PATH | tr ':' \"\\n\" | sed '/\\/opt\\/python/d' | tr \"\\n\" \":\" | sed \"s|::|:|g\")\n+    - BEGIN_FOLD () { echo \"\"; CURRENT_FOLD_NAME=$1; echo \"travis_fold:start:${CURRENT_FOLD_NAME}\"; }\n+    - END_FOLD () { RET=$?; echo \"travis_fold:end:${CURRENT_FOLD_NAME}\"; return $RET; }\n+install:\n+    - travis_retry docker pull $DOCKER_NAME_TAG\n+    - env | grep -E '^(CCACHE_|WINEDEBUG|BOOST_TEST_RANDOM|CONFIG_SHELL)' | tee /tmp/env\n+    - if [[ $HOST = *-mingw32 ]]; then DOCKER_ADMIN=\"--cap-add SYS_ADMIN\"; fi\n+    - DOCKER_ID=$(docker run $DOCKER_ADMIN -idt --mount type=bind,src=$TRAVIS_BUILD_DIR,dst=$TRAVIS_BUILD_DIR --mount type=bind,src=$CCACHE_DIR,dst=$CCACHE_DIR -w $TRAVIS_BUILD_DIR --env-file /tmp/env $DOCKER_NAME_TAG)\n+    - DOCKER_EXEC () { docker exec $DOCKER_ID bash -c \"cd $PWD && $*\"; }\n+    - if [ -n \"$DPKG_ADD_ARCH\" ]; then DOCKER_EXEC dpkg --add-architecture \"$DPKG_ADD_ARCH\" ; fi\n+    - travis_retry DOCKER_EXEC apt-get update\n+    - travis_retry DOCKER_EXEC apt-get install --no-install-recommends --no-upgrade -qq $PACKAGES $DOCKER_PACKAGES\n+before_script:\n+    - DOCKER_EXEC echo \\> \\$HOME/.bitcoin  # Make sure default datadir does not exist and is never read by creating a dummy file\n+    - mkdir -p depends/SDKs depends/sdk-sources\n+    - if [ -n \"$OSX_SDK\" -a ! -f depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz ]; then curl --location --fail $SDK_URL/MacOSX${OSX_SDK}.sdk.tar.gz -o depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz; fi\n+    - if [ -n \"$OSX_SDK\" -a -f depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz ]; then tar -C depends/SDKs -xf depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz; fi\n+    - if [[ $HOST = *-mingw32 ]]; then DOCKER_EXEC update-alternatives --set $HOST-g++ \\$\\(which $HOST-g++-posix\\); fi\n+    - if [ -z \"$NO_DEPENDS\" ]; then DOCKER_EXEC CONFIG_SHELL= make $MAKEJOBS -C depends HOST=$HOST $DEP_OPTS; fi\n+script:\n+    - export TRAVIS_COMMIT_LOG=`git log --format=fuller -1`\n+    - OUTDIR=$BASE_OUTDIR/$TRAVIS_PULL_REQUEST/$TRAVIS_JOB_NUMBER-$HOST\n+    - BITCOIN_CONFIG_ALL=\"--disable-dependency-tracking --prefix=$TRAVIS_BUILD_DIR/depends/$HOST --bindir=$OUTDIR/bin --libdir=$OUTDIR/lib\"\n+    - if [ -z \"$NO_DEPENDS\" ]; then DOCKER_EXEC ccache --max-size=$CCACHE_SIZE; fi\n+    - BEGIN_FOLD autogen; test -n \"$CONFIG_SHELL\" && DOCKER_EXEC \"$CONFIG_SHELL\" -c \"./autogen.sh\" || DOCKER_EXEC ./autogen.sh; END_FOLD\n+    - mkdir build && cd build\n+    - BEGIN_FOLD configure; DOCKER_EXEC ../configure --cache-file=config.cache $BITCOIN_CONFIG_ALL $BITCOIN_CONFIG || ( cat config.log && false); END_FOLD\n+    - BEGIN_FOLD distdir; DOCKER_EXEC make distdir VERSION=$HOST; END_FOLD\n+    - cd bitcoin-$HOST\n+    - BEGIN_FOLD configure; DOCKER_EXEC ./configure --cache-file=../config.cache $BITCOIN_CONFIG_ALL $BITCOIN_CONFIG || ( cat config.log && false); END_FOLD\n+    - BEGIN_FOLD build; DOCKER_EXEC make $MAKEJOBS $GOAL || ( echo \"Build failure. Verbose build follows.\" && DOCKER_EXEC make $GOAL V=1 ; false ); END_FOLD\n+    - if [ \"$RUN_TESTS\" = \"true\" ]; then BEGIN_FOLD unit-tests; DOCKER_EXEC LD_LIBRARY_PATH=$TRAVIS_BUILD_DIR/depends/$HOST/lib make $MAKEJOBS check VERBOSE=1; END_FOLD; fi\n+    - if [ \"$TRAVIS_EVENT_TYPE\" = \"cron\" ]; then extended=\"--extended --exclude feature_pruning,feature_dbcrash\"; fi",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207224930",
      "id" : 207224930,
      "in_reply_to_id" : 207222816,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNzIyNDkzMA==",
      "original_commit_id" : "dfad9c66167efd331d6142ef9e0f6bb4ea820d8e",
      "original_position" : 37,
      "path" : ".travis.yml",
      "position" : null,
      "pull_request_review_id" : 142791875,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849",
      "updated_at" : "2018-08-02T13:36:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207224930",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/295504?v=4",
         "events_url" : "https://api.github.com/users/scravy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/scravy/followers",
         "following_url" : "https://api.github.com/users/scravy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/scravy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/scravy",
         "id" : 295504,
         "login" : "scravy",
         "node_id" : "MDQ6VXNlcjI5NTUwNA==",
         "organizations_url" : "https://api.github.com/users/scravy/orgs",
         "received_events_url" : "https://api.github.com/users/scravy/received_events",
         "repos_url" : "https://api.github.com/users/scravy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/scravy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/scravy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/scravy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207226311"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207226311"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke the bench is back",
      "commit_id" : "566f826902cf1a1df18dba83d5302cf173b64e1d",
      "created_at" : "2018-08-02T13:32:25Z",
      "diff_hunk" : "@@ -26,16 +26,58 @@ env:\n     - SDK_URL=https://bitcoincore.org/depends-sources/sdks\n     - WINEDEBUG=fixme-all\n     - DOCKER_PACKAGES=\"build-essential libtool autotools-dev automake pkg-config bsdmainutils curl git ca-certificates ccache\"\n-  matrix:\n+before_install:\n+    - export PATH=$(echo $PATH | tr ':' \"\\n\" | sed '/\\/opt\\/python/d' | tr \"\\n\" \":\" | sed \"s|::|:|g\")\n+    - BEGIN_FOLD () { echo \"\"; CURRENT_FOLD_NAME=$1; echo \"travis_fold:start:${CURRENT_FOLD_NAME}\"; }\n+    - END_FOLD () { RET=$?; echo \"travis_fold:end:${CURRENT_FOLD_NAME}\"; return $RET; }\n+install:\n+    - travis_retry docker pull $DOCKER_NAME_TAG\n+    - env | grep -E '^(CCACHE_|WINEDEBUG|BOOST_TEST_RANDOM|CONFIG_SHELL)' | tee /tmp/env\n+    - if [[ $HOST = *-mingw32 ]]; then DOCKER_ADMIN=\"--cap-add SYS_ADMIN\"; fi\n+    - DOCKER_ID=$(docker run $DOCKER_ADMIN -idt --mount type=bind,src=$TRAVIS_BUILD_DIR,dst=$TRAVIS_BUILD_DIR --mount type=bind,src=$CCACHE_DIR,dst=$CCACHE_DIR -w $TRAVIS_BUILD_DIR --env-file /tmp/env $DOCKER_NAME_TAG)\n+    - DOCKER_EXEC () { docker exec $DOCKER_ID bash -c \"cd $PWD && $*\"; }\n+    - if [ -n \"$DPKG_ADD_ARCH\" ]; then DOCKER_EXEC dpkg --add-architecture \"$DPKG_ADD_ARCH\" ; fi\n+    - travis_retry DOCKER_EXEC apt-get update\n+    - travis_retry DOCKER_EXEC apt-get install --no-install-recommends --no-upgrade -qq $PACKAGES $DOCKER_PACKAGES\n+before_script:\n+    - DOCKER_EXEC echo \\> \\$HOME/.bitcoin  # Make sure default datadir does not exist and is never read by creating a dummy file\n+    - mkdir -p depends/SDKs depends/sdk-sources\n+    - if [ -n \"$OSX_SDK\" -a ! -f depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz ]; then curl --location --fail $SDK_URL/MacOSX${OSX_SDK}.sdk.tar.gz -o depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz; fi\n+    - if [ -n \"$OSX_SDK\" -a -f depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz ]; then tar -C depends/SDKs -xf depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz; fi\n+    - if [[ $HOST = *-mingw32 ]]; then DOCKER_EXEC update-alternatives --set $HOST-g++ \\$\\(which $HOST-g++-posix\\); fi\n+    - if [ -z \"$NO_DEPENDS\" ]; then DOCKER_EXEC CONFIG_SHELL= make $MAKEJOBS -C depends HOST=$HOST $DEP_OPTS; fi\n+script:\n+    - export TRAVIS_COMMIT_LOG=`git log --format=fuller -1`\n+    - OUTDIR=$BASE_OUTDIR/$TRAVIS_PULL_REQUEST/$TRAVIS_JOB_NUMBER-$HOST\n+    - BITCOIN_CONFIG_ALL=\"--disable-dependency-tracking --prefix=$TRAVIS_BUILD_DIR/depends/$HOST --bindir=$OUTDIR/bin --libdir=$OUTDIR/lib\"\n+    - if [ -z \"$NO_DEPENDS\" ]; then DOCKER_EXEC ccache --max-size=$CCACHE_SIZE; fi\n+    - BEGIN_FOLD autogen; test -n \"$CONFIG_SHELL\" && DOCKER_EXEC \"$CONFIG_SHELL\" -c \"./autogen.sh\" || DOCKER_EXEC ./autogen.sh; END_FOLD\n+    - mkdir build && cd build\n+    - BEGIN_FOLD configure; DOCKER_EXEC ../configure --cache-file=config.cache $BITCOIN_CONFIG_ALL $BITCOIN_CONFIG || ( cat config.log && false); END_FOLD\n+    - BEGIN_FOLD distdir; DOCKER_EXEC make distdir VERSION=$HOST; END_FOLD\n+    - cd bitcoin-$HOST\n+    - BEGIN_FOLD configure; DOCKER_EXEC ./configure --cache-file=../config.cache $BITCOIN_CONFIG_ALL $BITCOIN_CONFIG || ( cat config.log && false); END_FOLD\n+    - BEGIN_FOLD build; DOCKER_EXEC make $MAKEJOBS $GOAL || ( echo \"Build failure. Verbose build follows.\" && DOCKER_EXEC make $GOAL V=1 ; false ); END_FOLD\n+    - if [ \"$RUN_TESTS\" = \"true\" ]; then BEGIN_FOLD unit-tests; DOCKER_EXEC LD_LIBRARY_PATH=$TRAVIS_BUILD_DIR/depends/$HOST/lib make $MAKEJOBS check VERBOSE=1; END_FOLD; fi\n+    - if [ \"$RUN_BENCH\" = \"true\" ]; then BEGIN_FOLD bench; DOCKER_EXEC LD_LIBRARY_PATH=$TRAVIS_BUILD_DIR/depends/$HOST/lib $OUTDIR/bin/bench_bitcoin -scaling=0.001 ; END_FOLD; fi  ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207226311",
      "id" : 207226311,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNzIyNjMxMQ==",
      "original_commit_id" : "116164e48087e6863b5c816d611ee96591d59ec4",
      "original_position" : 38,
      "path" : ".travis.yml",
      "position" : null,
      "pull_request_review_id" : 142793593,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849",
      "updated_at" : "2018-08-02T13:36:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207226311",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/295504?v=4",
         "events_url" : "https://api.github.com/users/scravy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/scravy/followers",
         "following_url" : "https://api.github.com/users/scravy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/scravy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/scravy",
         "id" : 295504,
         "login" : "scravy",
         "node_id" : "MDQ6VXNlcjI5NTUwNA==",
         "organizations_url" : "https://api.github.com/users/scravy/orgs",
         "received_events_url" : "https://api.github.com/users/scravy/received_events",
         "repos_url" : "https://api.github.com/users/scravy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/scravy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/scravy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/scravy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207226819"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207226819"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I moved this line to keep BITCOIN_CONFIG in the same relative spot as in all the other jobs.",
      "commit_id" : "566f826902cf1a1df18dba83d5302cf173b64e1d",
      "created_at" : "2018-08-02T13:33:56Z",
      "diff_hunk" : "@@ -70,71 +115,31 @@ env:\n         GOAL=\"install\"\n         BITCOIN_CONFIG=\"--enable-zmq --with-gui=qt5 --enable-glibc-back-compat --enable-reduce-exports --enable-debug CXXFLAGS=\\\"-g0 -O2\\\"\"\n # x86_64 Linux (Qt5 & system libs)\n-    - >-\n+    - stage: test\n+      env: >-\n         HOST=x86_64-unknown-linux-gnu\n         PACKAGES=\"python3-zmq qtbase5-dev qttools5-dev-tools libssl1.0-dev libevent-dev bsdmainutils libboost-system-dev libboost-filesystem-dev libboost-chrono-dev libboost-test-dev libboost-thread-dev libdb5.3++-dev libminiupnpc-dev libzmq3-dev libprotobuf-dev protobuf-compiler libqrencode-dev\"\n         NO_DEPENDS=1\n         RUN_TESTS=true\n         GOAL=\"install\"\n         BITCOIN_CONFIG=\"--enable-zmq --with-incompatible-bdb --enable-glibc-back-compat --enable-reduce-exports --with-gui=qt5 CPPFLAGS=-DDEBUG_LOCKORDER\"\n # x86_64 Linux, No wallet\n-    - >-\n+    - stage: test\n+      env: >-\n         HOST=x86_64-unknown-linux-gnu\n         PACKAGES=\"python3\"\n         DEP_OPTS=\"NO_WALLET=1\"\n         RUN_TESTS=true\n         GOAL=\"install\"\n         BITCOIN_CONFIG=\"--enable-glibc-back-compat --enable-reduce-exports\"\n # Cross-Mac\n-    - >-\n+    - stage: test\n+      env: >-\n         HOST=x86_64-apple-darwin14\n         PACKAGES=\"cmake imagemagick libcap-dev librsvg2-bin libz-dev libbz2-dev libtiff-tools python-dev python3-setuptools-git\"\n-        BITCOIN_CONFIG=\"--enable-gui --enable-reduce-exports --enable-werror\"\n         OSX_SDK=10.11\n         GOAL=\"all deploy\"\n-\n-before_install:\n-    - export PATH=$(echo $PATH | tr ':' \"\\n\" | sed '/\\/opt\\/python/d' | tr \"\\n\" \":\" | sed \"s|::|:|g\")\n-    - BEGIN_FOLD () { echo \"\"; CURRENT_FOLD_NAME=$1; echo \"travis_fold:start:${CURRENT_FOLD_NAME}\"; }\n-    - END_FOLD () { RET=$?; echo \"travis_fold:end:${CURRENT_FOLD_NAME}\"; return $RET; }\n-install:\n-    - travis_retry docker pull $DOCKER_NAME_TAG\n-    - env | grep -E '^(CCACHE_|WINEDEBUG|BOOST_TEST_RANDOM|CONFIG_SHELL)' | tee /tmp/env\n-    - if [[ $HOST = *-mingw32 ]]; then DOCKER_ADMIN=\"--cap-add SYS_ADMIN\"; fi\n-    - DOCKER_ID=$(docker run $DOCKER_ADMIN -idt --mount type=bind,src=$TRAVIS_BUILD_DIR,dst=$TRAVIS_BUILD_DIR --mount type=bind,src=$CCACHE_DIR,dst=$CCACHE_DIR -w $TRAVIS_BUILD_DIR --env-file /tmp/env $DOCKER_NAME_TAG)\n-    - DOCKER_EXEC () { docker exec $DOCKER_ID bash -c \"cd $PWD && $*\"; }\n-    - if [ -n \"$DPKG_ADD_ARCH\" ]; then DOCKER_EXEC dpkg --add-architecture \"$DPKG_ADD_ARCH\" ; fi\n-    - travis_retry DOCKER_EXEC apt-get update\n-    - travis_retry DOCKER_EXEC apt-get install --no-install-recommends --no-upgrade -qq $PACKAGES $DOCKER_PACKAGES\n-before_script:\n-    - DOCKER_EXEC echo \\> \\$HOME/.bitcoin  # Make sure default datadir does not exist and is never read by creating a dummy file\n-    - mkdir -p depends/SDKs depends/sdk-sources\n-    - if [ -n \"$OSX_SDK\" -a ! -f depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz ]; then curl --location --fail $SDK_URL/MacOSX${OSX_SDK}.sdk.tar.gz -o depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz; fi\n-    - if [ -n \"$OSX_SDK\" -a -f depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz ]; then tar -C depends/SDKs -xf depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz; fi\n-    - if [[ $HOST = *-mingw32 ]]; then DOCKER_EXEC update-alternatives --set $HOST-g++ \\$\\(which $HOST-g++-posix\\); fi\n-    - if [ -z \"$NO_DEPENDS\" ]; then DOCKER_EXEC CONFIG_SHELL= make $MAKEJOBS -C depends HOST=$HOST $DEP_OPTS; fi\n-script:\n-    - export TRAVIS_COMMIT_LOG=`git log --format=fuller -1`\n-    - OUTDIR=$BASE_OUTDIR/$TRAVIS_PULL_REQUEST/$TRAVIS_JOB_NUMBER-$HOST\n-    - BITCOIN_CONFIG_ALL=\"--disable-dependency-tracking --prefix=$TRAVIS_BUILD_DIR/depends/$HOST --bindir=$OUTDIR/bin --libdir=$OUTDIR/lib\"\n-    - if [ -z \"$NO_DEPENDS\" ]; then DOCKER_EXEC ccache --max-size=$CCACHE_SIZE; fi\n-    - BEGIN_FOLD autogen; test -n \"$CONFIG_SHELL\" && DOCKER_EXEC \"$CONFIG_SHELL\" -c \"./autogen.sh\" || DOCKER_EXEC ./autogen.sh; END_FOLD\n-    - mkdir build && cd build\n-    - BEGIN_FOLD configure; DOCKER_EXEC ../configure --cache-file=config.cache $BITCOIN_CONFIG_ALL $BITCOIN_CONFIG || ( cat config.log && false); END_FOLD\n-    - BEGIN_FOLD distdir; DOCKER_EXEC make distdir VERSION=$HOST; END_FOLD\n-    - cd bitcoin-$HOST\n-    - BEGIN_FOLD configure; DOCKER_EXEC ./configure --cache-file=../config.cache $BITCOIN_CONFIG_ALL $BITCOIN_CONFIG || ( cat config.log && false); END_FOLD\n-    - BEGIN_FOLD build; DOCKER_EXEC make $MAKEJOBS $GOAL || ( echo \"Build failure. Verbose build follows.\" && DOCKER_EXEC make $GOAL V=1 ; false ); END_FOLD\n-    - if [ \"$RUN_TESTS\" = \"true\" ]; then BEGIN_FOLD unit-tests; DOCKER_EXEC LD_LIBRARY_PATH=$TRAVIS_BUILD_DIR/depends/$HOST/lib make $MAKEJOBS check VERBOSE=1; END_FOLD; fi\n-    - if [ \"$RUN_BENCH\" = \"true\" ]; then BEGIN_FOLD bench; DOCKER_EXEC LD_LIBRARY_PATH=$TRAVIS_BUILD_DIR/depends/$HOST/lib $OUTDIR/bin/bench_bitcoin -scaling=0.001 ; END_FOLD; fi\n-    - if [ \"$TRAVIS_EVENT_TYPE\" = \"cron\" ]; then extended=\"--extended --exclude feature_pruning,feature_dbcrash\"; fi\n-    - if [ \"$RUN_TESTS\" = \"true\" ]; then BEGIN_FOLD functional-tests; DOCKER_EXEC test/functional/test_runner.py --combinedlogslen=4000 --coverage --quiet --failfast ${extended}; END_FOLD; fi\n-after_script:\n-    - echo $TRAVIS_COMMIT_RANGE\n-    - echo $TRAVIS_COMMIT_LOG\n-\n-jobs:\n-  include:\n+        BITCOIN_CONFIG=\"--enable-gui --enable-reduce-exports --enable-werror\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207226819",
      "id" : 207226819,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNzIyNjgxOQ==",
      "original_commit_id" : "be4b54d7a4e3782a09b0f21a2d665f79817f5f9f",
      "original_position" : 167,
      "path" : ".travis.yml",
      "position" : 167,
      "pull_request_review_id" : 142794103,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849",
      "updated_at" : "2018-08-02T13:36:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207226819",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/295504?v=4",
         "events_url" : "https://api.github.com/users/scravy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/scravy/followers",
         "following_url" : "https://api.github.com/users/scravy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/scravy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/scravy",
         "id" : 295504,
         "login" : "scravy",
         "node_id" : "MDQ6VXNlcjI5NTUwNA==",
         "organizations_url" : "https://api.github.com/users/scravy/orgs",
         "received_events_url" : "https://api.github.com/users/scravy/received_events",
         "repos_url" : "https://api.github.com/users/scravy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/scravy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/scravy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/scravy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207226990"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207226990"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fixed",
      "commit_id" : "566f826902cf1a1df18dba83d5302cf173b64e1d",
      "created_at" : "2018-08-02T13:34:28Z",
      "diff_hunk" : "@@ -26,16 +64,19 @@ env:\n     - SDK_URL=https://bitcoincore.org/depends-sources/sdks\n     - WINEDEBUG=fixme-all\n     - DOCKER_PACKAGES=\"build-essential libtool autotools-dev automake pkg-config bsdmainutils curl git ca-certificates ccache\"\n-  matrix:\n+jobs:\n+  include:\n # ARM\n-    - >-\n+    - stage: test\n+      env: >-\n         HOST=arm-linux-gnueabihf\n         PACKAGES=\"g++-arm-linux-gnueabihf\"\n         DEP_OPTS=\"NO_QT=1\"\n         GOAL=\"install\"\n         BITCOIN_CONFIG=\"--enable-glibc-back-compat --enable-reduce-exports\"\n-# Win32\n-    - >-\n+ # Win32",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#discussion_r207226990",
      "id" : 207226990,
      "in_reply_to_id" : 207222685,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNzIyNjk5MA==",
      "original_commit_id" : "dfad9c66167efd331d6142ef9e0f6bb4ea820d8e",
      "original_position" : 63,
      "path" : ".travis.yml",
      "position" : null,
      "pull_request_review_id" : 142794489,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13849",
      "updated_at" : "2018-08-02T13:36:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207226990",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/295504?v=4",
         "events_url" : "https://api.github.com/users/scravy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/scravy/followers",
         "following_url" : "https://api.github.com/users/scravy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/scravy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/scravy",
         "id" : 295504,
         "login" : "scravy",
         "node_id" : "MDQ6VXNlcjI5NTUwNA==",
         "organizations_url" : "https://api.github.com/users/scravy/orgs",
         "received_events_url" : "https://api.github.com/users/scravy/received_events",
         "repos_url" : "https://api.github.com/users/scravy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/scravy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/scravy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/scravy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 566f826902",
      "created_at" : "2018-08-02T14:30:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#issuecomment-409947089",
      "id" : 409947089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwOTk0NzA4OQ==",
      "updated_at" : "2018-08-02T14:30:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/409947089",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13859 (qa: Add emojis to test_runner path and wallet filename by MarcoFalke)\n* #13855 (travis:  upload binaries by ken2812221)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-08-02T18:44:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#issuecomment-410028632",
      "id" : 410028632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMDAyODYzMg==",
      "updated_at" : "2018-08-03T02:05:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/410028632",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 566f826. Verified the moved parts with `git diff --color-moved=dimmed_zebra -w head^`. Travis builds LGTM.",
      "created_at" : "2018-08-03T11:38:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13849#issuecomment-410227965",
      "id" : 410227965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13849",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMDIyNzk2NQ==",
      "updated_at" : "2018-08-03T11:38:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/410227965",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
