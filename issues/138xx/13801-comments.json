[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13825 ([wallet] [Do not merge until v0.18] Kill accounts by jnewbery)\n* #13756 (wallet: -avoidreuse feature for improved privacy by kallewoof)\n* #13723 (PSBT key path cleanups by sipa)\n* #13083 (Add compile time checking for cs_main runtime locking assertions by practicalswift)\n* #12508 (IsAllFromMe by kallewoof)\n* #11634 (wallet: Add missing cs_wallet/cs_KeyStore locks to wallet by practicalswift)\n* #11413 ([wallet] [rpc] sendtoaddress/sendmany: Add explicit feerate option by kallewoof)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-07-30T09:12:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13801#issuecomment-408798965",
      "id" : 408798965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13801",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwODc5ODk2NQ==",
      "updated_at" : "2018-08-01T11:20:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/408798965",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think it's probably always okay to spend a dirty coin by itself (and with other coins to the same scriptpubkey), since that doesn't link it to anything else.  It should be computationally cheap to check if it's feasible-- \"do any groups for dirty coins have enough to pay for the transaction?\"\r\n\r\nMaybe we should be explicitly if we can satisfy a transaction using all of a single group, without regard to dirtyness, and a privacy setting selects if this test is done before or after multigroup matching.",
      "created_at" : "2018-07-31T15:27:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13801#issuecomment-409262305",
      "id" : 409262305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13801",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwOTI2MjMwNQ==",
      "updated_at" : "2018-07-31T15:27:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/409262305",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@gmaxwell \r\n\r\nI'm not sure if your comment is encouraging the switch to using destination filters or not - it kind of feels like it isn't, because you're saying we can do this stuff without bothering the user with explicitly selecting dirty/clean/mixed.\r\n\r\nSo basically, the coin selection would be updated to:\r\n\r\n1. Create output groups of all dirty coins\r\n2. See if any of them fulfil the desired payment amount including fees up to maybe 3x the amount, and return that group if found. MARK CHANGE AS DIRTY\r\n3. Try coin select using only clean coins\r\n\r\nIf user used `-allowdirty` flag, it would simplify to\r\n\r\n1. Try coin select using all coins. (MARK CHANGE AS DIRTY IF 1+ DIRTY COINS WERE USED)",
      "created_at" : "2018-08-02T04:50:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13801#issuecomment-409804873",
      "id" : 409804873,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13801",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwOTgwNDg3Mw==",
      "updated_at" : "2018-08-02T04:51:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/409804873",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   }
]
