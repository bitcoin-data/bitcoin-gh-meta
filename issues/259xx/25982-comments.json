[
   {
      "author_association" : "MEMBER",
      "body" : "[CI](https://github.com/bitcoin/bitcoin/pull/25982/checks?check_run_id=8154473894):\r\n```bash\r\nAssertion failed: (cost_of_change > 0), function SelectCoinsBnB, file coinselection.cpp, line 68.\r\n```",
      "created_at" : "2022-09-02T10:57:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1235358802",
      "id" : 1235358802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585JohRS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235358802/reactions"
      },
      "updated_at" : "2022-09-02T10:57:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235358802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, `CI` should be fixed now.",
      "created_at" : "2022-09-02T16:54:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1235719546",
      "id" : 1235719546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585Jp5V6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235719546/reactions"
      },
      "updated_at" : "2022-09-02T16:54:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235719546",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Thanks, CI should be fixed now.\r\n\r\nThe fuzzer is failing https://github.com/bitcoin/bitcoin/pull/25982/checks?check_run_id=8160631729: \r\n```bash\r\nINFO: Running with entropic power schedule (0xFF, 100).\r\nINFO: Seed: 1696319385\r\nINFO: Loaded 1 modules   (350003 inline 8-bit counters): 350003 [0x55b9e9d5a780, 0x55b9e9dafeb3), \r\nINFO: Loaded 1 PC tables (350003 PCs): 350003 [0x55b9e9dafeb8,0x55b9ea3071e8), \r\nINFO:        0 files found in /tmp/cirrus-ci-build/ci/scratch/qa-assets/fuzz_seed_corpus/coinselection\r\nINFO: -max_len is not provided; libFuzzer will not generate inputs larger than 4096 bytes\r\nfuzz: wallet/coinselection.cpp:68: std::optional<SelectionResult> wallet::SelectCoinsBnB(std::vector<OutputGroup> &, const CAmount &, const CAmount &): Assertion `cost_of_change > 0' failed.\r\n==19052== ERROR: libFuzzer: deadly signal\r\n    #0 0x55b9e6f65521  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x1758521) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #1 0x55b9e6ed7db8  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x16cadb8) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #2 0x55b9e6ebd833  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x16b0833) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #3 0x7fb4cce7e51f  (/lib/x86_64-linux-gnu/libc.so.6+0x4251f) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #4 0x7fb4cced2a7b  (/lib/x86_64-linux-gnu/libc.so.6+0x96a7b) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #5 0x7fb4cce7e475  (/lib/x86_64-linux-gnu/libc.so.6+0x42475) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #6 0x7fb4cce647f2  (/lib/x86_64-linux-gnu/libc.so.6+0x287f2) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #7 0x7fb4cce6471a  (/lib/x86_64-linux-gnu/libc.so.6+0x2871a) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #8 0x7fb4cce75e95  (/lib/x86_64-linux-gnu/libc.so.6+0x39e95) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #9 0x55b9e7fec5a9  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x27df5a9) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #10 0x55b9e6f99479  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x178c479) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #11 0x55b9e6f9bcc5  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x178ecc5) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #12 0x55b9e6f9bb8d  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x178eb8d) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #13 0x55b9e6f9b968  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x178e968) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #14 0x55b9e73faedd  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x1bededd) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #15 0x55b9e73fab38  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x1bedb38) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #16 0x55b9e6ebedc3  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x16b1dc3) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #17 0x55b9e6ec0020  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x16b3020) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #18 0x55b9e6ec0672  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x16b3672) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #19 0x55b9e6eae9c2  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x16a19c2) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #20 0x55b9e6ed86b2  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x16cb6b2) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\n    #21 0x7fb4cce65d8f  (/lib/x86_64-linux-gnu/libc.so.6+0x29d8f) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #22 0x7fb4cce65e3f  (/lib/x86_64-linux-gnu/libc.so.6+0x29e3f) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #23 0x55b9e6ea3404  (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz+0x1696404) (BuildId: edd028937b0f2ab14f284ed90efe810d8be85edc)\r\nNOTE: libFuzzer has rudimentary signal handlers.\r\n      Combine libFuzzer with AddressSanitizer or similar for better crash reports.\r\nSUMMARY: libFuzzer: deadly signal\r\nMS: 0 ; base unit: 0000000000000000000000000000000000000000\r\nartifact_prefix='./'; Test unit written to ./crash-da39a3ee5e6b4b0d3255bfef95601890afd80709\r\nBase64: \r\nTarget \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/test/fuzz/fuzz -runs=1 /tmp/cirrus-ci-build/ci/scratch/qa-assets/fuzz_seed_corpus/coinselection\" failed with exit code 77\r\n```\r\n\r\n@achow @Xekyo any opinion on this?",
      "created_at" : "2022-09-22T14:03:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1255072852",
      "id" : 1255072852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585KzuRU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255072852/reactions"
      },
      "updated_at" : "2022-09-22T14:03:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255072852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@fanquake thanks.  I've had some trouble getting the fuzzer to run locally on my machine (FreeBSD) so it's difficult for me to debug this.  Waiting to hear feedback if others think it's worth while.",
      "created_at" : "2022-09-22T14:13:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1255087107",
      "id" : 1255087107,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585KzxwD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255087107/reactions"
      },
      "updated_at" : "2022-09-22T14:13:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255087107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26720](https://github.com/bitcoin/bitcoin/pull/26720) (wallet: coin selection, don't return results that exceed the max allowed weight by furszy)\n* [#25806](https://github.com/bitcoin/bitcoin/pull/25806) (wallet: group outputs only once, decouple it from Coin Selection by furszy)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-09-23T04:21:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1255785800",
      "id" : 1255785800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585K2cVI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255785800/reactions"
      },
      "updated_at" : "2023-02-20T22:04:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255785800",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @fanquake thanks. I've had some trouble getting the fuzzer to run locally on my machine (FreeBSD) so it's difficult for me to debug this. Waiting to hear feedback if others think it's worth while.\r\n\r\nTo fix the fuzzer, you could change \r\n`const CAmount cost_of_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};` [(code)](https://github.com/bitcoin/bitcoin/blob/f59e91511a3aa8b2770eeec7034ddc1a9dec918b/src/wallet/test/fuzz/coinselection.cpp#L52)\r\nto\r\n`const CAmount cost_of_change{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};`\r\nThe first one draws a random number between 0 and MAX_MONEY (which will crash with the added assert), the second one between 1 and MAX_MONEY.",
      "created_at" : "2022-09-30T20:10:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1263977268",
      "id" : 1263977268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585LVsM0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1263977268/reactions"
      },
      "updated_at" : "2022-09-30T20:11:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1263977268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@mzumsande thanks, this should fix the test.  Although, ideally the fuzz data would also include values larger than 0 but less than 1 `[0, MAX_MONEY)`.  I didn't know if it was worth spending a lot of time on this PR since I haven't had any type of ack though.",
      "created_at" : "2022-10-03T09:47:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1265195243",
      "id" : 1265195243,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585LaVjr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265195243/reactions"
      },
      "updated_at" : "2022-10-03T09:47:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265195243",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "May as well add assertions for the upper bound as well.",
      "created_at" : "2022-10-03T15:10:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1265614342",
      "id" : 1265614342,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585Lb74G",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265614342/reactions"
      },
      "updated_at" : "2022-10-03T15:10:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265614342",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r986036313"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986036313"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Weak concept ACK. I think it's a good practice to explicitly communicate assumptions, but it also feels a bit far-fetched that we'd manage to screw up our internal call stack that the asserts would actually get triggered except in unit tests.\r\n\r\nBoth `selection_target` and `cost_of_change` necessarily are always greater than 0. Yet, both these values are set by our own internal functions and initialized to non-zero values. Also, they appear in every coin selection algorithm, not just BnB. So, perhaps if we wanted to assert that they are in the proper range, the assert should be placed at the `SelectCoins` level rather than in `SelectCoinsBnB`?\r\n\r\n> @mzumsande thanks, this should fix the test. Although, ideally the fuzz data would also include values larger than 0 but less than 1 `[0, MAX_MONEY)`. I didn't know if it was worth spending a lot of time on this PR since I haven't had any type of ack though.\r\n\r\nfrom `src/consensus/.amount.h`:\r\n```\r\n/** Amount in satoshis (Can be negative) */\r\ntypedef int64_t CAmount;\r\n```\r\n\r\nCAmount is an integer satoshi count. The smallest CAmount greater than 0 is 1.",
      "commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "created_at" : "2022-10-03T17:12:09Z",
      "diff_hunk" : "@@ -64,6 +64,12 @@ static const size_t TOTAL_TRIES = 100000;\n \n std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool, const CAmount& selection_target, const CAmount& cost_of_change)\n {\n+    assert(selection_target > 0);\n+    assert(selection_target <= MAX_MONEY);\n+\n+    assert(cost_of_change > 0);\n+    assert(cost_of_change <= MAX_MONEY);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r986036313",
      "id" : 986036313,
      "line" : 71,
      "node_id" : "PRRC_kwDOABII5846xbhZ",
      "original_commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "original_line" : 71,
      "original_position" : 8,
      "original_start_line" : 67,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 1128745674,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986036313/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 67,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-03T17:13:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986036313",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r986379268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986379268"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> typedef int64_t CAmount;\r\n\r\nThanks, good point, it's an int type.\r\n\r\n> perhaps if we wanted to assert that they are in the proper range, the assert should be placed at the SelectCoins level rather than in SelectCoinsBnB?\r\n\r\nI think moving this type of check higher up the call stack could makes sense.  However there is already some precedence for this type of [assertion](https://github.com/bitcoin/bitcoin/blob/496d5c5874b05594e65fbff576da7800eb17e635/src/wallet/coinselection.cpp#L82) at this level so it didn't seem out of place.  The good thing about the assertions here is that the code is a bit more modular and stands on it's own.\r\n\r\nAlso, I noticed after I created this PR, that there is another assertion for cost_of_change [here](https://github.com/bitcoin/bitcoin/blob/496d5c5874b05594e65fbff576da7800eb17e635/src/wallet/coinselection.cpp#L393), although it seems less useful to place the assertion after the coinselection process has happened.  I mentioned this in a different PR, but this entire [method call](https://github.com/bitcoin/bitcoin/blob/496d5c5874b05594e65fbff576da7800eb17e635/src/wallet/coinselection.cpp#L165) is redundant I believe since we just endup comparing the results again [here](https://github.com/bitcoin/bitcoin/blob/496d5c5874b05594e65fbff576da7800eb17e635/src/wallet/coinselection.cpp#L166).",
      "commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "created_at" : "2022-10-04T02:25:10Z",
      "diff_hunk" : "@@ -64,6 +64,12 @@ static const size_t TOTAL_TRIES = 100000;\n \n std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool, const CAmount& selection_target, const CAmount& cost_of_change)\n {\n+    assert(selection_target > 0);\n+    assert(selection_target <= MAX_MONEY);\n+\n+    assert(cost_of_change > 0);\n+    assert(cost_of_change <= MAX_MONEY);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r986379268",
      "id" : 986379268,
      "in_reply_to_id" : 986036313,
      "line" : 71,
      "node_id" : "PRRC_kwDOABII5846yvQE",
      "original_commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "original_line" : 71,
      "original_position" : 8,
      "original_start_line" : 67,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 1129226213,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986379268/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 67,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-04T02:25:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986379268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r987247791"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/987247791"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You could add the same asserts to the other coin selection algorithms, they all depend on these two values. Would you mind elaborating what gave you the idea to add the asserts?",
      "commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "created_at" : "2022-10-04T19:17:42Z",
      "diff_hunk" : "@@ -64,6 +64,12 @@ static const size_t TOTAL_TRIES = 100000;\n \n std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool, const CAmount& selection_target, const CAmount& cost_of_change)\n {\n+    assert(selection_target > 0);\n+    assert(selection_target <= MAX_MONEY);\n+\n+    assert(cost_of_change > 0);\n+    assert(cost_of_change <= MAX_MONEY);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r987247791",
      "id" : 987247791,
      "in_reply_to_id" : 986036313,
      "line" : 71,
      "node_id" : "PRRC_kwDOABII58462DSv",
      "original_commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "original_line" : 71,
      "original_position" : 8,
      "original_start_line" : 67,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 1130492990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/987247791/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 67,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-04T19:17:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/987247791",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r987712727"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/987712727"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I am looking into some optimizations, however I want to be sure I know what the bounds are to prevent possible overflows or exceptions.  There are cases already that if invalid values are passed in there's the possibility to overflow, for example if `selection_target` is `INT_MAX`, then the addition of [here](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/coinselection.cpp#L95) would overflow the size of `INT_MAX`.  `selection_target` and `cost_of_change` are both signed int `int64_t` and exceeding `INT_MAX` is undefined behavior.  Likewise if `selection_target` is `INT_MIN` and `cost_of_change` is negative would again result in undefined behavior.",
      "commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "created_at" : "2022-10-05T09:20:51Z",
      "diff_hunk" : "@@ -64,6 +64,12 @@ static const size_t TOTAL_TRIES = 100000;\n \n std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool, const CAmount& selection_target, const CAmount& cost_of_change)\n {\n+    assert(selection_target > 0);\n+    assert(selection_target <= MAX_MONEY);\n+\n+    assert(cost_of_change > 0);\n+    assert(cost_of_change <= MAX_MONEY);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r987712727",
      "id" : 987712727,
      "in_reply_to_id" : 986036313,
      "line" : 71,
      "node_id" : "PRRC_kwDOABII584630zX",
      "original_commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "original_line" : 71,
      "original_position" : 8,
      "original_start_line" : 67,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 1131132972,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/987712727/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 67,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-05T09:22:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/987712727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r987735208"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/987735208"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> You could add the same asserts to the other coin selection algorithms\r\n\r\nSure, the other selection algorithms I see are: [KnapsackSolver](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/coinselection.cpp#L252), [SelectCoinsSRD](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/coinselection.cpp#L165), [ApproximateBestSubset](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/coinselection.cpp#L204).  We can add these as part of this PR or a new one.  I'm not sure which is preferable.",
      "commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "created_at" : "2022-10-05T09:45:58Z",
      "diff_hunk" : "@@ -64,6 +64,12 @@ static const size_t TOTAL_TRIES = 100000;\n \n std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool, const CAmount& selection_target, const CAmount& cost_of_change)\n {\n+    assert(selection_target > 0);\n+    assert(selection_target <= MAX_MONEY);\n+\n+    assert(cost_of_change > 0);\n+    assert(cost_of_change <= MAX_MONEY);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r987735208",
      "id" : 987735208,
      "in_reply_to_id" : 986036313,
      "line" : 71,
      "node_id" : "PRRC_kwDOABII584636So",
      "original_commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "original_line" : 71,
      "original_position" : 8,
      "original_start_line" : 67,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 1131164791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/987735208/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 67,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-05T09:45:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/987735208",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r988194319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/988194319"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Since it would be the same two values getting checked in all of the algorithms for the same reason, it would be better to add them all in a single commit.",
      "commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "created_at" : "2022-10-05T17:54:28Z",
      "diff_hunk" : "@@ -64,6 +64,12 @@ static const size_t TOTAL_TRIES = 100000;\n \n std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool, const CAmount& selection_target, const CAmount& cost_of_change)\n {\n+    assert(selection_target > 0);\n+    assert(selection_target <= MAX_MONEY);\n+\n+    assert(cost_of_change > 0);\n+    assert(cost_of_change <= MAX_MONEY);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r988194319",
      "id" : 988194319,
      "in_reply_to_id" : 986036313,
      "line" : 71,
      "node_id" : "PRRC_kwDOABII58465qYP",
      "original_commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "original_line" : 71,
      "original_position" : 8,
      "original_start_line" : 67,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 1131826505,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/988194319/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 67,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-05T17:54:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/988194319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r988840557"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/988840557"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What do you think about restructuring this file so that each selection algorithm has it's own file, class and test suit?  Feels like this file is a bit of a messy as is.  Obviously talking about a different PR to do so.",
      "commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "created_at" : "2022-10-06T10:02:06Z",
      "diff_hunk" : "@@ -64,6 +64,12 @@ static const size_t TOTAL_TRIES = 100000;\n \n std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool, const CAmount& selection_target, const CAmount& cost_of_change)\n {\n+    assert(selection_target > 0);\n+    assert(selection_target <= MAX_MONEY);\n+\n+    assert(cost_of_change > 0);\n+    assert(cost_of_change <= MAX_MONEY);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r988840557",
      "id" : 988840557,
      "in_reply_to_id" : 986036313,
      "line" : 71,
      "node_id" : "PRRC_kwDOABII58468IJt",
      "original_commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "original_line" : 71,
      "original_position" : 8,
      "original_start_line" : 67,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 1132702373,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/988840557/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 67,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-06T10:02:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/988840557",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r988873530"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/988873530"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I looked into adding the same bounds check for the other three selection algorithms however it doesn't seem like the params they use are consistent.  They all use an equivalent of `selection_target` however call it a different name `nTargetValue` for example.  `cost_of_change` doesn't seem to be passed as an argument but instead `KnapsackSolver` uses `change_target`.  These two params [change_target](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/coinselection.h#L125) and [cost_of_change](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/coinselection.h#L133) appear to be different.   `ApproximateBestSubset` uses `nTotalLower` which would be a different type of boundary check.  Since each algorithm appears to have unique params, maybe it makes more sense to address each separately.  \r\n\r\n> Since it would be the same two values getting checked in all of the algorithms for the same reason, it would be better to add them all in a single commit.\r\n\r\nIt doesn't appear to me that the same two values are checked.  What do you think about addressing each selection algorithm separately to reduce the scope of this PR?\r\n\r\nAlso, does it make sense to use 0 as a default value [here](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/coinselection.h#L133) for `cost_of_change`? ",
      "commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "created_at" : "2022-10-06T10:39:18Z",
      "diff_hunk" : "@@ -64,6 +64,12 @@ static const size_t TOTAL_TRIES = 100000;\n \n std::optional<SelectionResult> SelectCoinsBnB(std::vector<OutputGroup>& utxo_pool, const CAmount& selection_target, const CAmount& cost_of_change)\n {\n+    assert(selection_target > 0);\n+    assert(selection_target <= MAX_MONEY);\n+\n+    assert(cost_of_change > 0);\n+    assert(cost_of_change <= MAX_MONEY);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#discussion_r988873530",
      "id" : 988873530,
      "in_reply_to_id" : 986036313,
      "line" : 71,
      "node_id" : "PRRC_kwDOABII58468QM6",
      "original_commit_id" : "496d5c5874b05594e65fbff576da7800eb17e635",
      "original_line" : 71,
      "original_position" : 8,
      "original_start_line" : 67,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 1132750105,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25982",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/988873530/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 67,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-06T10:39:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/988873530",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@achow101 would be good to get your conceptual thoughts here.",
      "created_at" : "2023-02-15T11:08:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1431174607",
      "id" : 1431174607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585VTf3P",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431174607/reactions"
      },
      "updated_at" : "2023-02-15T11:08:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431174607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In any case: `test_bitcoin: wallet/coinselection.cpp:71: std::optional<wallet::SelectionResult> wallet::SelectCoinsBnB(std::__debug::vector<wallet::OutputGroup>&, const CAmount&, const CAmount&): Assertion `cost_of_change > 0' failed.`",
      "created_at" : "2023-02-15T11:25:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1431207007",
      "id" : 1431207007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585VTnxf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431207007/reactions"
      },
      "updated_at" : "2023-02-15T11:25:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431207007",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke it looks like the following test_case [here](https://github.com/bitcoin/bitcoin/blob/35fbc972082eca0fc848fba77360ff35f1ba69e1/src/wallet/test/coinselector_tests.cpp#L949) was added after I made the PR (that test doesn't exist in my PR branch).  \r\n\r\nThe `cost_of_change` should always be greater than zero so something is wrong with the test case.  However, there doesn't seem to be much enthusiasm for this PR so its probably not worth it for me to spend time  fixing it unless I get feedback that says this PR is worthwhile.",
      "created_at" : "2023-02-17T18:50:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1435094706",
      "id" : 1435094706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585Vic6y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435094706/reactions"
      },
      "updated_at" : "2023-02-17T18:50:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435094706",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-03-07T01:03:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25982#issuecomment-1457305349",
      "id" : 1457305349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25982",
      "node_id" : "IC_kwDOABII585W3LcF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1457305349/reactions"
      },
      "updated_at" : "2023-03-07T01:03:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1457305349",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
