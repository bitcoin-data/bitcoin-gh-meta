[
   {
      "author_association" : "MEMBER",
      "body" : "One way to test this is to modify bitcoin-chainstate a bit:\r\n\r\n```diff\r\ndiff --git a/src/bitcoin-chainstate.cpp b/src/bitcoin-chainstate.cpp\r\nindex 7312ae45d4..4ec71ca3fb 100644\r\n--- a/src/bitcoin-chainstate.cpp\r\n+++ b/src/bitcoin-chainstate.cpp\r\n@@ -53,6 +53,10 @@ int main(int argc, char* argv[])\r\n     // SETUP: Misc Globals\r\n     SelectParams(CBaseChainParams::MAIN);\r\n     const CChainParams& chainparams = Params();\r\n+LogInstance().m_print_to_console=true;\r\n+LogInstance().m_file_path = AbsPathForConfigVal(\"log_debug\");\r\n+LogInstance().m_log_timestamps = false;\r\n+Assert(LogInstance().StartLogging());\r\n \r\n     kernel::Context kernel_context{};\r\n     // We can't use a goto here, but we can use an assert since none of the\r\n```\r\n\r\nCommand to test:\r\n\r\n```\r\nmake && ./src/bitcoin-chainstate /tmp/temp_dd\r\n```\r\n\r\nOutput diff:\r\n\r\n```diff\r\n@@ -3,6 +3,9 @@ Using RdSeed as an additional entropy source\r\n Using RdRand as an additional entropy source\r\n Using 16 MiB out of 16 MiB requested for signature cache, able to store 524288 elements\r\n Using 16 MiB out of 16 MiB requested for script execution cache, able to store 524288 elements\r\n+Validating signatures for all blocks.\r\n+Setting nMinimumChainWork=0000000000000000000000000000000000000000000000000000000000000000\r\n+Warning: nMinimumChainWork set below default value of 00000000000000000000000000000000000000002927cdceccbd5209e81e80db\r\n Switching active chainstate to Chainstate [ibd] @ height -1 (null)\r\n Opening LevelDB in /tmp/temp_dd/blocks/index\r\n scheduler thread start\r\n",
      "created_at" : "2022-08-29T10:55:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25951#issuecomment-1230123786",
      "id" : 1230123786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25951",
      "node_id" : "IC_kwDOABII585JUjMK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1230123786/reactions"
      },
      "updated_at" : "2022-08-29T10:55:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1230123786",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25704](https://github.com/bitcoin/bitcoin/pull/25704) (refactor: Remove almost all validation option globals by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-08-29T18:24:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25951#issuecomment-1230694487",
      "id" : 1230694487,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25951",
      "node_id" : "IC_kwDOABII585JWuhX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1230694487/reactions"
      },
      "updated_at" : "2022-08-29T18:24:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1230694487",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2022-08-31T13:21:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25951#issuecomment-1232931561",
      "id" : 1232931561,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25951",
      "node_id" : "IC_kwDOABII585JfQrp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1232931561/reactions"
      },
      "updated_at" : "2022-08-31T13:21:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1232931561",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK fa3358b668d8415adc1b5586caa382fe4140ad42\r\n\r\nTested and it works with bitcoin-chainstate as described in https://github.com/bitcoin/bitcoin/pull/25951#issuecomment-1230123786.\r\n\r\nNote that this pull also changes the placement of this logging from the top\r\n\r\n```\r\n2022-08-31T20:05:35Z Bitcoin Core version v23.99.0-7c7c71500403-dirty (debug build)\r\n2022-08-31T20:05:35Z Assuming ancestors of block 000000000000000000052d314a259755ca65944e68df6b12a067ea8f1f5a7091 have valid signatures.\r\n2022-08-31T20:05:35Z Setting nMinimumChainWork=00000000000000000000000000000000000000002927cdceccbd5209e81e80db\r\n```\r\n\r\nto a bit further down after the asmap, \"Loading P2P addressesâ¦\" and \"Cache configuration\" sections into the \"init message: Loading block indexâ¦\" one, which seems ok\r\n\r\n```\r\n...\r\n2022-09-01T12:08:23Z Using BerkeleyDB version ...\r\n2022-09-01T12:08:23Z Using wallet ...\r\n2022-09-01T12:08:23Z BerkeleyEnvironment::Open: LogDir=\r\n2022-09-01T12:08:23Z Opened asmap file (1219959 bytes) from disk\r\n2022-09-01T12:08:25Z Using asmap version  for IP bucketing\r\n2022-09-01T12:08:25Z init message: Loading P2P addressesâ¦\r\n2022-09-01T12:08:27Z Loaded 75260 addresses from peers.dat  2853ms\r\n2022-09-01T12:08:27Z init message: Loading banlistâ¦\r\n2022-09-01T12:08:27Z SetNetworkActive: true\r\n2022-09-01T12:08:27Z Cache configuration:\r\n...\r\n2022-09-01T12:08:27Z init message: Loading block indexâ¦\r\n2022-09-01T12:08:27Z Assuming ancestors of block 000000000000000000052d314a259755ca65944e68df6b12a067ea8f1f5a7091 have valid signatures.\r\n2022-09-01T12:08:27Z Setting nMinimumChainWork=00000000000000000000000000000000000000002927cdceccbd5209e81e80db\r\n```\r\n",
      "created_at" : "2022-09-01T12:27:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25951#issuecomment-1234211411",
      "id" : 1234211411,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25951",
      "node_id" : "IC_kwDOABII585JkJJT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1234211411/reactions"
      },
      "updated_at" : "2022-09-01T12:27:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1234211411",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I kinda would've expected the opposite here, where statuses are returned and the caller (bitcoin-chainstate) can choose to report them as necessary.\r\n\r\nI've probably missed discussions about logging though. Is the plan to have an instantiated logger in the future so that the caller can control the output?",
      "created_at" : "2022-09-06T14:30:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25951#issuecomment-1238233560",
      "id" : 1238233560,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25951",
      "node_id" : "IC_kwDOABII585JzfHY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1238233560/reactions"
      },
      "updated_at" : "2022-09-06T14:30:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1238233560",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "`InitializeChainstate` already calls `LogPrintf`, so all `LogPrintf` (old and new) can be switched to something else once it is clear what that is. I am not sure myself what the plan here is.",
      "created_at" : "2022-09-06T15:16:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25951#issuecomment-1238294362",
      "id" : 1238294362,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25951",
      "node_id" : "IC_kwDOABII585Jzt9a",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1238294362/reactions"
      },
      "updated_at" : "2022-09-06T15:16:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1238294362",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
