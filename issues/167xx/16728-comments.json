[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317667358"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317667358"
         }
      },
      "author_association" : "MEMBER",
      "body" : "please keep this list sorted, as before",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T15:47:12Z",
      "diff_hunk" : "@@ -262,6 +263,7 @@ libbitcoin_server_a_SOURCES = \\\n   banman.cpp \\\n   blockencodings.cpp \\\n   blockfilter.cpp \\\n+  coinstats.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317667358",
      "id" : 317667358,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzY2NzM1OA==",
      "original_commit_id" : "0afc435af37b58c7022f6e468b8c381313f63e74",
      "original_line" : 266,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 279672564,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317667358/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317667358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317669821"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317669821"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This includes `serialize.h`, which takes quite a long time to parse. Why not replace those two includes with a simple forward decl?\r\n\r\n```diff\r\n+#include <amount.h>\r\n+class CBlockIndex;\r\n+class CCoinsView;\r\n",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T15:52:47Z",
      "diff_hunk" : "@@ -0,0 +1,34 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_COINSTATS_H\n+#define BITCOIN_COINSTATS_H\n+\n+#include <coins.h>\n+#include <chain.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317669821",
      "id" : 317669821,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzY2OTgyMQ==",
      "original_commit_id" : "0afc435af37b58c7022f6e468b8c381313f63e74",
      "original_line" : 10,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/coinstats.h",
      "position" : null,
      "pull_request_review_id" : 279672564,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317669821/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317669821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317670117"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317670117"
         }
      },
      "author_association" : "MEMBER",
      "body" : "what is this?",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T15:53:28Z",
      "diff_hunk" : "@@ -0,0 +1,34 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_COINSTATS_H\n+#define BITCOIN_COINSTATS_H\n+\n+#include <coins.h>\n+#include <chain.h>\n+#include <uint256.h>\n+#include <sync.h>\n+\n+extern CCriticalSection cs_main;\n+CBlockIndex* LookupBlockIndex(const uint256& blockhash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317670117",
      "id" : 317670117,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzY3MDExNw==",
      "original_commit_id" : "0afc435af37b58c7022f6e468b8c381313f63e74",
      "original_line" : 15,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/coinstats.h",
      "position" : null,
      "pull_request_review_id" : 279672564,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317670117/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317670117",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317706370"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317706370"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\nIn file included from rpc/blockchain.cpp:33:\r\n./validation.h:406:14: warning: redundant redeclaration of âCBlockIndex* LookupBlockIndex(const uint256&)â in same scope [-Wredundant-decls]\r\n  406 | CBlockIndex* LookupBlockIndex(const uint256& hash) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\r\n      |              ^~~~~~~~~~~~~~~~\r\nIn file included from rpc/blockchain.cpp:13:\r\n./coinstats.h:18:14: note: previous declaration of âCBlockIndex* LookupBlockIndex(const uint256&)â\r\n   18 | CBlockIndex* LookupBlockIndex(const uint256& blockhash);\r\n      |              ^~~~~~~~~~~~~~~~\r\n",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T17:21:27Z",
      "diff_hunk" : "@@ -0,0 +1,34 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_COINSTATS_H\n+#define BITCOIN_COINSTATS_H\n+\n+#include <coins.h>\n+#include <chain.h>\n+#include <uint256.h>\n+#include <sync.h>\n+\n+extern CCriticalSection cs_main;\n+CBlockIndex* LookupBlockIndex(const uint256& blockhash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317706370",
      "id" : 317706370,
      "in_reply_to_id" : 317670117,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzcwNjM3MA==",
      "original_commit_id" : "0afc435af37b58c7022f6e468b8c381313f63e74",
      "original_line" : 15,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/coinstats.h",
      "position" : null,
      "pull_request_review_id" : 279721002,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317706370/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317706370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the quick feedback @MarcoFalke. Fixed and pushed.",
      "created_at" : "2019-08-26T17:43:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#issuecomment-524956343",
      "id" : 524956343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16728",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNDk1NjM0Mw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/524956343/reactions"
      },
      "updated_at" : "2019-08-26T17:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/524956343",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317721655"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317721655"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit \"move-only: move coins statistics utils out of RPC\" (07da7c422d875e54176a81b37de011a4761966cc)\r\n\r\nNote: previous line was\r\n\r\n```c++\r\nstats.nHeight = LookupBlockIndex(stats.hashBlock)->nHeight;\r\n```\r\n\r\nwhich crashes if LookupBlockIndex returns null. Otherwise there's no change.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T17:56:04Z",
      "diff_hunk" : "@@ -0,0 +1,77 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>\n+#include <hash.h>\n+#include <uint256.h>\n+#include <util/system.h>\n+#include <serialize.h>\n+\n+#include <boost/thread.hpp>\n+\n+extern CCriticalSection cs_main;\n+CBlockIndex* LookupBlockIndex(const uint256& blockhash);\n+\n+static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+{\n+    assert(!outputs.empty());\n+    ss << hash;\n+    ss << VARINT(outputs.begin()->second.nHeight * 2 + outputs.begin()->second.fCoinBase ? 1u : 0u);\n+    stats.nTransactions++;\n+    for (const auto& output : outputs) {\n+        ss << VARINT(output.first + 1);\n+        ss << output.second.out.scriptPubKey;\n+        ss << VARINT(output.second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n+        stats.nTransactionOutputs++;\n+        stats.nTotalAmount += output.second.out.nValue;\n+        stats.nBogoSize += 32 /* txid */ + 4 /* vout index */ + 4 /* height + coinbase */ + 8 /* amount */ +\n+                           2 /* scriptPubKey len */ + output.second.out.scriptPubKey.size() /* scriptPubKey */;\n+    }\n+    ss << VARINT(0u);\n+}\n+\n+//! Calculate statistics about the unspent transaction output set\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats &stats)\n+{\n+    std::unique_ptr<CCoinsViewCursor> pcursor(view->Cursor());\n+    assert(pcursor);\n+\n+    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+    stats.hashBlock = pcursor->GetBestBlock();\n+    {\n+        LOCK(cs_main);\n+        CBlockIndex* block = LookupBlockIndex(stats.hashBlock);\n+        stats.nHeight = block ? block->nHeight : -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317721655",
      "id" : 317721655,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzcyMTY1NQ==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 50,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "src/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 279739940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317721655/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317721655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317722802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317722802"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit \"move-only: move coins statistics utils out of RPC\" (07da7c422d875e54176a81b37de011a4761966cc)\r\n\r\nCould consider moving moving these files to `src/node/`. IMO better to make use of node/, wallet/, qt/, util/, etc subdirectories instead of adding things at the top level. Some notes about this in #15732.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T17:58:30Z",
      "diff_hunk" : "@@ -263,6 +264,7 @@ libbitcoin_server_a_SOURCES = \\\n   blockencodings.cpp \\\n   blockfilter.cpp \\\n   chain.cpp \\\n+  coinstats.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317722802",
      "id" : 317722802,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzcyMjgwMg==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 267,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 279739940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317722802/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317722802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317726258"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317726258"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why are you removing the lock annotation? Can't you just include the header?",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T18:06:05Z",
      "diff_hunk" : "@@ -0,0 +1,77 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>\n+#include <hash.h>\n+#include <uint256.h>\n+#include <util/system.h>\n+#include <serialize.h>\n+\n+#include <boost/thread.hpp>\n+\n+extern CCriticalSection cs_main;\n+CBlockIndex* LookupBlockIndex(const uint256& blockhash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317726258",
      "id" : 317726258,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzcyNjI1OA==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 19,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 279745461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317726258/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317726258",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317727590"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317727590"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Just to be clear on the rationale here: `LookupBlockIndex` accesses a global that is only properly initialized in the node process. Thus, the coinstats module should be in the `src/node` folder?",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T18:08:57Z",
      "diff_hunk" : "@@ -263,6 +264,7 @@ libbitcoin_server_a_SOURCES = \\\n   blockencodings.cpp \\\n   blockfilter.cpp \\\n   chain.cpp \\\n+  coinstats.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317727590",
      "id" : 317727590,
      "in_reply_to_id" : 317722802,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzcyNzU5MA==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 267,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 279747059,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317727590/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317727590",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317728840"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317728840"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should never crash, unless there is a data corruption. I'd prefer to keep the previous code or throw an exception instead of withholding the fact that data is corrupted from the user.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T18:11:53Z",
      "diff_hunk" : "@@ -0,0 +1,77 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>\n+#include <hash.h>\n+#include <uint256.h>\n+#include <util/system.h>\n+#include <serialize.h>\n+\n+#include <boost/thread.hpp>\n+\n+extern CCriticalSection cs_main;\n+CBlockIndex* LookupBlockIndex(const uint256& blockhash);\n+\n+static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+{\n+    assert(!outputs.empty());\n+    ss << hash;\n+    ss << VARINT(outputs.begin()->second.nHeight * 2 + outputs.begin()->second.fCoinBase ? 1u : 0u);\n+    stats.nTransactions++;\n+    for (const auto& output : outputs) {\n+        ss << VARINT(output.first + 1);\n+        ss << output.second.out.scriptPubKey;\n+        ss << VARINT(output.second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n+        stats.nTransactionOutputs++;\n+        stats.nTotalAmount += output.second.out.nValue;\n+        stats.nBogoSize += 32 /* txid */ + 4 /* vout index */ + 4 /* height + coinbase */ + 8 /* amount */ +\n+                           2 /* scriptPubKey len */ + output.second.out.scriptPubKey.size() /* scriptPubKey */;\n+    }\n+    ss << VARINT(0u);\n+}\n+\n+//! Calculate statistics about the unspent transaction output set\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats &stats)\n+{\n+    std::unique_ptr<CCoinsViewCursor> pcursor(view->Cursor());\n+    assert(pcursor);\n+\n+    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+    stats.hashBlock = pcursor->GetBestBlock();\n+    {\n+        LOCK(cs_main);\n+        CBlockIndex* block = LookupBlockIndex(stats.hashBlock);\n+        stats.nHeight = block ? block->nHeight : -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317728840",
      "id" : 317728840,
      "in_reply_to_id" : 317721655,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzcyODg0MA==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 50,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "src/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 279748580,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317728840/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317728840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317751843"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317751843"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Just to be clear on the rationale here\r\n\r\nCalling LookupBlockIndex and accessing globals is a more of a rationale for including this code in the `libbitcoin_server.a` library instead of `libbitcoin_util.a` or another library.\r\n\r\nThere is `libbitcoin_server.a` code in the top-level directory, but there is also a code from other libraries there. I just think it's nice to use node/, wallet/, qt/, util/, consensus/ subdirectories to organize code so you can know what context the code functions in and what library it will be a part of.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T19:05:29Z",
      "diff_hunk" : "@@ -263,6 +264,7 @@ libbitcoin_server_a_SOURCES = \\\n   blockencodings.cpp \\\n   blockfilter.cpp \\\n   chain.cpp \\\n+  coinstats.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317751843",
      "id" : 317751843,
      "in_reply_to_id" : 317722802,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzc1MTg0Mw==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 267,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 279777418,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317751843/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317751843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16345](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16345.html) (rpc: Add getblockbyheight method by emilengler)\n* [#15606](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15606.html) ([experimental] UTXO snapshots by jamesob)\n* [#13462](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13462.html) (Make SER_GETHASH implicit for CHashWriter and SerializeHash by Empact)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-08-26T19:12:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#issuecomment-524991217",
      "id" : 524991217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16728",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNDk5MTIxNw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/524991217/reactions"
      },
      "updated_at" : "2019-08-26T19:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/524991217",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317755014"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317755014"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> more of a rationale for including this code in the libbitcoin_server.a library\r\n\r\nI think we agree then. `src/node` should eventually be the folder for libbitcoin_server.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T19:13:58Z",
      "diff_hunk" : "@@ -263,6 +264,7 @@ libbitcoin_server_a_SOURCES = \\\n   blockencodings.cpp \\\n   blockfilter.cpp \\\n   chain.cpp \\\n+  coinstats.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317755014",
      "id" : 317755014,
      "in_reply_to_id" : 317722802,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzc1NTAxNA==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 267,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 279781513,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317755014/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317755014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317759824"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317759824"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`validation.cpp` will eventually include this file (for use validationg snapshots) and I didn't want to create a circular dep. My mistake, forgot this would remove the lock annotation for uses in this file, will add back.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T19:26:47Z",
      "diff_hunk" : "@@ -0,0 +1,77 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>\n+#include <hash.h>\n+#include <uint256.h>\n+#include <util/system.h>\n+#include <serialize.h>\n+\n+#include <boost/thread.hpp>\n+\n+extern CCriticalSection cs_main;\n+CBlockIndex* LookupBlockIndex(const uint256& blockhash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317759824",
      "id" : 317759824,
      "in_reply_to_id" : 317726258,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzc1OTgyNA==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 19,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 279787753,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317759824/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317759824",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317765101"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317765101"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This would be the first time that we solved a circular dependency by copy-pasting parts of a header file. \r\n\r\n> validation.cpp will eventually include this file \r\n\r\nIf, and when, this happens, you can either document the circular dependency or remove the include via this hack. No need to do it now.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T19:41:00Z",
      "diff_hunk" : "@@ -0,0 +1,77 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>\n+#include <hash.h>\n+#include <uint256.h>\n+#include <util/system.h>\n+#include <serialize.h>\n+\n+#include <boost/thread.hpp>\n+\n+extern CCriticalSection cs_main;\n+CBlockIndex* LookupBlockIndex(const uint256& blockhash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317765101",
      "id" : 317765101,
      "in_reply_to_id" : 317726258,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzc2NTEwMQ==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 19,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 279794607,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317765101/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317765101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317771756"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317771756"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@ryanofsky thanks for the pointer, forgot about these. Will move.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T19:58:39Z",
      "diff_hunk" : "@@ -263,6 +264,7 @@ libbitcoin_server_a_SOURCES = \\\n   blockencodings.cpp \\\n   blockfilter.cpp \\\n   chain.cpp \\\n+  coinstats.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317771756",
      "id" : 317771756,
      "in_reply_to_id" : 317722802,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzc3MTc1Ng==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 267,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 279803412,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317771756/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317771756",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "[`au.coinstast.1`](https://github.com/jamesob/bitcoin/tree/au.coinstast.1) -> [`au.coinstast.2`](https://github.com/jamesob/bitcoin/tree/au.coinstast.2) [(change)](https://github.com/bitcoin/bitcoin/compare/07da7c422d875e54176a81b37de011a4761966cc..4a76e68e7ff0fcc67e810c18ed088860d9c5bfa5)\r\n\r\nPushed fixes for feedback from Marco and Russ.",
      "created_at" : "2019-08-26T20:08:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#issuecomment-525011752",
      "id" : 525011752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16728",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNTAxMTc1Mg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525011752/reactions"
      },
      "updated_at" : "2019-08-26T20:08:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525011752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317784165"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317784165"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Alternatively, you could use `error()`, as done later on in this function. I don't think the current code makes sense, unless you can give an explanation or code comment to motivate it",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-26T20:29:17Z",
      "diff_hunk" : "@@ -0,0 +1,77 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>\n+#include <hash.h>\n+#include <uint256.h>\n+#include <util/system.h>\n+#include <serialize.h>\n+\n+#include <boost/thread.hpp>\n+\n+extern CCriticalSection cs_main;\n+CBlockIndex* LookupBlockIndex(const uint256& blockhash);\n+\n+static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+{\n+    assert(!outputs.empty());\n+    ss << hash;\n+    ss << VARINT(outputs.begin()->second.nHeight * 2 + outputs.begin()->second.fCoinBase ? 1u : 0u);\n+    stats.nTransactions++;\n+    for (const auto& output : outputs) {\n+        ss << VARINT(output.first + 1);\n+        ss << output.second.out.scriptPubKey;\n+        ss << VARINT(output.second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n+        stats.nTransactionOutputs++;\n+        stats.nTotalAmount += output.second.out.nValue;\n+        stats.nBogoSize += 32 /* txid */ + 4 /* vout index */ + 4 /* height + coinbase */ + 8 /* amount */ +\n+                           2 /* scriptPubKey len */ + output.second.out.scriptPubKey.size() /* scriptPubKey */;\n+    }\n+    ss << VARINT(0u);\n+}\n+\n+//! Calculate statistics about the unspent transaction output set\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats &stats)\n+{\n+    std::unique_ptr<CCoinsViewCursor> pcursor(view->Cursor());\n+    assert(pcursor);\n+\n+    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+    stats.hashBlock = pcursor->GetBestBlock();\n+    {\n+        LOCK(cs_main);\n+        CBlockIndex* block = LookupBlockIndex(stats.hashBlock);\n+        stats.nHeight = block ? block->nHeight : -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317784165",
      "id" : 317784165,
      "in_reply_to_id" : 317721655,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzc4NDE2NQ==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 50,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "src/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 279819459,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317784165/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317784165",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317883971"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317883971"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could be an opportunity to comment fields structures like bytes unit of `nDiskSize` and bitcoin unit of `nTotalAmount`, why `hashSerialized` is hash_serilalized_2, what's the purpose of `nBogoSize`",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T03:56:08Z",
      "diff_hunk" : "@@ -0,0 +1,33 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_COINSTATS_H\n+#define BITCOIN_NODE_COINSTATS_H\n+\n+#include <amount.h>\n+#include <sync.h>\n+#include <uint256.h>\n+\n+\n+class CCoinsView;\n+\n+struct CCoinsStats\n+{\n+    int nHeight;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317883971",
      "id" : 317883971,
      "line" : 18,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzg4Mzk3MQ==",
      "original_commit_id" : "8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2",
      "original_line" : 18,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/node/coinstats.h",
      "position" : 18,
      "pull_request_review_id" : 279943328,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317883971/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317883971",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318071588"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318071588"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This change deserves its own commit? Assertion works for me too as @MarcoFalke suggested: https://github.com/bitcoin/bitcoin/pull/16728#discussion_r317784165",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T13:12:44Z",
      "diff_hunk" : "@@ -0,0 +1,76 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>\n+#include <hash.h>\n+#include <serialize.h>\n+#include <validation.h>\n+#include <uint256.h>\n+#include <util/system.h>\n+\n+#include <boost/thread.hpp>\n+\n+\n+static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+{\n+    assert(!outputs.empty());\n+    ss << hash;\n+    ss << VARINT(outputs.begin()->second.nHeight * 2 + outputs.begin()->second.fCoinBase ? 1u : 0u);\n+    stats.nTransactions++;\n+    for (const auto& output : outputs) {\n+        ss << VARINT(output.first + 1);\n+        ss << output.second.out.scriptPubKey;\n+        ss << VARINT(output.second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n+        stats.nTransactionOutputs++;\n+        stats.nTotalAmount += output.second.out.nValue;\n+        stats.nBogoSize += 32 /* txid */ + 4 /* vout index */ + 4 /* height + coinbase */ + 8 /* amount */ +\n+                           2 /* scriptPubKey len */ + output.second.out.scriptPubKey.size() /* scriptPubKey */;\n+    }\n+    ss << VARINT(0u);\n+}\n+\n+//! Calculate statistics about the unspent transaction output set\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats &stats)\n+{\n+    std::unique_ptr<CCoinsViewCursor> pcursor(view->Cursor());\n+    assert(pcursor);\n+\n+    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+    stats.hashBlock = pcursor->GetBestBlock();\n+    {\n+        LOCK(cs_main);\n+        CBlockIndex* block = LookupBlockIndex(stats.hashBlock);\n+        stats.nHeight = block ? block->nHeight : -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318071588",
      "id" : 318071588,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODA3MTU4OA==",
      "original_commit_id" : "8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2",
      "original_line" : 49,
      "original_position" : 49,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 280183469,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318071588/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318071588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318113016"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318113016"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree with the separate commit.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T14:27:07Z",
      "diff_hunk" : "@@ -0,0 +1,76 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>\n+#include <hash.h>\n+#include <serialize.h>\n+#include <validation.h>\n+#include <uint256.h>\n+#include <util/system.h>\n+\n+#include <boost/thread.hpp>\n+\n+\n+static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+{\n+    assert(!outputs.empty());\n+    ss << hash;\n+    ss << VARINT(outputs.begin()->second.nHeight * 2 + outputs.begin()->second.fCoinBase ? 1u : 0u);\n+    stats.nTransactions++;\n+    for (const auto& output : outputs) {\n+        ss << VARINT(output.first + 1);\n+        ss << output.second.out.scriptPubKey;\n+        ss << VARINT(output.second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n+        stats.nTransactionOutputs++;\n+        stats.nTotalAmount += output.second.out.nValue;\n+        stats.nBogoSize += 32 /* txid */ + 4 /* vout index */ + 4 /* height + coinbase */ + 8 /* amount */ +\n+                           2 /* scriptPubKey len */ + output.second.out.scriptPubKey.size() /* scriptPubKey */;\n+    }\n+    ss << VARINT(0u);\n+}\n+\n+//! Calculate statistics about the unspent transaction output set\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats &stats)\n+{\n+    std::unique_ptr<CCoinsViewCursor> pcursor(view->Cursor());\n+    assert(pcursor);\n+\n+    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+    stats.hashBlock = pcursor->GetBestBlock();\n+    {\n+        LOCK(cs_main);\n+        CBlockIndex* block = LookupBlockIndex(stats.hashBlock);\n+        stats.nHeight = block ? block->nHeight : -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318113016",
      "id" : 318113016,
      "in_reply_to_id" : 318071588,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODExMzAxNg==",
      "original_commit_id" : "8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2",
      "original_line" : 49,
      "original_position" : 49,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 280236925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318113016/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318113016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318113653"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318113653"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could fix format in this new line (space before arg name).",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T14:28:12Z",
      "diff_hunk" : "@@ -0,0 +1,33 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_COINSTATS_H\n+#define BITCOIN_NODE_COINSTATS_H\n+\n+#include <amount.h>\n+#include <sync.h>\n+#include <uint256.h>\n+\n+\n+class CCoinsView;\n+\n+struct CCoinsStats\n+{\n+    int nHeight;\n+    uint256 hashBlock;\n+    uint64_t nTransactions;\n+    uint64_t nTransactionOutputs;\n+    uint64_t nBogoSize;\n+    uint256 hashSerialized;\n+    uint64_t nDiskSize;\n+    CAmount nTotalAmount;\n+\n+    CCoinsStats() : nHeight(0), nTransactions(0), nTransactionOutputs(0), nBogoSize(0), nDiskSize(0), nTotalAmount(0) {}\n+};\n+\n+//! Calculate statistics about the unspent transaction output set\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats &stats);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318113653",
      "id" : 318113653,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODExMzY1Mw==",
      "original_commit_id" : "8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2",
      "original_line" : 31,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/node/coinstats.h",
      "position" : null,
      "pull_request_review_id" : 280236925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318113653/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318113653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318114542"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318114542"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If you are going to push a separate commit then you could also drop the constructor and initialize members in place, like `int nHeight{0};`.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T14:29:42Z",
      "diff_hunk" : "@@ -0,0 +1,33 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_COINSTATS_H\n+#define BITCOIN_NODE_COINSTATS_H\n+\n+#include <amount.h>\n+#include <sync.h>\n+#include <uint256.h>\n+\n+\n+class CCoinsView;\n+\n+struct CCoinsStats\n+{\n+    int nHeight;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318114542",
      "id" : 318114542,
      "in_reply_to_id" : 317883971,
      "line" : 18,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODExNDU0Mg==",
      "original_commit_id" : "8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2",
      "original_line" : 18,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/node/coinstats.h",
      "position" : 18,
      "pull_request_review_id" : 280236925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318114542/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318114542",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318116570"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318116570"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What is this for?",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T14:33:15Z",
      "diff_hunk" : "@@ -0,0 +1,33 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_COINSTATS_H\n+#define BITCOIN_NODE_COINSTATS_H\n+\n+#include <amount.h>\n+#include <sync.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318116570",
      "id" : 318116570,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODExNjU3MA==",
      "original_commit_id" : "8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2",
      "original_line" : 10,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/node/coinstats.h",
      "position" : null,
      "pull_request_review_id" : 280236925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318116570/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318116570",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318116742"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318116742"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should `#include <cstdint>`.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T14:33:32Z",
      "diff_hunk" : "@@ -0,0 +1,33 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_COINSTATS_H\n+#define BITCOIN_NODE_COINSTATS_H\n+\n+#include <amount.h>\n+#include <sync.h>\n+#include <uint256.h>\n+\n+\n+class CCoinsView;\n+\n+struct CCoinsStats\n+{\n+    int nHeight;\n+    uint256 hashBlock;\n+    uint64_t nTransactions;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318116742",
      "id" : 318116742,
      "line" : 20,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODExNjc0Mg==",
      "original_commit_id" : "8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2",
      "original_line" : 20,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/node/coinstats.h",
      "position" : 20,
      "pull_request_review_id" : 280236925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318116742/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318116742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318153518"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318153518"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah my mistake, I don't actually remember changing this code (it's been a while since I wrote the original patch). I'll revert to current behavior to keep move-onlyness.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T15:39:00Z",
      "diff_hunk" : "@@ -0,0 +1,77 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>\n+#include <hash.h>\n+#include <uint256.h>\n+#include <util/system.h>\n+#include <serialize.h>\n+\n+#include <boost/thread.hpp>\n+\n+extern CCriticalSection cs_main;\n+CBlockIndex* LookupBlockIndex(const uint256& blockhash);\n+\n+static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+{\n+    assert(!outputs.empty());\n+    ss << hash;\n+    ss << VARINT(outputs.begin()->second.nHeight * 2 + outputs.begin()->second.fCoinBase ? 1u : 0u);\n+    stats.nTransactions++;\n+    for (const auto& output : outputs) {\n+        ss << VARINT(output.first + 1);\n+        ss << output.second.out.scriptPubKey;\n+        ss << VARINT(output.second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n+        stats.nTransactionOutputs++;\n+        stats.nTotalAmount += output.second.out.nValue;\n+        stats.nBogoSize += 32 /* txid */ + 4 /* vout index */ + 4 /* height + coinbase */ + 8 /* amount */ +\n+                           2 /* scriptPubKey len */ + output.second.out.scriptPubKey.size() /* scriptPubKey */;\n+    }\n+    ss << VARINT(0u);\n+}\n+\n+//! Calculate statistics about the unspent transaction output set\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats &stats)\n+{\n+    std::unique_ptr<CCoinsViewCursor> pcursor(view->Cursor());\n+    assert(pcursor);\n+\n+    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+    stats.hashBlock = pcursor->GetBestBlock();\n+    {\n+        LOCK(cs_main);\n+        CBlockIndex* block = LookupBlockIndex(stats.hashBlock);\n+        stats.nHeight = block ? block->nHeight : -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318153518",
      "id" : 318153518,
      "in_reply_to_id" : 317721655,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODE1MzUxOA==",
      "original_commit_id" : "07da7c422d875e54176a81b37de011a4761966cc",
      "original_line" : 50,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "src/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 280289934,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318153518/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318153518",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318153875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318153875"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good suggestions. Will add if I have to invalidate the move-onlyness for some reason.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T15:39:44Z",
      "diff_hunk" : "@@ -0,0 +1,33 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_COINSTATS_H\n+#define BITCOIN_NODE_COINSTATS_H\n+\n+#include <amount.h>\n+#include <sync.h>\n+#include <uint256.h>\n+\n+\n+class CCoinsView;\n+\n+struct CCoinsStats\n+{\n+    int nHeight;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318153875",
      "id" : 318153875,
      "in_reply_to_id" : 317883971,
      "line" : 18,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODE1Mzg3NQ==",
      "original_commit_id" : "8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2",
      "original_line" : 18,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/node/coinstats.h",
      "position" : 18,
      "pull_request_review_id" : 280290409,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318153875/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318153875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318158161"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318158161"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point - stale.",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T15:47:46Z",
      "diff_hunk" : "@@ -0,0 +1,33 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_COINSTATS_H\n+#define BITCOIN_NODE_COINSTATS_H\n+\n+#include <amount.h>\n+#include <sync.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318158161",
      "id" : 318158161,
      "in_reply_to_id" : 318116570,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODE1ODE2MQ==",
      "original_commit_id" : "8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2",
      "original_line" : 10,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/node/coinstats.h",
      "position" : null,
      "pull_request_review_id" : 280295804,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318158161/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318158161",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "[`au.coinstast.3`](https://github.com/jamesob/bitcoin/tree/au.coinstast.3) -> [`au.coinstast.4`](https://github.com/jamesob/bitcoin/tree/au.coinstast.4) [(change)](https://github.com/bitcoin/bitcoin/compare/8f394b5809a5ccf042e7ddf4d3921acb3a7a67a2..8a3b2eb17572ca2131778d52cc25ec359470a90f)\r\n\r\nThanks for the reviews and suggestions, everyone. I've cleaned up some of the imports and reverted the `LookupBlockIndex` change to restore move-onlyness.",
      "created_at" : "2019-08-27T15:54:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#issuecomment-525365939",
      "id" : 525365939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16728",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNTM2NTkzOQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525365939/reactions"
      },
      "updated_at" : "2019-08-27T15:54:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525365939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 8a3b2eb17572ca2131778d52cc25ec359470a90f, checked --color-moved=dimmed-zebra\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 8a3b2eb17572ca2131778d52cc25ec359470a90f, checked --color-moved=dimmed-zebra\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUizvwv9H7WvV2EuXemNemt9vtvZryiXhZSmOxCwxmTEj8j8lxiWvia0sqrck5dR\r\nsb/b/Yr92kWunZgt2B2xzPnG6twcmR5gfxWGDVSYj0orCUQfqtEJXIDXgfcEHGZi\r\ngDaPL0Kj8oCYH6Rm5RVkZ7dLcShmRj8kTJWk6oFQFfCOD0LhPCutshZdC3rYcxZQ\r\n0ZH5AusJUM8YIiqQLOSZkc+658TxwHUV39RHFad5kbozra5kRiQwtUGBpR17jGim\r\nSPjRnbcv3nNty3tjnlLstC+/WhKh8G+fCro+MSZnuZXqLJ33hy5gA/hy625+PGxR\r\n/q7ItGPBO9GZpGHfB8unwFp+qgMFckKSNGiMRRt8NgzMDVVQSfE2FRvJDBMFGHN9\r\nzMNOspTROW7uA1FmW3VCRZJwLIVYfyMBoBNT4TSN7riGuC5ejqBcPnBftPNne/pz\r\nME6qyyfjJ6M7ybsZIwX6QrQq/2kYwHpkR9BylefctpnbBgcfvYGM60QsUkdDm8Fq\r\nc9EoO/St\r\n=3F0+\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `7a6fa2edb4e64bd8de86c3674ec9f4d48567af682d2e26d6152320c838c51897  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401087a6fa2edb4e64bd8de86c3674ec9f4d48567af682d2e26d6152320c838c51897f01076f3060ad8157a693c08fc6ac537cfc408fff01001a3f876780fff1121568d399bfa895a08f1045d6553b6f008ea196ccec0b80e5f0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6dfff010275947b94beda75ee4f77ed0d4f7e9a408f12051a0320ec8b56e737d180d7512c610557118b840ca04d0bd241a5988e24cdcb708f1045d6553b6f0087b473c9ecb7e50660083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff0104d78dddabb7620634af29ca0d4962c1a08f12017bf3981046f200285166049b1bb43f6f3f00263d5317fc8712ffa43bf01ff3f08f1045d6553b6f0081647f202438bf6950083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267f010a7e260d534acccdc68528463114ae19708f120eb6c420bd0d3bb39664eb65b3a02faf92c849153e3dbf5b1a16eb5652f4fb06708f1045d6553b7f008f2bb46a6b8017dc00083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6d)\r\n\r\n</details>\r\n",
      "created_at" : "2019-08-27T16:01:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#issuecomment-525368761",
      "id" : 525368761,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16728",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNTM2ODc2MQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525368761/reactions"
      },
      "updated_at" : "2019-08-27T16:01:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525368761",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318170203"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318170203"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit sort :trollface: ",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T16:12:06Z",
      "diff_hunk" : "@@ -0,0 +1,77 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318170203",
      "id" : 318170203,
      "line" : 10,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODE3MDIwMw==",
      "original_commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "original_line" : 10,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : 10,
      "pull_request_review_id" : 280311206,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318170203/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T16:12:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318170203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318191400"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318191400"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can be done the next time this file is touched. ",
      "commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "created_at" : "2019-08-27T16:58:40Z",
      "diff_hunk" : "@@ -0,0 +1,77 @@\n+// Copyright (c) 2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/coinstats.h>\n+\n+#include <amount.h>\n+#include <coins.h>\n+#include <chain.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#discussion_r318191400",
      "id" : 318191400,
      "in_reply_to_id" : 318170203,
      "line" : 10,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxODE5MTQwMA==",
      "original_commit_id" : "8a3b2eb17572ca2131778d52cc25ec359470a90f",
      "original_line" : 10,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : 10,
      "pull_request_review_id" : 280338070,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16728",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318191400/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2019-08-27T16:58:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/318191400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This will be merged after one more ACK",
      "created_at" : "2019-08-27T17:03:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#issuecomment-525393084",
      "id" : 525393084,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16728",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNTM5MzA4NA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525393084/reactions"
      },
      "updated_at" : "2019-08-27T17:03:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525393084",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK",
      "created_at" : "2019-08-27T17:03:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16728#issuecomment-525393326",
      "id" : 525393326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16728",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNTM5MzMyNg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 2,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525393326/reactions"
      },
      "updated_at" : "2019-08-27T17:03:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525393326",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
