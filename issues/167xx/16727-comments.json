[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r317664610"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317664610"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Drop `()`.",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-08-26T15:41:39Z",
      "diff_hunk" : "@@ -88,12 +89,15 @@ def run_test(self):\n         self.log.info(\"Success\")\n \n \n-def test_simple_bumpfee_succeeds(self, rbf_node, peer_node, dest_address):\n+def test_simple_bumpfee_succeeds(self, mode, rbf_node, peer_node, dest_address):\n     rbfid = spend_one_input(rbf_node, dest_address)\n     rbftx = rbf_node.gettransaction(rbfid)\n     self.sync_mempools((rbf_node, peer_node))\n     assert rbfid in rbf_node.getrawmempool() and rbfid in peer_node.getrawmempool()\n-    bumped_tx = rbf_node.bumpfee(rbfid)\n+    if(mode == \"fee_rate\"):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r317664610",
      "id" : 317664610,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNzY2NDYxMA==",
      "original_commit_id" : "664f08b53fc6a4614a06b1dea47ac5a7db8cea2b",
      "original_position" : 21,
      "path" : "test/functional/wallet_bumpfee.py",
      "position" : null,
      "pull_request_review_id" : 279669374,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/317664610",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added some additional basic argument testing, changed the logic to use BTC/kB like everywhere else.",
      "created_at" : "2019-08-26T16:26:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-524928330",
      "id" : 524928330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNDkyODMzMA==",
      "updated_at" : "2019-08-26T16:26:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/524928330",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#11413](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/11413.html) ([wallet] [rpc] sendtoaddress/sendmany: Add explicit feerate option by kallewoof)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-08-26T19:13:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-524991546",
      "id" : 524991546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNDk5MTU0Ng==",
      "updated_at" : "2019-08-26T19:13:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/524991546",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nAlternatively you could rebase on #11413 and use that syntax instead, which is easier to use on the command line than a JSON options object.",
      "created_at" : "2019-08-27T10:01:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-525232692",
      "id" : 525232692,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNTIzMjY5Mg==",
      "updated_at" : "2019-08-27T10:01:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525232692",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Why does Bitcoin Core use btc/kB? Every other service/wallet seems to use sats/byte.",
      "created_at" : "2019-08-27T10:41:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-525245387",
      "id" : 525245387,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNTI0NTM4Nw==",
      "updated_at" : "2019-08-27T10:41:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525245387",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/42069389?v=4",
         "events_url" : "https://api.github.com/users/Relaxo143/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Relaxo143/followers",
         "following_url" : "https://api.github.com/users/Relaxo143/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Relaxo143/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Relaxo143",
         "id" : 42069389,
         "login" : "Relaxo143",
         "node_id" : "MDQ6VXNlcjQyMDY5Mzg5",
         "organizations_url" : "https://api.github.com/users/Relaxo143/orgs",
         "received_events_url" : "https://api.github.com/users/Relaxo143/received_events",
         "repos_url" : "https://api.github.com/users/Relaxo143/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Relaxo143/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Relaxo143/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Relaxo143"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Relaxo143 you'll be pleased to see #11413 then...",
      "created_at" : "2019-08-27T11:41:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-525263437",
      "id" : 525263437,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNTI2MzQzNw==",
      "updated_at" : "2019-08-27T11:41:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525263437",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@relaxo143 Unless you allow decimal points it will have less precision.\r\n\r\nOn Tue, Aug 27, 2019, 6:44 AM Relaxo143 <notifications@github.com> wrote:\r\n\r\n> Why does Bitcoin Core use btc/kB? Every other service/wallet seems to use\r\n> sats/byte.\r\n>\r\n> â\r\n> You are receiving this because you authored the thread.\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/bitcoin/bitcoin/pull/16727?email_source=notifications&email_token=ABMAFUYWXNZF556SIQ4CPFTQGUAQXA5CNFSM4IPQ24D2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD5HJXSY#issuecomment-525245387>,\r\n> or mute the thread\r\n> <https://github.com/notifications/unsubscribe-auth/ABMAFUZSS2H575PNQTKBVL3QGUAQXANCNFSM4IPQ24DQ>\r\n> .\r\n>\r\n",
      "created_at" : "2019-08-27T11:45:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-525264433",
      "id" : 525264433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNTI2NDQzMw==",
      "updated_at" : "2019-08-27T14:12:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/525264433",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Renamed feeRate to fee_rate to reflect updated guidelines.\r\n\r\nEvery other RPC uses \"feeRate\"...",
      "created_at" : "2019-09-02T23:12:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-527255814",
      "id" : 527255814,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzI1NTgxNA==",
      "updated_at" : "2019-09-02T23:12:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527255814",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Every other RPC uses \"feeRate\"...\r\n\r\nWe used to use confTarget, but now have `conf_target` in use in various newer args. I see no reason to introduce old styles for old style sake.",
      "created_at" : "2019-09-03T13:28:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-527458408",
      "id" : 527458408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzQ1ODQwOA==",
      "updated_at" : "2019-09-03T13:28:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527458408",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r324320882"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324320882"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-13T18:43:32Z",
      "diff_hunk" : "@@ -88,12 +89,15 @@ def run_test(self):\n         self.log.info(\"Success\")\n \n \n-def test_simple_bumpfee_succeeds(self, rbf_node, peer_node, dest_address):\n+def test_simple_bumpfee_succeeds(self, mode, rbf_node, peer_node, dest_address):\n     rbfid = spend_one_input(rbf_node, dest_address)\n     rbftx = rbf_node.gettransaction(rbfid)\n     self.sync_mempools((rbf_node, peer_node))\n     assert rbfid in rbf_node.getrawmempool() and rbfid in peer_node.getrawmempool()\n-    bumped_tx = rbf_node.bumpfee(rbfid)\n+    if(mode == \"fee_rate\"):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r324320882",
      "id" : 324320882,
      "in_reply_to_id" : 317664610,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNDMyMDg4Mg==",
      "original_commit_id" : "664f08b53fc6a4614a06b1dea47ac5a7db8cea2b",
      "original_position" : 21,
      "path" : "test/functional/wallet_bumpfee.py",
      "position" : null,
      "pull_request_review_id" : 288188948,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324320882",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "going to leave https://github.com/bitcoin/bitcoin/pull/11413 type ideas alone for now.\r\n\r\nI think this is a pretty simple feature and I'd like it in.",
      "created_at" : "2019-09-13T18:45:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-531349115",
      "id" : 531349115,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMTM0OTExNQ==",
      "updated_at" : "2019-09-13T18:45:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/531349115",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r325324360"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/325324360"
         }
      },
      "author_association" : "MEMBER",
      "body" : ":eyes: ",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-17T18:37:17Z",
      "diff_hunk" : "@@ -3343,13 +3346,16 @@ static UniValue bumpfee(const JSONRPCRequest& request)\n             {\n                 {\"confTarget\", UniValueType(UniValue::VNUM)},\n                 {\"totalFee\", UniValueType(UniValue::VNUM)},\n+                {\"fee_rate\", UniValueType(UniValue::VNUM)},\n                 {\"replaceable\", UniValueType(UniValue::VBOOL)},\n                 {\"estimate_mode\", UniValueType(UniValue::VSTR)},\n             },\n             true, true);\n-\n-        if (options.exists(\"confTarget\") && options.exists(\"totalFee\")) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, \"confTarget and totalFee options should not both be set. Please provide either a confirmation target for fee estimation or an explicit total fee for the transaction.\");\n+        // EZTODO: If FeeRate is passed in BUT its 0, give JSONRPCError.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r325324360",
      "id" : 325324360,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNTMyNDM2MA==",
      "original_commit_id" : "33911b9d20b552434916b38dcab031949c75c494",
      "original_position" : 31,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 289467200,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/325324360",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r325326808"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/325326808"
         }
      },
      "author_association" : "MEMBER",
      "body" : "lol, will change",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-17T18:42:34Z",
      "diff_hunk" : "@@ -3343,13 +3346,16 @@ static UniValue bumpfee(const JSONRPCRequest& request)\n             {\n                 {\"confTarget\", UniValueType(UniValue::VNUM)},\n                 {\"totalFee\", UniValueType(UniValue::VNUM)},\n+                {\"fee_rate\", UniValueType(UniValue::VNUM)},\n                 {\"replaceable\", UniValueType(UniValue::VBOOL)},\n                 {\"estimate_mode\", UniValueType(UniValue::VSTR)},\n             },\n             true, true);\n-\n-        if (options.exists(\"confTarget\") && options.exists(\"totalFee\")) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, \"confTarget and totalFee options should not both be set. Please provide either a confirmation target for fee estimation or an explicit total fee for the transaction.\");\n+        // EZTODO: If FeeRate is passed in BUT its 0, give JSONRPCError.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r325326808",
      "id" : 325326808,
      "in_reply_to_id" : 325324360,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNTMyNjgwOA==",
      "original_commit_id" : "33911b9d20b552434916b38dcab031949c75c494",
      "original_position" : 31,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 289470224,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/325326808",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r327122946"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/327122946"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-23T13:46:25Z",
      "diff_hunk" : "@@ -3343,13 +3346,16 @@ static UniValue bumpfee(const JSONRPCRequest& request)\n             {\n                 {\"confTarget\", UniValueType(UniValue::VNUM)},\n                 {\"totalFee\", UniValueType(UniValue::VNUM)},\n+                {\"fee_rate\", UniValueType(UniValue::VNUM)},\n                 {\"replaceable\", UniValueType(UniValue::VBOOL)},\n                 {\"estimate_mode\", UniValueType(UniValue::VSTR)},\n             },\n             true, true);\n-\n-        if (options.exists(\"confTarget\") && options.exists(\"totalFee\")) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, \"confTarget and totalFee options should not both be set. Please provide either a confirmation target for fee estimation or an explicit total fee for the transaction.\");\n+        // EZTODO: If FeeRate is passed in BUT its 0, give JSONRPCError.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r327122946",
      "id" : 327122946,
      "in_reply_to_id" : 325324360,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNzEyMjk0Ng==",
      "original_commit_id" : "33911b9d20b552434916b38dcab031949c75c494",
      "original_position" : 31,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 291787699,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/327122946",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329171037"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329171037"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"BTC per kB\"",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-27T17:15:06Z",
      "diff_hunk" : "@@ -3290,7 +3290,7 @@ static UniValue bumpfee(const JSONRPCRequest& request)\n                 \"The command will fail if the wallet or mempool contains a transaction that spends one of T's outputs.\\n\"\n                 \"By default, the new fee will be calculated automatically using estimatesmartfee.\\n\"\n                 \"The user can specify a confirmation target for estimatesmartfee.\\n\"\n-                \"Alternatively, the user can specify totalFee (DEPRECATED), or use RPC settxfee to set a higher fee rate.\\n\"\n+                \"Alternatively, the user can specify totalFee (DEPRECATED), or fee_rate (in satoshis per K) for the new transaction .\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329171037",
      "id" : 329171037,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTE3MTAzNw==",
      "original_commit_id" : "ad4eb894b6b1db78302ec4a940a0ba9898897270",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 294456765,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329171037",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329173826"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329173826"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`CURRENCY_UNIT + \"per kB\\n\"`",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-27T17:22:55Z",
      "diff_hunk" : "@@ -3302,6 +3302,9 @@ static UniValue bumpfee(const JSONRPCRequest& request)\n             \"                         In rare cases, the actual fee paid might be slightly higher than the specified\\n\"\n             \"                         totalFee if the tx change output has to be removed because it is too close to\\n\"\n             \"                         the dust threshold.\"},\n+                            {\"fee_rate\", RPCArg::Type::NUM, /* default */ \"fallback to 'confTarget'\", \"FeeRate (NOT total fee) to pay, in \" + CURRENCY_UNIT + \"\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329173826",
      "id" : 329173826,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTE3MzgyNg==",
      "original_commit_id" : "ad4eb894b6b1db78302ec4a940a0ba9898897270",
      "original_position" : 13,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 294456765,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329173826",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329174690"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329174690"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`\\n` missing\r\n\r\nSjors doesn't like being addressed in third person. Also there's no need to explain that a fee rate determines the total fee; we don't do that in other places either. More importantly, this doesn't cover the actual RBF rules.\r\n\r\nWhat about: \"Specify a specific fee rate instead of relying on the built-in fee estimator. Must be at least 0.0001 BTC per kB higher than the current rate.\"\r\n\r\nFun fact: there's no convenient way to find the current fee rate.",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-27T17:25:04Z",
      "diff_hunk" : "@@ -3302,6 +3302,9 @@ static UniValue bumpfee(const JSONRPCRequest& request)\n             \"                         In rare cases, the actual fee paid might be slightly higher than the specified\\n\"\n             \"                         totalFee if the tx change output has to be removed because it is too close to\\n\"\n             \"                         the dust threshold.\"},\n+                            {\"fee_rate\", RPCArg::Type::NUM, /* default */ \"fallback to 'confTarget'\", \"FeeRate (NOT total fee) to pay, in \" + CURRENCY_UNIT + \"\\n\"\n+            \"                         The fee_rate argument allows the users to use their own fee estimator. The resulting bump transaction will \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329174690",
      "id" : 329174690,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTE3NDY5MA==",
      "original_commit_id" : "ad4eb894b6b1db78302ec4a940a0ba9898897270",
      "original_position" : 14,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 294456765,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329174690",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329179462"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329179462"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"either a confirmation target in blocks for automatic fee estimation, or an explicit fee rate (or an absolute fee amount - deprecated).\"",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-27T17:37:52Z",
      "diff_hunk" : "@@ -3343,13 +3346,15 @@ static UniValue bumpfee(const JSONRPCRequest& request)\n             {\n                 {\"confTarget\", UniValueType(UniValue::VNUM)},\n                 {\"totalFee\", UniValueType(UniValue::VNUM)},\n+                {\"fee_rate\", UniValueType(UniValue::VNUM)},\n                 {\"replaceable\", UniValueType(UniValue::VBOOL)},\n                 {\"estimate_mode\", UniValueType(UniValue::VSTR)},\n             },\n             true, true);\n-\n-        if (options.exists(\"confTarget\") && options.exists(\"totalFee\")) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, \"confTarget and totalFee options should not both be set. Please provide either a confirmation target for fee estimation or an explicit total fee for the transaction.\");\n+        if (options.exists(\"confTarget\") && (options.exists(\"totalFee\") || options.exists(\"fee_rate\"))) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"confTarget can't be set with totalFee or fee_rate. Please provide either a conftarget for fee estimation, or an explicit total fee or fee rate for the transaction.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329179462",
      "id" : 329179462,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTE3OTQ2Mg==",
      "original_commit_id" : "ad4eb894b6b1db78302ec4a940a0ba9898897270",
      "original_position" : 32,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 294456765,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329179462",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329179781"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329179781"
         }
      },
      "author_association" : "MEMBER",
      "body" : "May want to check that it's not null.",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-27T17:38:38Z",
      "diff_hunk" : "@@ -3360,6 +3365,12 @@ static UniValue bumpfee(const JSONRPCRequest& request)\n             if (totalFee <= 0) {\n                 throw JSONRPCError(RPC_INVALID_PARAMETER, strprintf(\"Invalid totalFee %s (must be greater than 0)\", FormatMoney(totalFee)));\n             }\n+        } else if (options.exists(\"fee_rate\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329179781",
      "id" : 329179781,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTE3OTc4MQ==",
      "original_commit_id" : "ad4eb894b6b1db78302ec4a940a0ba9898897270",
      "original_position" : 42,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 42,
      "pull_request_review_id" : 294456765,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329179781",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329307304"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329307304"
         }
      },
      "author_association" : "MEMBER",
      "body" : "not going to tell users about a deprecated arg here, otherwise taking suggestion",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-09-28T11:34:29Z",
      "diff_hunk" : "@@ -3343,13 +3346,15 @@ static UniValue bumpfee(const JSONRPCRequest& request)\n             {\n                 {\"confTarget\", UniValueType(UniValue::VNUM)},\n                 {\"totalFee\", UniValueType(UniValue::VNUM)},\n+                {\"fee_rate\", UniValueType(UniValue::VNUM)},\n                 {\"replaceable\", UniValueType(UniValue::VBOOL)},\n                 {\"estimate_mode\", UniValueType(UniValue::VSTR)},\n             },\n             true, true);\n-\n-        if (options.exists(\"confTarget\") && options.exists(\"totalFee\")) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, \"confTarget and totalFee options should not both be set. Please provide either a confirmation target for fee estimation or an explicit total fee for the transaction.\");\n+        if (options.exists(\"confTarget\") && (options.exists(\"totalFee\") || options.exists(\"fee_rate\"))) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"confTarget can't be set with totalFee or fee_rate. Please provide either a conftarget for fee estimation, or an explicit total fee or fee rate for the transaction.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r329307304",
      "id" : 329307304,
      "in_reply_to_id" : 329179462,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTMwNzMwNA==",
      "original_commit_id" : "ad4eb894b6b1db78302ec4a940a0ba9898897270",
      "original_position" : 32,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 294633450,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-09-30T13:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329307304",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed most nits, @Sjors if you're referring to code duplication with respect to TotalBump, I don't really feel like optimizing a piece of code we're going to rip out in 0.20.",
      "created_at" : "2019-09-28T11:39:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-536180139",
      "id" : 536180139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjE4MDEzOQ==",
      "updated_at" : "2019-09-28T11:39:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536180139",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The bumpfee test is failing in the CIs.\r\n",
      "created_at" : "2019-09-30T09:23:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-536479446",
      "id" : 536479446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjQ3OTQ0Ng==",
      "updated_at" : "2019-09-30T09:23:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536479446",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "pushed fixed test",
      "created_at" : "2019-09-30T13:40:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-536565614",
      "id" : 536565614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjU2NTYxNA==",
      "updated_at" : "2019-09-30T13:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536565614",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK c812aba",
      "created_at" : "2019-09-30T15:31:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-536616941",
      "id" : 536616941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjYxNjk0MQ==",
      "updated_at" : "2019-09-30T15:31:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536616941",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r330547321"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/330547321"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"over the over the\"\r\nThough I see this typo exists in the old code as well so there's no need to fix that in this PR.",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-10-02T13:26:45Z",
      "diff_hunk" : "@@ -57,6 +57,86 @@ static feebumper::Result PreconditionChecks(interfaces::Chain::Lock& locked_chai\n     return feebumper::Result::OK;\n }\n \n+//! Check if the user provided a valid feeRate\n+static feebumper::Result CheckFeeRate(const CWallet* wallet, const CWalletTx& wtx, const CFeeRate& newFeerate, const int64_t maxTxSize, std::vector<std::string>& errors) {\n+    // check that fee rate is higher than mempool's minimum fee\n+    // (no point in bumping fee if we know that the new tx won't be accepted to the mempool)\n+    // This may occur if the user set FeeRate, TotalFee or paytxfee too low, if fallbackfee is too low, or, perhaps,\n+    // in a rare situation where the mempool minimum fee increased significantly since the fee estimation just a\n+    // moment earlier. In this case, we report an error to the user, who may adjust the fee.\n+    CFeeRate minMempoolFeeRate = wallet->chain().mempoolMinFee();\n+\n+    if (newFeerate.GetFeePerK() < minMempoolFeeRate.GetFeePerK()) {\n+        errors.push_back(strprintf(\n+            \"New fee rate (%s) is lower than the minimum fee rate (%s) to get into the mempool -- \",\n+            FormatMoney(newFeerate.GetFeePerK()),\n+            FormatMoney(minMempoolFeeRate.GetFeePerK())));\n+        return feebumper::Result::WALLET_ERROR;\n+    }\n+\n+    CAmount new_total_fee = newFeerate.GetFee(maxTxSize);\n+\n+    CFeeRate incrementalRelayFee = std::max(wallet->chain().relayIncrementalFee(), CFeeRate(WALLET_INCREMENTAL_RELAY_FEE));\n+\n+    // Given old total fee and transaction size, calculate the old feeRate\n+    CAmount old_fee = wtx.GetDebit(ISMINE_SPENDABLE) - wtx.tx->GetValueOut();\n+    const int64_t txSize = GetVirtualTransactionSize(*(wtx.tx));\n+    CFeeRate nOldFeeRate(old_fee, txSize);\n+    // Min total fee is old fee + relay fee\n+    CAmount minTotalFee = nOldFeeRate.GetFee(maxTxSize) + incrementalRelayFee.GetFee(maxTxSize);\n+\n+    if (new_total_fee < minTotalFee) {\n+        errors.push_back(strprintf(\"Insufficient total fee %s, must be at least %s (oldFee %s + incrementalFee %s)\",\n+            FormatMoney(new_total_fee), FormatMoney(minTotalFee), FormatMoney(nOldFeeRate.GetFee(maxTxSize)), FormatMoney(incrementalRelayFee.GetFee(maxTxSize))));\n+        return feebumper::Result::INVALID_PARAMETER;\n+    }\n+\n+    CAmount requiredFee = GetRequiredFee(*wallet, maxTxSize);\n+    if (new_total_fee < requiredFee) {\n+        errors.push_back(strprintf(\"Insufficient total fee (cannot be less than required fee %s)\",\n+            FormatMoney(requiredFee)));\n+        return feebumper::Result::INVALID_PARAMETER;\n+    }\n+\n+    // Check that in all cases the new fee doesn't violate maxTxFee\n+    const CAmount max_tx_fee = wallet->m_default_max_tx_fee;\n+    if (new_total_fee > max_tx_fee) {\n+        errors.push_back(strprintf(\"Specified or calculated fee %s is too high (cannot be higher than -maxtxfee %s)\",\n+                            FormatMoney(new_total_fee), FormatMoney(max_tx_fee)));\n+        return feebumper::Result::WALLET_ERROR;\n+    }\n+\n+    return feebumper::Result::OK;\n+}\n+\n+static CFeeRate EstimateFeeRate(CWallet* wallet, const CWalletTx& wtx, CCoinControl& coin_control, CAmount& old_fee)\n+{\n+    // Get the fee rate of the original transaction. This is calculated from\n+    // the tx fee/vsize, so it may have been rounded down. Add 1 satoshi to the\n+    // result.\n+    old_fee = wtx.GetDebit(ISMINE_SPENDABLE) - wtx.tx->GetValueOut();\n+    int64_t txSize = GetVirtualTransactionSize(*(wtx.tx));\n+    CFeeRate feerate(old_fee, txSize);\n+    feerate += CFeeRate(1);\n+\n+    // The node has a configurable incremental relay fee. Increment the fee by\n+    // the minimum of that and the wallet's conservative\n+    // WALLET_INCREMENTAL_RELAY_FEE value to future proof against changes to\n+    // network wide policy for incremental relay fee that our node may not be\n+    // aware of. This ensures we're over the over the required relay fee rate",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r330547321",
      "id" : 330547321,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMDU0NzMyMQ==",
      "original_commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "original_position" : 70,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 70,
      "pull_request_review_id" : 296235772,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-10-02T13:41:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/330547321",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r330549766"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/330549766"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why the set of parentheses around new_coin_control.m_feerate?",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-10-02T13:31:25Z",
      "diff_hunk" : "@@ -230,31 +310,18 @@ Result CreateRateBumpTransaction(CWallet* wallet, const uint256& txid, const CCo\n         }\n     }\n \n-    // Get the fee rate of the original transaction. This is calculated from\n-    // the tx fee/vsize, so it may have been rounded down. Add 1 satoshi to the\n-    // result.\n-    old_fee = wtx.GetDebit(ISMINE_SPENDABLE) - wtx.tx->GetValueOut();\n-    int64_t txSize = GetVirtualTransactionSize(*(wtx.tx));\n-    // Feerate of thing we are bumping\n-    CFeeRate feerate(old_fee, txSize);\n-    feerate += CFeeRate(1);\n-\n-    // The node has a configurable incremental relay fee. Increment the fee by\n-    // the minimum of that and the wallet's conservative\n-    // WALLET_INCREMENTAL_RELAY_FEE value to future proof against changes to\n-    // network wide policy for incremental relay fee that our node may not be\n-    // aware of. This ensures we're over the over the required relay fee rate\n-    // (BIP 125 rule 4).  The replacement tx will be at least as large as the\n-    // original tx, so the total fee will be greater (BIP 125 rule 3)\n-    CFeeRate node_incremental_relay_fee = wallet->chain().relayIncrementalFee();\n-    CFeeRate wallet_incremental_relay_fee = CFeeRate(WALLET_INCREMENTAL_RELAY_FEE);\n-    feerate += std::max(node_incremental_relay_fee, wallet_incremental_relay_fee);\n-\n-    // Fee rate must also be at least the wallet's GetMinimumFeeRate\n-    CFeeRate min_feerate(GetMinimumFeeRate(*wallet, new_coin_control, /* feeCalc */ nullptr));\n-\n-    // Set the required fee rate for the replacement transaction in coin control.\n-    new_coin_control.m_feerate = std::max(feerate, min_feerate);\n+    if (coin_control.m_feerate) {\n+        // The user provided a feeRate argument.\n+        // We calculate this here to avoid compiler warning on the cs_wallet lock\n+        const int64_t maxTxSize = CalculateMaximumSignedTxSize(*wtx.tx, wallet);\n+        Result res = CheckFeeRate(wallet, wtx, *(new_coin_control.m_feerate), maxTxSize, errors);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r330549766",
      "id" : 330549766,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMDU0OTc2Ng==",
      "original_commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "original_position" : 120,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 120,
      "pull_request_review_id" : 296235772,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-10-02T13:41:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/330549766",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r330550583"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/330550583"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Does this error message need to specify units for the numbers?",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-10-02T13:32:58Z",
      "diff_hunk" : "@@ -57,6 +57,86 @@ static feebumper::Result PreconditionChecks(interfaces::Chain::Lock& locked_chai\n     return feebumper::Result::OK;\n }\n \n+//! Check if the user provided a valid feeRate\n+static feebumper::Result CheckFeeRate(const CWallet* wallet, const CWalletTx& wtx, const CFeeRate& newFeerate, const int64_t maxTxSize, std::vector<std::string>& errors) {\n+    // check that fee rate is higher than mempool's minimum fee\n+    // (no point in bumping fee if we know that the new tx won't be accepted to the mempool)\n+    // This may occur if the user set FeeRate, TotalFee or paytxfee too low, if fallbackfee is too low, or, perhaps,\n+    // in a rare situation where the mempool minimum fee increased significantly since the fee estimation just a\n+    // moment earlier. In this case, we report an error to the user, who may adjust the fee.\n+    CFeeRate minMempoolFeeRate = wallet->chain().mempoolMinFee();\n+\n+    if (newFeerate.GetFeePerK() < minMempoolFeeRate.GetFeePerK()) {\n+        errors.push_back(strprintf(\n+            \"New fee rate (%s) is lower than the minimum fee rate (%s) to get into the mempool -- \",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r330550583",
      "id" : 330550583,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMDU1MDU4Mw==",
      "original_commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "original_position" : 15,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 15,
      "pull_request_review_id" : 296235772,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-10-02T13:41:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/330550583",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r333209674"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333209674"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This can be `const CWallet& wallet`, as this shouldn't be mutable, nor nullable.",
      "commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-10-09T20:11:09Z",
      "diff_hunk" : "@@ -57,6 +57,86 @@ static feebumper::Result PreconditionChecks(interfaces::Chain::Lock& locked_chai\n     return feebumper::Result::OK;\n }\n \n+//! Check if the user provided a valid feeRate\n+static feebumper::Result CheckFeeRate(const CWallet* wallet, const CWalletTx& wtx, const CFeeRate& newFeerate, const int64_t maxTxSize, std::vector<std::string>& errors) {\n+    // check that fee rate is higher than mempool's minimum fee\n+    // (no point in bumping fee if we know that the new tx won't be accepted to the mempool)\n+    // This may occur if the user set FeeRate, TotalFee or paytxfee too low, if fallbackfee is too low, or, perhaps,\n+    // in a rare situation where the mempool minimum fee increased significantly since the fee estimation just a\n+    // moment earlier. In this case, we report an error to the user, who may adjust the fee.\n+    CFeeRate minMempoolFeeRate = wallet->chain().mempoolMinFee();\n+\n+    if (newFeerate.GetFeePerK() < minMempoolFeeRate.GetFeePerK()) {\n+        errors.push_back(strprintf(\n+            \"New fee rate (%s) is lower than the minimum fee rate (%s) to get into the mempool -- \",\n+            FormatMoney(newFeerate.GetFeePerK()),\n+            FormatMoney(minMempoolFeeRate.GetFeePerK())));\n+        return feebumper::Result::WALLET_ERROR;\n+    }\n+\n+    CAmount new_total_fee = newFeerate.GetFee(maxTxSize);\n+\n+    CFeeRate incrementalRelayFee = std::max(wallet->chain().relayIncrementalFee(), CFeeRate(WALLET_INCREMENTAL_RELAY_FEE));\n+\n+    // Given old total fee and transaction size, calculate the old feeRate\n+    CAmount old_fee = wtx.GetDebit(ISMINE_SPENDABLE) - wtx.tx->GetValueOut();\n+    const int64_t txSize = GetVirtualTransactionSize(*(wtx.tx));\n+    CFeeRate nOldFeeRate(old_fee, txSize);\n+    // Min total fee is old fee + relay fee\n+    CAmount minTotalFee = nOldFeeRate.GetFee(maxTxSize) + incrementalRelayFee.GetFee(maxTxSize);\n+\n+    if (new_total_fee < minTotalFee) {\n+        errors.push_back(strprintf(\"Insufficient total fee %s, must be at least %s (oldFee %s + incrementalFee %s)\",\n+            FormatMoney(new_total_fee), FormatMoney(minTotalFee), FormatMoney(nOldFeeRate.GetFee(maxTxSize)), FormatMoney(incrementalRelayFee.GetFee(maxTxSize))));\n+        return feebumper::Result::INVALID_PARAMETER;\n+    }\n+\n+    CAmount requiredFee = GetRequiredFee(*wallet, maxTxSize);\n+    if (new_total_fee < requiredFee) {\n+        errors.push_back(strprintf(\"Insufficient total fee (cannot be less than required fee %s)\",\n+            FormatMoney(requiredFee)));\n+        return feebumper::Result::INVALID_PARAMETER;\n+    }\n+\n+    // Check that in all cases the new fee doesn't violate maxTxFee\n+    const CAmount max_tx_fee = wallet->m_default_max_tx_fee;\n+    if (new_total_fee > max_tx_fee) {\n+        errors.push_back(strprintf(\"Specified or calculated fee %s is too high (cannot be higher than -maxtxfee %s)\",\n+                            FormatMoney(new_total_fee), FormatMoney(max_tx_fee)));\n+        return feebumper::Result::WALLET_ERROR;\n+    }\n+\n+    return feebumper::Result::OK;\n+}\n+\n+static CFeeRate EstimateFeeRate(CWallet* wallet, const CWalletTx& wtx, CCoinControl& coin_control, CAmount& old_fee)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#discussion_r333209674",
      "id" : 333209674,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMzIwOTY3NA==",
      "original_commit_id" : "c812aba3949b6ab81030dc708cda7c8821be2f70",
      "original_position" : 56,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 56,
      "pull_request_review_id" : 299667372,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16727",
      "updated_at" : "2019-10-09T20:11:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333209674",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "post merge ACK c812aba3949b6ab81030dc708cda7c8821be2f70",
      "created_at" : "2019-10-09T20:13:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-540171515",
      "id" : 540171515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MDE3MTUxNQ==",
      "updated_at" : "2019-10-09T20:13:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/540171515",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added release notes: https://github.com/bitcoin-core/bitcoin-devwiki/wiki/0.19.0-Release-Notes-Draft#deprecated-or-removed-rpcs",
      "created_at" : "2019-10-09T20:20:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16727#issuecomment-540174791",
      "id" : 540174791,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MDE3NDc5MQ==",
      "updated_at" : "2019-10-09T20:20:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/540174791",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
