{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "I'm experimenting an issue by running bitcoind inside a Docker container on Linux.\r\n\r\nIt appears that the only kernel signal allowing a gentle shutdown of the bitcoind daemon is a SIGINT, but docker engine send a SIGTERM to the main process running in the container after performing the \"docker stop\" command. Actually this docker behavior could not be changed at my knowledge.\r\n\r\nThe end result is that after the docker timer expires the bitcoind daemon is abruptly shut down by docker engine without a proper mempool dump and cache flush to disk. During next start, an inconsistent state of data on disk force a re-synchronization of the lost blocks.\r\n\r\nPlease is it possible to add a SIGTERM handler to initiate the daemon shutdown procedure ?\r\n\r\nThank you!\r\n\r\nKind Regards,\r\nRiccardo",
   "closed_at" : "2020-12-20T22:43:23Z",
   "closed_by" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/3341846?v=4",
      "events_url" : "https://api.github.com/users/MazziaRick/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MazziaRick/followers",
      "following_url" : "https://api.github.com/users/MazziaRick/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MazziaRick/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MazziaRick",
      "id" : 3341846,
      "login" : "MazziaRick",
      "node_id" : "MDQ6VXNlcjMzNDE4NDY=",
      "organizations_url" : "https://api.github.com/users/MazziaRick/orgs",
      "received_events_url" : "https://api.github.com/users/MazziaRick/received_events",
      "repos_url" : "https://api.github.com/users/MazziaRick/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MazziaRick/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MazziaRick/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MazziaRick"
   },
   "comments" : 5,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20732/comments",
   "created_at" : "2020-12-20T21:42:34Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20732/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/20732",
   "id" : 771714443,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20732/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU3NzE3MTQ0NDM=",
   "number" : 20732,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Forced shutdown on container stop",
   "updated_at" : "2020-12-20T22:43:23Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20732",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/3341846?v=4",
      "events_url" : "https://api.github.com/users/MazziaRick/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MazziaRick/followers",
      "following_url" : "https://api.github.com/users/MazziaRick/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MazziaRick/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MazziaRick",
      "id" : 3341846,
      "login" : "MazziaRick",
      "node_id" : "MDQ6VXNlcjMzNDE4NDY=",
      "organizations_url" : "https://api.github.com/users/MazziaRick/orgs",
      "received_events_url" : "https://api.github.com/users/MazziaRick/received_events",
      "repos_url" : "https://api.github.com/users/MazziaRick/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MazziaRick/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MazziaRick/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MazziaRick"
   }
}
