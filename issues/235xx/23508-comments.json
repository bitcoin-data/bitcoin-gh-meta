[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Example output:\r\n\r\n```\r\n$ ./bitcoin-cli getdeploymentinfo 000000000000000000013712fc242ee6dd28476d0e9c931c75f83e6974c6bccc | jq .hash,.height,.deployments.taproot\r\n\"000000000000000000013712fc242ee6dd28476d0e9c931c75f83e6974c6bccc\"\r\n709631\r\n{\r\n  \"type\": \"bip9\",\r\n  \"height\": 709632,\r\n  \"active\": true,\r\n  \"bip9\": {\r\n    \"bit\": 2,\r\n    \"start_time\": 1619222400,\r\n    \"timeout\": 1628640000,\r\n    \"since\": 687456,\r\n    \"min_activation_height\": 709632,\r\n    \"status\": \"locked_in\",\r\n    \"status-next\": \"active\",\r\n    \"statistics\": {\r\n      \"period\": 2016,\r\n      \"elapsed\": 2016,\r\n      \"count\": 1891\r\n    },\r\n    \"signalling\": \"#########-######-######################################-####################-###################################-##################################################-##################-############################################-#######-#####################-#########-#######################################-########-#######-##################-######-#################-####################-###########-#########################-##########-######################################-#####-###########-####-###############################-##-###-#############-###-########-###########-#######-#-##################--########################-############-#####-###########-###-################-####################################-###-#####-###############-#######################-######################-###########################################################-#-#-#######################-######-########################-##########-####################-####################-################--##-#######################-#########-############-#####-#######################-#############-#####################-##################-##########-####-####-############-#######-#########-##################################################-#############################-###############-######################-#####-###########################-##-##-######-########################-#########-##-##################-######################-########################################-####-########################-#########################################################################-####-########-#####-#######################-##########-##########-########################-#-######################################-#############-####-#####-##############-#-############-#############-###-######-##################-############################-########-#########-########-#######-############################################-#-#######################################-#-###########-########-##########-############-##########-#########\"\r\n  }\r\n}\r\n$ ./bitcoin-cli getdeploymentinfo $(./bitcoin-cli getblockhash 683423) | jq '.deployments.taproot'\r\n{\r\n  \"type\": \"bip9\",\r\n  \"active\": false,\r\n  \"bip9\": {\r\n    \"bit\": 2,\r\n    \"start_time\": 1619222400,\r\n    \"timeout\": 1628640000,\r\n    \"since\": 681408,\r\n    \"min_activation_height\": 709632,\r\n    \"status\": \"started\",\r\n    \"status-next\": \"started\",\r\n    \"statistics\": {\r\n      \"period\": 2016,\r\n      \"elapsed\": 2016,\r\n      \"count\": 823,\r\n      \"threshold\": 1815,\r\n      \"possible\": false\r\n    },\r\n    \"signalling\": \r\n        \"--------------------------------------------------#------------------------------------------------------#------------------#----------#------##\r\n         ----#-----#---#--#-----#-------#----#------#---###----##----#---#--------#---#-#--------#----##-#----#------------------###--####-----------#---\r\n         #-#----##-------#----#-----#-#-#--##---#-#---##-#-#-##---#---------#-----#---------------##---#---#---##--#----#--#---#--##-#--#----#------#-#--\r\n         ##-##-----#---#--#-##--#-#####---#-#--##---#-#-#----#-----#----#---#-#-#-##--###----#-#----####--###--#-----#-####--####--##-#-##----#----#----#\r\n         #-#--#####---#-#-#--##-#--###-###-##--#-#---###-#----#-###-#----####--#---############---#--#-####-----####------#-#--###--##-#-#---########-#--\r\n         #-#-#--###--###-----#--#--##-----#-###-###-####----#-#--#-##-#----#---#-######----#####-#---#---###-##--###-##----##-#####-#--#-###-#----###-##-\r\n         ##--##---#-#-#-##-##-#-#--#--#-##--#-##-#-#####--#-#---#########----##-###-#-#-#-----###--#-##-#---##--#-###-----##-----#-##--###--#-##-###---#-\r\n         ###-###-----##-#---#------#-###-##-#-##---#--#---#--#-##--###-##-##---#-#-#----#--#--#-#-##--#--#-###--###--#--#---#####----#--#---#####---#-##-\r\n         ----###--##---#--##-#---##-#-------#---#--#-#---##-##---###----#-#-#---#-#---##---#-#-##--#-###--##--#------#-###--#-#---##----#####-#-----#-###\r\n         #-#------###-##-###-------###----#----##-#--#--##----####-##--#-#-#-#-##--##----#--##-#-##--#--#-#-###-###---------####-#####--#--#--##-------##\r\n         ---##--#--#-##-##---##-###-#----#----##-#-#---###-#--##--#---#-----#-#-#-----###-##-------#-#-####--##-####--####-#---#-#--##-#---#-##------#-#-\r\n         -#--#-####-#------#-#-###-----##--##-##-#####-##-####--#----#---#---#-##-###-###-######------###--##---#----####-#------###-###-#------#####-##-\r\n         ###-#-###-#--#--###--#####---##-#-#-#-#---#######-#-#---#-#----###-##----##-#-#-#-#-##-#-#--###-#-#-#####---#--#--##-----#----#-#-#----#-##-----\r\n         -##---##--###---###--#-##--#--###-#-##-##--##-----#-#-##-#-#--#-#-#--#-##-##-##-#--######--#--##-#-#-#---##-##---#---###-#--#----##--#-#-#-#-##-\"\r\n  }\r\n}\r\n```\r\n\r\n(signalling results split into sections of 144 blocks by hand so it's easier to see on github; 683423 is the last block in taproot's first signalling period)",
      "created_at" : "2021-11-14T01:39:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-968187672",
      "id" : 968187672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5845tV8Y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968187672/reactions"
      },
      "updated_at" : "2021-12-02T05:36:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968187672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24032](https://github.com/bitcoin/bitcoin/pull/24032) (Refactor vDeployments setup to avoid uninitialized variables by ajtowns)\n* [#22016](https://github.com/bitcoin/bitcoin/pull/22016) (rpc: add period_start to version bits statistics by Sjors)\n* [#21702](https://github.com/bitcoin/bitcoin/pull/21702) (Implement BIP-119 Validation (CheckTemplateVerify) by JeremyRubin)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-11-14T03:05:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-968196524",
      "id" : 968196524,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5845tYGs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968196524/reactions"
      },
      "updated_at" : "2022-01-27T07:44:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968196524",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "My first thought was that `getchaintips` already reports all chain \"forks\", so this won't be needed. Maybe this could be named `deploymentinfo` or so to avoid confusion with cutlery?",
      "created_at" : "2021-11-14T09:14:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-968253414",
      "id" : 968253414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5845tl_m",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968253414/reactions"
      },
      "updated_at" : "2021-11-14T09:14:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968253414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed from `getforkinfo` to `getdeploymentinfo`, since it seemed like a knife idea.",
      "created_at" : "2021-11-14T13:11:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-968288423",
      "id" : 968288423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5845tuin",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968288423/reactions"
      },
      "updated_at" : "2021-11-14T13:11:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968288423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK \r\n\r\nthis is really cool!",
      "created_at" : "2021-11-14T23:06:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-968381910",
      "id" : 968381910,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5845uFXW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968381910/reactions"
      },
      "updated_at" : "2021-11-14T23:06:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/968381910",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated. `-deprecatedrpc=softforks` will retain the softforks info in getblockchaininfo. Also tweaked the getdeploymentinfo output.",
      "created_at" : "2021-12-02T05:31:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-984307491",
      "id" : 984307491,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5846q1cj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/984307491/reactions"
      },
      "updated_at" : "2021-12-02T05:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/984307491",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. I was first skeptical about moving this to a new RPC, but being able to pass in a block hash to evaluate the status as of an arbitrary block is a great idea.",
      "created_at" : "2021-12-08T17:44:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-989032463",
      "id" : 989032463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII584683AP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989032463/reactions"
      },
      "updated_at" : "2021-12-08T17:44:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989032463",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r765569402"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765569402"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please use this syntax so arguments can be automatically checked by `clang-tidy`. This is what we are migrating towards. i.e #23545.\r\n```suggestion\r\n                                {RPCResult::Type::NUM, \"height\", /*optional=*/true, \"height of the first block which the rules are or will be enforced (only for \\\"buried\\\" type, or \\\"bip9\\\" type with \\\"active\\\" status)\"},\r\n```",
      "commit_id" : "797b8533f73177b560383227b36caef0bf985c1f",
      "created_at" : "2021-12-09T09:06:38Z",
      "diff_hunk" : "@@ -1524,23 +1562,86 @@ RPCHelpMan getblockchaininfo()\n         }\n     }\n \n-    const Consensus::Params& consensusParams = Params().GetConsensus();\n-    UniValue softforks(UniValue::VOBJ);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_HEIGHTINCB);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_DERSIG);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CLTV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CSV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    if (IsDeprecatedRPCEnabled(\"softforks\")) {\n+        const Consensus::Params& consensusParams = Params().GetConsensus();\n+        obj.pushKV(\"softforks\", DeploymentInfo(tip, consensusParams));\n+    }\n \n     obj.pushKV(\"warnings\", GetWarnings(false).original);\n     return obj;\n },\n     };\n }\n \n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\\n\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},\n+        },\n+        RPCResult{RPCResult::Type::OBJ, \"\", \"\", {\n+                            {RPCResult::Type::OBJ, \"*\", \"\",\n+                            {\n+                                {RPCResult::Type::STR, \"hash\", \"block hash\"},\n+                                {RPCResult::Type::NUM, \"height\", \"block height\"},\n+                            }},\n+                            {RPCResult::Type::OBJ, \"xxxx\", \"name of the softfork\",\n+                            {\n+                                {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip9\\\"\"},\n+                                {RPCResult::Type::NUM, \"height\", /* optional */ true, \"height of the first block which the rules are or will be enforced (only for \\\"buried\\\" type, or \\\"bip9\\\" type with \\\"active\\\" status)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r765569402",
      "id" : 765569402,
      "line" : 1592,
      "node_id" : "PRRC_kwDOABII584toal6",
      "original_commit_id" : "797b8533f73177b560383227b36caef0bf985c1f",
      "original_line" : 1592,
      "original_position" : 167,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 167,
      "pull_request_review_id" : 827385754,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765569402/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T09:06:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765569402",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-12-09T10:45:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-989733291",
      "id" : 989733291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5846_iGr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989733291/reactions"
      },
      "updated_at" : "2021-12-09T10:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989733291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased past #23703 and tweaked the commit descriptions slightly.\r\n\r\nFor testing on mainnet, the following little shell snippet shows some interesting block heights:\r\n\r\n```sh\r\nEARLY=\"0 1\"\r\nBURIED=\"227930 363724 388380 419327 481823\"\r\nTAPROOT=\"681406 681407 681408 681409 683423 685439 687455 689471 691487 693503 695519 697535 699551 701567 703583 705599 707615 709631 711647\"\r\nfor a in $EARLY $BURIED $TAPROOT; do ./bitcoin-cli getdeploymentinfo $(./bitcoin-cli getblockhash $a); done | less\r\n```\r\n\r\nNote that `\"active\": true` indicates a soft fork is being applied as of the next block, hence the blocks above are 1 below the actual activation heights.",
      "created_at" : "2021-12-09T12:33:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-989810428",
      "id" : 989810428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5846_078",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989810428/reactions"
      },
      "updated_at" : "2021-12-09T12:33:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989810428",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r765746043"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765746043"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, updated",
      "commit_id" : "4662cf3a81e1f346ea964b49d734a4a62d377d7a",
      "created_at" : "2021-12-09T12:33:35Z",
      "diff_hunk" : "@@ -1524,23 +1562,86 @@ RPCHelpMan getblockchaininfo()\n         }\n     }\n \n-    const Consensus::Params& consensusParams = Params().GetConsensus();\n-    UniValue softforks(UniValue::VOBJ);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_HEIGHTINCB);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_DERSIG);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CLTV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CSV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    if (IsDeprecatedRPCEnabled(\"softforks\")) {\n+        const Consensus::Params& consensusParams = Params().GetConsensus();\n+        obj.pushKV(\"softforks\", DeploymentInfo(tip, consensusParams));\n+    }\n \n     obj.pushKV(\"warnings\", GetWarnings(false).original);\n     return obj;\n },\n     };\n }\n \n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\\n\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},\n+        },\n+        RPCResult{RPCResult::Type::OBJ, \"\", \"\", {\n+                            {RPCResult::Type::OBJ, \"*\", \"\",\n+                            {\n+                                {RPCResult::Type::STR, \"hash\", \"block hash\"},\n+                                {RPCResult::Type::NUM, \"height\", \"block height\"},\n+                            }},\n+                            {RPCResult::Type::OBJ, \"xxxx\", \"name of the softfork\",\n+                            {\n+                                {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip9\\\"\"},\n+                                {RPCResult::Type::NUM, \"height\", /* optional */ true, \"height of the first block which the rules are or will be enforced (only for \\\"buried\\\" type, or \\\"bip9\\\" type with \\\"active\\\" status)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r765746043",
      "id" : 765746043,
      "in_reply_to_id" : 765569402,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tpFt7",
      "original_commit_id" : "797b8533f73177b560383227b36caef0bf985c1f",
      "original_line" : 1592,
      "original_position" : 167,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 827620170,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765746043/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T12:33:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765746043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs release note wrt deprecation.",
      "created_at" : "2021-12-09T17:25:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-990061628",
      "id" : 990061628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5847AyQ8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/990061628/reactions"
      },
      "updated_at" : "2021-12-09T17:25:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/990061628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r766010815"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766010815"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`signals` is not a particularly good name for this parameter, imo, i had no idea what was meant (or what the index is) at first, maybe `signallingBlocks`?",
      "commit_id" : "4662cf3a81e1f346ea964b49d734a4a62d377d7a",
      "created_at" : "2021-12-09T17:34:02Z",
      "diff_hunk" : "@@ -64,8 +64,10 @@ class AbstractThresholdConditionChecker {\n     virtual int Threshold(const Consensus::Params& params) const =0;\n \n public:\n-    /** Returns the numerical statistics of an in-progress BIP9 softfork in the current period */\n-    BIP9Stats GetStateStatisticsFor(const CBlockIndex* pindex, const Consensus::Params& params) const;\n+    /** Returns the numerical statistics of an in-progress BIP9 softfork in the period including pindex\n+     * If provided, signals is set to true/false based on whether each block in the period signalled\n+     */\n+    BIP9Stats GetStateStatisticsFor(const CBlockIndex* pindex, const Consensus::Params& params, std::vector<bool>* signals = nullptr) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r766010815",
      "id" : 766010815,
      "line" : 70,
      "node_id" : "PRRC_kwDOABII584tqGW_",
      "original_commit_id" : "4662cf3a81e1f346ea964b49d734a4a62d377d7a",
      "original_line" : 70,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/versionbits.h",
      "position" : 9,
      "pull_request_review_id" : 827995819,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766010815/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T17:34:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766010815",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r767501350"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767501350"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed to `signalling_blocks`",
      "commit_id" : "30b6c8a709d9e140de8e11290ca5bef267805ef3",
      "created_at" : "2021-12-13T08:29:26Z",
      "diff_hunk" : "@@ -64,8 +64,10 @@ class AbstractThresholdConditionChecker {\n     virtual int Threshold(const Consensus::Params& params) const =0;\n \n public:\n-    /** Returns the numerical statistics of an in-progress BIP9 softfork in the current period */\n-    BIP9Stats GetStateStatisticsFor(const CBlockIndex* pindex, const Consensus::Params& params) const;\n+    /** Returns the numerical statistics of an in-progress BIP9 softfork in the period including pindex\n+     * If provided, signals is set to true/false based on whether each block in the period signalled\n+     */\n+    BIP9Stats GetStateStatisticsFor(const CBlockIndex* pindex, const Consensus::Params& params, std::vector<bool>* signals = nullptr) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r767501350",
      "id" : 767501350,
      "in_reply_to_id" : 766010815,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tvyQm",
      "original_commit_id" : "4662cf3a81e1f346ea964b49d734a4a62d377d7a",
      "original_line" : 70,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/versionbits.h",
      "position" : null,
      "pull_request_review_id" : 829893963,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767501350/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-13T08:29:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767501350",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Added release note",
      "created_at" : "2021-12-13T08:29:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-992222764",
      "id" : 992222764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5847JB4s",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992222764/reactions"
      },
      "updated_at" : "2021-12-13T08:29:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992222764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r770250876"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/770250876"
         }
      },
      "author_association" : "MEMBER",
      "body" : "a4749f9154a579c8da9d6353587fe83c72a8fc31: you could avoid the duplication here with a helper function, see e.g. `bumpfee_helper` in `wallet/rpc/spend.cpp`\r\n\r\nOtherwise, maybe reduce indentation.",
      "commit_id" : "30b6c8a709d9e140de8e11290ca5bef267805ef3",
      "created_at" : "2021-12-16T06:15:14Z",
      "diff_hunk" : "@@ -1549,23 +1564,64 @@ RPCHelpMan getblockchaininfo()\n         }\n     }\n \n-    const Consensus::Params& consensusParams = Params().GetConsensus();\n-    UniValue softforks(UniValue::VOBJ);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_HEIGHTINCB);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_DERSIG);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CLTV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CSV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    if (IsDeprecatedRPCEnabled(\"softforks\")) {\n+        const Consensus::Params& consensusParams = Params().GetConsensus();\n+        obj.pushKV(\"softforks\", DeploymentInfo(tip, consensusParams));\n+    }\n \n     obj.pushKV(\"warnings\", GetWarnings(false).original);\n     return obj;\n },\n     };\n }\n \n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\\n\",\n+        {},\n+        RPCResult{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r770250876",
      "id" : 770250876,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584t6Rh8",
      "original_commit_id" : "a4749f9154a579c8da9d6353587fe83c72a8fc31",
      "original_line" : 1583,
      "original_position" : 72,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 72,
      "pull_request_review_id" : 833681719,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/770250876/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-16T06:51:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/770250876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r770252046"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/770252046"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nesting everything under `deployments` seems useless.",
      "commit_id" : "30b6c8a709d9e140de8e11290ca5bef267805ef3",
      "created_at" : "2021-12-16T06:18:32Z",
      "diff_hunk" : "@@ -1549,23 +1564,64 @@ RPCHelpMan getblockchaininfo()\n         }\n     }\n \n-    const Consensus::Params& consensusParams = Params().GetConsensus();\n-    UniValue softforks(UniValue::VOBJ);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_HEIGHTINCB);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_DERSIG);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CLTV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CSV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    if (IsDeprecatedRPCEnabled(\"softforks\")) {\n+        const Consensus::Params& consensusParams = Params().GetConsensus();\n+        obj.pushKV(\"softforks\", DeploymentInfo(tip, consensusParams));\n+    }\n \n     obj.pushKV(\"warnings\", GetWarnings(false).original);\n     return obj;\n },\n     };\n }\n \n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\\n\",\n+        {},\n+        RPCResult{\n+                            RPCResult::Type::OBJ, \"xxxx\", \"name of the softfork\",\n+                            {\n+                                {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip9\\\"\"},\n+                                {RPCResult::Type::OBJ, \"bip9\", /*optional=*/ true, \"status of bip9 softforks (only for \\\"bip9\\\" type)\",\n+                                {\n+                                    {RPCResult::Type::STR, \"status\", \"one of \\\"defined\\\", \\\"started\\\", \\\"locked_in\\\", \\\"active\\\", \\\"failed\\\"\"},\n+                                    {RPCResult::Type::NUM, \"bit\", /*optional=*/ true, \"the bit (0-28) in the block version field used to signal this softfork (only for \\\"started\\\" and \\\"locked_in\\\" status)\"},\n+                                    {RPCResult::Type::NUM_TIME, \"start_time\", \"the minimum median time past of a block at which the bit gains its meaning\"},\n+                                    {RPCResult::Type::NUM_TIME, \"timeout\", \"the median time past of a block at which the deployment is considered failed if not yet locked in\"},\n+                                    {RPCResult::Type::NUM, \"since\", \"height of the first block to which the status applies\"},\n+                                    {RPCResult::Type::NUM, \"min_activation_height\", \"minimum height of blocks for which the rules may be enforced\"},\n+                                    {RPCResult::Type::OBJ, \"statistics\", /*optional=*/ true, \"numeric statistics about signalling for a softfork (only for \\\"started\\\" and \\\"locked_in\\\" status)\",\n+                                    {\n+                                        {RPCResult::Type::NUM, \"period\", \"the length in blocks of the signalling period\"},\n+                                        {RPCResult::Type::NUM, \"threshold\", /*optional=*/ true, \"the number of blocks with the version bit set required to activate the feature (only for \\\"started\\\" status)\"},\n+                                        {RPCResult::Type::NUM, \"elapsed\", \"the number of blocks elapsed since the beginning of the current period\"},\n+                                        {RPCResult::Type::NUM, \"count\", \"the number of blocks with the version bit set in the current period\"},\n+                                        {RPCResult::Type::BOOL, \"possible\", /*optional=*/ true, \"returns false if there are not enough blocks left in this period to pass activation threshold (only for \\\"started\\\" status)\"},\n+                                    }},\n+                                }},\n+                                {RPCResult::Type::NUM, \"height\", /*optional=*/ true, \"height of the first block which the rules are or will be enforced (only for \\\"buried\\\" type, or \\\"bip9\\\" type with \\\"active\\\" status)\"},\n+                                {RPCResult::Type::BOOL, \"active\", \"true if the rules are enforced for the mempool and the next block\"},\n+                            }},\n+        RPCExamples{ HelpExampleCli(\"getdeploymentinfo\", \"\") + HelpExampleRpc(\"getdeploymentinfo\", \"\") },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            ChainstateManager& chainman = EnsureAnyChainman(request.context);\n+            LOCK(cs_main);\n+            CChainState& active_chainstate = chainman.ActiveChainstate();\n+\n+            const CBlockIndex* tip = active_chainstate.m_chain.Tip();\n+            CHECK_NONFATAL(tip);\n+            const Consensus::Params& consensusParams = Params().GetConsensus();\n+\n+            UniValue deploymentinfo(UniValue::VOBJ);\n+            deploymentinfo.pushKV(\"deployments\", DeploymentInfo(tip, consensusParams));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r770252046",
      "id" : 770252046,
      "line" : 1664,
      "node_id" : "PRRC_kwDOABII584t6R0O",
      "original_commit_id" : "a4749f9154a579c8da9d6353587fe83c72a8fc31",
      "original_line" : 1619,
      "original_position" : 108,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 108,
      "pull_request_review_id" : 833681719,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/770252046/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-16T06:51:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/770252046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r771214750"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/771214750"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It separates out `height` and `hash` which are introduced in the following commit.",
      "commit_id" : "30b6c8a709d9e140de8e11290ca5bef267805ef3",
      "created_at" : "2021-12-17T09:02:04Z",
      "diff_hunk" : "@@ -1549,23 +1564,64 @@ RPCHelpMan getblockchaininfo()\n         }\n     }\n \n-    const Consensus::Params& consensusParams = Params().GetConsensus();\n-    UniValue softforks(UniValue::VOBJ);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_HEIGHTINCB);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_DERSIG);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CLTV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CSV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    if (IsDeprecatedRPCEnabled(\"softforks\")) {\n+        const Consensus::Params& consensusParams = Params().GetConsensus();\n+        obj.pushKV(\"softforks\", DeploymentInfo(tip, consensusParams));\n+    }\n \n     obj.pushKV(\"warnings\", GetWarnings(false).original);\n     return obj;\n },\n     };\n }\n \n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\\n\",\n+        {},\n+        RPCResult{\n+                            RPCResult::Type::OBJ, \"xxxx\", \"name of the softfork\",\n+                            {\n+                                {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip9\\\"\"},\n+                                {RPCResult::Type::OBJ, \"bip9\", /*optional=*/ true, \"status of bip9 softforks (only for \\\"bip9\\\" type)\",\n+                                {\n+                                    {RPCResult::Type::STR, \"status\", \"one of \\\"defined\\\", \\\"started\\\", \\\"locked_in\\\", \\\"active\\\", \\\"failed\\\"\"},\n+                                    {RPCResult::Type::NUM, \"bit\", /*optional=*/ true, \"the bit (0-28) in the block version field used to signal this softfork (only for \\\"started\\\" and \\\"locked_in\\\" status)\"},\n+                                    {RPCResult::Type::NUM_TIME, \"start_time\", \"the minimum median time past of a block at which the bit gains its meaning\"},\n+                                    {RPCResult::Type::NUM_TIME, \"timeout\", \"the median time past of a block at which the deployment is considered failed if not yet locked in\"},\n+                                    {RPCResult::Type::NUM, \"since\", \"height of the first block to which the status applies\"},\n+                                    {RPCResult::Type::NUM, \"min_activation_height\", \"minimum height of blocks for which the rules may be enforced\"},\n+                                    {RPCResult::Type::OBJ, \"statistics\", /*optional=*/ true, \"numeric statistics about signalling for a softfork (only for \\\"started\\\" and \\\"locked_in\\\" status)\",\n+                                    {\n+                                        {RPCResult::Type::NUM, \"period\", \"the length in blocks of the signalling period\"},\n+                                        {RPCResult::Type::NUM, \"threshold\", /*optional=*/ true, \"the number of blocks with the version bit set required to activate the feature (only for \\\"started\\\" status)\"},\n+                                        {RPCResult::Type::NUM, \"elapsed\", \"the number of blocks elapsed since the beginning of the current period\"},\n+                                        {RPCResult::Type::NUM, \"count\", \"the number of blocks with the version bit set in the current period\"},\n+                                        {RPCResult::Type::BOOL, \"possible\", /*optional=*/ true, \"returns false if there are not enough blocks left in this period to pass activation threshold (only for \\\"started\\\" status)\"},\n+                                    }},\n+                                }},\n+                                {RPCResult::Type::NUM, \"height\", /*optional=*/ true, \"height of the first block which the rules are or will be enforced (only for \\\"buried\\\" type, or \\\"bip9\\\" type with \\\"active\\\" status)\"},\n+                                {RPCResult::Type::BOOL, \"active\", \"true if the rules are enforced for the mempool and the next block\"},\n+                            }},\n+        RPCExamples{ HelpExampleCli(\"getdeploymentinfo\", \"\") + HelpExampleRpc(\"getdeploymentinfo\", \"\") },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            ChainstateManager& chainman = EnsureAnyChainman(request.context);\n+            LOCK(cs_main);\n+            CChainState& active_chainstate = chainman.ActiveChainstate();\n+\n+            const CBlockIndex* tip = active_chainstate.m_chain.Tip();\n+            CHECK_NONFATAL(tip);\n+            const Consensus::Params& consensusParams = Params().GetConsensus();\n+\n+            UniValue deploymentinfo(UniValue::VOBJ);\n+            deploymentinfo.pushKV(\"deployments\", DeploymentInfo(tip, consensusParams));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r771214750",
      "id" : 771214750,
      "in_reply_to_id" : 770252046,
      "line" : 1664,
      "node_id" : "PRRC_kwDOABII584t982e",
      "original_commit_id" : "a4749f9154a579c8da9d6353587fe83c72a8fc31",
      "original_line" : 1619,
      "original_position" : 108,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 108,
      "pull_request_review_id" : 834983596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/771214750/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-17T09:02:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/771214750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> [8d2d1b2](https://github.com/bitcoin/bitcoin/commit/8d2d1b29cd6cd5799c47c0debfe63e2eddc6a347) is a breaking change. For my own use case in ForkMonitor it's fine, but if someone relies on the `status` field before putting something in the mempool right in time for the first block of a new softfork, they'd miss it.\r\n\r\nUsing `active` is far better than using `status` for that case, since it is valid for non-bip9 deployments as well. Also there are no pending deployments for which anyone will be mining such a block (so you would need to either be using regtest with non-default config, or trying to do a massive reorg of mainnet or testnet).",
      "created_at" : "2021-12-17T10:45:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-996619917",
      "id" : 996619917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5847ZzaN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/996619917/reactions"
      },
      "updated_at" : "2021-12-17T10:45:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/996619917",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors @laanwj @luke-jr are your concerns adequately addressed?",
      "created_at" : "2022-01-13T04:13:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-1011779907",
      "id" : 1011779907,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5848TolD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1011779907/reactions"
      },
      "updated_at" : "2022-01-13T04:13:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1011779907",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> It would be good to add a test case for a block right before activation\r\n\r\nThis test would be nice. None of my comments are blocking.",
      "created_at" : "2022-01-13T12:24:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-1012089965",
      "id" : 1012089965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5848U0Rt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012089965/reactions"
      },
      "updated_at" : "2022-01-13T12:24:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012089965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors added such a test",
      "created_at" : "2022-01-13T15:18:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-1012233216",
      "id" : 1012233216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5848VXQA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012233216/reactions"
      },
      "updated_at" : "2022-01-13T15:18:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012233216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I improved the RPC help a bit in https://github.com/Sjors/bitcoin/commit/af1070dced9a39658799e93c9842d7aab0eb40c4:\r\n* less excessive indentation\r\n* get rid of `\"*\" : {` structure (`hash` and `height` are same level as `deployments`)\r\n* nest forks inside `deployments`\r\n* clarify that `hash` and `height` use the tip by default \r\n\r\nBefore:\r\n```\r\nResult:\r\n{                                     (json object)\r\n  \"*\" : {                             (json object)\r\n    \"hash\" : \"str\",                   (string) block hash\r\n    \"height\" : n                      (numeric) block height\r\n  },\r\n  \"xxxx\" : {                          (json object) name of the softfork\r\n    \"type\" : \"str\",                   (string) one of \"buried\", \"bip9\"\r\n````\r\n\r\nAfter:\r\n```\r\nResult:\r\n{                                       (json object)\r\n  \"hash\" : \"str\",                       (string) requested block hash (or tip)\r\n  \"height\" : n,                         (numeric) requested block height (or tip)\r\n  \"deployments\" : {                     (json object) status of softforks\r\n    \"xxxx\" : {                          (json object) name of the softfork\r\n      \"type\" : \"str\",                   (string) one of \"buried\", \"bip9\"\r\n```",
      "created_at" : "2022-01-13T17:31:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-1012354221",
      "id" : 1012354221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5848V0yt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012354221/reactions"
      },
      "updated_at" : "2022-01-13T17:32:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012354221",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r784179202"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784179202"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n`-deprecatedrpc=softforks`, but this will be removed in a future release. (#23508)\r\n```\r\n\r\nnit",
      "commit_id" : "517356dafd3d338fc62eb168b74ce25965d83476",
      "created_at" : "2022-01-13T17:35:15Z",
      "diff_hunk" : "@@ -0,0 +1,8 @@\n+Updated RPCs\n+------------\n+\n+Information on soft fork status has been moved from `getblockchaininfo` to\n+`getdeploymentinfo` which allows querying soft fork status at any block,\n+rather than just at the chain tip. Inclusion of soft fork status in\n+`getblockchaininfo` can currently be restored using the configuration\n+`-deprecatedrpc=softforks`, but this will be removed in a future release.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r784179202",
      "id" : 784179202,
      "line" : 8,
      "node_id" : "PRRC_kwDOABII584uvaAC",
      "original_commit_id" : "517356dafd3d338fc62eb168b74ce25965d83476",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes-23508.md",
      "position" : 8,
      "pull_request_review_id" : 852030427,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784179202/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-13T17:37:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784179202",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r784179539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784179539"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n- Information on soft fork status has been moved from `getblockchaininfo` to\r\n```\r\n\r\nnit: items in the notes are lists",
      "commit_id" : "517356dafd3d338fc62eb168b74ce25965d83476",
      "created_at" : "2022-01-13T17:35:40Z",
      "diff_hunk" : "@@ -0,0 +1,8 @@\n+Updated RPCs\n+------------\n+\n+Information on soft fork status has been moved from `getblockchaininfo` to",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r784179539",
      "id" : 784179539,
      "line" : 4,
      "node_id" : "PRRC_kwDOABII584uvaFT",
      "original_commit_id" : "517356dafd3d338fc62eb168b74ce25965d83476",
      "original_line" : 4,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/release-notes-23508.md",
      "position" : 4,
      "pull_request_review_id" : 852030427,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784179539/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-13T17:37:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784179539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r784179860"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784179860"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        \"Returns an object containing various state info regarding soft-forks.\",\r\n```\r\n\r\nnit: not needed",
      "commit_id" : "517356dafd3d338fc62eb168b74ce25965d83476",
      "created_at" : "2022-01-13T17:36:06Z",
      "diff_hunk" : "@@ -1549,23 +1587,86 @@ RPCHelpMan getblockchaininfo()\n         }\n     }\n \n-    const Consensus::Params& consensusParams = Params().GetConsensus();\n-    UniValue softforks(UniValue::VOBJ);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_HEIGHTINCB);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_DERSIG);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CLTV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_CSV);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n-    SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    if (IsDeprecatedRPCEnabled(\"softforks\")) {\n+        const Consensus::Params& consensusParams = Params().GetConsensus();\n+        obj.pushKV(\"softforks\", DeploymentInfo(tip, consensusParams));\n+    }\n \n     obj.pushKV(\"warnings\", GetWarnings(false).original);\n     return obj;\n },\n     };\n }\n \n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r784179860",
      "id" : 784179860,
      "line" : 1604,
      "node_id" : "PRRC_kwDOABII584uvaKU",
      "original_commit_id" : "517356dafd3d338fc62eb168b74ce25965d83476",
      "original_line" : 1604,
      "original_position" : 154,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 154,
      "pull_request_review_id" : 852030427,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784179860/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-13T17:37:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784179860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors Thanks, included (combined with the nit from @MarcoFalke). @MarcoFalke, de-nitted.",
      "created_at" : "2022-01-13T23:39:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-1012617129",
      "id" : 1012617129,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5848W0-p",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012617129/reactions"
      },
      "updated_at" : "2022-01-13T23:39:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012617129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ajtowns thanks. Unless you're waiting for additional feedback, I suggest squashing the last two commits in to earlier ones. That makes reviewing the individual commits more straight-forward.",
      "created_at" : "2022-01-14T12:30:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-1013078346",
      "id" : 1013078346,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5848YllK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1013078346/reactions"
      },
      "updated_at" : "2022-01-14T12:30:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1013078346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors okay, done that, and also deduplicated the help text between getblockchaininfo and getdeploymentinfo.",
      "created_at" : "2022-01-14T18:46:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-1013370093",
      "id" : 1013370093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5848Zszt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1013370093/reactions"
      },
      "updated_at" : "2022-01-14T18:46:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1013370093",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r785158521"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785158521"
         }
      },
      "author_association" : "MEMBER",
      "body" : "7f15c1841b98de6931a7ac68e16635a05d3e96cf: this variable should probably be called `block`. I suggest also renaming the `tip` parameter of `DeploymentInfo(` and the `active_chain_tip` parameter of `SoftForkDescPushBack ` to `block`",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-14T20:41:47Z",
      "diff_hunk" : "@@ -1605,8 +1607,18 @@ static RPCHelpMan getdeploymentinfo()\n             LOCK(cs_main);\n             CChainState& active_chainstate = chainman.ActiveChainstate();\n \n-            const CBlockIndex* tip = active_chainstate.m_chain.Tip();\n-            CHECK_NONFATAL(tip);\n+            const CBlockIndex* tip;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r785158521",
      "id" : 785158521,
      "line" : 1637,
      "node_id" : "PRRC_kwDOABII584uzJF5",
      "original_commit_id" : "7f15c1841b98de6931a7ac68e16635a05d3e96cf",
      "original_line" : 1610,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 17,
      "pull_request_review_id" : 853365137,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785158521/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-14T20:53:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785158521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r785355761"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785355761"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This comment doesn't seem to fit the code anymore",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-15T21:56:03Z",
      "diff_hunk" : "@@ -108,18 +108,26 @@ BIP9Stats AbstractThresholdConditionChecker::GetStateStatisticsFor(const CBlockI\n     if (pindex == nullptr) return stats;\n \n     // Find beginning of period",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r785355761",
      "id" : 785355761,
      "line" : 110,
      "node_id" : "PRRC_kwDOABII584uz5Px",
      "original_commit_id" : "240cad09baefcf363cce36a4b2795122adfce27f",
      "original_line" : 110,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/versionbits.cpp",
      "position" : 12,
      "pull_request_review_id" : 853597034,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785355761/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-21T00:32:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785355761",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r785355999"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785355999"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: typo in deprecated",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-15T21:59:35Z",
      "diff_hunk" : "@@ -1455,8 +1455,16 @@ static void SoftForkDescPushBack(const CBlockIndex* active_chain_tip, UniValue&\n     softforks.pushKV(DeploymentName(id), rv);\n }\n \n+namespace {\n+/* TODO: when -dprecatedrpc=softforks is removed, drop these */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r785355999",
      "id" : 785355999,
      "line" : 1482,
      "node_id" : "PRRC_kwDOABII584uz5Tf",
      "original_commit_id" : "fd826130a0a4e67fdc26f8064f4ecb4ff79b3333",
      "original_line" : 1459,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 14,
      "pull_request_review_id" : 853597034,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785355999/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-21T00:32:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785355999",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r789061703"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/789061703"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Agree, but leaving this for later",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-20T18:52:41Z",
      "diff_hunk" : "@@ -1605,8 +1607,18 @@ static RPCHelpMan getdeploymentinfo()\n             LOCK(cs_main);\n             CChainState& active_chainstate = chainman.ActiveChainstate();\n \n-            const CBlockIndex* tip = active_chainstate.m_chain.Tip();\n-            CHECK_NONFATAL(tip);\n+            const CBlockIndex* tip;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r789061703",
      "id" : 789061703,
      "in_reply_to_id" : 785158521,
      "line" : 1637,
      "node_id" : "PRRC_kwDOABII584vCCBH",
      "original_commit_id" : "7f15c1841b98de6931a7ac68e16635a05d3e96cf",
      "original_line" : 1610,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 17,
      "pull_request_review_id" : 858676627,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/789061703/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-20T18:52:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/789061703",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r789147051"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/789147051"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Looks like a behavior change, so might be worth to mention in the release notes if you retouch.",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-20T21:01:01Z",
      "diff_hunk" : "@@ -1412,45 +1412,60 @@ static void SoftForkDescPushBack(const CBlockIndex* active_chain_tip, UniValue&\n     // For BIP9 deployments.\n \n     if (!DeploymentEnabled(consensusParams, id)) return;\n+    if (active_chain_tip == nullptr) return;\n+\n+    auto get_state_name = [](const ThresholdState state) -> std::string {\n+        switch (state) {\n+        case ThresholdState::DEFINED: return \"defined\";\n+        case ThresholdState::STARTED: return \"started\";\n+        case ThresholdState::LOCKED_IN: return \"locked_in\";\n+        case ThresholdState::ACTIVE: return \"active\";\n+        case ThresholdState::FAILED: return \"failed\";\n+        }\n+        return \"invalid\";\n+    };\n \n     UniValue bip9(UniValue::VOBJ);\n-    const ThresholdState thresholdState = g_versionbitscache.State(active_chain_tip, consensusParams, id);\n-    switch (thresholdState) {\n-    case ThresholdState::DEFINED: bip9.pushKV(\"status\", \"defined\"); break;\n-    case ThresholdState::STARTED: bip9.pushKV(\"status\", \"started\"); break;\n-    case ThresholdState::LOCKED_IN: bip9.pushKV(\"status\", \"locked_in\"); break;\n-    case ThresholdState::ACTIVE: bip9.pushKV(\"status\", \"active\"); break;\n-    case ThresholdState::FAILED: bip9.pushKV(\"status\", \"failed\"); break;\n-    }\n-    const bool has_signal = (ThresholdState::STARTED == thresholdState || ThresholdState::LOCKED_IN == thresholdState);\n+\n+    const ThresholdState next_state = g_versionbitscache.State(active_chain_tip, consensusParams, id);\n+    const ThresholdState current_state = g_versionbitscache.State(active_chain_tip->pprev, consensusParams, id);\n+\n+    const bool has_signal = (ThresholdState::STARTED == current_state || ThresholdState::LOCKED_IN == current_state);\n+\n+    // BIP9 parameters\n     if (has_signal) {\n         bip9.pushKV(\"bit\", consensusParams.vDeployments[id].bit);\n     }\n     bip9.pushKV(\"start_time\", consensusParams.vDeployments[id].nStartTime);\n     bip9.pushKV(\"timeout\", consensusParams.vDeployments[id].nTimeout);\n-    int64_t since_height = g_versionbitscache.StateSinceHeight(active_chain_tip, consensusParams, id);\n-    bip9.pushKV(\"since\", since_height);\n+    bip9.pushKV(\"min_activation_height\", consensusParams.vDeployments[id].min_activation_height);\n+\n+    // BIP9 status\n+    bip9.pushKV(\"status\", get_state_name(current_state));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r789147051",
      "id" : 789147051,
      "line" : 1444,
      "node_id" : "PRRC_kwDOABII584vCW2r",
      "original_commit_id" : "a7469bcd35692d56f57e91b3f21d30855bdf6531",
      "original_line" : 1444,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 44,
      "pull_request_review_id" : 858797740,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/789147051/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-20T21:01:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/789147051",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793800430"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793800430"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fd82613 this line should perhaps be before `getdifficulty`, not sure, feel free to ignore",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T16:43:31Z",
      "diff_hunk" : "@@ -2716,6 +2807,7 @@ static const CRPCCommand commands[] =\n     { \"blockchain\",         &getblockheader,                     },\n     { \"blockchain\",         &getchaintips,                       },\n     { \"blockchain\",         &getdifficulty,                      },\n+    { \"blockchain\",         &getdeploymentinfo,                  },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793800430",
      "id" : 793800430,
      "line" : 2810,
      "node_id" : "PRRC_kwDOABII584vUG7u",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 2810,
      "original_position" : 254,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 254,
      "pull_request_review_id" : 865149958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793800430/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T17:49:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793800430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793821309"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793821309"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fd826130a0a4e67fdc26f8064f4ecb4ff79b3333\r\n\r\n```diff\r\n-            ChainstateManager& chainman = EnsureAnyChainman(request.context);\r\n-            LOCK(cs_main);\r\n-            CChainState& active_chainstate = chainman.ActiveChainstate();\r\n+            const ChainstateManager& chainman = EnsureAnyChainman(request.context);\r\n+            LOCK(::cs_main);\r\n+            const CChainState& active_chainstate = chainman.ActiveChainstate();\r\n```",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T17:05:27Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\", {\n+                {RPCResult::Type::STR, \"hash\", \"requested block hash (or tip)\"},\n+                {RPCResult::Type::NUM, \"height\", \"requested block height (or tip)\"},\n+                {RPCResult::Type::OBJ, \"deployments\", \"\", {\n+                    {RPCResult::Type::OBJ, \"xxxx\", \"name of the deployment\", RPCHelpForDeployment}\n+                }},\n+            }\n+        },\n+        RPCExamples{ HelpExampleCli(\"getdeploymentinfo\", \"\") + HelpExampleRpc(\"getdeploymentinfo\", \"\") },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            ChainstateManager& chainman = EnsureAnyChainman(request.context);\n+            LOCK(cs_main);\n+            CChainState& active_chainstate = chainman.ActiveChainstate();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793821309",
      "id" : 793821309,
      "line" : 1635,
      "node_id" : "PRRC_kwDOABII584vUMB9",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1635,
      "original_position" : 225,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 225,
      "pull_request_review_id" : 865149958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793821309/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T17:49:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793821309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793825426"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793825426"
         }
      },
      "author_association" : "MEMBER",
      "body" : "7f15c184\r\n```suggestion\r\n                const uint256& hash{ParseHashV(request.params[0], \"blockhash\")};\r\n```",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T17:09:48Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\", {\n+                {RPCResult::Type::STR, \"hash\", \"requested block hash (or tip)\"},\n+                {RPCResult::Type::NUM, \"height\", \"requested block height (or tip)\"},\n+                {RPCResult::Type::OBJ, \"deployments\", \"\", {\n+                    {RPCResult::Type::OBJ, \"xxxx\", \"name of the deployment\", RPCHelpForDeployment}\n+                }},\n+            }\n+        },\n+        RPCExamples{ HelpExampleCli(\"getdeploymentinfo\", \"\") + HelpExampleRpc(\"getdeploymentinfo\", \"\") },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            ChainstateManager& chainman = EnsureAnyChainman(request.context);\n+            LOCK(cs_main);\n+            CChainState& active_chainstate = chainman.ActiveChainstate();\n+\n+            const CBlockIndex* tip;\n+            if (request.params[0].isNull()) {\n+                tip = active_chainstate.m_chain.Tip();\n+                CHECK_NONFATAL(tip);\n+            } else {\n+                uint256 hash(ParseHashV(request.params[0], \"blockhash\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793825426",
      "id" : 793825426,
      "line" : 1642,
      "node_id" : "PRRC_kwDOABII584vUNCS",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1642,
      "original_position" : 232,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 232,
      "pull_request_review_id" : 865149958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793825426/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T17:49:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793825426",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793828493"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793828493"
         }
      },
      "author_association" : "MEMBER",
      "body" : "7f15c1841b98de6931a7ac68e16635a05d3e96cf current naming style for new rpc arguments, and a default description that (maybe) looks a little less like \"chain tip\" could be a value\r\n\r\n```text\r\nArguments:\r\n1. blockhash    (string, optional, default=\"chain tip\") The block hash at which to query fork state\r\n```\r\n\r\n```suggestion\r\n            {\"block_hash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"value of chain tip\"}, \"The block hash at which to query fork state\"},\r\n```\r\n\r\n-----\r\n\r\nIt would be good to have tests for invoking getdeploymentinfo with a valid and an invalid block hash.",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T17:12:41Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793828493",
      "id" : 793828493,
      "line" : 1619,
      "node_id" : "PRRC_kwDOABII584vUNyN",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1619,
      "original_position" : 209,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 209,
      "pull_request_review_id" : 865149958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793828493/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T18:33:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793828493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793838264"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793838264"
         }
      },
      "author_association" : "MEMBER",
      "body" : "a3809228 \r\n```suggestion\r\n  to a new `getdeploymentinfo` RPC, which allows querying soft fork status at any\r\n```",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T17:24:11Z",
      "diff_hunk" : "@@ -0,0 +1,9 @@\n+Updated RPCs\n+------------\n+\n+- Information on soft fork status has been moved from `getblockchaininfo`\n+  to `getdeploymentinfo` which allows querying soft fork status at any",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793838264",
      "id" : 793838264,
      "line" : 5,
      "node_id" : "PRRC_kwDOABII584vUQK4",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/release-notes-23508.md",
      "position" : 5,
      "pull_request_review_id" : 865149958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793838264/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T17:49:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793838264",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793840171"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793840171"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fd82613 It looks like you are writing \"softfork\" in the RPC documentation, and \"soft fork\" in the release note, so maybe standardize (on soft fork) throughout.\r\n\r\n```suggestion\r\n        \"Returns an object containing various state info regarding soft forks.\",\r\n```",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T17:26:24Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793840171",
      "id" : 793840171,
      "line" : 1617,
      "node_id" : "PRRC_kwDOABII584vUQor",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1617,
      "original_position" : 207,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 207,
      "pull_request_review_id" : 865149958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793840171/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T06:00:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793840171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review and lightly tested ACK a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T17:39:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-1023479549",
      "id" : 1023479549,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5849AQ79",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023479549/reactions"
      },
      "updated_at" : "2022-01-27T17:39:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023479549",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793851588"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793851588"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Throughout the RPC documentation, when referring to the BIP itself and not a field name or input/output value\r\n```suggestion\r\n        {RPCResult::Type::STR, \"status-next\", \"BIP 9 status of the next block\"},\r\n```",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T17:40:14Z",
      "diff_hunk" : "@@ -1549,7 +1560,45 @@ RPCHelpMan getblockchaininfo()\n         }\n     }\n \n-    const Consensus::Params& consensusParams = Params().GetConsensus();\n+    if (IsDeprecatedRPCEnabled(\"softforks\")) {\n+        const Consensus::Params& consensusParams = Params().GetConsensus();\n+        obj.pushKV(\"softforks\", DeploymentInfo(tip, consensusParams));\n+    }\n+\n+    obj.pushKV(\"warnings\", GetWarnings(false).original);\n+    return obj;\n+},\n+    };\n+}\n+\n+namespace {\n+const std::vector<RPCResult> RPCHelpForDeployment{\n+    {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip9\\\"\"},\n+    {RPCResult::Type::NUM, \"height\", /*optional=*/true, \"height of the first block which the rules are or will be enforced (only for \\\"buried\\\" type, or \\\"bip9\\\" type with \\\"active\\\" status)\"},\n+    {RPCResult::Type::BOOL, \"active\", \"true if the rules are enforced for the mempool and the next block\"},\n+    {RPCResult::Type::OBJ, \"bip9\", /*optional=*/true, \"status of bip9 softforks (only for \\\"bip9\\\" type)\",\n+    {\n+        {RPCResult::Type::NUM, \"bit\", /*optional=*/true, \"the bit (0-28) in the block version field used to signal this softfork (only for \\\"started\\\" and \\\"locked_in\\\" status)\"},\n+        {RPCResult::Type::NUM_TIME, \"start_time\", \"the minimum median time past of a block at which the bit gains its meaning\"},\n+        {RPCResult::Type::NUM_TIME, \"timeout\", \"the median time past of a block at which the deployment is considered failed if not yet locked in\"},\n+        {RPCResult::Type::NUM, \"min_activation_height\", \"minimum height of blocks for which the rules may be enforced\"},\n+        {RPCResult::Type::STR, \"status\", \"bip9 status of specified block (one of \\\"defined\\\", \\\"started\\\", \\\"locked_in\\\", \\\"active\\\", \\\"failed\\\")\"},\n+        {RPCResult::Type::NUM, \"since\", \"height of the first block to which the status applies\"},\n+        {RPCResult::Type::STR, \"status-next\", \"bip9 status of next block\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793851588",
      "id" : 793851588,
      "line" : 1587,
      "node_id" : "PRRC_kwDOABII584vUTbE",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1587,
      "original_position" : 174,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 174,
      "pull_request_review_id" : 865149958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793851588/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T17:49:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793851588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793858746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793858746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If you don't retouch, I think this should be fixed up in a follow-up",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T17:49:03Z",
      "diff_hunk" : "@@ -1412,45 +1412,60 @@ static void SoftForkDescPushBack(const CBlockIndex* active_chain_tip, UniValue&\n     // For BIP9 deployments.\n \n     if (!DeploymentEnabled(consensusParams, id)) return;\n+    if (active_chain_tip == nullptr) return;\n+\n+    auto get_state_name = [](const ThresholdState state) -> std::string {\n+        switch (state) {\n+        case ThresholdState::DEFINED: return \"defined\";\n+        case ThresholdState::STARTED: return \"started\";\n+        case ThresholdState::LOCKED_IN: return \"locked_in\";\n+        case ThresholdState::ACTIVE: return \"active\";\n+        case ThresholdState::FAILED: return \"failed\";\n+        }\n+        return \"invalid\";\n+    };\n \n     UniValue bip9(UniValue::VOBJ);\n-    const ThresholdState thresholdState = g_versionbitscache.State(active_chain_tip, consensusParams, id);\n-    switch (thresholdState) {\n-    case ThresholdState::DEFINED: bip9.pushKV(\"status\", \"defined\"); break;\n-    case ThresholdState::STARTED: bip9.pushKV(\"status\", \"started\"); break;\n-    case ThresholdState::LOCKED_IN: bip9.pushKV(\"status\", \"locked_in\"); break;\n-    case ThresholdState::ACTIVE: bip9.pushKV(\"status\", \"active\"); break;\n-    case ThresholdState::FAILED: bip9.pushKV(\"status\", \"failed\"); break;\n-    }\n-    const bool has_signal = (ThresholdState::STARTED == thresholdState || ThresholdState::LOCKED_IN == thresholdState);\n+\n+    const ThresholdState next_state = g_versionbitscache.State(active_chain_tip, consensusParams, id);\n+    const ThresholdState current_state = g_versionbitscache.State(active_chain_tip->pprev, consensusParams, id);\n+\n+    const bool has_signal = (ThresholdState::STARTED == current_state || ThresholdState::LOCKED_IN == current_state);\n+\n+    // BIP9 parameters\n     if (has_signal) {\n         bip9.pushKV(\"bit\", consensusParams.vDeployments[id].bit);\n     }\n     bip9.pushKV(\"start_time\", consensusParams.vDeployments[id].nStartTime);\n     bip9.pushKV(\"timeout\", consensusParams.vDeployments[id].nTimeout);\n-    int64_t since_height = g_versionbitscache.StateSinceHeight(active_chain_tip, consensusParams, id);\n-    bip9.pushKV(\"since\", since_height);\n+    bip9.pushKV(\"min_activation_height\", consensusParams.vDeployments[id].min_activation_height);\n+\n+    // BIP9 status\n+    bip9.pushKV(\"status\", get_state_name(current_state));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793858746",
      "id" : 793858746,
      "in_reply_to_id" : 789147051,
      "line" : 1444,
      "node_id" : "PRRC_kwDOABII584vUVK6",
      "original_commit_id" : "a7469bcd35692d56f57e91b3f21d30855bdf6531",
      "original_line" : 1444,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 44,
      "pull_request_review_id" : 865232140,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793858746/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T17:49:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793858746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793862342"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793862342"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This code is reused in the deprecated `getblockchaininfo` part, so let's not rename these things. Except for new items.",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T17:53:35Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793862342",
      "id" : 793862342,
      "in_reply_to_id" : 793828493,
      "line" : 1619,
      "node_id" : "PRRC_kwDOABII584vUWDG",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1619,
      "original_position" : 209,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 209,
      "pull_request_review_id" : 865237104,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793862342/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T17:54:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793862342",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793868746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793868746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "buried deployments aren't soft forks, so it might be better to call this \"deployments\"",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T18:01:26Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793868746",
      "id" : 793868746,
      "in_reply_to_id" : 793840171,
      "line" : 1617,
      "node_id" : "PRRC_kwDOABII584vUXnK",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1617,
      "original_position" : 207,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 207,
      "pull_request_review_id" : 865246012,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793868746/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T18:01:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793868746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793888167"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793888167"
         }
      },
      "author_association" : "MEMBER",
      "body" : "<strike>Oh that's true; the functionality is nicely reused.</strike> Correcting myself, the argument is only in the new RPC, so it could follow current naming style.",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-27T18:27:21Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r793888167",
      "id" : 793888167,
      "in_reply_to_id" : 793828493,
      "line" : 1619,
      "node_id" : "PRRC_kwDOABII584vUcWn",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1619,
      "original_position" : 209,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 209,
      "pull_request_review_id" : 865273553,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793888167/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T18:30:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793888167",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794238799"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794238799"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ugh, why are we introducing new naming styles that are incompatible with the existing names, especially where they're part of an API? :vomiting_face:",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T06:42:36Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794238799",
      "id" : 794238799,
      "in_reply_to_id" : 793828493,
      "line" : 1619,
      "node_id" : "PRRC_kwDOABII584vVx9P",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1619,
      "original_position" : 209,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 209,
      "pull_request_review_id" : 865741740,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794238799/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T06:42:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794238799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794247929"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794247929"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "These aren't in alphabetical order, and I don't think it quite fits in with any of the other categories of functions (info about the tip, mempool stuff, stats, queries about a particular block; and the functions aren't really grouped by category anyway), so not seeing much benefit to moving it.",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:04:59Z",
      "diff_hunk" : "@@ -2716,6 +2807,7 @@ static const CRPCCommand commands[] =\n     { \"blockchain\",         &getblockheader,                     },\n     { \"blockchain\",         &getchaintips,                       },\n     { \"blockchain\",         &getdifficulty,                      },\n+    { \"blockchain\",         &getdeploymentinfo,                  },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794247929",
      "id" : 794247929,
      "in_reply_to_id" : 793800430,
      "line" : 2810,
      "node_id" : "PRRC_kwDOABII584vV0L5",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 2810,
      "original_position" : 254,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 254,
      "pull_request_review_id" : 865754451,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794247929/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:04:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794247929",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794260874"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794260874"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Followed up in #24187 ",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:33:14Z",
      "diff_hunk" : "@@ -1412,45 +1412,60 @@ static void SoftForkDescPushBack(const CBlockIndex* active_chain_tip, UniValue&\n     // For BIP9 deployments.\n \n     if (!DeploymentEnabled(consensusParams, id)) return;\n+    if (active_chain_tip == nullptr) return;\n+\n+    auto get_state_name = [](const ThresholdState state) -> std::string {\n+        switch (state) {\n+        case ThresholdState::DEFINED: return \"defined\";\n+        case ThresholdState::STARTED: return \"started\";\n+        case ThresholdState::LOCKED_IN: return \"locked_in\";\n+        case ThresholdState::ACTIVE: return \"active\";\n+        case ThresholdState::FAILED: return \"failed\";\n+        }\n+        return \"invalid\";\n+    };\n \n     UniValue bip9(UniValue::VOBJ);\n-    const ThresholdState thresholdState = g_versionbitscache.State(active_chain_tip, consensusParams, id);\n-    switch (thresholdState) {\n-    case ThresholdState::DEFINED: bip9.pushKV(\"status\", \"defined\"); break;\n-    case ThresholdState::STARTED: bip9.pushKV(\"status\", \"started\"); break;\n-    case ThresholdState::LOCKED_IN: bip9.pushKV(\"status\", \"locked_in\"); break;\n-    case ThresholdState::ACTIVE: bip9.pushKV(\"status\", \"active\"); break;\n-    case ThresholdState::FAILED: bip9.pushKV(\"status\", \"failed\"); break;\n-    }\n-    const bool has_signal = (ThresholdState::STARTED == thresholdState || ThresholdState::LOCKED_IN == thresholdState);\n+\n+    const ThresholdState next_state = g_versionbitscache.State(active_chain_tip, consensusParams, id);\n+    const ThresholdState current_state = g_versionbitscache.State(active_chain_tip->pprev, consensusParams, id);\n+\n+    const bool has_signal = (ThresholdState::STARTED == current_state || ThresholdState::LOCKED_IN == current_state);\n+\n+    // BIP9 parameters\n     if (has_signal) {\n         bip9.pushKV(\"bit\", consensusParams.vDeployments[id].bit);\n     }\n     bip9.pushKV(\"start_time\", consensusParams.vDeployments[id].nStartTime);\n     bip9.pushKV(\"timeout\", consensusParams.vDeployments[id].nTimeout);\n-    int64_t since_height = g_versionbitscache.StateSinceHeight(active_chain_tip, consensusParams, id);\n-    bip9.pushKV(\"since\", since_height);\n+    bip9.pushKV(\"min_activation_height\", consensusParams.vDeployments[id].min_activation_height);\n+\n+    // BIP9 status\n+    bip9.pushKV(\"status\", get_state_name(current_state));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794260874",
      "id" : 794260874,
      "in_reply_to_id" : 789147051,
      "line" : 1444,
      "node_id" : "PRRC_kwDOABII584vV3WK",
      "original_commit_id" : "a7469bcd35692d56f57e91b3f21d30855bdf6531",
      "original_line" : 1444,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 44,
      "pull_request_review_id" : 865772333,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794260874/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:33:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794260874",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261016"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261016"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed in #24187 ",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:33:33Z",
      "diff_hunk" : "@@ -108,18 +108,26 @@ BIP9Stats AbstractThresholdConditionChecker::GetStateStatisticsFor(const CBlockI\n     if (pindex == nullptr) return stats;\n \n     // Find beginning of period",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261016",
      "id" : 794261016,
      "in_reply_to_id" : 785355761,
      "line" : 110,
      "node_id" : "PRRC_kwDOABII584vV3YY",
      "original_commit_id" : "240cad09baefcf363cce36a4b2795122adfce27f",
      "original_line" : 110,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/versionbits.cpp",
      "position" : 12,
      "pull_request_review_id" : 865772505,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261016/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:33:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261128"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261128"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in #24187 ",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:33:47Z",
      "diff_hunk" : "@@ -1455,8 +1455,16 @@ static void SoftForkDescPushBack(const CBlockIndex* active_chain_tip, UniValue&\n     softforks.pushKV(DeploymentName(id), rv);\n }\n \n+namespace {\n+/* TODO: when -dprecatedrpc=softforks is removed, drop these */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261128",
      "id" : 794261128,
      "in_reply_to_id" : 785355999,
      "line" : 1482,
      "node_id" : "PRRC_kwDOABII584vV3aI",
      "original_commit_id" : "fd826130a0a4e67fdc26f8064f4ecb4ff79b3333",
      "original_line" : 1459,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 14,
      "pull_request_review_id" : 865772669,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261128/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:33:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261128",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261261"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261261"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added in #24187 ",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:34:05Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\", {\n+                {RPCResult::Type::STR, \"hash\", \"requested block hash (or tip)\"},\n+                {RPCResult::Type::NUM, \"height\", \"requested block height (or tip)\"},\n+                {RPCResult::Type::OBJ, \"deployments\", \"\", {\n+                    {RPCResult::Type::OBJ, \"xxxx\", \"name of the deployment\", RPCHelpForDeployment}\n+                }},\n+            }\n+        },\n+        RPCExamples{ HelpExampleCli(\"getdeploymentinfo\", \"\") + HelpExampleRpc(\"getdeploymentinfo\", \"\") },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            ChainstateManager& chainman = EnsureAnyChainman(request.context);\n+            LOCK(cs_main);\n+            CChainState& active_chainstate = chainman.ActiveChainstate();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261261",
      "id" : 794261261,
      "in_reply_to_id" : 793821309,
      "line" : 1635,
      "node_id" : "PRRC_kwDOABII584vV3cN",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1635,
      "original_position" : 225,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 225,
      "pull_request_review_id" : 865772867,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261261/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:34:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261347"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261347"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added in #24187 ",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:34:17Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",\n+        {\n+            {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Default{\"chain tip\"}, \"The block hash at which to query fork state\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\", {\n+                {RPCResult::Type::STR, \"hash\", \"requested block hash (or tip)\"},\n+                {RPCResult::Type::NUM, \"height\", \"requested block height (or tip)\"},\n+                {RPCResult::Type::OBJ, \"deployments\", \"\", {\n+                    {RPCResult::Type::OBJ, \"xxxx\", \"name of the deployment\", RPCHelpForDeployment}\n+                }},\n+            }\n+        },\n+        RPCExamples{ HelpExampleCli(\"getdeploymentinfo\", \"\") + HelpExampleRpc(\"getdeploymentinfo\", \"\") },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            ChainstateManager& chainman = EnsureAnyChainman(request.context);\n+            LOCK(cs_main);\n+            CChainState& active_chainstate = chainman.ActiveChainstate();\n+\n+            const CBlockIndex* tip;\n+            if (request.params[0].isNull()) {\n+                tip = active_chainstate.m_chain.Tip();\n+                CHECK_NONFATAL(tip);\n+            } else {\n+                uint256 hash(ParseHashV(request.params[0], \"blockhash\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261347",
      "id" : 794261347,
      "in_reply_to_id" : 793825426,
      "line" : 1642,
      "node_id" : "PRRC_kwDOABII584vV3dj",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1642,
      "original_position" : 232,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 232,
      "pull_request_review_id" : 865773001,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261347/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:34:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261347",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261514"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261514"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added in #24187",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:34:36Z",
      "diff_hunk" : "@@ -0,0 +1,9 @@\n+Updated RPCs\n+------------\n+\n+- Information on soft fork status has been moved from `getblockchaininfo`\n+  to `getdeploymentinfo` which allows querying soft fork status at any",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261514",
      "id" : 794261514,
      "in_reply_to_id" : 793838264,
      "line" : 5,
      "node_id" : "PRRC_kwDOABII584vV3gK",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/release-notes-23508.md",
      "position" : 5,
      "pull_request_review_id" : 865773243,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261514/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:34:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261514",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261847"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261847"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Switched from `soft[ -]*forks` in #24187. Note that rpc/miner.cpp calls them \"softforks\" in its RPC docs...",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:35:20Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261847",
      "id" : 794261847,
      "in_reply_to_id" : 793840171,
      "line" : 1617,
      "node_id" : "PRRC_kwDOABII584vV3lX",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1617,
      "original_position" : 207,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 207,
      "pull_request_review_id" : 865773716,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261847/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:35:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261847",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261973"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261973"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed in #24187",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:35:39Z",
      "diff_hunk" : "@@ -1549,7 +1560,45 @@ RPCHelpMan getblockchaininfo()\n         }\n     }\n \n-    const Consensus::Params& consensusParams = Params().GetConsensus();\n+    if (IsDeprecatedRPCEnabled(\"softforks\")) {\n+        const Consensus::Params& consensusParams = Params().GetConsensus();\n+        obj.pushKV(\"softforks\", DeploymentInfo(tip, consensusParams));\n+    }\n+\n+    obj.pushKV(\"warnings\", GetWarnings(false).original);\n+    return obj;\n+},\n+    };\n+}\n+\n+namespace {\n+const std::vector<RPCResult> RPCHelpForDeployment{\n+    {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip9\\\"\"},\n+    {RPCResult::Type::NUM, \"height\", /*optional=*/true, \"height of the first block which the rules are or will be enforced (only for \\\"buried\\\" type, or \\\"bip9\\\" type with \\\"active\\\" status)\"},\n+    {RPCResult::Type::BOOL, \"active\", \"true if the rules are enforced for the mempool and the next block\"},\n+    {RPCResult::Type::OBJ, \"bip9\", /*optional=*/true, \"status of bip9 softforks (only for \\\"bip9\\\" type)\",\n+    {\n+        {RPCResult::Type::NUM, \"bit\", /*optional=*/true, \"the bit (0-28) in the block version field used to signal this softfork (only for \\\"started\\\" and \\\"locked_in\\\" status)\"},\n+        {RPCResult::Type::NUM_TIME, \"start_time\", \"the minimum median time past of a block at which the bit gains its meaning\"},\n+        {RPCResult::Type::NUM_TIME, \"timeout\", \"the median time past of a block at which the deployment is considered failed if not yet locked in\"},\n+        {RPCResult::Type::NUM, \"min_activation_height\", \"minimum height of blocks for which the rules may be enforced\"},\n+        {RPCResult::Type::STR, \"status\", \"bip9 status of specified block (one of \\\"defined\\\", \\\"started\\\", \\\"locked_in\\\", \\\"active\\\", \\\"failed\\\")\"},\n+        {RPCResult::Type::NUM, \"since\", \"height of the first block to which the status applies\"},\n+        {RPCResult::Type::STR, \"status-next\", \"bip9 status of next block\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794261973",
      "id" : 794261973,
      "in_reply_to_id" : 793851588,
      "line" : 1587,
      "node_id" : "PRRC_kwDOABII584vV3nV",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1587,
      "original_position" : 174,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 174,
      "pull_request_review_id" : 865773923,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261973/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:35:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794261973",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Opened #24187 for non-code-changing followups.",
      "created_at" : "2022-01-28T07:36:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#issuecomment-1023958995",
      "id" : 1023958995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23508",
      "node_id" : "IC_kwDOABII5849CF_T",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023958995/reactions"
      },
      "updated_at" : "2022-01-28T07:36:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023958995",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794266571"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794266571"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, I am not suggesting to change existing fields, but for new ones we can pick a good name from the beginning.",
      "commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "created_at" : "2022-01-28T07:44:46Z",
      "diff_hunk" : "@@ -1558,11 +1607,53 @@ RPCHelpMan getblockchaininfo()\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TESTDUMMY);\n     SoftForkDescPushBack(tip, softforks, consensusParams, Consensus::DEPLOYMENT_TAPROOT);\n-    obj.pushKV(\"softforks\", softforks);\n+    return softforks;\n+}\n+} // anon namespace\n \n-    obj.pushKV(\"warnings\", GetWarnings(false).original);\n-    return obj;\n-},\n+static RPCHelpMan getdeploymentinfo()\n+{\n+    return RPCHelpMan{\"getdeploymentinfo\",\n+        \"Returns an object containing various state info regarding soft-forks.\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23508#discussion_r794266571",
      "id" : 794266571,
      "in_reply_to_id" : 793840171,
      "line" : 1617,
      "node_id" : "PRRC_kwDOABII584vV4vL",
      "original_commit_id" : "a3809228917b8f750090c8bfec8e283391dbb524",
      "original_line" : 1617,
      "original_position" : 207,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 207,
      "pull_request_review_id" : 865780074,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23508",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794266571/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-28T07:44:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/794266571",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
