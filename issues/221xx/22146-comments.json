[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nFeels great to see OSS-Fuzz find potential robustness issues in new code long long before any end-users risk hitting them.",
      "created_at" : "2021-06-05T20:15:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22146#issuecomment-855290226",
      "id" : 855290226,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22146",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1NTI5MDIyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-05T20:15:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/855290226",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-06-09T12:27:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22146#issuecomment-857651537",
      "id" : 857651537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22146",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1NzY1MTUzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-09T12:27:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/857651537",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "cr ACK fa9ebedec3f982bb5bb459ea33d74c94d9b5cec4: patch looks correct",
      "created_at" : "2021-06-13T19:53:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22146#issuecomment-860261826",
      "id" : 860261826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22146",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDI2MTgyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-13T19:53:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860261826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22146#discussion_r659456581"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22146"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/659456581"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: `#include <limits>`",
      "commit_id" : "fa9ebedec3f982bb5bb459ea33d74c94d9b5cec4",
      "created_at" : "2021-06-28T03:33:17Z",
      "diff_hunk" : "@@ -4989,6 +4989,14 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n                       coins_count - coins_left);\n             return false;\n         }\n+        if (coin.nHeight > base_height ||\n+            outpoint.n >= std::numeric_limits<decltype(outpoint.n)>::max() // Avoid integer wrap-around in coinstats.cpp:ApplyHash",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22146#discussion_r659456581",
      "id" : 659456581,
      "line" : 4993,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1OTQ1NjU4MQ==",
      "original_commit_id" : "fa9ebedec3f982bb5bb459ea33d74c94d9b5cec4",
      "original_line" : 4993,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 5,
      "pull_request_review_id" : 693528613,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22146",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-28T03:33:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/659456581",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22146#discussion_r659524644"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22146"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/659524644"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The file is already using `std::numeric_limits`, so it seem cleanup that can be done independent of this change. In fact there a quite a few other files which are missing the include, so I am leaving this for another pull:\r\n\r\n```\r\n-src/bench/nanobench.h\r\n-src/bitcoin-util.cpp\r\n-src/blockencodings.cpp\r\n-src/blockencodings.h\r\n-src/bloom.cpp\r\n-src/chain.cpp\r\n-src/chainparams.cpp\r\n-src/fs.cpp\r\n-src/init.cpp\r\n-src/leveldb/util/env_windows.cc\r\n-src/miner.cpp\r\n-src/net_processing.cpp\r\n-src/policy/rbf.cpp\r\n-src/primitives/transaction.h\r\n-src/qt/intro.cpp\r\n-src/qt/optionsdialog.cpp\r\n-src/rpc/blockchain.cpp\r\n-src/rpc/mining.cpp\r\n-src/script/interpreter.cpp\r\n-src/support/lockedpool.cpp\r\n-src/test/fuzz/bloom_filter.cpp\r\n-src/test/fuzz/pow.cpp\r\n-src/test/fuzz/rolling_bloom_filter.cpp\r\n-src/test/fuzz/tx_pool.cpp\r\n-src/test/fuzz/util.cpp\r\n-src/test/fuzz/util.h\r\n-src/test/random_tests.cpp\r\n-src/test/rpc_tests.cpp\r\n-src/test/scriptnum_tests.cpp\r\n-src/test/serialize_tests.cpp\r\n-src/test/sighash_tests.cpp\r\n-src/test/skiplist_tests.cpp\r\n-src/test/util_tests.cpp\r\n-src/test/versionbits_tests.cpp\r\n-src/txmempool.cpp\r\n-src/txrequest.cpp\r\n-src/util/system.h\r\n-src/validation.cpp\r\n-src/wallet/interfaces.cpp\r\n-src/wallet/rpcwallet.cpp\r\n-src/wallet/scriptpubkeyman.cpp\r\n-src/wallet/spend.cpp\r\n-src/wallet/wallet.cpp\r\n",
      "commit_id" : "fa9ebedec3f982bb5bb459ea33d74c94d9b5cec4",
      "created_at" : "2021-06-28T06:55:41Z",
      "diff_hunk" : "@@ -4989,6 +4989,14 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n                       coins_count - coins_left);\n             return false;\n         }\n+        if (coin.nHeight > base_height ||\n+            outpoint.n >= std::numeric_limits<decltype(outpoint.n)>::max() // Avoid integer wrap-around in coinstats.cpp:ApplyHash",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22146#discussion_r659524644",
      "id" : 659524644,
      "in_reply_to_id" : 659456581,
      "line" : 4993,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1OTUyNDY0NA==",
      "original_commit_id" : "fa9ebedec3f982bb5bb459ea33d74c94d9b5cec4",
      "original_line" : 4993,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 5,
      "pull_request_review_id" : 693610290,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22146",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-28T06:55:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/659524644",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "crACK https://github.com/bitcoin/bitcoin/pull/22146/commits/fa9ebedec3f982bb5bb459ea33d74c94d9b5cec4\r\n\r\nLooks good; thanks for finding and fixing @MarcoFalke.",
      "created_at" : "2021-06-28T13:55:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22146#issuecomment-869706552",
      "id" : 869706552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22146",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2OTcwNjU1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-28T13:55:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/869706552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   }
]
