{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "The bitcoin-core RNG uses the x86 RDSeed and RDRand instructions as an additional source of entropy. However RDSeed and RDRand are not used as an additional source of entropy even if the CPU supports them *if* the bitcoind binary was built using the the Microsoft C++ compiler, MSVC. This results from the fact that: \r\n\r\n1. The bitcoin-core code base uses the GCC macros such as `__x86_64__` to detect the CPU architecture. Thus on platforms that do not support the GCC macros the compiler will make the incorrect assumption that the underlying system does not support RDRand and RDSeed.\r\n2. The bitcoin-core code base uses the GCC keyword `__asm__` for inline assembly. This keyword is not supported for MSVC.\r\n\r\nThis PR adds support for RDRand/RDSeed to bitcoind when built with MSVC by adding MSVC supported macros to correctly determine the target architecture and by adding MSVC supported keywords for the HDSeed and HDRand x86 instructions. This PR includes hwrand_tests to validate this behavior.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22158/comments",
   "created_at" : "2021-06-05T01:57:00Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22158/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/22158",
   "id" : 912058969,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22158/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NjYyMjYwOTk0",
   "number" : 22158,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/22158.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22158",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/22158.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22158"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "rng: adds support for x86 rdrand/rdseed instructions when building using MSVC",
   "updated_at" : "2021-06-05T01:57:25Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22158",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/274814?v=4",
      "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
      "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
      "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
      "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/EthanHeilman",
      "id" : 274814,
      "login" : "EthanHeilman",
      "node_id" : "MDQ6VXNlcjI3NDgxNA==",
      "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
      "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
      "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/EthanHeilman"
   }
}
