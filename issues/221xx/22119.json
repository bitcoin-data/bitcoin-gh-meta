{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "Software development for any bitcoin mining, solo or pooled, requires an excessively large hash rate to ensure block submission is correct.\r\nEffectively to submit a full difficulty network block before there is some certainly of the validity of the block generation code developed.\r\nMany developers do not test this properly and have lost blocks due to the developer's ignorance or negligence.\r\n\r\nIf instead the difficulty of the block submitted could **optionally** only be tested last, then testing block generation by submitting a low difficulty block, that would fail with {\"result\":\"high-hash\",\"error\":null,\"id\":1} could directly imply that all other requirements and consensus tests have passed, only the low difficulty of the block has failed.\r\nImplementing this would greatly simplify testing block generation code, since testing could be run on a bitcoin on the live network which would also be under the full validation and consensus rules of the live network.\r\nA developer could simply stop their live bitcoin, restart it with the **late difficulty validation flag** and then run any testing required, then restart it without the **flag**.\r\n\r\nThis change would, of course, have to be optional, since saving one of the quickest and easiest tests of hashing the block header, moved much later in the validation, might open a DDoS exploit.\r\nThe bitcoin code could have two paths doing the difficulty validation and run one or the other depending upon the runtime **flag**.\r\n\r\nUsing testnet is not an exact test of the bitcoin block validation code due to varying code paths and varying consensus rules.\r\n\r\nMy normal process to test this is to hack the difficulty test in current bitcoin code and submit a lower difficulty block.\r\nThis however, means I must lock the development bitcoin behind a completely closed wall, since should it attempt to transmit the low difficulty block, it's IP would be appropriately ostracized by the live network.\r\nThe further result of this is the bitcoin having invalid blocks in it's database, which I have found it unable to roll back on a restart during re-validation with an unmodified bitcoin, and thus having to delete it.\r\n\r\nUsing a live online bitcoin, with a simple restart with a **flag** to enable full testing other than difficulty being last, should promote better development of mining generation software.",
   "closed_at" : null,
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 8,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22119/comments",
   "created_at" : "2021-06-01T12:56:51Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22119/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/22119",
   "id" : 908264463,
   "labels" : [
      {
         "color" : "006688",
         "default" : false,
         "description" : null,
         "id" : 477890092,
         "name" : "Questions and Help",
         "node_id" : "MDU6TGFiZWw0Nzc4OTAwOTI=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help"
      },
      {
         "color" : "0052cc",
         "default" : false,
         "description" : null,
         "id" : 98279177,
         "name" : "RPC/REST/ZMQ",
         "node_id" : "MDU6TGFiZWw5ODI3OTE3Nw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22119/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU5MDgyNjQ0NjM=",
   "number" : 22119,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Optional late, block submission, difficulty test",
   "updated_at" : "2021-06-08T06:18:35Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22119",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1059166?v=4",
      "events_url" : "https://api.github.com/users/kanoi/events{/privacy}",
      "followers_url" : "https://api.github.com/users/kanoi/followers",
      "following_url" : "https://api.github.com/users/kanoi/following{/other_user}",
      "gists_url" : "https://api.github.com/users/kanoi/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/kanoi",
      "id" : 1059166,
      "login" : "kanoi",
      "node_id" : "MDQ6VXNlcjEwNTkxNjY=",
      "organizations_url" : "https://api.github.com/users/kanoi/orgs",
      "received_events_url" : "https://api.github.com/users/kanoi/received_events",
      "repos_url" : "https://api.github.com/users/kanoi/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/kanoi/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/kanoi/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/kanoi"
   }
}
