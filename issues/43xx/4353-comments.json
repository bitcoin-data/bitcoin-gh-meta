[
   {
      "body" : "commit f59d8f0b644d49324cabd19c58cf2262d49e1392 (pull #3514) is the culprit here. I've no idea why it was merged without being tested first.",
      "created_at" : "2014-06-23T10:42:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-46828905",
      "id" : 46828905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-06-23T10:54:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46828905",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "The purpose is preventing nodes from dying through out-of-memory, at the cost of wasting some network traffic.\r\n\r\nI did test this, but as I rarely saw more than 500 orphans simultaneously in memory, 750 seemed like a safe number. It's probably not enough for some deployments.\r\n\r\nThe real problem however is that we're downloading and storing orphans in the first place. As long as we do that, everything will be a compromise one way or another (either RAM or network traffic), and guessing is hard.",
      "created_at" : "2014-06-23T11:44:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-46833707",
      "id" : 46833707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-06-23T11:44:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46833707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "#4431 has been developed by me over the last few days, and quite successfully fixes the many orphans problem. Please do check it out.",
      "created_at" : "2014-06-27T13:22:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-47342443",
      "id" : 47342443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-06-27T13:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47342443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "I just wanted to comment on this issue (because it shows up in google first) that a work around is to use the '-maxorphanblocks' startup parameter which should be in latest version if anyone is still running into this issue. \r\n\r\nIt was merged here:\r\nhttps://github.com/bitcoin/bitcoin/pull/4258",
      "created_at" : "2014-12-05T05:16:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-65748605",
      "id" : 65748605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-12-05T05:16:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/65748605",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1312019?v=3",
         "events_url" : "https://api.github.com/users/a-r-d/events{/privacy}",
         "followers_url" : "https://api.github.com/users/a-r-d/followers",
         "following_url" : "https://api.github.com/users/a-r-d/following{/other_user}",
         "gists_url" : "https://api.github.com/users/a-r-d/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/a-r-d",
         "id" : 1312019,
         "login" : "a-r-d",
         "organizations_url" : "https://api.github.com/users/a-r-d/orgs",
         "received_events_url" : "https://api.github.com/users/a-r-d/received_events",
         "repos_url" : "https://api.github.com/users/a-r-d/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/a-r-d/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/a-r-d/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/a-r-d"
      }
   },
   {
      "body" : "@a-r-d im having a similar issue. As my local node connects to more and more peers it appears to slow to a crawl over time as the orphan list grows until max:750\r\n\r\nwhat would be a good starting point to set for -maxorphanblocks ?",
      "created_at" : "2014-12-05T06:17:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-65751983",
      "id" : 65751983,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-12-05T06:17:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/65751983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1194617?v=3",
         "events_url" : "https://api.github.com/users/Taugeran/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Taugeran/followers",
         "following_url" : "https://api.github.com/users/Taugeran/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Taugeran/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Taugeran",
         "id" : 1194617,
         "login" : "Taugeran",
         "organizations_url" : "https://api.github.com/users/Taugeran/orgs",
         "received_events_url" : "https://api.github.com/users/Taugeran/received_events",
         "repos_url" : "https://api.github.com/users/Taugeran/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Taugeran/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Taugeran/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Taugeran"
      }
   },
   {
      "body" : "Note that in master (what will be 0.10) there is no concept of ORPHAN BLOCKS anymore. It just downloads the blocks on the longest chain.",
      "created_at" : "2014-12-05T06:28:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-65752565",
      "id" : 65752565,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-12-05T06:28:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/65752565",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@Taugeran I just ran for 6 hours and got 450 orphan blocks but I am still 30 weeks behind. I set my '-maxorphanblocks' to 5000 and hopefully it will run for a few days at this rate. \r\n\r\n@laanwj that sounds good this is just for those of us running binaries from release tags v0.9.3 and v0.9.2 or basically what is currently linked to the main bitcoin.org site. ",
      "created_at" : "2014-12-05T13:11:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-65787746",
      "id" : 65787746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-12-05T13:11:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/65787746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1312019?v=3",
         "events_url" : "https://api.github.com/users/a-r-d/events{/privacy}",
         "followers_url" : "https://api.github.com/users/a-r-d/followers",
         "following_url" : "https://api.github.com/users/a-r-d/following{/other_user}",
         "gists_url" : "https://api.github.com/users/a-r-d/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/a-r-d",
         "id" : 1312019,
         "login" : "a-r-d",
         "organizations_url" : "https://api.github.com/users/a-r-d/orgs",
         "received_events_url" : "https://api.github.com/users/a-r-d/received_events",
         "repos_url" : "https://api.github.com/users/a-r-d/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/a-r-d/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/a-r-d/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/a-r-d"
      }
   },
   {
      "body" : "@laanwj are there other issues fixed in master right now? I am wondering if it would be better just to clone off of the master branch and compile it myself. The client still seems to downloading blocks extremely slowly. ",
      "created_at" : "2014-12-05T13:13:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-65787939",
      "id" : 65787939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-12-05T13:13:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/65787939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1312019?v=3",
         "events_url" : "https://api.github.com/users/a-r-d/events{/privacy}",
         "followers_url" : "https://api.github.com/users/a-r-d/followers",
         "following_url" : "https://api.github.com/users/a-r-d/following{/other_user}",
         "gists_url" : "https://api.github.com/users/a-r-d/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/a-r-d",
         "id" : 1312019,
         "login" : "a-r-d",
         "organizations_url" : "https://api.github.com/users/a-r-d/orgs",
         "received_events_url" : "https://api.github.com/users/a-r-d/received_events",
         "repos_url" : "https://api.github.com/users/a-r-d/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/a-r-d/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/a-r-d/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/a-r-d"
      }
   },
   {
      "body" : "If you count 1MB per block, a maxorphanblocks of 5000 can take up to 5GB of memory. If you suffer from the OP's issue you should set it lower than the default of 750, not higher.\r\n\r\nFor 0.9.x it is recommended to use the bootstrap torrent instead of letting the node download the blocks. See https://bitcointalk.org/index.php?topic=145386.0 .\r\n\r\n@a-r-d Yes, **a lot** has changed since 0.9.x. See for example https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes.md .\r\n",
      "created_at" : "2014-12-05T13:18:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-65788321",
      "id" : 65788321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-12-05T13:18:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/65788321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj  thanks for linking me to the bootstrap torrent. I finished downloading the block chain and copied into my data directory (and cleared out my old data). I then started bitcoin-qt and watched it import the blocks- this got me all the way up to block 295266. \r\n\r\nHowever I am still 34 weeks behind and the client will not download any more blocks after being connected for several days. Do you have any more suggestions to try? The 0.9.3 build seems a little broken to me. \r\n\r\nI also did clone master and build from the source. I started it an let it run for a few hours... it also seems not to want to download any more blocks from the network. \r\n\r\nScreenshot:\r\n![master-qt-not-syncing](https://cloud.githubusercontent.com/assets/1312019/5332783/a62a4780-7e30-11e4-81be-208046cd399d.png)",
      "created_at" : "2014-12-07T21:47:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-65956742",
      "id" : 65956742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2014-12-07T21:47:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/65956742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1312019?v=3",
         "events_url" : "https://api.github.com/users/a-r-d/events{/privacy}",
         "followers_url" : "https://api.github.com/users/a-r-d/followers",
         "following_url" : "https://api.github.com/users/a-r-d/following{/other_user}",
         "gists_url" : "https://api.github.com/users/a-r-d/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/a-r-d",
         "id" : 1312019,
         "login" : "a-r-d",
         "organizations_url" : "https://api.github.com/users/a-r-d/orgs",
         "received_events_url" : "https://api.github.com/users/a-r-d/received_events",
         "repos_url" : "https://api.github.com/users/a-r-d/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/a-r-d/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/a-r-d/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/a-r-d"
      }
   },
   {
      "body" : "same here, got stuck at block 322082. \r\n\r\nversion is v0.9.3.0-g40d2041-beta (0.9.3-trusty2 deb).",
      "created_at" : "2015-02-03T08:41:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-72613408",
      "id" : 72613408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2015-02-03T08:41:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72613408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/488213?v=3",
         "events_url" : "https://api.github.com/users/varac/events{/privacy}",
         "followers_url" : "https://api.github.com/users/varac/followers",
         "following_url" : "https://api.github.com/users/varac/following{/other_user}",
         "gists_url" : "https://api.github.com/users/varac/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/varac",
         "id" : 488213,
         "login" : "varac",
         "organizations_url" : "https://api.github.com/users/varac/orgs",
         "received_events_url" : "https://api.github.com/users/varac/received_events",
         "repos_url" : "https://api.github.com/users/varac/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/varac/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/varac/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/varac"
      }
   },
   {
      "body" : "here's a short snippet from debug.log: https://gist.github.com/anonymous/26122b65a246e8e00d82",
      "created_at" : "2015-02-03T08:42:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-72613580",
      "id" : 72613580,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2015-02-03T08:42:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72613580",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/488213?v=3",
         "events_url" : "https://api.github.com/users/varac/events{/privacy}",
         "followers_url" : "https://api.github.com/users/varac/followers",
         "following_url" : "https://api.github.com/users/varac/following{/other_user}",
         "gists_url" : "https://api.github.com/users/varac/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/varac",
         "id" : 488213,
         "login" : "varac",
         "organizations_url" : "https://api.github.com/users/varac/orgs",
         "received_events_url" : "https://api.github.com/users/varac/received_events",
         "repos_url" : "https://api.github.com/users/varac/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/varac/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/varac/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/varac"
      }
   },
   {
      "body" : "@varac see #5660 and #5645",
      "created_at" : "2015-02-03T12:39:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4353#issuecomment-72643525",
      "id" : 72643525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4353",
      "updated_at" : "2015-02-03T12:40:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72643525",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
