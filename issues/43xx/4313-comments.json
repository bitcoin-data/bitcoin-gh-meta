[
   {
      "author_association" : "MEMBER",
      "body" : "Do you have a backtrace of the error that happens? I'm not sure how it ends up in that check, in principle loading the wallet shouldn't fail on transactions.\n",
      "created_at" : "2014-06-09T21:59:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4313#issuecomment-45549903",
      "id" : 45549903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4313",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NTQ5OTAz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45549903/reactions"
      },
      "updated_at" : "2014-06-09T22:03:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45549903",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I just threw a breakpoint on AddCScriptâ \n\n#0  CBasicKeyStore::AddCScript (this=this@entry=0x55557602e5f0, redeemScript=...) at keystore.cpp:35\n#1  0x0000555555790c81 in LoadCScript (redeemScript=..., this=0x55557602e5f0) at wallet.h:214\n#2  ReadKeyValue (pwallet=pwallet@entry=0x55557602e5f0, ssKey=..., ssValue=..., wss=..., strType=\"cscript\", strErr=\"\") at walletdb.cpp:547\n#3  0x000055555579154b in CWalletDB::LoadWallet (this=this@entry=0x7fffffffbf40, pwallet=pwallet@entry=0x55557602e5f0) at walletdb.cpp:623\n#4  0x000055555577b9ee in CWallet::LoadWallet (this=0x55557602e5f0, fFirstRunRet=@0x7fffffffcaa0: false) at wallet.cpp:1475\n#5  0x00005555555a5a4b in AppInit2 (threadGroup=...) at init.cpp:975\n#6  0x000055555558d513 in AppInit (argc=argc@entry=2, argv=argv@entry=0x7fffffffdd28) at bitcoind.cpp:143\n#7  0x000055555558381f in main (argc=2, argv=0x7fffffffdd28) at bitcoind.cpp:180\n",
      "created_at" : "2014-06-09T22:13:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4313#issuecomment-45551175",
      "id" : 45551175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4313",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NTUxMTc1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45551175/reactions"
      },
      "updated_at" : "2014-06-09T22:13:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45551175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks. I see. This happens while reading the \"cscript\" record, not while reading a transaction, that's why I couldn't find it.\n\nWhat would the right behaviour here?\n- Should we just pretend that these CScripts are not there when loading from an existing wallet (with a warning)?\n- Or should they be force-added, bypassing the check? (this could result in problems later, so I prefer the above)\n",
      "created_at" : "2014-06-10T06:23:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4313#issuecomment-45577941",
      "id" : 45577941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4313",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NTc3OTQx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45577941/reactions"
      },
      "updated_at" : "2014-06-10T06:23:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45577941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think the first. Just ignore them, maybe a warning in the logs. (though we may get complaints that there is a warning with no way to cure itâ¦)\n",
      "created_at" : "2014-06-10T06:28:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4313#issuecomment-45578212",
      "id" : 45578212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4313",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NTc4MjEy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45578212/reactions"
      },
      "updated_at" : "2014-06-10T06:28:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45578212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Well we _could_ define a new wallet version, ignore them only in the current wallet version (and warn), and make an upgrader that removes them. That would provide an upgrade path to get rid of the warnings.\n\nBut that may be too much. Bumping the wallet version would break compatibility with old wallets for no good reason, for example.\n",
      "created_at" : "2014-06-10T07:17:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4313#issuecomment-45581155",
      "id" : 45581155,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4313",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NTgxMTU1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45581155/reactions"
      },
      "updated_at" : "2014-06-10T07:17:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45581155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
