[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568080691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568080691"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think `GetTime` is deprecated in favor of `GetSystemTimeInSeconds` (not mockable) or `GetTime<T>` (mockable), see src/util.time.h",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-01T19:24:37Z",
      "diff_hunk" : "@@ -712,6 +714,9 @@ static UniValue ConnectAndCallRPC(BaseRequestHandler* rh, const std::string& str\n     UniValue response(UniValue::VOBJ);\n     // Execute and handle connection failures with -rpcwait.\n     const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\n+    const int timeout = gArgs.GetArg(\"-rpcwaittimeout\", DEFAULT_WAIT_CLIENT_TIMEOUT);\n+    const int64_t deadline = GetTime() + timeout;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568080691",
      "id" : 568080691,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2ODA4MDY5MQ==",
      "original_commit_id" : "7f19f5f83d5b4cb0d3650e2bac984a3edd493225",
      "original_line" : 718,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 580688852,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568080691",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568083803"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568083803"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Judging from the PR description you likely thought about this, but could the timeout still be an argument in `-rpcwait` and only kick in if the value is greater than 1? That would avoid introducing another config option and as a bonus would be shorter to type. IDK what kind of timeout values API clients need.",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-01T19:29:44Z",
      "diff_hunk" : "@@ -70,6 +71,7 @@ static void SetupCliArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-rpcport=<port>\", strprintf(\"Connect to JSON-RPC on <port> (default: %u, testnet: %u, signet: %u, regtest: %u)\", defaultBaseParams->RPCPort(), testnetBaseParams->RPCPort(), signetBaseParams->RPCPort(), regtestBaseParams->RPCPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcuser=<user>\", \"Username for JSON-RPC connections\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcwait\", \"Wait for RPC server to start\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-rpcwaittimeout=<n>\", strprintf(\"Timeout in seconds to wait for the RPC server to start, or 0 for no timeout. (default: %d)\", DEFAULT_WAIT_CLIENT_TIMEOUT), ArgsManager::ALLOW_INT, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568083803",
      "id" : 568083803,
      "line" : 77,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2ODA4MzgwMw==",
      "original_commit_id" : "7f19f5f83d5b4cb0d3650e2bac984a3edd493225",
      "original_line" : 77,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 580688852,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568083803",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568084179"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568084179"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, could be `constexpr` and apply clang formatting for new code",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-01T19:30:18Z",
      "diff_hunk" : "@@ -39,6 +39,7 @@ UrlDecodeFn* const URL_DECODE = urlDecode;\n \n static const char DEFAULT_RPCCONNECT[] = \"127.0.0.1\";\n static const int DEFAULT_HTTP_CLIENT_TIMEOUT=900;\n+static const int DEFAULT_WAIT_CLIENT_TIMEOUT=0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568084179",
      "id" : 568084179,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2ODA4NDE3OQ==",
      "original_commit_id" : "7f19f5f83d5b4cb0d3650e2bac984a3edd493225",
      "original_line" : 42,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 580688852,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568084179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568098843"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568098843"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, amended the use of `GetTime` with the `GetTime<T>` version (had to look it up, hopefully I got the right version).",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-01T19:55:21Z",
      "diff_hunk" : "@@ -712,6 +714,9 @@ static UniValue ConnectAndCallRPC(BaseRequestHandler* rh, const std::string& str\n     UniValue response(UniValue::VOBJ);\n     // Execute and handle connection failures with -rpcwait.\n     const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\n+    const int timeout = gArgs.GetArg(\"-rpcwaittimeout\", DEFAULT_WAIT_CLIENT_TIMEOUT);\n+    const int64_t deadline = GetTime() + timeout;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568098843",
      "id" : 568098843,
      "in_reply_to_id" : 568080691,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2ODA5ODg0Mw==",
      "original_commit_id" : "7f19f5f83d5b4cb0d3650e2bac984a3edd493225",
      "original_line" : 718,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 580712227,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568098843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568099146"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568099146"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Had to catch up about `constexpr`, but good point :+1:",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-01T19:55:45Z",
      "diff_hunk" : "@@ -39,6 +39,7 @@ UrlDecodeFn* const URL_DECODE = urlDecode;\n \n static const char DEFAULT_RPCCONNECT[] = \"127.0.0.1\";\n static const int DEFAULT_HTTP_CLIENT_TIMEOUT=900;\n+static const int DEFAULT_WAIT_CLIENT_TIMEOUT=0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568099146",
      "id" : 568099146,
      "in_reply_to_id" : 568084179,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2ODA5OTE0Ng==",
      "original_commit_id" : "7f19f5f83d5b4cb0d3650e2bac984a3edd493225",
      "original_line" : 42,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 580712561,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568099146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568099730"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568099730"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm quite happy to switch it around, but having `1` as a special value is kinda weird as well. I thought I'd go the most cautious route first and see which way wins in the review xD",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-01T19:56:49Z",
      "diff_hunk" : "@@ -70,6 +71,7 @@ static void SetupCliArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-rpcport=<port>\", strprintf(\"Connect to JSON-RPC on <port> (default: %u, testnet: %u, signet: %u, regtest: %u)\", defaultBaseParams->RPCPort(), testnetBaseParams->RPCPort(), signetBaseParams->RPCPort(), regtestBaseParams->RPCPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcuser=<user>\", \"Username for JSON-RPC connections\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcwait\", \"Wait for RPC server to start\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-rpcwaittimeout=<n>\", strprintf(\"Timeout in seconds to wait for the RPC server to start, or 0 for no timeout. (default: %d)\", DEFAULT_WAIT_CLIENT_TIMEOUT), ArgsManager::ALLOW_INT, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568099730",
      "id" : 568099730,
      "in_reply_to_id" : 568083803,
      "line" : 77,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2ODA5OTczMA==",
      "original_commit_id" : "7f19f5f83d5b4cb0d3650e2bac984a3edd493225",
      "original_line" : 77,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 580713356,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568099730",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568104605"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568104605"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fair. Is the real time ever that low anyway? Maybe counting -rpcwait=1 as one second would be fine...I don't have a fast computer and generally run debug builds, so I may see slower times than others, but rpcwait is ~3 seconds for me on signet and much longer on regtest (~10s), testnet (~95s) and mainnet.",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-01T20:04:53Z",
      "diff_hunk" : "@@ -70,6 +71,7 @@ static void SetupCliArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-rpcport=<port>\", strprintf(\"Connect to JSON-RPC on <port> (default: %u, testnet: %u, signet: %u, regtest: %u)\", defaultBaseParams->RPCPort(), testnetBaseParams->RPCPort(), signetBaseParams->RPCPort(), regtestBaseParams->RPCPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcuser=<user>\", \"Username for JSON-RPC connections\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcwait\", \"Wait for RPC server to start\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-rpcwaittimeout=<n>\", strprintf(\"Timeout in seconds to wait for the RPC server to start, or 0 for no timeout. (default: %d)\", DEFAULT_WAIT_CLIENT_TIMEOUT), ArgsManager::ALLOW_INT, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r568104605",
      "id" : 568104605,
      "in_reply_to_id" : 568083803,
      "line" : 77,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2ODEwNDYwNQ==",
      "original_commit_id" : "7f19f5f83d5b4cb0d3650e2bac984a3edd493225",
      "original_line" : 77,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 580719495,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/568104605",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-02-01T22:59:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-771220590",
      "id" : 771220590,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3MTIyMDU5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-01T22:59:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/771220590",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2021-02-02T05:49:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-771381565",
      "id" : 771381565,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3MTM4MTU2NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-02T05:49:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/771381565",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2021-02-02T12:29:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-771601971",
      "id" : 771601971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3MTYwMTk3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-02T12:29:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/771601971",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r569366635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569366635"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't expect many users to run into issues if we were to special case `-rpcwait=1`, but given the \"creativity\" of users I wouldn't put it past them to use `-rpcwait=42` or `-rpcwait=31337`. Some users seem to see \"any value\" as a personal challenge :smiley: ",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-03T12:17:09Z",
      "diff_hunk" : "@@ -70,6 +71,7 @@ static void SetupCliArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-rpcport=<port>\", strprintf(\"Connect to JSON-RPC on <port> (default: %u, testnet: %u, signet: %u, regtest: %u)\", defaultBaseParams->RPCPort(), testnetBaseParams->RPCPort(), signetBaseParams->RPCPort(), regtestBaseParams->RPCPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcuser=<user>\", \"Username for JSON-RPC connections\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcwait\", \"Wait for RPC server to start\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-rpcwaittimeout=<n>\", strprintf(\"Timeout in seconds to wait for the RPC server to start, or 0 for no timeout. (default: %d)\", DEFAULT_WAIT_CLIENT_TIMEOUT), ArgsManager::ALLOW_INT, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r569366635",
      "id" : 569366635,
      "in_reply_to_id" : 568083803,
      "line" : 77,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTM2NjYzNQ==",
      "original_commit_id" : "7f19f5f83d5b4cb0d3650e2bac984a3edd493225",
      "original_line" : 77,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 582301114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569366635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the reviews and concept ACKs everybody :+1: \r\n\r\nI'm a bit puzzled by the appveyo failure, which doesn't surface any details related to these changes, is this something my changes broke or was it something with `master` at the time of the branching?",
      "created_at" : "2021-02-03T12:19:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-772467174",
      "id" : 772467174,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3MjQ2NzE3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-03T12:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/772467174",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, code change looks good to me.\r\n\r\nJust noting that effective minimum timeout is 1s, maybe sleep with min(timout, 1s)? An alternative would be to specify attempt count.",
      "created_at" : "2021-02-03T12:29:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-772472401",
      "id" : 772472401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3MjQ3MjQwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-03T12:29:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/772472401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Just noting that effective minimum timeout is 1s, maybe sleep with min(timout, 1s)? An alternative would be to specify attempt count.\r\n\r\nExcellent point/ The reason I went for the deadline approach was that in between sleeps we are actually attempting to connect over the network, which has its own timeout (`DEFAULT_HTTP_CLIENT_TIMEOUT`), which would cause drift if we were to just count the attempts instead of using the delta.\r\n\r\nEffectively the time we can wait in the worst case is `-rpcwaittimeout + DEFAULT_HTTP_CLIENT_TIMEOUT` if we happen to start an attempt right before the deadline gets triggered. If we were counting we'd have a maximum of `-rpcwaittimeout * (1s + DEFAULT_HTTP_CLIENT_TIMEOUT)` , which isn't really the interface I'd feel comfortable using.",
      "created_at" : "2021-02-03T12:36:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-772476602",
      "id" : 772476602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3MjQ3NjYwMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-03T12:36:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/772476602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm a bit puzzled by the appveyo failure, which doesn't surface any details related to these changes, is this something my changes broke or was it something with `master` at the time of the branching?\r\n\r\nAppveyor is a bit flakey ATM, it's probably unrelated.\r\n",
      "created_at" : "2021-02-03T13:33:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-772509112",
      "id" : 772509112,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3MjUwOTExMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-03T13:33:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/772509112",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased on top of `master` and squashed, let's see if the flake persists.",
      "created_at" : "2021-02-05T11:55:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-773988651",
      "id" : 773988651,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3Mzk4ODY1MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-05T11:56:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/773988651",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Yep seems, like CI is happier now ^^",
      "created_at" : "2021-02-08T11:16:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-775071058",
      "id" : 775071058,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3NTA3MTA1OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-08T11:16:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/775071058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r574100686"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574100686"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you want this to be `std::chrono::seconds` instead of `std::chrono::microseconds`, or to change the doc above to mention the parameter is passed in microseconds.",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-10T21:47:27Z",
      "diff_hunk" : "@@ -713,6 +715,9 @@ static UniValue ConnectAndCallRPC(BaseRequestHandler* rh, const std::string& str\n     UniValue response(UniValue::VOBJ);\n     // Execute and handle connection failures with -rpcwait.\n     const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\n+    const int timeout = gArgs.GetArg(\"-rpcwaittimeout\", DEFAULT_WAIT_CLIENT_TIMEOUT);\n+    const int64_t deadline = GetTime<std::chrono::microseconds>().count() + timeout;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r574100686",
      "id" : 574100686,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDEwMDY4Ng==",
      "original_commit_id" : "7dcead4319258b058eb8ee5f2271e5c6dad264aa",
      "original_line" : 719,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 588083574,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574100686",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Code review ACK [7dcead4](https://github.com/bitcoin/bitcoin/commit/7dcead4319258b058eb8ee5f2271e5c6dad264aa).\r\n> \r\n> nit, could have a release note.\r\n\r\nCan you point me to the conventions for release notes? This is my first PR that might need them ð",
      "created_at" : "2021-02-15T10:41:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-779132459",
      "id" : 779132459,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3OTEzMjQ1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-15T10:41:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/779132459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Can you point me to the conventions for release notes? This is my first PR that might need them \r\n\r\nI couldn't find anything in `CONTRIBUTING.md` (this would make sense to add). We prefer to use 'release notes fragments' to avoid introducing merge hotspots. These will be collected before the next major release.\r\n\r\nThese have a) the broad category (in this case, I guess \"RPC client functionality\") b) a very brief description (not full documentation!) of the user-visible change.\r\n\r\nSee for example: \r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/release-notes-18077.md\r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/release-notes-19776.md\r\n",
      "created_at" : "2021-02-15T10:55:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-779140249",
      "id" : 779140249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3OTE0MDI0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-15T10:56:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/779140249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > Can you point me to the conventions for release notes? This is my first PR that might need them\r\n> \r\n> I couldn't find anything in `CONTRIBUTING.md` (this would make sense to add). We prefer to use 'release notes fragments' to avoid introducing merge hotspots. These will be collected before the next major release.\r\n> \r\n> These have a) the broad category (in this case, I guess \"RPC client functionality\") b) a very brief description (not full documentation!) of the user-visible change.\r\n> \r\n> See for example:\r\n> https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes-18077.md\r\n> https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes-19776.md\r\n\r\nAwesome, thanks. I was expecting something like this to avoid hotspots, and it's way easier than c-lightning's Changelog-in-the-commit-message method :+1:\r\n",
      "created_at" : "2021-02-15T11:04:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-779145567",
      "id" : 779145567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3OTE0NTU2Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-15T11:04:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/779145567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "We have details at https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#release-notes",
      "created_at" : "2021-02-15T11:05:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-779146225",
      "id" : 779146225,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3OTE0NjIyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-15T11:05:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/779146225",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> We have details at https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#release-notes\r\n\r\nOh great! I somehow couldn't find this (I did grep for a few things). Might make sense to link to this from `CONTRIBUTING.md`.",
      "created_at" : "2021-02-15T11:10:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-779149418",
      "id" : 779149418,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3OTE0OTQxOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-15T11:10:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/779149418",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Added preliminary release notes in a new file, and fixed up the units in the `GetTime<T>` template as well as the unit of the sleep call. Let me know if the release notes are not in the desired format, and I'll fix them up asap.",
      "created_at" : "2021-02-16T14:10:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-779860568",
      "id" : 779860568,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3OTg2MDU2OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-16T14:10:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/779860568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r576912337"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/576912337"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Among the current headers in `doc/release-notes.md`, \"New settings\" might be the closest, but I'm not sure. There doesn't seem to be a CLI header. Suggestion follows, feel free to ignore.\r\n\r\n```diff\r\n-RPC client functionality\r\n-------------------------\r\n+New settings\r\n+------------\r\n \r\n-- The new `-rpcwaittimeout` argument to `bitcoin-cli` sets the timeout\r\n-  in seconds to use with `-rpcwait`. If the timeout expires\r\n+- A new `-rpcwaittimeout` argument to `bitcoin-cli` sets the timeout\r\n+  in seconds to use with `-rpcwait`. If the timeout expires,\r\n   `bitcoin-cli` will report a failure. (#21056)\r\n```\r\n",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-16T15:29:41Z",
      "diff_hunk" : "@@ -0,0 +1,6 @@\n+RPC client functionality\n+------------------------\n+\n+- The new `-rpcwaittimeout` argument to `bitcoin-cli` sets the timeout\n+  in seconds to use with `-rpcwait`. If the timeout expires\n+  `bitcoin-cli` will report a failure. (#21056)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r576912337",
      "id" : 576912337,
      "line" : 6,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjkxMjMzNw==",
      "original_commit_id" : "d37379384cf4542b730ed7406a6ba2935b9c7257",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes-21056.md",
      "position" : 6,
      "pull_request_review_id" : 591340703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/576912337",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r576917497"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/576917497"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd still be in favor of combining `rpcwait` and `rpcwaittimeout`, but if we prefer two arguments for this, it may be helpful to mention the relationship to `-rpcwait` in this description. ",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-16T15:36:18Z",
      "diff_hunk" : "@@ -70,6 +71,7 @@ static void SetupCliArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-rpcport=<port>\", strprintf(\"Connect to JSON-RPC on <port> (default: %u, testnet: %u, signet: %u, regtest: %u)\", defaultBaseParams->RPCPort(), testnetBaseParams->RPCPort(), signetBaseParams->RPCPort(), regtestBaseParams->RPCPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcuser=<user>\", \"Username for JSON-RPC connections\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     argsman.AddArg(\"-rpcwait\", \"Wait for RPC server to start\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-rpcwaittimeout=<n>\", strprintf(\"Timeout in seconds to wait for the RPC server to start, or 0 for no timeout. (default: %d)\", DEFAULT_WAIT_CLIENT_TIMEOUT), ArgsManager::ALLOW_INT, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r576917497",
      "id" : 576917497,
      "in_reply_to_id" : 568083803,
      "line" : 77,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjkxNzQ5Nw==",
      "original_commit_id" : "7f19f5f83d5b4cb0d3650e2bac984a3edd493225",
      "original_line" : 77,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 591340703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/576917497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r576924237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/576924237"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The error I'm seeing is a bit confusing. It would be good to raise a specific error for the timeout value exceeded.\r\n```\r\n$ bitcoind -regtest -daemon ; bitcoin-cli -regtest -rpcwait -rpcwaittimeout=3 -getinfo\r\nBitcoin Core starting\r\nerror: server in warmup\r\n```\r\n",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-16T15:44:58Z",
      "diff_hunk" : "@@ -757,8 +762,9 @@ static UniValue ConnectAndCallRPC(BaseRequestHandler* rh, const std::string& str\n             }\n             break; // Connection succeeded, no need to retry.\n         } catch (const CConnectionFailed&) {\n-            if (fWait) {\n-                UninterruptibleSleep(std::chrono::milliseconds{1000});\n+            const int64_t now = GetTime<std::chrono::seconds>().count();\n+            if (fWait && (timeout == 0 || now < deadline)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r576924237",
      "id" : 576924237,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjkyNDIzNw==",
      "original_commit_id" : "d37379384cf4542b730ed7406a6ba2935b9c7257",
      "original_line" : 758,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 591340703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/576924237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> utACK, but I think actual software shouldn't be using bitcoin-cli at all...\r\n\r\nFor what it's worth I agree with @luke-jr here. Never really understood why `lightningd` doesn't use the RPC API directly. It's generally the more stable way, less moving parts, less potential ambiguity in input arguments. But it's an aside of course and off topic here.",
      "created_at" : "2021-02-25T20:23:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-786177287",
      "id" : 786177287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4NjE3NzI4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-25T20:23:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/786177287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> For what it's worth I agree with @luke-jr here. Never really understood why `lightningd` doesn't use the RPC API directly. It's generally the more stable way, less moving parts, less potential ambiguity in input arguments. But it's an aside of course and off topic here.\n\nNot trying to make this a `lightningd` specific proposal, but since it was brought up I'll try to reconstruct the rationale at the time.\n\nIt was/is easier to call out to an existing program that includes the logic for authentication, error handling and timeouts than to implement it from scratch on top of out io library which doesn't have good http support (this is likely self-inflicted, but it's what we've got and it's working well for us so far). Authentication here being the big win, since if you have `bitcoin-cli` working you don't have to do anything to configure `lightningd` to be able to talk to `bitcoind` (no need to handle cookie auth, user/pass auth, binding and connecting, no need to implement TLS). If we had implemented all these things we'd likely have ended up replicating all the functionality `bitcoin-cli` already has, which didn't seem like a good investment of time given the already huge amount of work to be done.\n\nAre there downsides of calling out to `bitcoin-cli`? Sure. Will we eventually end up replacing it with an internal implementation? Maybe. Is it working well as it is now? I think so ð\n\nThat being said, I'm sure we're not the only ones that could use a wait timeout (thinking primarily of scripts and operations).",
      "created_at" : "2021-02-26T10:16:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-786552602",
      "id" : 786552602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4NjU1MjYwMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-26T10:16:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/786552602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Are there downsides of calling out to bitcoin-cli? Sure. Will we eventually end up replacing it with an internal implementation? Maybe. Is it working well as it is now? I think so\r\n\r\nI guess it's mostly down to personal preference,  I prefer to use APIs directly, calling out to external programs reminds me of shell scripts which always are very environment-dependent. One concrete case is that bitcoin RPC might be forwarded from another container. Right now it's necessary to copy `bitcoin-cli` to the container hosting c-lightning. \r\n\r\nAlso as `bitcoin-cli` is aimed at human users, it has some client-side processing for argumentsâsome arguments are parsed as JSON others string-ized. Sending JSON directly is more \"pure\". Due to this added \"moving part\" I would personally prefer to avoid it from robust software.\r\n\r\nAlso accessing the API directly gives you full control over things such as timeouts. No need to wait for PRs to be merged here and then part of a release so that users have it :smile:  JSONRPC handling is straightforward if you already have JSON for your own APIs.\r\n\r\n> It was/is easier to call out to an existing program that includes the logic for authentication\r\n\r\nFor authenticationâI'd somewhat agree, but we don't do anything complex such as HMAC or challenge/response. The only available authentication mechanism is HTTP basic authentication with a)  send `$DATADIR/.cookie` as user/password or b) manually provide user/password.\r\n\r\n> no need to implement TLS\r\n\r\nThere hasn't been TLS support in `bitcoin-cli` for years.\r\n\r\nSorry for derailing this further. Again, this is not meant as criticism on this change nor on `lightningd` (and I'm not volunteering to make a patch to change this). As you say, it works  :woman_shrugging: ",
      "created_at" : "2021-02-26T16:15:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-786743317",
      "id" : 786743317,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4Njc0MzMxNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-26T16:15:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/786743317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r583762439"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583762439"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't know if that header is better. As a compromise \"New bitcoin-cli settings\" maybe?\r\n\r\nI do think it's important to keep mentions of server and other tools's command line arguments separated. Then again, all of this can be organized when merging the fragmentsâit's not an automatic process.",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-26T16:30:11Z",
      "diff_hunk" : "@@ -0,0 +1,6 @@\n+RPC client functionality\n+------------------------\n+\n+- The new `-rpcwaittimeout` argument to `bitcoin-cli` sets the timeout\n+  in seconds to use with `-rpcwait`. If the timeout expires\n+  `bitcoin-cli` will report a failure. (#21056)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r583762439",
      "id" : 583762439,
      "in_reply_to_id" : 576912337,
      "line" : 6,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4Mzc2MjQzOQ==",
      "original_commit_id" : "d37379384cf4542b730ed7406a6ba2935b9c7257",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes-21056.md",
      "position" : 6,
      "pull_request_review_id" : 599740178,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583762439",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r583798248"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583798248"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, \"New bitcoin-cli settings\" seems better to me, too. Though as mentioned in https://github.com/bitcoin/bitcoin/pull/21056#discussion_r576917497, if we add the argument to the existing `-rpcwait=` (as a CLI setting intended for human manual use rather than by client software, ISTM it may be less subject to API constraints and would be less verbose than `-rpcwait -rpcwaittimeout=`), it could be \"Updated bitcoin-cli settings\".",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-02-26T17:25:55Z",
      "diff_hunk" : "@@ -0,0 +1,6 @@\n+RPC client functionality\n+------------------------\n+\n+- The new `-rpcwaittimeout` argument to `bitcoin-cli` sets the timeout\n+  in seconds to use with `-rpcwait`. If the timeout expires\n+  `bitcoin-cli` will report a failure. (#21056)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r583798248",
      "id" : 583798248,
      "in_reply_to_id" : 576912337,
      "line" : 6,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4Mzc5ODI0OA==",
      "original_commit_id" : "d37379384cf4542b730ed7406a6ba2935b9c7257",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes-21056.md",
      "position" : 6,
      "pull_request_review_id" : 599787417,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583798248",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Reworded the release notes as proposed by @jonatack, and rebased on top of `master`.\r\n\r\nOpen questions are:\r\n\r\n - Add a specific error message pointing towards a timeout if we get something like `RPC warmup`\r\n   - Pointed out [here](https://github.com/bitcoin/bitcoin/pull/21056#discussion_r576924237)\r\n   - I think passing through the error is correct here, and not amend it since the timeout is merely retrying a failing attempt and eventually we give up passing through the cause. If we were to customize the error we could end up hiding the underlying cause for the failure (timeout ok, but what caused the timeout to fail ultimately?)\r\n - Instead of adding a new command line option in the form of `-rpcwaittimeout`, merge it instead with `-rpcwait`, redefining the semantics of the value. See above for discussion but here's a summary:\r\n   - Pro: merging avoids adding a new option, making the expression more concise\r\n   - Con: users may have scripts and utilities that use `-rpcwait=1` to opt into the waiting, but with the new semantics we'd just wait for 1 second. Also suddenly things like `-rpcwait=true` would be invalid or we'd require workarounds mapping `true`, `on` etc to `0`.\r\n\r\nAnything I'm missing?",
      "created_at" : "2021-03-08T13:19:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-792750987",
      "id" : 792750987,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5Mjc1MDk4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-08T13:19:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/792750987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> If we were to customize the error we could end up hiding the underlying cause for the failure (timeout ok, but what caused the timeout to fail ultimately?)\r\n\r\nTend to agree. Maybe printing both would be a possibility? E.g. `timeout on transient error: â¦`.\r\n\r\n> Instead of adding a new command line option in the form of -rpcwaittimeout, merge it instead with -rpcwait, redefining the semantics of the value.\r\n\r\nI'm, in the abstract, not a big fan of Swiss-army-knife overloading of arguments to options either. It quickly gets too clever for its own good. Would be fine with keeping it like this.",
      "created_at" : "2021-03-15T07:50:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-799196773",
      "id" : 799196773,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5OTE5Njc3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-15T07:50:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/799196773",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Tend to agree. Maybe printing both would be a possibility? E.g. `timeout on transient error: â¦`.\r\n> \r\n> >\r\n\r\nI'll look into it, sounds like a good idea :+1:",
      "created_at" : "2021-03-16T19:26:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-800542681",
      "id" : 800542681,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMDU0MjY4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-16T19:26:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/800542681",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Prefixed the error message with the prefix proposed by @laanwj. One thing that I'm not quite clear on is whether the string allocated by `strprintf` is freed (not too familiar how the memory ownership in the presence of exceptions in C++ is). Would that require additional handling or is it ok in this case to wait for the exit to clean up memory?",
      "created_at" : "2021-03-23T13:43:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-804913449",
      "id" : 804913449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwNDkxMzQ0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-23T13:43:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/804913449",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks!\r\n\r\n> One thing that I'm not quite clear on is whether the string allocated by strprintf is freed \r\n\r\nYes, the exception object (including the string it refers to) is destructed when it leaves the scope where it is catched. This should be okay.",
      "created_at" : "2021-03-23T15:48:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-805013960",
      "id" : 805013960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwNTAxMzk2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-23T15:48:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/805013960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Concept ACK. Could append a test to the existing `-rpcwait` coverage at the end of `test/functional/interface_bitcoin_cli.py` to add coverage.\r\n\r\nGoing through the reviews I noticed that I hadn't addressed this so far. Added a test for it where suggested.",
      "created_at" : "2021-04-06T11:09:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-814034859",
      "id" : 814034859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNDAzNDg1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-06T11:09:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/814034859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "As far as I can see the only unresolved thing in this PR is the discussion about whether to reuse `-rpcwait` and redefine the argument to be the timeout in seconds, or whether the current addition of a new flag is preferrable.",
      "created_at" : "2021-04-15T12:40:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-820390638",
      "id" : 820390638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyMDM5MDYzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-15T12:40:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820390638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r618175578"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618175578"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, could check elapsed time is >= to 5s.",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-04-22T08:06:07Z",
      "diff_hunk" : "@@ -246,6 +246,10 @@ def run_test(self):\n         self.nodes[0].wait_for_rpc_connection()\n         assert_equal(blocks, BLOCKS + 25)\n \n+        self.log.info(\"Test -rpcwait option waits at most -rpcwaittimeout seconds for startup\")\n+        self.stop_node(0)  # stop the node so we time out\n+        assert_raises_process_error(1, \"Could not connect to the server\", self.nodes[0].cli('-rpcwait', '-rpcwaittimeout=5').echo)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r618175578",
      "id" : 618175578,
      "line" : 256,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODE3NTU3OA==",
      "original_commit_id" : "4840dee30d8c679a2df999d7b9d48e19653ad3bd",
      "original_line" : 256,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 22,
      "pull_request_review_id" : 641896777,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618175578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r618219710"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618219710"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, is it fine to accept <0? A negative value is same as  `-rpcwait=false`.",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-04-22T09:05:15Z",
      "diff_hunk" : "@@ -738,6 +740,9 @@ static UniValue ConnectAndCallRPC(BaseRequestHandler* rh, const std::string& str\n     UniValue response(UniValue::VOBJ);\n     // Execute and handle connection failures with -rpcwait.\n     const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\n+    const int timeout = gArgs.GetArg(\"-rpcwaittimeout\", DEFAULT_WAIT_CLIENT_TIMEOUT);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r618219710",
      "id" : 618219710,
      "line" : 799,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODIxOTcxMA==",
      "original_commit_id" : "4840dee30d8c679a2df999d7b9d48e19653ad3bd",
      "original_line" : 799,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 20,
      "pull_request_review_id" : 641896777,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618219710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r618222463"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618222463"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe `timeout <= 0` - zero or negative means no timeout.",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-04-22T09:08:50Z",
      "diff_hunk" : "@@ -748,11 +753,12 @@ static UniValue ConnectAndCallRPC(BaseRequestHandler* rh, const std::string& str\n                 }\n             }\n             break; // Connection succeeded, no need to retry.\n-        } catch (const CConnectionFailed&) {\n-            if (fWait) {\n-                UninterruptibleSleep(std::chrono::milliseconds{1000});\n+        } catch (const CConnectionFailed& e) {\n+            const int64_t now = GetTime<std::chrono::seconds>().count();\n+            if (fWait && (timeout == 0 || now < deadline)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r618222463",
      "id" : 618222463,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODIyMjQ2Mw==",
      "original_commit_id" : "4840dee30d8c679a2df999d7b9d48e19653ad3bd",
      "original_line" : 758,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 641896777,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618222463",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2021-05-02T18:00:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-830847090",
      "id" : 830847090,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzMDg0NzA5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-13T07:12:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/830847090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r629981147"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629981147"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think so, the alternative would be to throw an error, but that might be a bit much.",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-05-11T08:57:15Z",
      "diff_hunk" : "@@ -738,6 +740,9 @@ static UniValue ConnectAndCallRPC(BaseRequestHandler* rh, const std::string& str\n     UniValue response(UniValue::VOBJ);\n     // Execute and handle connection failures with -rpcwait.\n     const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\n+    const int timeout = gArgs.GetArg(\"-rpcwaittimeout\", DEFAULT_WAIT_CLIENT_TIMEOUT);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r629981147",
      "id" : 629981147,
      "in_reply_to_id" : 618219710,
      "line" : 799,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTk4MTE0Nw==",
      "original_commit_id" : "4840dee30d8c679a2df999d7b9d48e19653ad3bd",
      "original_line" : 799,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 20,
      "pull_request_review_id" : 656456199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629981147",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r629985361"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629985361"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Amended the `==` to become `<=` :+1: ",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-05-11T09:02:41Z",
      "diff_hunk" : "@@ -748,11 +753,12 @@ static UniValue ConnectAndCallRPC(BaseRequestHandler* rh, const std::string& str\n                 }\n             }\n             break; // Connection succeeded, no need to retry.\n-        } catch (const CConnectionFailed&) {\n-            if (fWait) {\n-                UninterruptibleSleep(std::chrono::milliseconds{1000});\n+        } catch (const CConnectionFailed& e) {\n+            const int64_t now = GetTime<std::chrono::seconds>().count();\n+            if (fWait && (timeout == 0 || now < deadline)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r629985361",
      "id" : 629985361,
      "in_reply_to_id" : 618222463,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTk4NTM2MQ==",
      "original_commit_id" : "4840dee30d8c679a2df999d7b9d48e19653ad3bd",
      "original_line" : 758,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 656461718,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:03:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629985361",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r629985673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629985673"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added check using `assert_greater_than_or_equal` and had to import `time` but that should work ok.",
      "commit_id" : "29a9c9f7c018eef96c118c9f2f1d8d8ccc3a9819",
      "created_at" : "2021-05-11T09:03:12Z",
      "diff_hunk" : "@@ -246,6 +246,10 @@ def run_test(self):\n         self.nodes[0].wait_for_rpc_connection()\n         assert_equal(blocks, BLOCKS + 25)\n \n+        self.log.info(\"Test -rpcwait option waits at most -rpcwaittimeout seconds for startup\")\n+        self.stop_node(0)  # stop the node so we time out\n+        assert_raises_process_error(1, \"Could not connect to the server\", self.nodes[0].cli('-rpcwait', '-rpcwaittimeout=5').echo)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r629985673",
      "id" : 629985673,
      "in_reply_to_id" : 618175578,
      "line" : 256,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTk4NTY3Mw==",
      "original_commit_id" : "4840dee30d8c679a2df999d7b9d48e19653ad3bd",
      "original_line" : 256,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 22,
      "pull_request_review_id" : 656462178,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T09:03:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629985673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased on top of `master`, addressed @promag's feedback and amended OP to mention the tests that are now included.",
      "created_at" : "2021-05-11T09:03:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-838115969",
      "id" : 838115969,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzODExNTk2OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-11T09:03:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/838115969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@cdecker I think you forgot to autosquash?",
      "created_at" : "2021-05-11T17:44:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-838895094",
      "id" : 838895094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzODg5NTA5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-11T17:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/838895094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry, used to the c-lightning workflow where we keep fixups to show how things were addressed. Will squash as soon as I wake up ð",
      "created_at" : "2021-05-11T19:47:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-839071375",
      "id" : 839071375,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzOTA3MTM3NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-11T19:47:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839071375",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased on top of `master`",
      "created_at" : "2021-06-03T09:23:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-853725719",
      "id" : 853725719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1MzcyNTcxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-03T09:23:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/853725719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r644663320"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644663320"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should be `assert_greater_than_or_equal(time.time(), start_time + 5)`.",
      "commit_id" : "5685cdcacdb8b59e420c4cc32a1ef3bf2cac067c",
      "created_at" : "2021-06-03T10:05:49Z",
      "diff_hunk" : "@@ -246,6 +246,10 @@ def run_test(self):\n         self.nodes[0].wait_for_rpc_connection()\n         assert_equal(blocks, BLOCKS + 25)\n \n+        self.log.info(\"Test -rpcwait option waits at most -rpcwaittimeout seconds for startup\")\n+        self.stop_node(0)  # stop the node so we time out\n+        assert_raises_process_error(1, \"Could not connect to the server\", self.nodes[0].cli('-rpcwait', '-rpcwaittimeout=5').echo)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#discussion_r644663320",
      "id" : 644663320,
      "in_reply_to_id" : 618175578,
      "line" : 258,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NDY2MzMyMA==",
      "original_commit_id" : "4840dee30d8c679a2df999d7b9d48e19653ad3bd",
      "original_line" : 258,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 22,
      "pull_request_review_id" : 675106380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-03T10:06:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644663320",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Tested ACK [5685cdc](https://github.com/bitcoin/bitcoin/commit/5685cdcacdb8b59e420c4cc32a1ef3bf2cac067c) but the test needs to be fixed.\r\n\r\nYep, I switched the arguments around apparently :wink:",
      "created_at" : "2021-06-04T10:27:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-854597071",
      "id" : 854597071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1NDU5NzA3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-04T10:27:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/854597071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Is this good in its current state or does something need to be addressed? Probably not the highest priority issue, but would love to remove it from my watchlist, e.g., by merging it :wink: ",
      "created_at" : "2021-06-21T09:54:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-864899823",
      "id" : 864899823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDg5OTgyMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-21T09:54:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864899823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK b9e76f1bf08c52fcd402b2314e00db4ad247ebc8",
      "created_at" : "2021-06-21T10:58:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056#issuecomment-864939321",
      "id" : 864939321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDkzOTMyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-21T10:58:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864939321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
