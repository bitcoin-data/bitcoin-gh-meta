{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "Adds a new numeric `-rpcwaittimeout` that can be used to limit the\r\ntime we spend waiting on the RPC server to appear. This is used by\r\ndownstream projects to provide a bit of slack when `bitcoind`s RPC\r\ninterface is not available right away.\r\n\r\nThis makes the `-rpcwait` argument more useful, since we can now limit\r\nhow long we'll ultimately wait, before potentially giving up and reporting\r\nan error to the caller. It was discussed in the context of the BTCPayServer\r\nwanting to have c-lightning wait for the RPC interface to become available\r\nbut still have the option of giving up eventually ([4355]).\r\n\r\nI checked with laanwj whether this is already possible ([comment]), and\r\nwhether this would be a welcome change. Initially I intended to repurpose\r\nthe (optional) argument to `-rpcwait`, however I decided against it since it\r\nwould potentially break existing configurations, using things like `rpcwait=1`,\r\nor `rpcwait=true` (the former would have an unintended short timeout, when\r\nold behavior was to wait indefinitely).\r\n\r\n~Due to its simplicity I didn't implement a test for it yet, but if that's desired I\r\ncan provide one.~ Test was added during reviews.\r\n\r\n[4355]: https://github.com/ElementsProject/lightning/issues/4355\r\n[comment]: https://github.com/ElementsProject/lightning/issues/4355#issuecomment-768288261",
   "closed_at" : "2021-06-21T13:55:31Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 33,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056/comments",
   "created_at" : "2021-02-01T17:34:24Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056",
   "id" : 798564134,
   "labels" : [
      {
         "color" : "0052cc",
         "default" : false,
         "description" : null,
         "id" : 98279177,
         "name" : "RPC/REST/ZMQ",
         "node_id" : "MDU6TGFiZWw5ODI3OTE3Nw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ"
      },
      {
         "color" : "5319e7",
         "default" : false,
         "description" : "",
         "id" : 241832923,
         "name" : "Utils/log/libs",
         "node_id" : "MDU6TGFiZWwyNDE4MzI5MjM=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NTY1MzU5MDI4",
   "number" : 21056,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/21056.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21056",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/21056.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21056"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "rpc: Add a `-rpcwaittimeout` parameter to limit time spent waiting",
   "updated_at" : "2021-06-21T13:55:31Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21056",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/120117?v=4",
      "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
      "followers_url" : "https://api.github.com/users/cdecker/followers",
      "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
      "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/cdecker",
      "id" : 120117,
      "login" : "cdecker",
      "node_id" : "MDQ6VXNlcjEyMDExNw==",
      "organizations_url" : "https://api.github.com/users/cdecker/orgs",
      "received_events_url" : "https://api.github.com/users/cdecker/received_events",
      "repos_url" : "https://api.github.com/users/cdecker/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/cdecker"
   }
}
