{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "As long as the ordinary bind succeeds, a failure to bind on the onion listen address (`127.0.0.1:8334` by default) is ignored and later the supposed listening address is used in `ADD_ONION` to tell the Tor control daemon where to send incoming connections. This could result in a messy situation where two Bitcoin Cores run on the same machine and one of them is receiving the incoming Tor connections destined for the other, in addition to own ones. For example:\r\n\r\n```sh\r\n# Will bind also to 127.0.0.1:8334.\r\nbitcoind -datadir=datadir1 -rpcbind=127.0.0.1:2001 -rpcallowip=127.0.0.1 -bind=1.2.3.4:2000\r\n\r\n# Will try to bind to 127.0.0.1:8334, will fail but nevertheless will instruct\r\n# the Tor daemon to send incoming connections to 127.0.0.1:8334 where the other\r\n# bitcoind is listening.\r\nbitcoind -datadir=datadir2 -rpcbind=127.0.0.1:3001 -rpcallowip=127.0.0.1 -bind=[5:6::7]:3000\r\n```\r\n\r\n**Expected behavior**\r\n\r\nCurrently it is required that the ordinary bind succeeds (`-bind=...`) and that the RPC bind succeeds (`-rpcbind=...`). `-bind=...=onion` should be treated in the same way.\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22727/comments",
   "created_at" : "2021-08-17T13:33:24Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22727/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/22727",
   "id" : 972696547,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22727/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU5NzI2OTY1NDc=",
   "number" : 22727,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "No check is done whether the binding for Tor succeeded before using it for ADD_ONION",
   "updated_at" : "2021-08-17T13:33:24Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22727",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
      "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
      "followers_url" : "https://api.github.com/users/vasild/followers",
      "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/vasild",
      "id" : 266751,
      "login" : "vasild",
      "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
      "organizations_url" : "https://api.github.com/users/vasild/orgs",
      "received_events_url" : "https://api.github.com/users/vasild/received_events",
      "repos_url" : "https://api.github.com/users/vasild/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/vasild"
   }
}
