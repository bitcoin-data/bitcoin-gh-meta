[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#20892](https://github.com/bitcoin/bitcoin/pull/20892) (tests: Run both descriptor and legacy tests within a single test invocation by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-08-19T08:33:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22738#issuecomment-901719915",
      "id" : 901719915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22738",
      "node_id" : "IC_kwDOABII5841vydr",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-19T08:33:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/901719915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22738#discussion_r694062636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22738"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694062636"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: style only change, not a big deal since this is a very small pr",
      "commit_id" : "f9fa8e1dee1cb41fa2ed9c71e8c604cd975edf48",
      "created_at" : "2021-08-23T15:10:47Z",
      "diff_hunk" : "@@ -24,7 +24,10 @@\n from test_framework.messages import CTransaction\n from test_framework.script import CScript\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22738#discussion_r694062636",
      "id" : 694062636,
      "line" : 30,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NDA2MjYzNg==",
      "original_commit_id" : "f9fa8e1dee1cb41fa2ed9c71e8c604cd975edf48",
      "original_line" : 30,
      "original_position" : 8,
      "original_start_line" : 27,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : 8,
      "pull_request_review_id" : 736244239,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22738",
      "side" : "RIGHT",
      "start_line" : 27,
      "start_side" : "RIGHT",
      "updated_at" : "2021-08-23T15:27:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694062636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22738#discussion_r694073775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22738"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694073775"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "can you rename this commit to `refactor: ...`? i stared at this line for longer than id like to admit, trying to understand why you were adding a new argument and how it was changing the test behavior :sweat_smile: ",
      "commit_id" : "f9fa8e1dee1cb41fa2ed9c71e8c604cd975edf48",
      "created_at" : "2021-08-23T15:23:54Z",
      "diff_hunk" : "@@ -86,36 +89,36 @@ def run_test(self):\n         txid2 = self.nodes[0].sendrawtransaction(test1txs[1].serialize_with_witness().hex(), 0)\n         test1txs.append(create_transaction(self.nodes[0], coinbase_txid[1], self.wit_ms_address, amount=49))\n         txid3 = self.nodes[0].sendrawtransaction(test1txs[2].serialize_with_witness().hex(), 0)\n-        self.block_submit(self.nodes[0], test1txs, False, True)\n+        self.block_submit(self.nodes[0], test1txs, accept=True)\n \n         self.log.info(\"Test 2: Non-NULLDUMMY base multisig transaction should not be accepted to mempool before activation\")\n         test2tx = create_transaction(self.nodes[0], txid2, self.ms_address, amount=47)\n         trueDummy(test2tx)\n         assert_raises_rpc_error(-26, NULLDUMMY_ERROR, self.nodes[0].sendrawtransaction, test2tx.serialize_with_witness().hex(), 0)\n \n         self.log.info(f\"Test 3: Non-NULLDUMMY base transactions should be accepted in a block before activation [{COINBASE_MATURITY + 4}]\")\n-        self.block_submit(self.nodes[0], [test2tx], False, True)\n+        self.block_submit(self.nodes[0], [test2tx], accept=True)\n \n         self.log.info(\"Test 4: Non-NULLDUMMY base multisig transaction is invalid after activation\")\n         test4tx = create_transaction(self.nodes[0], test2tx.hash, self.address, amount=46)\n         test6txs = [CTransaction(test4tx)]\n         trueDummy(test4tx)\n         assert_raises_rpc_error(-26, NULLDUMMY_ERROR, self.nodes[0].sendrawtransaction, test4tx.serialize_with_witness().hex(), 0)\n-        self.block_submit(self.nodes[0], [test4tx])\n+        self.block_submit(self.nodes[0], [test4tx], accept=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22738#discussion_r694073775",
      "id" : 694073775,
      "line" : 108,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NDA3Mzc3NQ==",
      "original_commit_id" : "f5da29536c2c06b1d07c8e5981b87a6d77f9f75b",
      "original_line" : 107,
      "original_position" : 34,
      "original_start_line" : 104,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : 42,
      "pull_request_review_id" : 736244239,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22738",
      "side" : "RIGHT",
      "start_line" : 104,
      "start_side" : "LEFT",
      "updated_at" : "2021-08-23T15:27:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694073775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> i was unable, however, to reproduce the issue\r\n\r\nsorry, i misunderstood the instructions. i was able to reproduce by doing the following: re-compile with the suggested change AND use the old error message `block-validation-failed`. i then re-compiled normally, changed the error message to the new message and ran without `-par=1` to confirm i also got a failure.\r\n\r\nusing the more precise error message + par=1 definitely makes sense :+1: ",
      "created_at" : "2021-08-23T15:35:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22738#issuecomment-903881065",
      "id" : 903881065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22738",
      "node_id" : "IC_kwDOABII58414CFp",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-23T15:35:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903881065",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22738#discussion_r694123712"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22738"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694123712"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good point, I forgot this in the first commit. Sorry for creating confusion! Done.",
      "commit_id" : "7720d4f650015272dc7109238230520f71858c6c",
      "created_at" : "2021-08-23T16:25:28Z",
      "diff_hunk" : "@@ -86,36 +89,36 @@ def run_test(self):\n         txid2 = self.nodes[0].sendrawtransaction(test1txs[1].serialize_with_witness().hex(), 0)\n         test1txs.append(create_transaction(self.nodes[0], coinbase_txid[1], self.wit_ms_address, amount=49))\n         txid3 = self.nodes[0].sendrawtransaction(test1txs[2].serialize_with_witness().hex(), 0)\n-        self.block_submit(self.nodes[0], test1txs, False, True)\n+        self.block_submit(self.nodes[0], test1txs, accept=True)\n \n         self.log.info(\"Test 2: Non-NULLDUMMY base multisig transaction should not be accepted to mempool before activation\")\n         test2tx = create_transaction(self.nodes[0], txid2, self.ms_address, amount=47)\n         trueDummy(test2tx)\n         assert_raises_rpc_error(-26, NULLDUMMY_ERROR, self.nodes[0].sendrawtransaction, test2tx.serialize_with_witness().hex(), 0)\n \n         self.log.info(f\"Test 3: Non-NULLDUMMY base transactions should be accepted in a block before activation [{COINBASE_MATURITY + 4}]\")\n-        self.block_submit(self.nodes[0], [test2tx], False, True)\n+        self.block_submit(self.nodes[0], [test2tx], accept=True)\n \n         self.log.info(\"Test 4: Non-NULLDUMMY base multisig transaction is invalid after activation\")\n         test4tx = create_transaction(self.nodes[0], test2tx.hash, self.address, amount=46)\n         test6txs = [CTransaction(test4tx)]\n         trueDummy(test4tx)\n         assert_raises_rpc_error(-26, NULLDUMMY_ERROR, self.nodes[0].sendrawtransaction, test4tx.serialize_with_witness().hex(), 0)\n-        self.block_submit(self.nodes[0], [test4tx])\n+        self.block_submit(self.nodes[0], [test4tx], accept=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22738#discussion_r694123712",
      "id" : 694123712,
      "in_reply_to_id" : 694073775,
      "line" : 108,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NDEyMzcxMg==",
      "original_commit_id" : "f5da29536c2c06b1d07c8e5981b87a6d77f9f75b",
      "original_line" : 108,
      "original_position" : 34,
      "original_start_line" : 104,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : 42,
      "pull_request_review_id" : 736324506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22738",
      "side" : "RIGHT",
      "start_line" : 104,
      "start_side" : "LEFT",
      "updated_at" : "2021-08-23T16:25:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694123712",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@josibake: Thanks a lot for your review! I agree that the description was a bit sloppy/confusing w.r.t. how to reproduce the issue and not mentioning the refactoring commit. I updated the PR description and force-pushed with the following changes:\r\n* rebased on master\r\n* renamed first commit subject to include \"refactor:\" (as suggested https://github.com/bitcoin/bitcoin/pull/22738#pullrequestreview-736244239)\r\n",
      "created_at" : "2021-08-23T16:30:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22738#issuecomment-903929223",
      "id" : 903929223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22738",
      "node_id" : "IC_kwDOABII58414N2H",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-23T16:30:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903929223",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK https://github.com/bitcoin/bitcoin/pull/22738/commits/7720d4f650015272dc7109238230520f71858c6c\r\n\r\ncompiled with the PR suggestion and ensured i can reproduce the issue. re-compiled normally and verified test passes. great work on using a more specific error and improving the readability!",
      "created_at" : "2021-08-23T16:49:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22738#issuecomment-903942316",
      "id" : 903942316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22738",
      "node_id" : "IC_kwDOABII58414RCs",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-23T16:49:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903942316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Tested ACK <code>[7720d4f](https://github.com/bitcoin/bitcoin/commit/7720d4f650015272dc7109238230520f71858c6c)</code>",
      "created_at" : "2021-08-24T12:28:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22738#issuecomment-904597467",
      "id" : 904597467,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22738",
      "node_id" : "IC_kwDOABII58416w_b",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-24T12:28:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/904597467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/71517788?v=4",
         "events_url" : "https://api.github.com/users/Saviour1001/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saviour1001/followers",
         "following_url" : "https://api.github.com/users/Saviour1001/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saviour1001/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saviour1001",
         "id" : 71517788,
         "login" : "Saviour1001",
         "node_id" : "MDQ6VXNlcjcxNTE3Nzg4",
         "organizations_url" : "https://api.github.com/users/Saviour1001/orgs",
         "received_events_url" : "https://api.github.com/users/Saviour1001/received_events",
         "repos_url" : "https://api.github.com/users/Saviour1001/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saviour1001/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saviour1001/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saviour1001"
      }
   }
]
