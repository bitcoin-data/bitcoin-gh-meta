{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "**Is your feature request related to a problem? Please describe.**\r\n\r\nOutbound tor connections lose against outbound clearnet connections after the eviction logic starts having an effect. Although I \"manually\" add outbound tor connections (via `bitcoin-cli`), after some time typically only 0 or 1 outbound tor connection survives. My node currently has 12 outbound connections, of which only 1 is a tor connection (Bitcoin Core version 0.21.1). The issue does not depend on which tor version is being used. The (good) outbound connections that are manually added from the start are the 3 Tor v3 onion addresses recommended [here](https://github.com/bitcoin-core/bitcoin-devwiki/wiki/22.0-Release-Candidate-Testing-Guide).\r\n\r\n**A clear and concise description of what you want to happen.**\r\n\r\nInbound tor connections are well protected from eviction since [19670](https://github.com/bitcoin/bitcoin/pull/19670) was merged. This suggests it would be good idea to apply a similar method to protect a number of outbound tor connections from eviction (3 for default parameters, for example).\r\n\r\n`bitcoin-cli -netinfo` on my node (default parameters) shows:\r\n\r\n             ipv4    ipv6   onion   total  block-relay\r\n    in        92       0      22     114      17\r\n    out       11       0       1      12       2\r\n    total    103       0      23     126      19\r\n\r\n",
   "closed_at" : "2021-08-16T15:18:06Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/74196711?v=4",
      "events_url" : "https://api.github.com/users/hMsats/events{/privacy}",
      "followers_url" : "https://api.github.com/users/hMsats/followers",
      "following_url" : "https://api.github.com/users/hMsats/following{/other_user}",
      "gists_url" : "https://api.github.com/users/hMsats/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/hMsats",
      "id" : 74196711,
      "login" : "hMsats",
      "node_id" : "MDQ6VXNlcjc0MTk2NzEx",
      "organizations_url" : "https://api.github.com/users/hMsats/orgs",
      "received_events_url" : "https://api.github.com/users/hMsats/received_events",
      "repos_url" : "https://api.github.com/users/hMsats/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/hMsats/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/hMsats/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/hMsats"
   },
   "comments" : 6,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22716/comments",
   "created_at" : "2021-08-16T10:29:42Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22716/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/22716",
   "id" : 971593840,
   "labels" : [
      {
         "color" : "7cf575",
         "default" : false,
         "description" : null,
         "id" : 64583,
         "name" : "Feature",
         "node_id" : "MDU6TGFiZWw2NDU4Mw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22716/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU5NzE1OTM4NDA=",
   "number" : 22716,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Protect a number of outbound tor connections from eviction",
   "updated_at" : "2021-08-16T15:18:06Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22716",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/74196711?v=4",
      "events_url" : "https://api.github.com/users/hMsats/events{/privacy}",
      "followers_url" : "https://api.github.com/users/hMsats/followers",
      "following_url" : "https://api.github.com/users/hMsats/following{/other_user}",
      "gists_url" : "https://api.github.com/users/hMsats/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/hMsats",
      "id" : 74196711,
      "login" : "hMsats",
      "node_id" : "MDQ6VXNlcjc0MTk2NzEx",
      "organizations_url" : "https://api.github.com/users/hMsats/orgs",
      "received_events_url" : "https://api.github.com/users/hMsats/received_events",
      "repos_url" : "https://api.github.com/users/hMsats/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/hMsats/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/hMsats/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/hMsats"
   }
}
