[
   {
      "author_association" : "MEMBER",
      "body" : "The `--word-diff-regex=.` git option might come in handy during review",
      "created_at" : "2020-06-29T14:34:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19413#issuecomment-651161541",
      "id" : 651161541,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19413",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTE2MTU0MQ==",
      "updated_at" : "2020-06-29T14:34:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651161541",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice change, good to get rid of an valdiation global, and it's surprisingly low impact.\r\n\r\nACK fa82d8494e6db431e324bf4bec980aa044761f96",
      "created_at" : "2020-06-29T15:21:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19413#issuecomment-651190000",
      "id" : 651190000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19413",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTE5MDAwMA==",
      "updated_at" : "2020-06-29T15:21:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651190000",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19413#discussion_r447060694"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19413"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447060694"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit s/add/Add/ if you retouch",
      "commit_id" : "fa0dfdf447d5b84a1849dc823d8508463600136a",
      "created_at" : "2020-06-29T15:31:19Z",
      "diff_hunk" : "@@ -1325,50 +1325,48 @@ static UniValue getchaintips(const JSONRPCRequest& request)\n                 },\n             }.Check(request);\n \n+    ChainstateManager& chainman = EnsureChainman(request.context);\n     LOCK(cs_main);\n \n     /*\n-     * Idea:  the set of chain tips is ::ChainActive().tip, plus orphan blocks which do not have another orphan building off of them.\n+     * Idea: The set of chain tips is the active chain tip, plus orphan blocks which do not have another orphan building off of them.\n      * Algorithm:\n      *  - Make one pass through BlockIndex(), picking out the orphan blocks, and also storing a set of the orphan block's pprev pointers.\n      *  - Iterate through the orphan blocks. If the block isn't pointed to by another orphan, it is a chain tip.\n-     *  - add ::ChainActive().Tip()\n+     *  - add the active chain tip",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19413#discussion_r447060694",
      "id" : 447060694,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA2MDY5NA==",
      "original_commit_id" : "fa82d8494e6db431e324bf4bec980aa044761f96",
      "original_line" : 1336,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 439262474,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19413",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-30T00:29:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447060694",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19011 (Reduce cs_main lock accumulation during GUI startup by jonasschnelli)\n* #18354 (Use shared pointers only in validation interface by bvbfan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-06-29T19:04:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19413#issuecomment-651303029",
      "id" : 651303029,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19413",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTMwMzAyOQ==",
      "updated_at" : "2020-06-29T19:04:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651303029",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-06-29T20:02:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19413#issuecomment-651329326",
      "id" : 651329326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19413",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTMyOTMyNg==",
      "updated_at" : "2020-06-29T20:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651329326",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19413#discussion_r447336568"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19413"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447336568"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx, fixed",
      "commit_id" : "fa0dfdf447d5b84a1849dc823d8508463600136a",
      "created_at" : "2020-06-30T00:29:53Z",
      "diff_hunk" : "@@ -1325,50 +1325,48 @@ static UniValue getchaintips(const JSONRPCRequest& request)\n                 },\n             }.Check(request);\n \n+    ChainstateManager& chainman = EnsureChainman(request.context);\n     LOCK(cs_main);\n \n     /*\n-     * Idea:  the set of chain tips is ::ChainActive().tip, plus orphan blocks which do not have another orphan building off of them.\n+     * Idea: The set of chain tips is the active chain tip, plus orphan blocks which do not have another orphan building off of them.\n      * Algorithm:\n      *  - Make one pass through BlockIndex(), picking out the orphan blocks, and also storing a set of the orphan block's pprev pointers.\n      *  - Iterate through the orphan blocks. If the block isn't pointed to by another orphan, it is a chain tip.\n-     *  - add ::ChainActive().Tip()\n+     *  - add the active chain tip",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19413#discussion_r447336568",
      "id" : 447336568,
      "in_reply_to_id" : 447060694,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNjU2OA==",
      "original_commit_id" : "fa82d8494e6db431e324bf4bec980aa044761f96",
      "original_line" : 1336,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 439589265,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19413",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-30T00:29:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447336568",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
