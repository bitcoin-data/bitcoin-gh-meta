[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19469#discussion_r451526488"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19469"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/451526488"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n  removed in the next major release. (#19469)\r\n```",
      "commit_id" : "41d55d30579358c805036201664ad6a1c1d48681",
      "created_at" : "2020-07-08T13:02:08Z",
      "diff_hunk" : "@@ -0,0 +1,6 @@\n+Updated RPCs\n+------------\n+\n+- `getpeerinfo` no longer returns the `banscore` field unless the configuration\n+  option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n+  removed in the next release. (#19469)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#discussion_r451526488",
      "id" : 451526488,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTUyNjQ4OA==",
      "original_commit_id" : "454a8736244129b32ff2cd2efee7c913eafb179c",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes-19469.md",
      "position" : null,
      "pull_request_review_id" : 444740597,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19469",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-08T13:11:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/451526488",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19469#discussion_r451533232"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19469"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/451533232"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thanks -- done",
      "commit_id" : "41d55d30579358c805036201664ad6a1c1d48681",
      "created_at" : "2020-07-08T13:12:40Z",
      "diff_hunk" : "@@ -0,0 +1,6 @@\n+Updated RPCs\n+------------\n+\n+- `getpeerinfo` no longer returns the `banscore` field unless the configuration\n+  option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n+  removed in the next release. (#19469)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#discussion_r451533232",
      "id" : 451533232,
      "in_reply_to_id" : 451526488,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTUzMzIzMg==",
      "original_commit_id" : "454a8736244129b32ff2cd2efee7c913eafb179c",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes-19469.md",
      "position" : null,
      "pull_request_review_id" : 444749638,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19469",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-08T13:12:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/451533232",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 8c7647b3fbbab03ea84071cf3cd2d0d2bf8be255",
      "created_at" : "2020-07-09T13:10:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#issuecomment-656117809",
      "id" : 656117809,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19469",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NjExNzgwOQ==",
      "updated_at" : "2020-07-09T13:10:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656117809",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 8c7647b3fbbab03ea84071cf3cd2d0d2bf8be255",
      "created_at" : "2020-07-09T20:16:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#issuecomment-656330104",
      "id" : 656330104,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19469",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NjMzMDEwNA==",
      "updated_at" : "2020-07-09T20:16:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656330104",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj & @amitiuttarwar: it would seem you've both ACK'd the wrong commit hash here?\r\n\r\nLocally I'm seeing:\r\n```bash\r\n\r\nbitcoin git:(master) git fetch upstream pull/19469/head:19469 \r\nremote: Enumerating objects: 8, done.\r\nremote: Counting objects: 100% (8/8), done.\r\nremote: Total 15 (delta 8), reused 8 (delta 8), pack-reused 7\r\nUnpacking objects: 100% (15/15), 5.72 KiB | 234.00 KiB/s, done.\r\nFrom https://github.com/bitcoin/bitcoin\r\n * [new ref]             refs/pull/19469/head -> 19469\r\nbitcoin git:(master) git checkout 19469                      \r\nSwitched to branch '19469'\r\nbitcoin git:(19469) git log\r\n...\r\ncommit 41d55d30579358c805036201664ad6a1c1d48681 (HEAD -> 19469)\r\nAuthor: Jon Atack <jon@atack.com>\r\nDate:   Wed Jul 8 12:54:28 2020 +0200\r\n\r\n    doc: getpeerinfo banscore deprecation release note\r\n\r\ncommit dd54e3796e633cfdf6954af306afd26eadc25116\r\nAuthor: Jon Atack <jon@atack.com>\r\nDate:   Wed Jul 8 12:33:14 2020 +0200\r\n\r\n    test: getpeerinfo banscore deprecation test\r\n\r\ncommit 8c7647b3fbbab03ea84071cf3cd2d0d2bf8be255\r\nAuthor: Jon Atack <jon@atack.com>\r\nDate:   Wed Jul 8 13:00:58 2020 +0200\r\n\r\n    rpc: deprecate banscore field in rpc getpeerinfo\r\n```\r\n\r\nRegardless, these changes are straightforward and I'm happy to go ahead and merge this.\r\n\r\nAlso cc @jnewbery & @sipa. I know you both expressed a desire for the removal of `-banscore`.",
      "created_at" : "2020-07-10T05:28:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#issuecomment-656490737",
      "id" : 656490737,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19469",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NjQ5MDczNw==",
      "updated_at" : "2020-07-10T05:28:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656490737",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This feels a little premature. I think it's not helped by a confusing collision in terminology:\r\n\r\n- `-banscore` is a configuration option that we might better call \"configurable discouragement threshold\". That's what sipa and I were referring to in #19219. It should be removed because we have no good advice for users on how to set it.\r\n- `banscore` in `getpeerinfo` returns the peer's current `nMisbehavior` score. Longer term, it'd be good to replace nMisbehavior with prioritizing/scheduling peer work based on how much resource the peer is using (see https://bitcoincore.reviews/19109.html#l-99 and http://www.erisian.com.au/bitcoin-core-dev/log-2020-07-09.html#l-134).\r\n\r\nUntil we've actually removed the nMisbehavior functionality, it seems useful to be able to check a peer's nMisbehavior score.",
      "created_at" : "2020-07-10T08:41:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#issuecomment-656560390",
      "id" : 656560390,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19469",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NjU2MDM5MA==",
      "updated_at" : "2020-07-10T08:41:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656560390",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">     * `-banscore` ... should be removed because we have no good advice for users on how to set it.\r\n\r\nIndeed, the first PR in this series, #19464, is a very small change that does just that. Presumably that PR, or another version, will be merged before the next release. I'm happy to work on internal peer prioritisation changes after that first step if people aren't already doing it.\r\n\r\nThe confusion around the naming of the banscore field in getpeerinfo was not addressed because it should be removed. In https://github.com/bitcoin/bitcoin/pull/19219#discussion_r442915997, I suggested it be renamed.\r\n\r\nThis PR gives users until at least v0.22 to no longer depend on it (if any were). I reckon it will no longer be used internally before that, but in the worst case if this PR does turn out to be premature, it can be reverted before the next release.\r\n",
      "created_at" : "2020-07-10T09:13:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#issuecomment-656574707",
      "id" : 656574707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19469",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NjU3NDcwNw==",
      "updated_at" : "2020-07-10T09:38:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656574707",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Just realised I never responded to @jonatack's last comment. I don't think this should be reverted.",
      "created_at" : "2020-08-17T16:30:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#issuecomment-674982315",
      "id" : 674982315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19469",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NDk4MjMxNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-17T16:30:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674982315",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @jnewbery. At the next p2p meeting, one topic to discuss could be if someone is working on  replacing nMisbehavior with prioritizing/scheduling peer work based on how much resource the peer is using.",
      "created_at" : "2020-08-17T16:34:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#issuecomment-674984233",
      "id" : 674984233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19469",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NDk4NDIzMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-17T16:34:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674984233",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sure. @troygiorshev is soon to open a PR that adds tracking for some peer metrics, which would be the start of that work.",
      "created_at" : "2020-08-17T16:50:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19469#issuecomment-674991805",
      "id" : 674991805,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19469",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NDk5MTgwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-17T16:50:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674991805",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
