[
   {
      "author_association" : "MEMBER",
      "body" : "I think this is okay for a temporary workaround, but in time, I think a fix to the build system to not ry to run target executables when cross-compiling would be way preferable.\r\n(every manual step added has a potential for human error)",
      "created_at" : "2020-06-29T13:11:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19408#issuecomment-651110905",
      "id" : 651110905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19408",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTExMDkwNQ==",
      "updated_at" : "2020-06-29T13:12:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651110905",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I can confirm that this fixed issue https://github.com/bitcoin/bitcoin/issues/18348 for me.\r\n\r\nTested using Ubuntu 18.04 and 20.04 on WSL.",
      "created_at" : "2020-06-29T18:47:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19408#issuecomment-651295121",
      "id" : 651295121,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19408",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTI5NTEyMQ==",
      "updated_at" : "2020-06-29T18:47:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651295121",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/30005204?v=4",
         "events_url" : "https://api.github.com/users/billygarrison/events{/privacy}",
         "followers_url" : "https://api.github.com/users/billygarrison/followers",
         "following_url" : "https://api.github.com/users/billygarrison/following{/other_user}",
         "gists_url" : "https://api.github.com/users/billygarrison/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/billygarrison",
         "id" : 30005204,
         "login" : "billygarrison",
         "node_id" : "MDQ6VXNlcjMwMDA1MjA0",
         "organizations_url" : "https://api.github.com/users/billygarrison/orgs",
         "received_events_url" : "https://api.github.com/users/billygarrison/received_events",
         "repos_url" : "https://api.github.com/users/billygarrison/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/billygarrison/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/billygarrison/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/billygarrison"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think this is okay for a temporary workaround, but in time, I think a fix to the build system to not [t]ry to run target executables when cross-compiling would be way preferable.\r\n \r\nI agree but that would most likely mean ditching Autoconf (or at least the configure scripts) for something more modern. \r\n\r\nI only looked at the configure script operation for the `bdb` dependency but I'd be surprised if the other dependencies weren't the same. There were numerous configure checks that compiled a small block of code and then checked the result of the execution attempt.\r\n\r\n\r\n",
      "created_at" : "2020-06-29T21:36:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19408#issuecomment-651381753",
      "id" : 651381753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19408",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTM4MTc1Mw==",
      "updated_at" : "2020-06-29T21:36:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651381753",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> There were numerous configure checks that compiled a small block of code and then checked the result of the execution attempt.\r\n\r\nWhich is okay! It's allowed to use the (cross-)compiler for compiling, linking, doing anything with the result. Just not running it. I think only berkeleydb does this, because it uses an ancient autoconf with a weird check. In bdb 4.8 times, cross-compiling was still seen as a rare exceptoin. I would be very surprised if any new software does this.\r\n\r\nEdit: Bleh, seems you're right. Even current autotools still does this, this is from bitcoind itself not berkeleydb:\r\n```\r\nconfigure:4130: checking whether we are cross compiling\r\nconfigure:4138: arm-unknown-linux-gnueabihf-g++ -o conftest -pipe -O2  -I/data/src/bitcoin-arm/depends/arm-unknown-linux-gnueabihf/share/../include/ -O2 -g -L/data/src/bitcoin-arm/depends/arm-unknown-linux-gnueabihf/share/../lib -static-libstdc++ conftest.cpp  >&5\r\nconfigure:4142: $? = 0\r\nconfigure:4149: ./conftest\r\n./configure: line 4151: ./conftest: cannot execute binary file: Exec format error\r\n```\r\n",
      "created_at" : "2020-07-01T15:14:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19408#issuecomment-652479175",
      "id" : 652479175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19408",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MjQ3OTE3NQ==",
      "updated_at" : "2020-07-01T15:20:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/652479175",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 21a65756f558a2bd50e71c6dfb04143533e59f76",
      "created_at" : "2020-07-01T15:24:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19408#issuecomment-652485072",
      "id" : 652485072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19408",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MjQ4NTA3Mg==",
      "updated_at" : "2020-07-01T15:24:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/652485072",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
