[
   {
      "body" : "Not all multisig additions are equal. An address you can spend with the help of the computer in your pocket isn't the same as an escrow held by a potentially hostile counterparty.  We need some way of distinguishing these cases.",
      "created_at" : "2012-10-13T17:15:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1928#issuecomment-9406462",
      "id" : 9406462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1928",
      "updated_at" : "2012-10-13T17:15:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9406462",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "it seems the only current way to watch for incoming multisig transactions without having all the keys in the wallet is:\r\n\r\n1) wait for `-blocknotify`\r\n2) call `getblock`\r\n3) iterate over the transactions array and call `getrawtransaction`\r\n4) iterate over the outputs in `getrawtransaction` to see if it has an address you care about",
      "created_at" : "2012-10-16T21:20:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1928#issuecomment-9507327",
      "id" : 9507327,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1928",
      "updated_at" : "2012-10-16T21:20:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9507327",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/716621?v=3",
         "events_url" : "https://api.github.com/users/freewil/events{/privacy}",
         "followers_url" : "https://api.github.com/users/freewil/followers",
         "following_url" : "https://api.github.com/users/freewil/following{/other_user}",
         "gists_url" : "https://api.github.com/users/freewil/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/freewil",
         "id" : 716621,
         "login" : "freewil",
         "organizations_url" : "https://api.github.com/users/freewil/orgs",
         "received_events_url" : "https://api.github.com/users/freewil/received_events",
         "repos_url" : "https://api.github.com/users/freewil/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/freewil/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/freewil/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/freewil"
      }
   },
   {
      "body" : "Yes, that's essentially what the wallet code does for transactions it cares about.\r\n\r\nNote that 3) can be done with one \"batch\" RPC call, so it's not as inefficient as you might think.\r\n\r\nWhat is your use case where you might be getting payments on multisig addresses where you don't control all of the keys and aren't told via some way other than the blockchain the transaction ID of a new, incoming payment? The use cases I can think of all involve negotiation between the people who hold the keys, and I assume that the transaction id would be included in that negotiation (in which case you use getrawtransaction/signrawtransaction to spend).\r\n\r\nThe multi-device wallet will definitely require a new type of 'ismine' key, where it IS yours, but one of the private keys is on another device that you own (and when that is implemented I assume listtransactions/etc will show those payments).",
      "created_at" : "2012-10-16T23:51:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1928#issuecomment-9511474",
      "id" : 9511474,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1928",
      "updated_at" : "2012-10-16T23:51:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9511474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I would like to use multisig addresses for customer deposits. I was planning on having the server that watches for incoming deposits have one key and then there would be at least one other key stored elsewhere that would be needed to process withdrawals. In this type of scenario you control all the keys, but they aren't in one place. What would be the use of multisig addresses if all the keys are in one wallet?\r\n\r\nIn my scenario you could ask a customer for a transaction id, but it does make it more complicated than just asking them to make a deposit to a bitcoin address as normally is done.\r\n\r\nThanks for pointing out the batch rpc calls, I didn't think of that. I think the best thing to do would be to add a new flag to `addmultisigaddress` that will set the new `ismine` flag that you are talking about to true and then `listtransactions`, `listsince`, etc will show them",
      "created_at" : "2012-10-17T00:07:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1928#issuecomment-9511787",
      "id" : 9511787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1928",
      "updated_at" : "2012-10-17T00:08:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9511787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/716621?v=3",
         "events_url" : "https://api.github.com/users/freewil/events{/privacy}",
         "followers_url" : "https://api.github.com/users/freewil/followers",
         "following_url" : "https://api.github.com/users/freewil/following{/other_user}",
         "gists_url" : "https://api.github.com/users/freewil/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/freewil",
         "id" : 716621,
         "login" : "freewil",
         "organizations_url" : "https://api.github.com/users/freewil/orgs",
         "received_events_url" : "https://api.github.com/users/freewil/received_events",
         "repos_url" : "https://api.github.com/users/freewil/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/freewil/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/freewil/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/freewil"
      }
   },
   {
      "body" : "Perhaps we could use a `multisig` issue label? There appears to be much to do in the area of a higher-level API to deal with multisig transactions.",
      "created_at" : "2012-11-15T09:31:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1928#issuecomment-10402273",
      "id" : 10402273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1928",
      "updated_at" : "2012-11-15T09:31:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10402273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/716621?v=3",
         "events_url" : "https://api.github.com/users/freewil/events{/privacy}",
         "followers_url" : "https://api.github.com/users/freewil/followers",
         "following_url" : "https://api.github.com/users/freewil/following{/other_user}",
         "gists_url" : "https://api.github.com/users/freewil/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/freewil",
         "id" : 716621,
         "login" : "freewil",
         "organizations_url" : "https://api.github.com/users/freewil/orgs",
         "received_events_url" : "https://api.github.com/users/freewil/received_events",
         "repos_url" : "https://api.github.com/users/freewil/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/freewil/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/freewil/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/freewil"
      }
   },
   {
      "body" : "Is there any progress on that?\r\n\r\nMy use case for this would be, that my service would manage users wallet and make transaction drafts for him, and his job would be signing them with his private key that my server doesn't know. @gavinandresen ?\r\n\r\nWhile at it, it would be very nice to have a RPC command like \"sendfrom\" which could draft a transaction from given address to given addresses. Right now if the multisig address received several transactions, you have to handle the calculations yourself, and bitcoin client already solved that for plain addresses.",
      "created_at" : "2013-06-15T08:56:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1928#issuecomment-19493455",
      "id" : 19493455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1928",
      "updated_at" : "2013-06-15T09:04:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/19493455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1614514?v=3",
         "events_url" : "https://api.github.com/users/M4v3R/events{/privacy}",
         "followers_url" : "https://api.github.com/users/M4v3R/followers",
         "following_url" : "https://api.github.com/users/M4v3R/following{/other_user}",
         "gists_url" : "https://api.github.com/users/M4v3R/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/M4v3R",
         "id" : 1614514,
         "login" : "M4v3R",
         "organizations_url" : "https://api.github.com/users/M4v3R/orgs",
         "received_events_url" : "https://api.github.com/users/M4v3R/received_events",
         "repos_url" : "https://api.github.com/users/M4v3R/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/M4v3R/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/M4v3R/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/M4v3R"
      }
   },
   {
      "body" : "This can be done using the watch-only functionality in 0.10+: Add the multisig address with `importaddress`.",
      "created_at" : "2015-05-18T10:34:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1928#issuecomment-103011753",
      "id" : 103011753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1928",
      "updated_at" : "2015-05-18T10:34:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/103011753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
