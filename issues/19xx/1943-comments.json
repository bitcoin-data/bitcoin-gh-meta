[
   {
      "body" : "Supercedes #1870\r\n",
      "created_at" : "2012-10-21T22:28:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9648458",
      "id" : 9648458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-21T22:28:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9648458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "ACK\r\n\r\nIt would be nice if the code movement was pre-pended as a separate, first commit, but that's nit picking.\r\n",
      "created_at" : "2012-10-21T22:43:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9648629",
      "id" : 9648629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-21T22:43:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9648629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Automatic sanity-testing: FAILED BUILD/TEST, see http://jenkins.bluematt.me/pull-tester/fb917a38cc17d6484d2ffa93c6cdde6861d30ee2 for binaries and test log.\n\nThis could happen for one of several reasons:\n1. It chanages paths in makefile.linux-mingw or otherwise changes build scripts in a way that made them incompatible with the automated testing scripts\n2. It does not build on either Linux i386 or Win32 (via MinGW cross compile)\n3. The test suite fails on either Linux i386 or Win32\n4. The block test-cases failed (lookup the first bNN identifier which failed in https://github.com/TheBlueMatt/test-scripts/blob/master/FullBlockTestGenerator.java)\n",
      "created_at" : "2012-10-22T00:06:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9649455",
      "id" : 9649455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-22T00:06:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9649455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Works good for me.. I abused this a little bit (running in valgrind, aborted runs, concurrent RPC activity) and haven't yet been able to break it. I haven't yet reviewed the code. (I have a lot of reading to do to fully catch up with ultraprune)",
      "created_at" : "2012-10-22T00:14:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9649538",
      "id" : 9649538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-22T00:14:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9649538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Er. Perhaps I spoke a bit too fast. the reindex appears to have been aborted by recieving a new block from the network, which caused a wad of orpan blocks and then sync continued very slowly from a remote peer. Perhaps while reindex is active we should ignore new blocks from the network?",
      "created_at" : "2012-10-22T00:22:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9649641",
      "id" : 9649641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-22T00:22:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9649641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@jgarzik split the commit in two",
      "created_at" : "2012-10-22T20:48:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9680007",
      "id" : 9680007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-22T20:48:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9680007",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@gmaxwell That's exactly what happens, by the way. While reindexing, fImporting is true, and the \"block\" message gets ignored entirely, and no IBD is initiated.",
      "created_at" : "2012-10-23T22:07:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9720210",
      "id" : 9720210,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-23T22:07:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9720210",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Rebased on top of #1962",
      "created_at" : "2012-10-28T18:43:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9848841",
      "id" : 9848841,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-28T18:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9848841",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "By the way, this also swaps the order of -loadblock's and bootstrap.dat. Bootstrap.dat should be first.",
      "created_at" : "2012-10-28T18:47:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9848874",
      "id" : 9848874,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-28T18:47:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9848874",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Automatic sanity-testing: FAILED BUILD/TEST, see http://jenkins.bluematt.me/pull-tester/a31ed6aeece0b0201eb52fc566001f3f15dd1b98 for binaries and test log.\n\nThis could happen for one of several reasons:\n1. It chanages paths in makefile.linux-mingw or otherwise changes build scripts in a way that made them incompatible with the automated testing scripts\n2. It does not build on either Linux i386 or Win32 (via MinGW cross compile)\n3. The test suite fails on either Linux i386 or Win32\n4. The block test-cases failed (lookup the first bNN identifier which failed in https://github.com/TheBlueMatt/test-scripts/blob/master/FullBlockTestGenerator.java)\n",
      "created_at" : "2012-10-30T17:56:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9916148",
      "id" : 9916148,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-30T17:56:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9916148",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Rebased and tests fixed",
      "created_at" : "2012-10-30T20:46:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9922124",
      "id" : 9922124,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-30T20:46:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9922124",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "'Works' for me, though I'm still seeing it get disrupted by blocks on the network and end up taking forever.",
      "created_at" : "2012-10-31T17:41:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9954445",
      "id" : 9954445,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-31T17:41:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9954445",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Added support for continuing reindex across restarts, and improved output.",
      "created_at" : "2012-10-31T20:22:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-9960492",
      "id" : 9960492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-10-31T20:22:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9960492",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/d515540a18935cd8c9a1901bf1c3dcf559fcf568 for binaries and test log.",
      "created_at" : "2012-11-02T01:04:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-10001882",
      "id" : 10001882,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-11-02T01:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10001882",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Improved GUI feedback during reindex.\r\n\r\n@laanwj Can you also have a look?",
      "created_at" : "2012-11-04T11:42:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-10049594",
      "id" : 10049594,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-11-04T11:42:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10049594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "GUI changes look good",
      "created_at" : "2012-11-04T12:07:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-10049775",
      "id" : 10049775,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-11-04T12:07:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10049775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/70b6ec491f6589dc66ee1ef11089527d9f3e75f9 for binaries and test log.",
      "created_at" : "2012-11-05T23:52:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-10093629",
      "id" : 10093629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-11-05T23:52:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10093629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "ACK code changes (haven't had time to test thoroughly, but that shouldn't hold up the pull).\r\n",
      "created_at" : "2012-11-08T19:15:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#issuecomment-10200786",
      "id" : 10200786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1943",
      "updated_at" : "2012-11-08T19:15:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10200786",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1943#discussion_r288797665"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1943"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288797665"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think there's a bug here that happens If the buffer size is greater than the file size.\r\n\r\nChange `2*` to `40*` in\r\nhttps://github.com/bitcoin/bitcoin/blob/c7cfd20a77ce57d200b3b9e5e0dfb0d63818abdc/src/validation.cpp#L4421\r\n\r\nAnd then run with `-reindex`",
      "commit_id" : "7fea48467442079cd0b4021b580761d7e33fa8a1",
      "created_at" : "2019-05-29T22:45:32Z",
      "diff_hunk" : "@@ -1225,4 +1225,148 @@ class CAutoFile\n     }\n };\n \n+/** Wrapper around a FILE* that implements a ring buffer to\n+ *  deserialize from. It guarantees the ability to rewind\n+ *  a given number of bytes. */\n+class CBufferedFile\n+{\n+private:\n+    FILE *src;          // source file\n+    uint64 nSrcPos;     // how many bytes have been read from source\n+    uint64 nReadPos;    // how many bytes have been read from this\n+    uint64 nReadLimit;  // up to which position we're allowed to read\n+    uint64 nRewind;     // how many bytes we guarantee to rewind\n+    std::vector<char> vchBuf; // the buffer\n+\n+    short state;\n+    short exceptmask;\n+\n+protected:\n+    void setstate(short bits, const char *psz) {\n+        state |= bits;\n+        if (state & exceptmask)\n+            throw std::ios_base::failure(psz);\n+    }\n+\n+    // read data from the source to fill the buffer\n+    bool Fill() {\n+        unsigned int pos = nSrcPos % vchBuf.size();\n+        unsigned int readNow = vchBuf.size() - pos;\n+        unsigned int nAvail = vchBuf.size() - (nSrcPos - nReadPos) - nRewind;\n+        if (nAvail < readNow)\n+            readNow = nAvail;\n+        if (readNow == 0)\n+            return false;\n+        size_t read = fread((void*)&vchBuf[pos], 1, readNow, src);\n+        if (read == 0) {\n+            setstate(std::ios_base::failbit, feof(src) ? \"CBufferedFile::Fill : end of file\" : \"CBufferedFile::Fill : fread failed\");\n+            return false;\n+        } else {\n+            nSrcPos += read;\n+            return true;\n+        }\n+    }\n+\n+public:\n+    int nType;\n+    int nVersion;\n+\n+    CBufferedFile(FILE *fileIn, uint64 nBufSize, uint64 nRewindIn, int nTypeIn, int nVersionIn) :\n+        src(fileIn), nSrcPos(0), nReadPos(0), nReadLimit((uint64)(-1)), nRewind(nRewindIn), vchBuf(nBufSize, 0),\n+        state(0), exceptmask(std::ios_base::badbit | std::ios_base::failbit), nType(nTypeIn), nVersion(nVersionIn) {\n+    }\n+\n+    // check whether no error occurred\n+    bool good() const {\n+        return state == 0;\n+    }\n+\n+    // check whether we're at the end of the source file\n+    bool eof() const {\n+        return nReadPos == nSrcPos && feof(src);\n+    }\n+\n+    // read a number of bytes\n+    CBufferedFile& read(char *pch, size_t nSize) {\n+        if (nSize + nReadPos > nReadLimit)\n+            throw std::ios_base::failure(\"Read attempted past buffer limit\");\n+        if (nSize + nRewind > vchBuf.size())\n+            throw std::ios_base::failure(\"Read larger than buffer size\");\n+        while (nSize > 0) {\n+            if (nReadPos == nSrcPos)\n+                Fill();\n+            unsigned int pos = nReadPos % vchBuf.size();\n+            size_t nNow = nSize;\n+            if (nNow + pos > vchBuf.size())\n+                nNow = vchBuf.size() - pos;\n+            if (nNow + nReadPos > nSrcPos)\n+                nNow = nSrcPos - nReadPos;\n+            memcpy(pch, &vchBuf[pos], nNow);\n+            nReadPos += nNow;\n+            pch += nNow;\n+            nSize -= nNow;\n+        }\n+        return (*this);\n+    }\n+\n+    // return the current reading position\n+    uint64 GetPos() {\n+        return nReadPos;\n+    }\n+\n+    // rewind to a given reading position\n+    bool SetPos(uint64 nPos) {\n+        nReadPos = nPos;\n+        if (nReadPos + nRewind < nSrcPos) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1943#discussion_r288797665",
      "id" : 288797665,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4ODc5NzY2NQ==",
      "original_commit_id" : "7fea48467442079cd0b4021b580761d7e33fa8a1",
      "original_position" : 96,
      "path" : "src/serialize.h",
      "position" : 96,
      "pull_request_review_id" : 243552997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1943",
      "updated_at" : "2019-05-29T22:45:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288797665",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
