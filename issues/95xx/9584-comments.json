[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "For 2. There dont seem to be too many issues here, however, there is at least one - you could go to select coins, need to use 0-conf change, but such 0-conf change may have been included in a block who's callbacks have not yet been processed - resulting in thinking they are not in mempool and, thus, not selectable.",
      "created_at" : "2017-01-19T23:13:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9584#issuecomment-273928653",
      "id" : 273928653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI3MzkyODY1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2017-01-19T23:13:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273928653",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt, are all the \"unsolved problems\" mentioned in your and Alex's comments above fixed by #10286, or will some still remain?",
      "created_at" : "2017-05-04T01:47:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9584#issuecomment-299080475",
      "id" : 299080475,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5OTA4MDQ3NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2017-05-04T01:47:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299080475",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ryanofsky they were technically fixed in #9583, but I do not believe #10286 introduces any new (serious) bugs. It is the case that you may not select some coins based on a mistaken belief that they are unconfirmed when they are, but this should still only happen if they confirmed in a block you processed *after* the RPC call was entered (ie after the block-until-caught-up call) but before the actual CreateTransaction call. I do not believe it ever is an issue, but its probably worth re-reading (and re-re-reading) a bunch of wallet logic to make sure the new InMempool()-may-be-out-of-sync-with-GetDepthInMainChain() semantics dont cause issues.",
      "created_at" : "2017-05-04T02:19:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9584#issuecomment-299083336",
      "id" : 299083336,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5OTA4MzMzNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2017-05-04T02:19:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299083336",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This appears to have been fixed by #9583 and #10286.\r\n\r\nAdditionally, there appears to be test coverage for this in [test/functional/wallet_reorgrestore.py](https://github.com/bitcoin/bitcoin/blob/master/test/functional/wallet_reorgsrestore.py)",
      "created_at" : "2021-01-16T23:32:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9584#issuecomment-761697640",
      "id" : 761697640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MTY5NzY0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-16T23:32:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/761697640",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/23396902?v=4",
         "events_url" : "https://api.github.com/users/jarolrod/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jarolrod/followers",
         "following_url" : "https://api.github.com/users/jarolrod/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jarolrod/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jarolrod",
         "id" : 23396902,
         "login" : "jarolrod",
         "node_id" : "MDQ6VXNlcjIzMzk2OTAy",
         "organizations_url" : "https://api.github.com/users/jarolrod/orgs",
         "received_events_url" : "https://api.github.com/users/jarolrod/received_events",
         "repos_url" : "https://api.github.com/users/jarolrod/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jarolrod/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jarolrod"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Will close this issue. #18842 is a current example of a wallet state & notification race, but I think we settled into a general approach to dealing with these problems: updating wallet transaction state in anticipation of node notifications where possible, and blocking to wait for notifications where it's not possible. I think there's no need to keep an umbrella issue open, but this can be reopened if there are more problems.",
      "created_at" : "2021-01-20T22:33:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9584#issuecomment-763996196",
      "id" : 763996196,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2Mzk5NjE5Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-20T22:33:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/763996196",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
