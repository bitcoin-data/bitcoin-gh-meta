[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I split the patch into three commits which I think make sense logically and for the review.  But of course I'm happy to squash any of the changes, or to revert parts of them (as code readability is a matter of taste).",
      "created_at" : "2018-07-17T11:20:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-405548089",
      "id" : 405548089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNTU0ODA4OQ==",
      "updated_at" : "2018-07-17T11:20:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405548089",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nFrom a quick view LGTM.",
      "created_at" : "2018-07-24T15:56:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-407458155",
      "id" : 407458155,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNzQ1ODE1NQ==",
      "updated_at" : "2018-07-24T15:56:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/407458155",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19572 (ZMQ: Create \"sequence\" notifier, enabling client-side mempool tracking by instagibbs)\n* #18309 (zmq: Add support to listen on multiple interfaces by n-thumann)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-07-27T12:31:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-408405205",
      "id" : 408405205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwODQwNTIwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T10:13:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/408405205",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased",
      "created_at" : "2018-08-08T16:16:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-411464381",
      "id" : 411464381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMTQ2NDM4MQ==",
      "updated_at" : "2018-08-08T16:16:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/411464381",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "What do you think about wrapping the code with `zmq` namespace and removing `ZMQ/zmq` prefix from class/function names? \r\nBasically when the location of the file is `a/b/c.cpp` then we have:\r\n```c++\r\nnamespace a {\r\nnamespace b {\r\nclass C {}\r\n}\r\n}\r\n```",
      "created_at" : "2018-08-20T22:00:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-414477412",
      "id" : 414477412,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxNDQ3NzQxMg==",
      "updated_at" : "2018-08-20T22:00:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/414477412",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/296795?v=4",
         "events_url" : "https://api.github.com/users/kostyantyn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kostyantyn/followers",
         "following_url" : "https://api.github.com/users/kostyantyn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kostyantyn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kostyantyn",
         "id" : 296795,
         "login" : "kostyantyn",
         "node_id" : "MDQ6VXNlcjI5Njc5NQ==",
         "organizations_url" : "https://api.github.com/users/kostyantyn/orgs",
         "received_events_url" : "https://api.github.com/users/kostyantyn/received_events",
         "repos_url" : "https://api.github.com/users/kostyantyn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kostyantyn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kostyantyn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kostyantyn"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@kostyantyn:  At least for now, there seems to be not much namespace usage at all in the Bitcoin code - so I'm not sure if we should change that lightly.  Also, note that `zmq` is the namespace that is also used by ZMQ's own C++ language bindings; they are currently not used, but I proposed to change that (#13957).\r\n\r\nAlso, note that C++ namespaces are [different from Java's](https://stackoverflow.com/questions/2108172/c-namespaces-comparison-to-java-packages), so that some people advise against nesting (e.g. exact correspondence to the directory structure as you suggest).",
      "created_at" : "2018-08-21T05:59:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-414558960",
      "id" : 414558960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxNDU1ODk2MA==",
      "updated_at" : "2018-08-21T05:59:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/414558960",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\n@jmcorgan do you mind taking a look here?",
      "created_at" : "2018-08-31T11:38:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-417638053",
      "id" : 417638053,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxNzYzODA1Mw==",
      "updated_at" : "2018-08-31T11:38:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/417638053",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r217617362"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217617362"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Missing a bunch of includes here. See appveyor CI result.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2018-09-14T07:02:39Z",
      "diff_hunk" : "@@ -5,12 +5,13 @@\n #ifndef BITCOIN_ZMQ_ZMQABSTRACTNOTIFIER_H\n #define BITCOIN_ZMQ_ZMQABSTRACTNOTIFIER_H\n \n-#include <zmq/zmqconfig.h>\n+#include <memory>\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r217617362",
      "id" : 217617362,
      "line" : 12,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNzYxNzM2Mg==",
      "original_commit_id" : "55eca083fafc2626f10a82eace9801092c22721e",
      "original_line" : 12,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/zmq/zmqabstractnotifier.h",
      "position" : 9,
      "pull_request_review_id" : 155373339,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217617362",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "node_id" : "MDQ6VXNlcjExMTU0MTE4",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-11-05T13:26:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-435872661",
      "id" : 435872661,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNTg3MjY2MQ==",
      "updated_at" : "2018-11-05T13:26:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435872661",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased",
      "created_at" : "2018-11-05T14:24:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-435892994",
      "id" : 435892994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNTg5Mjk5NA==",
      "updated_at" : "2018-11-05T14:24:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435892994",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r231062743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/231062743"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I missed that comment - I've now revised the commit to include `<string>`.  There are still CI errors, though, which I don't understand so far.  Has anyone an insight of where they come from?  I'll try to resolve them now.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2018-11-06T10:04:39Z",
      "diff_hunk" : "@@ -5,12 +5,13 @@\n #ifndef BITCOIN_ZMQ_ZMQABSTRACTNOTIFIER_H\n #define BITCOIN_ZMQ_ZMQABSTRACTNOTIFIER_H\n \n-#include <zmq/zmqconfig.h>\n+#include <memory>\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r231062743",
      "id" : 231062743,
      "in_reply_to_id" : 217617362,
      "line" : 12,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTA2Mjc0Mw==",
      "original_commit_id" : "55eca083fafc2626f10a82eace9801092c22721e",
      "original_line" : 12,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/zmq/zmqabstractnotifier.h",
      "position" : 9,
      "pull_request_review_id" : 171941065,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/231062743",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r232176342"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232176342"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could use `std::transform`? :-)",
      "commit_id" : "95c442d496d00be4b20e82fa1124edfc70de4000",
      "created_at" : "2018-11-09T08:44:47Z",
      "diff_hunk" : "@@ -4,79 +4,69 @@\n \n #include <zmq/zmqnotificationinterface.h>\n #include <zmq/zmqpublishnotifier.h>\n+#include <zmq/zmqutil.h>\n+\n+#include <zmq.h>\n \n #include <version.h>\n #include <validation.h>\n #include <streams.h>\n #include <util/system.h>\n \n-void zmqError(const char *str)\n-{\n-    LogPrint(BCLog::ZMQ, \"zmq: Error: %s, errno=%s\\n\", str, zmq_strerror(errno));\n-}\n-\n CZMQNotificationInterface::CZMQNotificationInterface() : pcontext(nullptr)\n {\n }\n \n CZMQNotificationInterface::~CZMQNotificationInterface()\n {\n     Shutdown();\n-\n-    for (std::list<CZMQAbstractNotifier*>::iterator i=notifiers.begin(); i!=notifiers.end(); ++i)\n-    {\n-        delete *i;\n-    }\n }\n \n std::list<const CZMQAbstractNotifier*> CZMQNotificationInterface::GetActiveNotifiers() const\n {\n     std::list<const CZMQAbstractNotifier*> result;\n-    for (const auto* n : notifiers) {\n-        result.push_back(n);\n+    for (const auto& n : notifiers) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r232176342",
      "id" : 232176342,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjE3NjM0Mg==",
      "original_commit_id" : "95c442d496d00be4b20e82fa1124edfc70de4000",
      "original_position" : 37,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : 37,
      "pull_request_review_id" : 173315983,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "updated_at" : "2018-11-09T08:44:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232176342",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r232186774"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232186774"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I would suggest adding the following code for Windows.\r\n```cpp\r\n#if defined(WIN32) && defined(SendMessage)\r\n#undef SendMessage\r\n#endif\r\n```\r\nWindows headers have defined `SendMessage` as `SendMessageA` or `SendMessageW`\r\n\r\nOr you could rename the method name `SendMessage`.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2018-11-09T09:23:20Z",
      "diff_hunk" : "@@ -2,14 +2,25 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <zmq/zmqpublishnotifier.h>\n+\n #include <chain.h>\n #include <chainparams.h>\n #include <streams.h>\n-#include <zmq/zmqpublishnotifier.h>\n+#include <zmq/zmqutil.h>\n #include <validation.h>\n #include <util/system.h>\n #include <rpc/server.h>\n \n+#include <zmq.h>\n+\n+#include <cstdarg>\n+#include <cstddef>\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r232186774",
      "id" : 232186774,
      "line" : 22,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjE4Njc3NA==",
      "original_commit_id" : "95c442d496d00be4b20e82fa1124edfc70de4000",
      "original_line" : 22,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : 24,
      "pull_request_review_id" : 173328375,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232186774",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "node_id" : "MDQ6VXNlcjExMTU0MTE4",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r232464426"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232464426"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, very interesting!  From a quick look, I didn't see what my PR changes here and why it worked before - but I guess a defensive rename of the method is not a bad idea.  I did that now in a separate commit and pushed it, just to see if it fixes the CI issues.  If it does, I can include this directly in one of the commits or perhaps just keep it as it is.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2018-11-10T20:08:00Z",
      "diff_hunk" : "@@ -2,14 +2,25 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <zmq/zmqpublishnotifier.h>\n+\n #include <chain.h>\n #include <chainparams.h>\n #include <streams.h>\n-#include <zmq/zmqpublishnotifier.h>\n+#include <zmq/zmqutil.h>\n #include <validation.h>\n #include <util/system.h>\n #include <rpc/server.h>\n \n+#include <zmq.h>\n+\n+#include <cstdarg>\n+#include <cstddef>\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r232464426",
      "id" : 232464426,
      "in_reply_to_id" : 232186774,
      "line" : 22,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjQ2NDQyNg==",
      "original_commit_id" : "95c442d496d00be4b20e82fa1124edfc70de4000",
      "original_line" : 22,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : 24,
      "pull_request_review_id" : 173673724,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232464426",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r232497791"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232497791"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Indeed, looks like the tests pass now.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2018-11-11T17:55:33Z",
      "diff_hunk" : "@@ -2,14 +2,25 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <zmq/zmqpublishnotifier.h>\n+\n #include <chain.h>\n #include <chainparams.h>\n #include <streams.h>\n-#include <zmq/zmqpublishnotifier.h>\n+#include <zmq/zmqutil.h>\n #include <validation.h>\n #include <util/system.h>\n #include <rpc/server.h>\n \n+#include <zmq.h>\n+\n+#include <cstdarg>\n+#include <cstddef>\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r232497791",
      "id" : 232497791,
      "in_reply_to_id" : 232186774,
      "line" : 22,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjQ5Nzc5MQ==",
      "original_commit_id" : "95c442d496d00be4b20e82fa1124edfc70de4000",
      "original_line" : 22,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : 24,
      "pull_request_review_id" : 173707752,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232497791",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r240245100"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/240245100"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is a guard dropped?\r\n```\r\n#ifdef ENABLE_ZMQ\r\n#include <zmq.h>\r\n#endif\r\n```",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2018-12-10T15:04:08Z",
      "diff_hunk" : "@@ -4,79 +4,69 @@\n \n #include <zmq/zmqnotificationinterface.h>\n #include <zmq/zmqpublishnotifier.h>\n+#include <zmq/zmqutil.h>\n+\n+#include <zmq.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r240245100",
      "id" : 240245100,
      "line" : 9,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MDI0NTEwMA==",
      "original_commit_id" : "5d66a3be2df2a3f5bfed996c50117fda73668972",
      "original_line" : 9,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : 6,
      "pull_request_review_id" : 183229143,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/240245100",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@hebasto:  For some reason, Github won't let me reply this directly to your comment above.  The guard is not necessary, since it is present already where the `src/zmq` files themselves are used - e.g. in `src/init.cpp`.",
      "created_at" : "2018-12-11T09:28:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-446132335",
      "id" : 446132335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjEzMjMzNQ==",
      "updated_at" : "2018-12-11T09:28:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446132335",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased.  Is there anything missing for me to do here?  I think this is a real improvement to the quality of the ZMQ code.",
      "created_at" : "2019-05-02T08:03:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-488584288",
      "id" : 488584288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4ODU4NDI4OA==",
      "updated_at" : "2019-05-02T08:03:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488584288",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jmcorgan Are you able to take a look at this?",
      "created_at" : "2019-06-16T02:20:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-502413698",
      "id" : 502413698,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMjQxMzY5OA==",
      "updated_at" : "2019-06-16T02:20:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502413698",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-10-16T22:39:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-542920291",
      "id" : 542920291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjkyMDI5MQ==",
      "updated_at" : "2019-10-16T22:39:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542920291",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335874634"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335874634"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think I've replied on this before, but just in case and for the record:  The guard that used to be here was redundant, as there is a guard already (e.g. in `init.cpp`) around `zmqnotificationinterface` itself.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2019-10-17T08:34:28Z",
      "diff_hunk" : "@@ -4,79 +4,69 @@\n \n #include <zmq/zmqnotificationinterface.h>\n #include <zmq/zmqpublishnotifier.h>\n+#include <zmq/zmqutil.h>\n+\n+#include <zmq.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335874634",
      "id" : 335874634,
      "in_reply_to_id" : 240245100,
      "line" : 9,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTg3NDYzNA==",
      "original_commit_id" : "5d66a3be2df2a3f5bfed996c50117fda73668972",
      "original_line" : 9,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : 6,
      "pull_request_review_id" : 303086333,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335874634",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased.  Can I do anything to speed up review / merging of this one?  It should not need review by the original author or a ZMQ expert, as this is mostly just \"standard\" refactoring from manual memory management to the use of proper RAII (e.g. `std::unique_ptr`).",
      "created_at" : "2019-10-17T08:35:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-543069070",
      "id" : 543069070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzA2OTA3MA==",
      "updated_at" : "2019-10-17T08:35:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543069070",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335885561"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335885561"
         }
      },
      "author_association" : "MEMBER",
      "body" : "f18bc54cab43ef1de8502b8f84b5585ae68af4bc\r\n\r\nAccording to developer notes put `{` here.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2019-10-17T08:56:41Z",
      "diff_hunk" : "@@ -136,45 +115,44 @@ void CZMQNotificationInterface::Shutdown()\n     }\n }\n \n-void CZMQNotificationInterface::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload)\n+namespace",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335885561",
      "id" : 335885561,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTg4NTU2MQ==",
      "original_commit_id" : "f18bc54cab43ef1de8502b8f84b5585ae68af4bc",
      "original_line" : 118,
      "original_position" : 115,
      "original_start_line" : null,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : null,
      "pull_request_review_id" : 303100129,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335885561",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335885955"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335885955"
         }
      },
      "author_association" : "MEMBER",
      "body" : "f18bc54cab43ef1de8502b8f84b5585ae68af4bc\r\n\r\nCould make this refactor in a separate commit?",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2019-10-17T08:57:28Z",
      "diff_hunk" : "@@ -136,45 +115,44 @@ void CZMQNotificationInterface::Shutdown()\n     }\n }\n \n-void CZMQNotificationInterface::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload)\n+namespace\n {\n-    if (fInitialDownload || pindexNew == pindexFork) // In IBD or blocks were disconnected without any new ones\n-        return;\n \n-    for (std::list<CZMQAbstractNotifier*>::iterator i = notifiers.begin(); i!=notifiers.end(); )\n-    {\n-        CZMQAbstractNotifier *notifier = *i;\n-        if (notifier->NotifyBlock(pindexNew))\n-        {\n-            i++;\n-        }\n-        else\n-        {\n+template <typename Function>\n+void TryForEachAndRemoveFailed(std::list<std::unique_ptr<CZMQAbstractNotifier>>& notifiers, const Function& func)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335885955",
      "id" : 335885955,
      "line" : 118,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTg4NTk1NQ==",
      "original_commit_id" : "f18bc54cab43ef1de8502b8f84b5585ae68af4bc",
      "original_line" : 118,
      "original_position" : 130,
      "original_start_line" : null,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : 155,
      "pull_request_review_id" : 303100129,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335885955",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335887469"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335887469"
         }
      },
      "author_association" : "MEMBER",
      "body" : "d10f274a6e0291e752e25b2bd99c0472d22a420f\r\n\r\n`MakeUnique`?",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2019-10-17T09:00:24Z",
      "diff_hunk" : "@@ -21,9 +23,9 @@ class CZMQAbstractNotifier\n     virtual ~CZMQAbstractNotifier();\n \n     template <typename T>\n-    static CZMQAbstractNotifier* Create()\n+    static std::unique_ptr<CZMQAbstractNotifier> Create()\n     {\n-        return new T();\n+        return std::unique_ptr<CZMQAbstractNotifier>(new T());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335887469",
      "id" : 335887469,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTg4NzQ2OQ==",
      "original_commit_id" : "d10f274a6e0291e752e25b2bd99c0472d22a420f",
      "original_line" : 28,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/zmq/zmqabstractnotifier.h",
      "position" : null,
      "pull_request_review_id" : 303100129,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335887469",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335934025"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335934025"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2019-10-17T10:42:39Z",
      "diff_hunk" : "@@ -136,45 +115,44 @@ void CZMQNotificationInterface::Shutdown()\n     }\n }\n \n-void CZMQNotificationInterface::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload)\n+namespace",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335934025",
      "id" : 335934025,
      "in_reply_to_id" : 335885561,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTkzNDAyNQ==",
      "original_commit_id" : "f18bc54cab43ef1de8502b8f84b5585ae68af4bc",
      "original_line" : 118,
      "original_position" : 115,
      "original_start_line" : null,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : null,
      "pull_request_review_id" : 303162722,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335934025",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335934078"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335934078"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2019-10-17T10:42:46Z",
      "diff_hunk" : "@@ -21,9 +23,9 @@ class CZMQAbstractNotifier\n     virtual ~CZMQAbstractNotifier();\n \n     template <typename T>\n-    static CZMQAbstractNotifier* Create()\n+    static std::unique_ptr<CZMQAbstractNotifier> Create()\n     {\n-        return new T();\n+        return std::unique_ptr<CZMQAbstractNotifier>(new T());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335934078",
      "id" : 335934078,
      "in_reply_to_id" : 335887469,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTkzNDA3OA==",
      "original_commit_id" : "d10f274a6e0291e752e25b2bd99c0472d22a420f",
      "original_line" : 28,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/zmq/zmqabstractnotifier.h",
      "position" : null,
      "pull_request_review_id" : 303162788,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335934078",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the review!  I've addressed your comments in follow-up commits (I do not want to force-push right now and perhaps mess up your ongoing review).  I will add them as fixups to the proper commits later when you are done with the review.\r\n\r\nI can then also split out the creation of `TryForEachAndRemoveFailed` into a separate commit if you prefer that.",
      "created_at" : "2019-10-17T10:43:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-543116340",
      "id" : 543116340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzExNjM0MA==",
      "updated_at" : "2019-10-17T10:43:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543116340",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335941538"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335941538"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes sure, if you prefer.  Let's finish the review of the code first, and then I will rework the commit history as desired afterwards (else we might mess up the ongoing review with force-pushes).",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2019-10-17T11:03:27Z",
      "diff_hunk" : "@@ -136,45 +115,44 @@ void CZMQNotificationInterface::Shutdown()\n     }\n }\n \n-void CZMQNotificationInterface::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload)\n+namespace\n {\n-    if (fInitialDownload || pindexNew == pindexFork) // In IBD or blocks were disconnected without any new ones\n-        return;\n \n-    for (std::list<CZMQAbstractNotifier*>::iterator i = notifiers.begin(); i!=notifiers.end(); )\n-    {\n-        CZMQAbstractNotifier *notifier = *i;\n-        if (notifier->NotifyBlock(pindexNew))\n-        {\n-            i++;\n-        }\n-        else\n-        {\n+template <typename Function>\n+void TryForEachAndRemoveFailed(std::list<std::unique_ptr<CZMQAbstractNotifier>>& notifiers, const Function& func)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r335941538",
      "id" : 335941538,
      "in_reply_to_id" : 335885955,
      "line" : 118,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTk0MTUzOA==",
      "original_commit_id" : "f18bc54cab43ef1de8502b8f84b5585ae68af4bc",
      "original_line" : 118,
      "original_position" : 130,
      "original_start_line" : null,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : 155,
      "pull_request_review_id" : 303173079,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335941538",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-12-31T19:24:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-569978430",
      "id" : 569978430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2OTk3ODQzMA==",
      "updated_at" : "2019-12-31T19:24:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/569978430",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased",
      "created_at" : "2020-01-01T08:02:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-570032472",
      "id" : 570032472,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MDAzMjQ3Mg==",
      "updated_at" : "2020-01-01T08:02:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/570032472",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478264263"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478264263"
         }
      },
      "author_association" : "MEMBER",
      "body" : "69f92ffce9f0d11d9389610e702b99d9038f3fed\r\n\r\n> Could make this refactor in a separate commit?\r\n\r\nAgree with @promag.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-08-27T08:57:24Z",
      "diff_hunk" : "@@ -136,45 +115,44 @@ void CZMQNotificationInterface::Shutdown()\n     }\n }\n \n-void CZMQNotificationInterface::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload)\n+namespace\n {\n-    if (fInitialDownload || pindexNew == pindexFork) // In IBD or blocks were disconnected without any new ones\n-        return;\n \n-    for (std::list<CZMQAbstractNotifier*>::iterator i = notifiers.begin(); i!=notifiers.end(); )\n-    {\n-        CZMQAbstractNotifier *notifier = *i;\n-        if (notifier->NotifyBlock(pindexNew))\n-        {\n-            i++;\n-        }\n-        else\n-        {\n+template <typename Function>\n+void TryForEachAndRemoveFailed(std::list<std::unique_ptr<CZMQAbstractNotifier>>& notifiers, const Function& func)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478264263",
      "id" : 478264263,
      "in_reply_to_id" : 335885955,
      "line" : 118,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2NDI2Mw==",
      "original_commit_id" : "f18bc54cab43ef1de8502b8f84b5585ae68af4bc",
      "original_line" : 118,
      "original_position" : 130,
      "original_start_line" : null,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : 155,
      "pull_request_review_id" : 476519962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478264263",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478266424"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478266424"
         }
      },
      "author_association" : "MEMBER",
      "body" : "69f92ffce9f0d11d9389610e702b99d9038f3fed\r\n\r\nIf this code is touched to make it easier to read and maintain, may I suggest a simpler approach:\r\n```\r\n    if (!notifiers.empty()) {\r\n        auto notificationInterface = std::unique_ptr<CZMQNotificationInterface>(new CZMQNotificationInterface());\r\n        notificationInterface->notifiers = std::move(notifiers);\r\n\r\n        if (notificationInterface->Initialize()) {\r\n            return notificationInterface.release();\r\n        }\r\n    }\r\n\r\n    return nullptr;\r\n```\r\n?",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-08-27T09:00:50Z",
      "diff_hunk" : "@@ -58,23 +51,22 @@ CZMQNotificationInterface* CZMQNotificationInterface::Create()\n             notifier->SetType(entry.first);\n             notifier->SetAddress(address);\n             notifier->SetOutboundMessageHighWaterMark(static_cast<int>(gArgs.GetArg(arg + \"hwm\", CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM)));\n-            notifiers.push_back(notifier);\n+            notifiers.emplace_back(notifier);\n         }\n     }\n \n+    std::unique_ptr<CZMQNotificationInterface> notificationInterface;\n     if (!notifiers.empty())\n     {\n-        notificationInterface = new CZMQNotificationInterface();\n-        notificationInterface->notifiers = notifiers;\n+        notificationInterface.reset(new CZMQNotificationInterface());\n+        notificationInterface->notifiers = std::move(notifiers);\n \n-        if (!notificationInterface->Initialize())\n-        {\n-            delete notificationInterface;\n-            notificationInterface = nullptr;\n+        if (!notificationInterface->Initialize()) {\n+            notificationInterface.reset();\n         }\n     }\n \n-    return notificationInterface;\n+    return notificationInterface.release();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478266424",
      "id" : 478266424,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2NjQyNA==",
      "original_commit_id" : "69f92ffce9f0d11d9389610e702b99d9038f3fed",
      "original_line" : 69,
      "original_position" : 64,
      "original_start_line" : 58,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : null,
      "pull_request_review_id" : 476519962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478266424",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478270471"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478270471"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n#include <cstdarg>\r\n#include <cstddef>\r\n#include <map>\r\n#include <string>\r\n#include <utility>\r\n```",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-08-27T09:07:51Z",
      "diff_hunk" : "@@ -2,14 +2,25 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <zmq/zmqpublishnotifier.h>\n+\n #include <chain.h>\n #include <chainparams.h>\n #include <streams.h>\n-#include <zmq/zmqpublishnotifier.h>\n+#include <zmq/zmqutil.h>\n #include <validation.h>\n #include <util/system.h>\n #include <rpc/server.h>\n \n+#include <zmq.h>\n+\n+#include <cstdarg>\n+#include <cstddef>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478270471",
      "id" : 478270471,
      "line" : 18,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3MDQ3MQ==",
      "original_commit_id" : "49e2cb78563df27ff0a5d2ad985e074ee98afcce",
      "original_line" : 18,
      "original_position" : 22,
      "original_start_line" : 21,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : 20,
      "pull_request_review_id" : 476519962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : 17,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478270471",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478271658"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478271658"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is this required here as no defines from `bitcoin-config.h` is used here?",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-08-27T09:09:54Z",
      "diff_hunk" : "@@ -2,14 +2,25 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478271658",
      "id" : 478271658,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3MTY1OA==",
      "original_commit_id" : "49e2cb78563df27ff0a5d2ad985e074ee98afcce",
      "original_line" : 7,
      "original_position" : 6,
      "original_start_line" : 5,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 476519962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478271658",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478272697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478272697"
         }
      },
      "author_association" : "MEMBER",
      "body" : "49e2cb78563df27ff0a5d2ad985e074ee98afcce\r\nnanonit:\r\n```suggestion\r\nvoid zmqError(const char* str);\r\n```",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-08-27T09:11:41Z",
      "diff_hunk" : "@@ -0,0 +1,10 @@\n+// Copyright (c) 2014-2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_ZMQ_ZMQUTIL_H\n+#define BITCOIN_ZMQ_ZMQUTIL_H\n+\n+void zmqError(const char *str);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478272697",
      "id" : 478272697,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3MjY5Nw==",
      "original_commit_id" : "49e2cb78563df27ff0a5d2ad985e074ee98afcce",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/zmq/zmqutil.h",
      "position" : null,
      "pull_request_review_id" : 476519962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478272697",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478273007"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478273007"
         }
      },
      "author_association" : "MEMBER",
      "body" : "49e2cb78563df27ff0a5d2ad985e074ee98afcce\r\nnanonit:\r\n```suggestion\r\nvoid zmqError(const char* str)\r\n```",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-08-27T09:12:11Z",
      "diff_hunk" : "@@ -0,0 +1,14 @@\n+// Copyright (c) 2014-2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <zmq/zmqutil.h>\n+\n+#include <logging.h>\n+\n+#include <zmq.h>\n+\n+void zmqError(const char *str)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r478273007",
      "id" : 478273007,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3MzAwNw==",
      "original_commit_id" : "49e2cb78563df27ff0a5d2ad985e074ee98afcce",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/zmq/zmqutil.cpp",
      "position" : null,
      "pull_request_review_id" : 476519962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/478273007",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r480894881"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480894881"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Indeed, I've pushed this change together with the two nanonits below (in a single commit).",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-09-01T06:59:13Z",
      "diff_hunk" : "@@ -2,14 +2,25 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <zmq/zmqpublishnotifier.h>\n+\n #include <chain.h>\n #include <chainparams.h>\n #include <streams.h>\n-#include <zmq/zmqpublishnotifier.h>\n+#include <zmq/zmqutil.h>\n #include <validation.h>\n #include <util/system.h>\n #include <rpc/server.h>\n \n+#include <zmq.h>\n+\n+#include <cstdarg>\n+#include <cstddef>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r480894881",
      "id" : 480894881,
      "in_reply_to_id" : 478270471,
      "line" : 18,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDg5NDg4MQ==",
      "original_commit_id" : "49e2cb78563df27ff0a5d2ad985e074ee98afcce",
      "original_line" : 18,
      "original_position" : 22,
      "original_start_line" : 21,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : 20,
      "pull_request_review_id" : 479450852,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : 17,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480894881",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r480896304"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480896304"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I guess not, removed.",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-09-01T07:01:02Z",
      "diff_hunk" : "@@ -2,14 +2,25 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r480896304",
      "id" : 480896304,
      "in_reply_to_id" : 478271658,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDg5NjMwNA==",
      "original_commit_id" : "49e2cb78563df27ff0a5d2ad985e074ee98afcce",
      "original_line" : 7,
      "original_position" : 6,
      "original_start_line" : 5,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 479451933,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480896304",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r480900191"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480900191"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Indeed, looks better.  I've updated the code accordingly (except I changed the `auto notificationInterface = ...` line slightly into what I consider even clearer; but let me know if you prefer your suggestion).",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-09-01T07:06:19Z",
      "diff_hunk" : "@@ -58,23 +51,22 @@ CZMQNotificationInterface* CZMQNotificationInterface::Create()\n             notifier->SetType(entry.first);\n             notifier->SetAddress(address);\n             notifier->SetOutboundMessageHighWaterMark(static_cast<int>(gArgs.GetArg(arg + \"hwm\", CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM)));\n-            notifiers.push_back(notifier);\n+            notifiers.emplace_back(notifier);\n         }\n     }\n \n+    std::unique_ptr<CZMQNotificationInterface> notificationInterface;\n     if (!notifiers.empty())\n     {\n-        notificationInterface = new CZMQNotificationInterface();\n-        notificationInterface->notifiers = notifiers;\n+        notificationInterface.reset(new CZMQNotificationInterface());\n+        notificationInterface->notifiers = std::move(notifiers);\n \n-        if (!notificationInterface->Initialize())\n-        {\n-            delete notificationInterface;\n-            notificationInterface = nullptr;\n+        if (!notificationInterface->Initialize()) {\n+            notificationInterface.reset();\n         }\n     }\n \n-    return notificationInterface;\n+    return notificationInterface.release();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r480900191",
      "id" : 480900191,
      "in_reply_to_id" : 478266424,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDkwMDE5MQ==",
      "original_commit_id" : "69f92ffce9f0d11d9389610e702b99d9038f3fed",
      "original_line" : 69,
      "original_position" : 64,
      "original_start_line" : 58,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : null,
      "pull_request_review_id" : 479454995,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-15T07:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480900191",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the review, @hebasto, very appreciated!  I've addressed your suggestions now with fixup commits.  I will now rebase this onto current master, and then go clean up the commit history (including splitting out the refactor as suggested by @promag and you).",
      "created_at" : "2020-09-01T07:07:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-684502925",
      "id" : 684502925,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDUwMjkyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T07:07:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684502925",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebase done, and I've now cleaned up the commit history as well (squashed in the \"fixup\" commits as appropriate).  Also split out the `TryForEachAndRemoveFailed` refactor into its own commit.",
      "created_at" : "2020-09-01T08:06:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-684534581",
      "id" : 684534581,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDUzNDU4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T08:06:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684534581",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The first commit 707c4803d5edd2d5ebd6febb33e08bb031630652 is not compiled for me. Make iterator type `auto`?",
      "created_at" : "2020-09-06T08:17:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-687722745",
      "id" : 687722745,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzcyMjc0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-06T08:19:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687722745",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The first commit [707c480](https://github.com/bitcoin/bitcoin/commit/707c4803d5edd2d5ebd6febb33e08bb031630652) is not compiled for me. Make iterator type `auto`?\r\n\r\nSorry for that, it is fixed now.  The overall PR is not changed (except I've rebased it to current `master`), but now each individual commit builds.",
      "created_at" : "2020-09-07T09:06:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-688183325",
      "id" : 688183325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODE4MzMyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T09:06:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688183325",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Mind making the latest commit [166ddcb](https://github.com/bitcoin/bitcoin/commit/166ddcbef82ba2b6734e8f09584fb73e4f9f98a4) a sripted-diff with the following script:\r\n\r\nGood point, done.",
      "created_at" : "2020-09-15T07:40:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-692529582",
      "id" : 692529582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MjUyOTU4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-15T07:40:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692529582",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r488701385"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488701385"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Note for reviewers: I think this is resolved?",
      "commit_id" : "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "created_at" : "2020-09-15T14:13:24Z",
      "diff_hunk" : "@@ -136,45 +115,44 @@ void CZMQNotificationInterface::Shutdown()\n     }\n }\n \n-void CZMQNotificationInterface::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload)\n+namespace\n {\n-    if (fInitialDownload || pindexNew == pindexFork) // In IBD or blocks were disconnected without any new ones\n-        return;\n \n-    for (std::list<CZMQAbstractNotifier*>::iterator i = notifiers.begin(); i!=notifiers.end(); )\n-    {\n-        CZMQAbstractNotifier *notifier = *i;\n-        if (notifier->NotifyBlock(pindexNew))\n-        {\n-            i++;\n-        }\n-        else\n-        {\n+template <typename Function>\n+void TryForEachAndRemoveFailed(std::list<std::unique_ptr<CZMQAbstractNotifier>>& notifiers, const Function& func)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#discussion_r488701385",
      "id" : 488701385,
      "in_reply_to_id" : 335885955,
      "line" : 118,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcwMTM4NQ==",
      "original_commit_id" : "f18bc54cab43ef1de8502b8f84b5585ae68af4bc",
      "original_line" : 118,
      "original_position" : 130,
      "original_start_line" : null,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : 155,
      "pull_request_review_id" : 488728666,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13686",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-15T14:13:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488701385",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1\r\n\r\nI restarted one travis job that appeared to be a spurious timeout.",
      "created_at" : "2020-09-15T14:23:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13686#issuecomment-692749601",
      "id" : 692749601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13686",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5Mjc0OTYwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-15T14:23:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692749601",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   }
]
