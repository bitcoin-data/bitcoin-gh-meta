{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "I've got a custom compiled bitcoin core node with changed accounts prefixes and blocks creation time.\r\n\r\nThis node runs mining and produces new block every ~1 min.\r\nI create transactions using bitcoin-cli sendtoaddress and transactions appear in the mempool: \r\n```\r\n> bitcoin-cli -testnet sendtoaddress sZgFxHLG4AZFCZwVoGKbpBaVX7tve56478 20\r\nb7b710e4599c98a5b97b4846b97ec9cc36a34ff6338dcdbd586110b77f5bfa57\r\n```\r\n\r\nIt appears in the mempool\r\n```\r\n> bitcoin-cli -testnet getmempoolentry b7b710e4599c98a5b97b4846b97ec9cc36a34ff6338dcdbd586110b77f5bfa57\r\n\r\n[\r\n    {\r\n        \"fees\": {\r\n            \"base\": 0.000168,\r\n            \"modified\": 0.000268,\r\n            \"ancestor\": 0.000268,\r\n            \"descendant\": 0.000268\r\n        },\r\n        \"size\": 168,\r\n        \"fee\": 0.000168,\r\n        \"modifiedfee\": 0.000268,\r\n        \"time\": 1531315521,\r\n        \"height\": 107039,\r\n        \"descendantcount\": 1,\r\n        \"descendantsize\": 168,\r\n        \"descendantfees\": 26800,\r\n        \"ancestorcount\": 1,\r\n        \"ancestorsize\": 168,\r\n        \"ancestorfees\": 26800,\r\n        \"wtxid\": \"d7bb3a08cdefcffe0d3ab129e553059c31bc3a9a431ed7e15b31f93e744d220f\",\r\n        \"depends\": [],\r\n        \"spentby\": []\r\n    }\r\n]\r\n```\r\n\r\nThe problem is - transactions are very selectively mined - like 2-3 transactions out of 20-30 created or less. Usually all of them come in one block.\r\nThe rest txs stay in mempool forever until I clean them.\r\nCurrently I've submitted 22 tx and none are mined after an hour.\r\n\r\n`prioritisetransaction` does not help - it just increases tx fee.\r\nversion is: v0.16.99. Was built from master branch on Apr 27.\r\n\r\nConfiguration is as follows:\r\n```\r\nserver=1\r\nlisten=1\r\ntestnet=1\r\nrest=1\r\nmaxconnections=100\r\nkeypool=1000\r\ntxindex=1\r\naddressindex=1\r\ntimestampindex=1\r\nspentindex=1\r\ndisablewallet=0\r\n\r\nmaxtxfee=1\r\nminrelaytxfee=0.000001\r\nblockmintxfee=0.000001\r\nmempoolexpiry=2\r\n\r\nrpcallowip=127.0.0.1/32\r\nrpcallowip=172.0.0.0/8\r\nrpcallowip=10.0.0.0/8\r\n```\r\n\r\nMining is run through rpc one block at a time in a loop.\r\n\r\nIs there something I am missing?",
   "closed_at" : "2018-07-11T14:49:55Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 8,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13635/comments",
   "created_at" : "2018-07-11T14:02:53Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13635/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/13635",
   "id" : 340256494,
   "labels" : [
      {
         "color" : "006688",
         "default" : false,
         "id" : 477890092,
         "name" : "Questions and Help",
         "node_id" : "MDU6TGFiZWw0Nzc4OTAwOTI=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13635/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWUzNDAyNTY0OTQ=",
   "number" : 13635,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Transactions are selectively mined on a private node",
   "updated_at" : "2018-07-11T15:18:42Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13635",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/844011?v=4",
      "events_url" : "https://api.github.com/users/neptunix/events{/privacy}",
      "followers_url" : "https://api.github.com/users/neptunix/followers",
      "following_url" : "https://api.github.com/users/neptunix/following{/other_user}",
      "gists_url" : "https://api.github.com/users/neptunix/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/neptunix",
      "id" : 844011,
      "login" : "neptunix",
      "node_id" : "MDQ6VXNlcjg0NDAxMQ==",
      "organizations_url" : "https://api.github.com/users/neptunix/orgs",
      "received_events_url" : "https://api.github.com/users/neptunix/received_events",
      "repos_url" : "https://api.github.com/users/neptunix/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/neptunix/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/neptunix/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/neptunix"
   }
}
