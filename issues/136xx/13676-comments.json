[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13676#discussion_r202815129"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/202815129"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Use the same terminology found below?https://github.com/bitcoin/bitcoin/blob/a9b242c53beb3be45e9d49af965bec835b3a7abc/src/init.cpp#L475",
      "commit_id" : "7cb1a1401d2dcc82d2c7ca7ee1d3067dc4ada5e8",
      "created_at" : "2018-07-16T20:33:48Z",
      "diff_hunk" : "@@ -363,7 +363,7 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-conf=<file>\", strprintf(\"Specify configuration file. Relative paths will be prefixed by datadir location. (default: %s)\", BITCOIN_CONF_FILENAME), false, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-datadir=<dir>\", \"Specify data directory\", false, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-dbbatchsize\", strprintf(\"Maximum database write batch size in bytes (default: %u)\", nDefaultDbBatchSize), true, OptionsCategory::OPTIONS);\n-    gArgs.AddArg(\"-dbcache=<n>\", strprintf(\"Set database cache size in megabytes (%d to %d, default: %d)\", nMinDbCache, nMaxDbCache, nDefaultDbCache), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-dbcache=<n>\", strprintf(\"Set database cache size in megabytes. During initial sync memory from the mempool is added (see -maxmempool). (%d to %d, default: %d)\", nMinDbCache, nMaxDbCache, nDefaultDbCache), false, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13676#discussion_r202815129",
      "id" : 202815129,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMjgxNTEyOQ==",
      "original_commit_id" : "a9b242c53beb3be45e9d49af965bec835b3a7abc",
      "original_position" : 5,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 137585714,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13676",
      "updated_at" : "2019-01-31T09:57:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/202815129",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tweaked the message to use \"initial block download\" instead of \"initial sync\" and use `<n> megabytes` convention. Also keeping `(4 to ..., default: 450)` directly after the first sentence, instead of at the very end (I think that's more readable).",
      "created_at" : "2018-07-17T08:25:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13676#issuecomment-405501574",
      "id" : 405501574,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNTUwMTU3NA==",
      "updated_at" : "2018-07-17T08:25:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405501574",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would the same OOM issue also be encountered during periods of time when mempools are full and not just in IBD? Maybe just clarify that the process can use up to dbcache + maxmempool space?",
      "created_at" : "2018-08-01T17:12:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13676#issuecomment-409650558",
      "id" : 409650558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwOTY1MDU1OA==",
      "updated_at" : "2018-08-01T17:12:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/409650558",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Agree with @skeees.\r\nUsers need to be aware that `MAXMEMPOOLLIMIT+DBCACHE` is what they should count for, regardless of IBD/In-sync.\r\n\r\nBut the Ã¢ÂÂ in this PR Ã¢ÂÂ updated `-dbcache` message seems to make it more clear.\r\n\r\nutACK 2f631f0",
      "created_at" : "2018-08-02T06:55:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13676#issuecomment-409825788",
      "id" : 409825788,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwOTgyNTc4OA==",
      "updated_at" : "2018-08-02T06:55:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/409825788",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2018-08-29T14:32:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13676#issuecomment-416975748",
      "id" : 416975748,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxNjk3NTc0OA==",
      "updated_at" : "2019-01-31T12:14:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416975748",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I personally don't think the message is clear enough to prevent users from over-allocating. Perhaps something along the lines of: \"During initial block download, the amount of memory used may be up to maxmempoollimit + dbcache\". ? Or something like this?",
      "created_at" : "2018-09-05T20:31:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13676#issuecomment-418871040",
      "id" : 418871040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxODg3MTA0MA==",
      "updated_at" : "2018-09-05T20:31:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/418871040",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3648618?v=4",
         "events_url" : "https://api.github.com/users/leishman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/leishman/followers",
         "following_url" : "https://api.github.com/users/leishman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/leishman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/leishman",
         "id" : 3648618,
         "login" : "leishman",
         "node_id" : "MDQ6VXNlcjM2NDg2MTg=",
         "organizations_url" : "https://api.github.com/users/leishman/orgs",
         "received_events_url" : "https://api.github.com/users/leishman/received_events",
         "repos_url" : "https://api.github.com/users/leishman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/leishman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/leishman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/leishman"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "That's not just the case during IBD.\n\nAt any point in time, the total memory is limited by the headers in memory, network buffers, validation caches, UTXO set cache, mempool, plus some overhead.\n\nWhen the mempool limit is not reached, the UTXO set cache is allowed to grow and use the mempool space as well, but this shouldn't affect users' expectations of memory usage. It'd also independent of IBD or not.",
      "created_at" : "2018-09-05T20:37:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13676#issuecomment-418873000",
      "id" : 418873000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxODg3MzAwMA==",
      "updated_at" : "2018-09-05T20:37:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/418873000",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, I tried a new wording:\r\n\r\n```\r\n  -dbcache=<n>\r\n       Maximum database cache size <n> megabytes (4 to 16384, default: 450). In\r\n       addition, unused mempool memory is shared for this cache (see\r\n       -maxmempool).\r\n```",
      "created_at" : "2018-09-06T15:03:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13676#issuecomment-419128043",
      "id" : 419128043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxOTEyODA0Mw==",
      "updated_at" : "2018-09-06T15:03:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419128043",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased after #15163, using `MiB` now.",
      "created_at" : "2019-01-31T09:58:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13676#issuecomment-459285125",
      "id" : 459285125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1OTI4NTEyNQ==",
      "updated_at" : "2019-01-31T09:58:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/459285125",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
