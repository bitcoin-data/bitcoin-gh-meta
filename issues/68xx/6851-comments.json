[
   {
      "author_association" : "MEMBER",
      "body" : "People are already complaining about memory usage of the wallet. How much will this make it worse?\n",
      "created_at" : "2015-10-19T09:25:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-149156386",
      "id" : 149156386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE0OTE1NjM4Ng==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149156386/reactions"
      },
      "updated_at" : "2015-10-19T09:25:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149156386",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I would guess maybe 40 bytes per transaction. I am running some tests to compare.\n\nThe current code is very poor for zapwallettxes because it will re-sort the entire wallet transactions, every time it adds a new one.\n",
      "created_at" : "2015-10-19T09:32:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-149160347",
      "id" : 149160347,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE0OTE2MDM0Nw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149160347/reactions"
      },
      "updated_at" : "2015-10-19T09:32:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149160347",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "With a wallet containing 10184 transactions, I did not observe any measurable memory overhead to the cache.\n\n```\n SIZE    VSZ    SZ\n329352 347192 86798 d78a880\n320552 338396 84599 d78a880+5873cc8\n```\n",
      "created_at" : "2015-10-20T04:55:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-149433219",
      "id" : 149433219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE0OTQzMzIxOQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149433219/reactions"
      },
      "updated_at" : "2015-10-20T04:55:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149433219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6851#discussion_r43430532"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6851"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/43430532"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: use a better method name? Maybe\n\n``` c\n_WriteAccountingEntry(const CAccountingEntry& acentry) //should only be called from the CWallet\n```\n",
      "commit_id" : "3e7c89196ceb2742b62cd183d6fab74edc40647a",
      "created_at" : "2015-10-29T19:06:52Z",
      "diff_hunk" : "@@ -189,7 +189,7 @@ bool CWalletDB::WriteAccountingEntry(const uint64_t nAccEntryNum, const CAccount\n     return Write(std::make_pair(std::string(\"acentry\"), std::make_pair(acentry.strAccount, nAccEntryNum)), acentry);\n }\n \n-bool CWalletDB::WriteAccountingEntry(const CAccountingEntry& acentry)\n+bool CWalletDB::WriteAccountingEntry_ForWalletOnly(const CAccountingEntry& acentry)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#discussion_r43430532",
      "id" : 43430532,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDMwNTMy",
      "original_commit_id" : "5873cc890df161f4d7cbc312e02cf8181a0d8ef1",
      "original_line" : null,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6851",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/43430532/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2015-11-21T01:49:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/43430532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice!\nAdding a wtx to the wallet could also be faster (especially big wallets) because `AddToWallet()` does also call `OrderedTxItems()` (which reads in all the whole transaction history).\n\nutACK.\n",
      "created_at" : "2015-10-29T19:12:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-152290903",
      "id" : 152290903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1MjI5MDkwMw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152290903/reactions"
      },
      "updated_at" : "2015-10-29T19:12:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152290903",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "concept ACK, light utACK\n\nAlso,  I feel like any memory overhead required would already exist instantaneously at the call site anyway, this just persists the requirement for the lifetime of the application instead?\n\n**edit**: To clarify, this doesn't really require any extra memory, except in that it is now persistent across the applications lifetime, not just when needed.\n",
      "created_at" : "2015-10-29T19:19:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-152292606",
      "id" : 152292606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1MjI5MjYwNg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152292606/reactions"
      },
      "updated_at" : "2015-11-18T00:38:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152292606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=4",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "node_id" : "MDQ6VXNlcjQxMzM5NQ==",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase\n",
      "created_at" : "2015-11-06T04:23:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-154281504",
      "id" : 154281504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NDI4MTUwNA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154281504/reactions"
      },
      "updated_at" : "2015-11-06T04:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154281504",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr rebase please\n",
      "created_at" : "2015-11-14T07:57:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-156665090",
      "id" : 156665090,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NjY2NTA5MA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156665090/reactions"
      },
      "updated_at" : "2015-11-14T07:57:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156665090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased\n",
      "created_at" : "2015-11-17T16:38:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-157425219",
      "id" : 157425219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NzQyNTIxOQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157425219/reactions"
      },
      "updated_at" : "2015-11-17T16:38:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157425219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Increased memory from 1.5GB on master to 1.8GB \nImproved zapwallet time to 5 minutes from something approximating infinity\n\n$ ./src/bitcoin-cli -testnet  getwalletinfo\n{\n  \"walletversion\": 60000,\n  \"balance\": 1937898.88787003,\n  \"unconfirmed_balance\": 0.00000000,\n  \"immature_balance\": 1275.53301591,\n  \"txcount\": 776267,\n  \"keypoololdest\": 1446285387,\n  \"keypoolsize\": 999999,\n  \"paytxfee\": 0.00000000\n}\n",
      "created_at" : "2015-11-18T21:46:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-157875145",
      "id" : 157875145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1Nzg3NTE0NQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157875145/reactions"
      },
      "updated_at" : "2015-11-18T21:46:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157875145",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@pstratem Pull request 6850 will improve zapwallet / rescan time similarly with no memory increase. However, this pull request will be good for AddToWallets when near the tip, where there is intermittent CPU spiking when the indexes are recreated.\n\nIMO, this pull request is needed even with the memory increase, but 6850 is less controversial.\n",
      "created_at" : "2015-11-18T22:05:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-157879682",
      "id" : 157879682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1Nzg3OTY4Mg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157879682/reactions"
      },
      "updated_at" : "2015-11-18T22:05:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157879682",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15180124?v=4",
         "events_url" : "https://api.github.com/users/bittylicious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bittylicious/followers",
         "following_url" : "https://api.github.com/users/bittylicious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bittylicious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bittylicious",
         "id" : 15180124,
         "login" : "bittylicious",
         "node_id" : "MDQ6VXNlcjE1MTgwMTI0",
         "organizations_url" : "https://api.github.com/users/bittylicious/orgs",
         "received_events_url" : "https://api.github.com/users/bittylicious/received_events",
         "repos_url" : "https://api.github.com/users/bittylicious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bittylicious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bittylicious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bittylicious"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rescan on wallet containing 14WCrzmqVCD7Thf79vutWTB6y1hUc8pP19  (maybe about 53k transactions) went from 23 minutes to 10 minutes.\n",
      "created_at" : "2015-11-18T22:43:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-157888957",
      "id" : 157888957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1Nzg4ODk1Nw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157888957/reactions"
      },
      "updated_at" : "2015-11-18T22:43:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157888957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "oh my numbers there were for the whole rescan, if I limit the benchmark to just the chunk of the blockchain that have transactions...  it goes from 843 seconds to 35 seconds from 63/sec to 1541/sec; or 24x faster.\n",
      "created_at" : "2015-11-21T00:04:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-158563329",
      "id" : 158563329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1ODU2MzMyOQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158563329/reactions"
      },
      "updated_at" : "2015-11-21T01:13:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158563329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "On a wallet with 410k transactions in it, this repeatably _decreases_ memory usage by ~5MB from 822MB to 816MB.  I think it's fair to say that any increase is negligible.\n",
      "created_at" : "2015-11-21T00:44:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-158567909",
      "id" : 158567909,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1ODU2NzkwOQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158567909/reactions"
      },
      "updated_at" : "2015-11-21T00:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158567909",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@gmaxwell I would expect any memory increase to be within \"measurement error\" tolerances, i.e. not significant. This is essentially just storing another index (or two?). It's great that your measurements seem to agree.\n\nAnd the previous code which ultimately recreated the indexes on each AddToWallet is simply bad.\n",
      "created_at" : "2015-11-21T01:01:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-158569660",
      "id" : 158569660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1ODU2OTY2MA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158569660/reactions"
      },
      "updated_at" : "2015-11-21T01:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158569660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15180124?v=4",
         "events_url" : "https://api.github.com/users/bittylicious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bittylicious/followers",
         "following_url" : "https://api.github.com/users/bittylicious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bittylicious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bittylicious",
         "id" : 15180124,
         "login" : "bittylicious",
         "node_id" : "MDQ6VXNlcjE1MTgwMTI0",
         "organizations_url" : "https://api.github.com/users/bittylicious/orgs",
         "received_events_url" : "https://api.github.com/users/bittylicious/received_events",
         "repos_url" : "https://api.github.com/users/bittylicious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bittylicious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bittylicious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bittylicious"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK.\n",
      "created_at" : "2015-11-21T02:53:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6851#issuecomment-158579066",
      "id" : 158579066,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6851",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1ODU3OTA2Ng==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158579066/reactions"
      },
      "updated_at" : "2015-11-21T02:53:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158579066",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
