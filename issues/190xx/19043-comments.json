[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nYou might want to add some validationfor the option value: at the least whether it's `<addr>:port`, to prevent passing weird values to Tor's control port with unclear outcomes.\r\n\r\nEdit: this is also the first step towards making #8973 possible.\r\nEdit.2: apparently that uses the `unix:/tmp/path/to/tor/socket` syntax. We'd also want to support that at some point, though right now is pointless as bitcoind can't bind on a UNIX socket.",
      "created_at" : "2020-05-26T10:58:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-633955433",
      "id" : 633955433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzk1NTQzMw==",
      "updated_at" : "2020-05-26T11:02:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633955433",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm confused how torcontrol is talking to Tor on another host?",
      "created_at" : "2020-06-03T03:56:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-637937425",
      "id" : 637937425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNzkzNzQyNQ==",
      "updated_at" : "2020-06-03T03:56:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637937425",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nSome validation and testing would be nice here. \r\n\r\n@MDrollette, are you still active on this?",
      "created_at" : "2020-07-17T13:26:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-660106211",
      "id" : 660106211,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDEwNjIxMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-17T13:26:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660106211",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@laanwj \r\n> You might want to add some validationfor the option value: at the least whether it's `<addr>:port`, to prevent passing weird values to Tor's control port with unclear outcomes.\r\n\r\nI've added what I believe to be some sanitation/validation. I am happy to do something differently if anyone can point to a better example. My apologies, I'm not a C developer, so this is very much an introduction for me.\r\n\r\n\r\n@luke-jr \r\n> I'm confused how torcontrol is talking to Tor on another host?\r\n\r\n`-torcontrol` can be a remote host or a different interface on the same host (ie. when running in a container) - particularly when used in combination with `-torpassword` instead of the cookie file method.\r\n\r\n\r\n",
      "created_at" : "2020-07-17T18:52:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-660282449",
      "id" : 660282449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDI4MjQ0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-17T18:52:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660282449",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/329784?v=4",
         "events_url" : "https://api.github.com/users/MDrollette/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MDrollette/followers",
         "following_url" : "https://api.github.com/users/MDrollette/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MDrollette/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MDrollette",
         "id" : 329784,
         "login" : "MDrollette",
         "node_id" : "MDQ6VXNlcjMyOTc4NA==",
         "organizations_url" : "https://api.github.com/users/MDrollette/orgs",
         "received_events_url" : "https://api.github.com/users/MDrollette/received_events",
         "repos_url" : "https://api.github.com/users/MDrollette/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MDrollette/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MDrollette/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MDrollette"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19998 (net: Add CNode::ConnectedThroughNetwork member function by hebasto)\n* #19991 (net: Use alternative port for incoming Tor connections by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-17T22:25:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-660362786",
      "id" : 660362786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDM2Mjc4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-30T23:21:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660362786",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r462967925"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/462967925"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Looks like the port is missing in the default value ?",
      "commit_id" : "b5d5d231545d6f64f0791fa2966d4216391386ca",
      "created_at" : "2020-07-30T12:43:03Z",
      "diff_hunk" : "@@ -531,12 +531,20 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n             SetReachable(NET_ONION, true);\n         }\n \n+        // Validate the target of the hidden service\n+        std::string targetArg = gArgs.GetArg(\"-tortarget\", \"127.0.0.1\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r462967925",
      "id" : 462967925,
      "line" : 535,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk2NzkyNQ==",
      "original_commit_id" : "7e57666f34bdac01088cf6251134b8a9aae573f2",
      "original_line" : 535,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : 5,
      "pull_request_review_id" : 458362299,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-30T16:45:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/462967925",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-07-30T16:26:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-666505939",
      "id" : 666505939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NjUwNTkzOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-30T16:26:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/666505939",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r463122744"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/463122744"
         }
      },
      "author_association" : "NONE",
      "body" : "If no port is specified, either on the passed in value or in this case as the default, then `GetListenPort()` is used below on L537",
      "commit_id" : "b5d5d231545d6f64f0791fa2966d4216391386ca",
      "created_at" : "2020-07-30T16:30:23Z",
      "diff_hunk" : "@@ -531,12 +531,20 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n             SetReachable(NET_ONION, true);\n         }\n \n+        // Validate the target of the hidden service\n+        std::string targetArg = gArgs.GetArg(\"-tortarget\", \"127.0.0.1\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r463122744",
      "id" : 463122744,
      "in_reply_to_id" : 462967925,
      "line" : 535,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzEyMjc0NA==",
      "original_commit_id" : "7e57666f34bdac01088cf6251134b8a9aae573f2",
      "original_line" : 535,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : 5,
      "pull_request_review_id" : 458566784,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-30T16:45:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/463122744",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/329784?v=4",
         "events_url" : "https://api.github.com/users/MDrollette/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MDrollette/followers",
         "following_url" : "https://api.github.com/users/MDrollette/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MDrollette/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MDrollette",
         "id" : 329784,
         "login" : "MDrollette",
         "node_id" : "MDQ6VXNlcjMyOTc4NA==",
         "organizations_url" : "https://api.github.com/users/MDrollette/orgs",
         "received_events_url" : "https://api.github.com/users/MDrollette/received_events",
         "repos_url" : "https://api.github.com/users/MDrollette/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MDrollette/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MDrollette/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MDrollette"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r493463698"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493463698"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Shouldn't this also be changed, a few lines above:\r\n\r\n```cpp\r\n        // Now that we know Tor is running setup the proxy for onion addresses\r\n        // if -onion isn't set to something else.\r\n        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\r\n            CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\r\n            proxyType addrOnion = proxyType(resolved, true);\r\n            SetProxy(NET_ONION, addrOnion);\r\n            SetReachable(NET_ONION, true);\r\n        }\r\n```\r\n\r\nIf the tor daemon is running on another machine, then it will not be reachable on 127.0.0.1:9050.",
      "commit_id" : "b5d5d231545d6f64f0791fa2966d4216391386ca",
      "created_at" : "2020-09-23T11:13:48Z",
      "diff_hunk" : "@@ -531,12 +531,20 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n             SetReachable(NET_ONION, true);\n         }\n \n+        // Validate the target of the hidden service",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r493463698",
      "id" : 493463698,
      "line" : 534,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ2MzY5OA==",
      "original_commit_id" : "b5d5d231545d6f64f0791fa2966d4216391386ca",
      "original_line" : 534,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : 4,
      "pull_request_review_id" : 494548958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-23T11:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493463698",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r493466018"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493466018"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Because `port` is optional, maybe change to `-tortarget=<ip[:port]>`? Or `-tortarget=<ip>[:<port>]` to be in line with the existent `-torcontrol=<ip>:<port>`.",
      "commit_id" : "b5d5d231545d6f64f0791fa2966d4216391386ca",
      "created_at" : "2020-09-23T11:16:36Z",
      "diff_hunk" : "@@ -461,6 +461,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-timeout=<n>\", strprintf(\"Specify connection timeout in milliseconds (minimum: 1, default: %d)\", DEFAULT_CONNECT_TIMEOUT), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-peertimeout=<n>\", strprintf(\"Specify p2p connection timeout in seconds. This option determines the amount of time a peer may be inactive before the connection to it is dropped. (minimum: 1, default: %d)\", DEFAULT_PEER_CONNECT_TIMEOUT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-torcontrol=<ip>:<port>\", strprintf(\"Tor control port to use if onion listening enabled (default: %s)\", DEFAULT_TOR_CONTROL), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-tortarget=<ip:port>\", strprintf(\"Target for Tor HiddenService (default: 127.0.0.1:%i)\", defaultChainParams->GetDefaultPort()), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r493466018",
      "id" : 493466018,
      "line" : 464,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ2NjAxOA==",
      "original_commit_id" : "b5d5d231545d6f64f0791fa2966d4216391386ca",
      "original_line" : 464,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 4,
      "pull_request_review_id" : 494548958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-23T11:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493466018",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "In #19991 we are considering adding the possibility to bind to a dedicated addr:port for incoming tor connections, mainly to be able to distinguish them from incoming clearnet ones. If we do that, then we can automatically pass that addr:port to the `ADD_ONION` command avoiding the need for the `-tortarget` option suggested in this PR.\r\n\r\n@MDrollette, do you think that would be sufficient? I can imagine some exceptional cases where we bind to `1.2.3.4:8334` to listen for incoming tor connections, BUT from the point of view of the tor daemon which runs in another machine, that is reachable as another address, e.g. `5.6.7.8:8334`. Maybe that is an overkill and we need not support this. I.e. if we bind to `1.2.3.4:8334` to listen for tor connections, then we simply pass the same `1.2.3.4:8334` to the `ADD_ONION` command. Agreed?",
      "created_at" : "2020-09-23T11:50:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-697312529",
      "id" : 697312529,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NzMxMjUyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-23T11:50:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697312529",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> @MDrollette, do you think that would be sufficient?\r\n\r\nThat seems like an appropriate default, if nothing else. I think it's still common in the docker case to simply specify listening on `0.0.0.0` since the IP is randomly assigned when the container is created. In this case I would run the bitcoin container with `-tortarget=bitcoind:1234` so that the container IP is resolved at runtime.\r\n\r\nIt's possible to make it work with only your PR, so it's more flexible than the current state. But it's not as trivial as `docker run`.\r\n",
      "created_at" : "2020-09-23T20:10:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-697945962",
      "id" : 697945962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5Nzk0NTk2Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-23T20:10:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697945962",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/329784?v=4",
         "events_url" : "https://api.github.com/users/MDrollette/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MDrollette/followers",
         "following_url" : "https://api.github.com/users/MDrollette/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MDrollette/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MDrollette",
         "id" : 329784,
         "login" : "MDrollette",
         "node_id" : "MDQ6VXNlcjMyOTc4NA==",
         "organizations_url" : "https://api.github.com/users/MDrollette/orgs",
         "received_events_url" : "https://api.github.com/users/MDrollette/received_events",
         "repos_url" : "https://api.github.com/users/MDrollette/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MDrollette/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MDrollette/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MDrollette"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "What is \"bitcoind\" in `-tortarget=bitcoind:1234`? Does it resolve to a different IP address from inside the container and from outside?",
      "created_at" : "2020-09-29T14:14:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-700734271",
      "id" : 700734271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDczNDI3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-29T14:14:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700734271",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-02T13:41:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-702740744",
      "id" : 702740744,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjc0MDc0NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-02T13:41:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702740744",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this is superseded now by #19991 which got merged.",
      "created_at" : "2020-10-02T14:35:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-702770498",
      "id" : 702770498,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjc3MDQ5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-02T14:35:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702770498",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Closing this PR since #19991 addresses this issue and also has further discussion ",
      "created_at" : "2020-10-02T15:27:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-702799466",
      "id" : 702799466,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjc5OTQ2Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-02T15:27:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702799466",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/329784?v=4",
         "events_url" : "https://api.github.com/users/MDrollette/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MDrollette/followers",
         "following_url" : "https://api.github.com/users/MDrollette/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MDrollette/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MDrollette",
         "id" : 329784,
         "login" : "MDrollette",
         "node_id" : "MDQ6VXNlcjMyOTc4NA==",
         "organizations_url" : "https://api.github.com/users/MDrollette/orgs",
         "received_events_url" : "https://api.github.com/users/MDrollette/received_events",
         "repos_url" : "https://api.github.com/users/MDrollette/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MDrollette/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MDrollette/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MDrollette"
      }
   }
]
