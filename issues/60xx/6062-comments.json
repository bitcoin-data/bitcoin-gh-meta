[
   {
      "body" : "This is not our code, so we're best off not modifying it is possible. Best options imo are either:\r\n- define ```__STDC_LIMIT_MACROS``` for the leveldb build, which should get ```SIZE_MAX``` defined\r\n- push this change upstream and catch it on the next sync",
      "created_at" : "2015-04-25T13:12:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-96201842",
      "id" : 96201842,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-25T13:12:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96201842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "The inclusion of leveldb made me think it has been modified. I agree it would be better to modify the Makefile, something like -D__STDC_LIMIT_MACROS. ?",
      "created_at" : "2015-04-25T13:24:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-96202649",
      "id" : 96202649,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-25T13:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96202649",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5908875?v=3",
         "events_url" : "https://api.github.com/users/sinetek/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sinetek/followers",
         "following_url" : "https://api.github.com/users/sinetek/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sinetek/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sinetek",
         "id" : 5908875,
         "login" : "sinetek",
         "organizations_url" : "https://api.github.com/users/sinetek/orgs",
         "received_events_url" : "https://api.github.com/users/sinetek/received_events",
         "repos_url" : "https://api.github.com/users/sinetek/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sinetek/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sinetek/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sinetek"
      }
   },
   {
      "body" : "That brings us to the same position because the Makefile is part of leveldb.",
      "created_at" : "2015-04-25T13:25:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-96202977",
      "id" : 96202977,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-25T13:25:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96202977",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5908875?v=3",
         "events_url" : "https://api.github.com/users/sinetek/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sinetek/followers",
         "following_url" : "https://api.github.com/users/sinetek/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sinetek/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sinetek",
         "id" : 5908875,
         "login" : "sinetek",
         "organizations_url" : "https://api.github.com/users/sinetek/orgs",
         "received_events_url" : "https://api.github.com/users/sinetek/received_events",
         "repos_url" : "https://api.github.com/users/sinetek/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sinetek/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sinetek/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sinetek"
      }
   },
   {
      "body" : "For the hard-coded approach:\r\n```diff\r\ndiff --git a/src/Makefile.am b/src/Makefile.am\r\nindex 37184b6..aed47db 100644\r\n--- a/src/Makefile.am\r\n+++ b/src/Makefile.am\r\n@@ -14,7 +14,7 @@ $(LIBLEVELDB): $(LIBMEMENV)\r\n $(LIBLEVELDB) $(LIBMEMENV):\r\n        @echo \"Building LevelDB ...\" && $(MAKE) -C $(@D) $(@F) CXX=\"$(CXX)\" \\\r\n          CC=\"$(CC)\" PLATFORM=$(TARGET_OS) AR=\"$(AR)\" $(LEVELDB_TARGET_FLAGS) \\\r\n-          OPT=\"$(CXXFLAGS) $(CPPFLAGS)\"\r\n+          OPT=\"$(CXXFLAGS) $(CPPFLAGS) -D__STDC_LIMIT_MACROS\"\r\n endif\r\n \r\n BITCOIN_CONFIG_INCLUDES=-I$(builddir)/config\r\n```",
      "created_at" : "2015-04-25T13:26:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-96203631",
      "id" : 96203631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-25T13:26:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96203631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Works.",
      "created_at" : "2015-04-25T15:09:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-96220356",
      "id" : 96220356,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-25T15:09:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96220356",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5908875?v=3",
         "events_url" : "https://api.github.com/users/sinetek/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sinetek/followers",
         "following_url" : "https://api.github.com/users/sinetek/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sinetek/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sinetek",
         "id" : 5908875,
         "login" : "sinetek",
         "organizations_url" : "https://api.github.com/users/sinetek/orgs",
         "received_events_url" : "https://api.github.com/users/sinetek/received_events",
         "repos_url" : "https://api.github.com/users/sinetek/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sinetek/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sinetek/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sinetek"
      }
   },
   {
      "body" : "You should still aim to get this merged upstream; apparently it doesn't support DragonFlyBSD at the moment.",
      "created_at" : "2015-04-26T12:44:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-96374145",
      "id" : 96374145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-26T12:44:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96374145",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "utACK in any case - as a workarond until the issue is resolved upstream",
      "created_at" : "2015-04-29T07:08:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-97329464",
      "id" : 97329464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-29T07:08:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/97329464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I'll see if I can push upstream too.",
      "created_at" : "2015-04-29T10:41:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-97384374",
      "id" : 97384374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-29T10:41:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/97384374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5908875?v=3",
         "events_url" : "https://api.github.com/users/sinetek/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sinetek/followers",
         "following_url" : "https://api.github.com/users/sinetek/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sinetek/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sinetek",
         "id" : 5908875,
         "login" : "sinetek",
         "organizations_url" : "https://api.github.com/users/sinetek/orgs",
         "received_events_url" : "https://api.github.com/users/sinetek/received_events",
         "repos_url" : "https://api.github.com/users/sinetek/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sinetek/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sinetek/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sinetek"
      }
   },
   {
      "body" : "There must be a difference in the build systems, as upstream compiles fine.\r\n\r\ng++ -I. -I./include -std=c++0x -fno-builtin-memcmp -D_REENTRANT -DOS_DRAGONFLYBSD -DLEVELDB_PLATFORM_POSIX -DLEVELDB_ATOMIC_PRESENT -O2 -DNDEBUG -c helpers/memenv/memenv.cc -o helpers/memenv/memenv.o\r\n\r\n",
      "created_at" : "2015-04-29T10:53:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-97387269",
      "id" : 97387269,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-29T10:53:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/97387269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5908875?v=3",
         "events_url" : "https://api.github.com/users/sinetek/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sinetek/followers",
         "following_url" : "https://api.github.com/users/sinetek/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sinetek/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sinetek",
         "id" : 5908875,
         "login" : "sinetek",
         "organizations_url" : "https://api.github.com/users/sinetek/orgs",
         "received_events_url" : "https://api.github.com/users/sinetek/received_events",
         "repos_url" : "https://api.github.com/users/sinetek/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sinetek/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sinetek/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sinetek"
      }
   },
   {
      "body" : "Ok that's strange, I wonder why it would be needed here then. Maybe because we override the CFLAGS?",
      "created_at" : "2015-04-30T12:45:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-97759152",
      "id" : 97759152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-04-30T12:45:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/97759152",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@theuni any idea what could be the issue here? according to @sinetek the upstream leveldb compiles fine, do our overrides create this issue then?\r\n",
      "created_at" : "2015-05-08T15:22:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-100271471",
      "id" : 100271471,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-05-08T15:22:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/100271471",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I'm not sure what could be causing the difference. We could defined the freebsd/openbsd/dflybsd targets in configure and pass them on to leveldb (which we should do, to fix cross builds), but they should be correctly detected for native builds already.\r\n\r\n@sinetek could you please paste the failing compile-line so that we can see the difference? My only guesses are that we somehow define a different target, or our flags make the -std=c++0x change fail so that we build in c++98 mode.",
      "created_at" : "2015-05-08T17:17:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-100302552",
      "id" : 100302552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-05-08T17:17:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/100302552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Going to merge this. Normally a build fix for a platform should only affect that platform, but I'm reasonably confident that it won't have adverse effects on other platforms.",
      "created_at" : "2015-05-16T08:48:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6062#issuecomment-102591060",
      "id" : 102591060,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6062",
      "updated_at" : "2015-05-16T08:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/102591060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
