{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Transactions from the wallet or RPC are sent to all inbound and outbound peers initially. Outbound connections are chosen by us, whereas inbound connections are cheap to initiate, so inbound peers are more likely to be spy nodes in an adversarial setting.\r\n\r\nWe can improve the privacy of our initial tx relay by not relaying to inbound peers until some timeout.\r\n\r\nMy current implementation is an untested draft looking for conceptual review.\r\n\r\nThe idea is to keep a node-specific relay map that is populated (just like the global mapRelay) via the trickle logic. This is required because there is currently no other way in Bitcoin Core to relay without revealing that we were the source of the transaction. In the future this relay mechanism could be replaced by Dandelion or a mechanism to send the transaction over tor.\r\n\r\nThe transaction is still added to the mempool, which means an active (tx-creating) attacker could find that we were the source of the transaction in some corner cases. (E.g. They can create descendant txs and trigger a mempool limit). However, it should not be possible to simply request the transaction, since it was only added to a peer specific relay map.\r\n\r\nAfter some timeout the transaction is pushed to all peers as a fallback.",
   "closed_at" : "2019-03-26T17:21:09Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15668/comments",
   "created_at" : "2019-03-26T16:34:03Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15668/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/15668",
   "id" : 425525344,
   "labels" : [
      {
         "color" : "006b75",
         "default" : false,
         "id" : 98298007,
         "name" : "P2P",
         "node_id" : "MDU6TGFiZWw5ODI5ODAwNw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      },
      {
         "color" : "08a781",
         "default" : false,
         "id" : 149424,
         "name" : "Wallet",
         "node_id" : "MDU6TGFiZWwxNDk0MjQ=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15668/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MjY0NjAxMjY4",
   "number" : 15668,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/15668.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15668",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/15668.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15668"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "p2p: Slightly more private initial tx relay",
   "updated_at" : "2019-03-26T17:21:13Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15668",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   }
}
