[
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky attempted to remove this interface before in https://github.com/bitcoin/bitcoin/pull/10584. That PR was missing the wallet scheduling its own rebroadcasts.\r\n\r\nWe shouldn't do this before https://github.com/bitcoin/bitcoin/pull/10973, to avoid having to rebase that PR again.",
      "created_at" : "2019-03-18T18:19:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15619#issuecomment-474041184",
      "id" : 474041184,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NDA0MTE4NA==",
      "updated_at" : "2019-03-18T18:19:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/474041184",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Overall I think this makes sense I don't see a reason why the wallet couldn't schedule resends itself. One minor point on\r\n\r\n> the nNextResend and nLastResend wallet globals (which could as easily be static variables in ResendWalletTransactions())\r\n\r\nThese appear to be CWallet members and not global symbols:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/c033c4b5cef89a654e4d9d5c5f9bd823871b068b/src/wallet/wallet.h#L656-L657\r\n\r\nI didn't look very closely but if they were static members or static variables inside the function instead of instance members, it could be a problem because they'd be shared across multiple `CWallet` instances and not work with multiple wallets loaded.\r\n",
      "created_at" : "2019-03-18T18:27:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15619#issuecomment-474044197",
      "id" : 474044197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NDA0NDE5Nw==",
      "updated_at" : "2019-03-18T18:27:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/474044197",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> if they were static members or static variables inside the function instead of instance members, it could be a problem because they'd be shared across multiple CWallet instances and not work with multiple wallets loaded.\r\n\r\nAh yes, you're right. Thanks for pointing this out.",
      "created_at" : "2019-03-18T18:28:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15619#issuecomment-474044843",
      "id" : 474044843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NDA0NDg0Mw==",
      "updated_at" : "2019-03-18T18:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/474044843",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed in #15632",
      "created_at" : "2019-03-20T22:18:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15619#issuecomment-475050632",
      "id" : 475050632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NTA1MDYzMg==",
      "updated_at" : "2019-03-20T22:18:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475050632",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK, actually I was surprised to see this in `SendMessages`\r\nhttps://github.com/bitcoin/bitcoin/blob/656a15e5394d8d841619b5b186fa0f9c8be0322b/src/net_processing.cpp#L3538-L3544",
      "created_at" : "2019-03-27T15:24:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15619#issuecomment-477207789",
      "id" : 477207789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzIwNzc4OQ==",
      "updated_at" : "2019-03-27T15:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477207789",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">  I was surprised to see this in SendMessages\r\n\r\nYes, it's a violation of component separation. _Net processing_ is using the _validation_ interface to tell the _wallet_ to rebroadcast.",
      "created_at" : "2019-03-27T15:38:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15619#issuecomment-477214328",
      "id" : 477214328,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzIxNDMyOA==",
      "updated_at" : "2019-03-27T15:38:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477214328",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
