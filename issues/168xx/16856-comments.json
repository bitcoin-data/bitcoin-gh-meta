[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16856#discussion_r329530982"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16856"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329530982"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm confused by this fix. Let's say we called `invalidateblock` on block 10. In that case `to_mark_failed` is block 10, `to_mark_failed->pprev` is block 9. Let's say we're almost done and we just disconnected the tip at height 11. Then `invalid_walk_tip` is block 11. So this comparison always returns `false`?",
      "commit_id" : "0ae728197ca5a8e3649f0453548c68bd0cac1402",
      "created_at" : "2019-09-30T11:35:54Z",
      "diff_hunk" : "@@ -2813,33 +2848,62 @@ bool CChainState::InvalidateBlock(CValidationState& state, const CChainParams& c\n         setDirtyBlockIndex.insert(invalid_walk_tip);\n         setBlockIndexCandidates.erase(invalid_walk_tip);\n         setBlockIndexCandidates.insert(invalid_walk_tip->pprev);\n-        if (invalid_walk_tip->pprev == to_mark_failed && (to_mark_failed->nStatus & BLOCK_FAILED_VALID)) {\n+        if (invalid_walk_tip == to_mark_failed->pprev && (to_mark_failed->nStatus & BLOCK_FAILED_VALID)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#discussion_r329530982",
      "id" : 329530982,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTUzMDk4Mg==",
      "original_commit_id" : "0ae728197ca5a8e3649f0453548c68bd0cac1402",
      "original_position" : 47,
      "path" : "src/validation.cpp",
      "position" : 47,
      "pull_request_review_id" : 294912160,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16856",
      "updated_at" : "2019-09-30T11:35:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329530982",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looking at the `pindexFirstInvalid` check in isolation (0ae7281), that makes sense to me. If I drop everything except that check, then a whole bunch of functional tests throw an assert: ` ((pindex->nStatus & BLOCK_FAILED_VALID) == 0), function CheckBlockIndex, file validation.cpp, line 4669.`. But I don't understand the fix itself, at least not the bit above my inline comment. ",
      "created_at" : "2019-09-30T12:08:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-536532295",
      "id" : 536532295,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjUzMjI5NQ==",
      "updated_at" : "2019-09-30T12:09:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536532295",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16856#discussion_r330847050"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16856"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/330847050"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If we're almost done, to_mark_failed got set to block 12 in the last iteration of the loop (yes, these variable names make no sense).",
      "commit_id" : "0ae728197ca5a8e3649f0453548c68bd0cac1402",
      "created_at" : "2019-10-03T02:57:19Z",
      "diff_hunk" : "@@ -2813,33 +2848,62 @@ bool CChainState::InvalidateBlock(CValidationState& state, const CChainParams& c\n         setDirtyBlockIndex.insert(invalid_walk_tip);\n         setBlockIndexCandidates.erase(invalid_walk_tip);\n         setBlockIndexCandidates.insert(invalid_walk_tip->pprev);\n-        if (invalid_walk_tip->pprev == to_mark_failed && (to_mark_failed->nStatus & BLOCK_FAILED_VALID)) {\n+        if (invalid_walk_tip == to_mark_failed->pprev && (to_mark_failed->nStatus & BLOCK_FAILED_VALID)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#discussion_r330847050",
      "id" : 330847050,
      "in_reply_to_id" : 329530982,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMDg0NzA1MA==",
      "original_commit_id" : "0ae728197ca5a8e3649f0453548c68bd0cac1402",
      "original_position" : 47,
      "path" : "src/validation.cpp",
      "position" : 47,
      "pull_request_review_id" : 296621306,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16856",
      "updated_at" : "2019-10-03T02:57:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/330847050",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16856#discussion_r331132035"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16856"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331132035"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah, it's actually `pindex` that stays at block 10 throughout this function. `to_mark_failed` is set to `invalid_walk_tip`. By the time we reach this line we chipped one block off of the tip.\r\n\r\nLooking at the first iteration: let's say the original tip is block 20. `to_mark_failed` starts at block 10. We disconnect block 20 and mark it `BLOCK_FAILED_VALID`. The`if` statement here returns `false`, so block 20 temporarily remains `BLOCK_FAILED_VALID`. The second iteration `to_mark_failed` points to block 20, so then we set it to `BLOCK_FAILED_CHILD`.\r\n\r\nDo I understand correctly that the reason for this \"we fix it the next iteration\" is because we might get shut down? So we need to wait with `BLOCK_FAILED_CHILD` until we're sure the parent is `BLOCK_FAILED_VALID `.",
      "commit_id" : "0ae728197ca5a8e3649f0453548c68bd0cac1402",
      "created_at" : "2019-10-03T16:24:20Z",
      "diff_hunk" : "@@ -2813,33 +2848,62 @@ bool CChainState::InvalidateBlock(CValidationState& state, const CChainParams& c\n         setDirtyBlockIndex.insert(invalid_walk_tip);\n         setBlockIndexCandidates.erase(invalid_walk_tip);\n         setBlockIndexCandidates.insert(invalid_walk_tip->pprev);\n-        if (invalid_walk_tip->pprev == to_mark_failed && (to_mark_failed->nStatus & BLOCK_FAILED_VALID)) {\n+        if (invalid_walk_tip == to_mark_failed->pprev && (to_mark_failed->nStatus & BLOCK_FAILED_VALID)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#discussion_r331132035",
      "id" : 331132035,
      "in_reply_to_id" : 329530982,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTEzMjAzNQ==",
      "original_commit_id" : "0ae728197ca5a8e3649f0453548c68bd0cac1402",
      "original_position" : 47,
      "path" : "src/validation.cpp",
      "position" : 47,
      "pull_request_review_id" : 296993771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16856",
      "updated_at" : "2019-10-03T16:25:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331132035",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16856#discussion_r331140041"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16856"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331140041"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Right, I mean its not *strictly* because we want to be safe in case of shutdown (though that's nice), and more that this hunk previously never did anything at all (though its intent was \"descendants get marked FAILED_CHILD\").",
      "commit_id" : "0ae728197ca5a8e3649f0453548c68bd0cac1402",
      "created_at" : "2019-10-03T16:42:55Z",
      "diff_hunk" : "@@ -2813,33 +2848,62 @@ bool CChainState::InvalidateBlock(CValidationState& state, const CChainParams& c\n         setDirtyBlockIndex.insert(invalid_walk_tip);\n         setBlockIndexCandidates.erase(invalid_walk_tip);\n         setBlockIndexCandidates.insert(invalid_walk_tip->pprev);\n-        if (invalid_walk_tip->pprev == to_mark_failed && (to_mark_failed->nStatus & BLOCK_FAILED_VALID)) {\n+        if (invalid_walk_tip == to_mark_failed->pprev && (to_mark_failed->nStatus & BLOCK_FAILED_VALID)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#discussion_r331140041",
      "id" : 331140041,
      "in_reply_to_id" : 329530982,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTE0MDA0MQ==",
      "original_commit_id" : "0ae728197ca5a8e3649f0453548c68bd0cac1402",
      "original_position" : 47,
      "path" : "src/validation.cpp",
      "position" : 47,
      "pull_request_review_id" : 297004354,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16856",
      "updated_at" : "2019-10-03T16:42:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331140041",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Can you give a bit of motivation for why we want to mark descendants of `BLOCK_FAILED_VALID` as `BLOCK_FAILED_CHILD`? I can't see any functional difference in the way that a `CBlockIndex` is treated when its `nStatus` is `BLOCK_FAILED_CHILD`. The only comparisons seem to be against `BLOCK_FAILED_MASK`.\r\n\r\nIf that's the case, then I think we should just mark all descendants of the block to invalidate as `BLOCK_FAILED_VALID`. If `reconsiderblock` is later called, the `nStatus` of the block and all its descendants are reset anyway. It seems to me that `InvalidateBlock()` would be much simpler if we did that.",
      "created_at" : "2019-12-13T16:25:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-565506585",
      "id" : 565506585,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTUwNjU4NQ==",
      "updated_at" : "2019-12-13T16:25:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565506585",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Right, I don't think we really use it anywhere, I just figured as long as we make the distinction, make the distinction. Maybe @sipa recalls why it was there in the first place?",
      "created_at" : "2019-12-13T22:14:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-565628399",
      "id" : 565628399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTYyODM5OQ==",
      "updated_at" : "2019-12-13T22:14:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565628399",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't recall exactly why they're separate. One point is that BLOCK_FAILED_CHILD doesn't actually need to be stored on disk, as it is recomputed at db load time. So an advantage of keeping them separate is that if only FAILED_CHILD gets set on a blockindex object, it doesn't need to be made dirty and written to disk. I'm not sure that optimization is ever taken advantage of (and it probably can be achieved in other ways too).",
      "created_at" : "2019-12-13T22:38:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-565635595",
      "id" : 565635595,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTYzNTU5NQ==",
      "updated_at" : "2019-12-13T22:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565635595",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm not sure that optimization is ever taken advantage of\r\n\r\nLooks to me like it isn't used. I'd vote to just use `BLOCK_FAILED_VALID` and keep `InvalidateBlock()` simple.",
      "created_at" : "2019-12-13T23:05:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-565642960",
      "id" : 565642960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTY0Mjk2MA==",
      "updated_at" : "2019-12-13T23:05:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565642960",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Alternative here https://github.com/jnewbery/bitcoin/tree/2019-12-block-failed-valid-descendants just removes tracking of `BLOCK_FAILED_CHILD`. Let me know what you think, @TheBlueMatt .",
      "created_at" : "2019-12-20T20:16:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-568073859",
      "id" : 568073859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODA3Mzg1OQ==",
      "updated_at" : "2019-12-20T20:16:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568073859",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I apologize for the block failure it was a result of my error to properly\nset up the maven repository thru grc.io. I make many mistakes I am learning\nso bear with me I should be contributing at a higher level very soon. Thank\nyou for your time to help me out. Once again I apologize for taking up your\ntime.\n                               Sincerely,\n                                 John J Pruett II\n\nOn Fri, Dec 13, 2019, 4:16 PM Matt Corallo <notifications@github.com> wrote:\n\n> Right, I don't think we really use it anywhere, I just figured as long as\n> we make the distinction, make the distinction. Maybe @sipa\n> <https://github.com/sipa> recalls why it was there in the first place?\n>\n> â\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/16856?email_source=notifications&email_token=AKLXJUU2FL76GHQZZW6VK2TQYQCVRA5CNFSM4IVY6YJKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEG3M33Y#issuecomment-565628399>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AKLXJUSVUZIUVHRVKJ5DEHTQYQCVRANCNFSM4IVY6YJA>\n> .\n>\n",
      "created_at" : "2019-12-21T04:35:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-568151708",
      "id" : 568151708,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODE1MTcwOA==",
      "updated_at" : "2019-12-21T04:35:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568151708",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/43480274?v=4",
         "events_url" : "https://api.github.com/users/zachwylde00/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zachwylde00/followers",
         "following_url" : "https://api.github.com/users/zachwylde00/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zachwylde00/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zachwylde00",
         "id" : 43480274,
         "login" : "zachwylde00",
         "node_id" : "MDQ6VXNlcjQzNDgwMjc0",
         "organizations_url" : "https://api.github.com/users/zachwylde00/orgs",
         "received_events_url" : "https://api.github.com/users/zachwylde00/received_events",
         "repos_url" : "https://api.github.com/users/zachwylde00/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zachwylde00/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zachwylde00/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zachwylde00"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@jnewbery , that branch doesn't remove all references to BLOCK_FAILED_CHILD. Was the intent to remove them all?",
      "created_at" : "2020-09-06T03:35:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-687694612",
      "id" : 687694612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzY5NDYxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-06T03:35:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687694612",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1509322?v=4",
         "events_url" : "https://api.github.com/users/BrannonKing/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BrannonKing/followers",
         "following_url" : "https://api.github.com/users/BrannonKing/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BrannonKing/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BrannonKing",
         "id" : 1509322,
         "login" : "BrannonKing",
         "node_id" : "MDQ6VXNlcjE1MDkzMjI=",
         "organizations_url" : "https://api.github.com/users/BrannonKing/orgs",
         "received_events_url" : "https://api.github.com/users/BrannonKing/received_events",
         "repos_url" : "https://api.github.com/users/BrannonKing/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BrannonKing/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BrannonKing/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BrannonKing"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@BrannonKing - The intent was to demonstrate how removing `BLOCK_FAILED_CHILD` from `InvalidateBlock()` makes it simpler (and therefore less likely to hide bugs). I agree that we should remove `BLOCK_FAILED_CHILD` everywhere.",
      "created_at" : "2020-09-06T08:27:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-687724324",
      "id" : 687724324,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzcyNDMyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-06T08:27:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687724324",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@BrannonKing - I've rebased my branch on master and removed all the remaining instances of BLOCK_FAILED_CHILD.\r\n\r\n@TheBlueMatt - This PR hasn't had any activity for about a year. Are you happy to close it?",
      "created_at" : "2020-10-01T10:06:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16856#issuecomment-702031401",
      "id" : 702031401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16856",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjAzMTQwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-01T10:06:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702031401",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
