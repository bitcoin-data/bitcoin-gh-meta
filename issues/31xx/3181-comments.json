[
   {
      "author_association" : "MEMBER",
      "body" : "The problem is a bitflip _making_ the transaction, not broadcasting it (where there is already multiple checksums in place). If you bitflip during creation, your checksum will account for the bitflip, not detect it!\n",
      "created_at" : "2013-10-29T03:04:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3181#issuecomment-27275464",
      "id" : 27275464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI3Mjc1NDY0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27275464/reactions"
      },
      "updated_at" : "2013-10-29T03:04:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27275464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "As luke says, once it's signedâ no problem, a bit flip will invalidate the signature. But if you sign the wrong thing because of a bitflip before signing it.... Well, it's not likely, but its an unnecessary risk in virtually all cases.\n",
      "created_at" : "2013-10-29T03:18:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3181#issuecomment-27275901",
      "id" : 27275901,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI3Mjc1OTAx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27275901/reactions"
      },
      "updated_at" : "2013-10-29T03:18:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27275901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "So is it better to send multiple smaller outputs rather than a single large one when sending a large amount?  The last time I tried to use bitcoind to send multiple outputs to a single address it didn't allow it.  Or is it better to make a lot of separate transactions rather than a single transaction with multiple outputs?  Would a bitflip invalidate all the outputs of a single transaction? I guess it could.\n\nMaybe the client should warn if I try to send too large an amount in a single transaction, or even offer to split it into the appropriate amount of smaller transactions.\n\nOr is there some way the client could check the transaction after signing it to make sure it's valid?\n\nI hadn't considered until I read gmaxwell's forum post that it was unsafe to assume that bitcoind would sign transactions correctly.\n",
      "created_at" : "2013-10-29T04:04:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3181#issuecomment-27277309",
      "id" : 27277309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI3Mjc3MzA5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27277309/reactions"
      },
      "updated_at" : "2013-10-29T04:04:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27277309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "node_id" : "MDQ6VXNlcjU3MzM1Ng==",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "bitcoind verifies the signature after signing.\n\nI don't see any need to do multiple smaller outputs.\n",
      "created_at" : "2013-10-29T08:18:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3181#issuecomment-27284793",
      "id" : 27284793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI3Mjg0Nzkz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27284793/reactions"
      },
      "updated_at" : "2013-10-29T08:18:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27284793",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems like there's a different of opinion here.  Does 'bitflip' pose a risk of fund loss or not?  It would be good to get some agreement on this point so we're not accidentally either spreading FUD or being complacent.\n",
      "created_at" : "2013-10-29T16:32:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3181#issuecomment-27319038",
      "id" : 27319038,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI3MzE5MDM4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27319038/reactions"
      },
      "updated_at" : "2013-10-29T16:32:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27319038",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "node_id" : "MDQ6VXNlcjU3MzM1Ng==",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jgarzik  Verifying the signature does nothing relevant here, alas, as it's not a concern about ecdsa leaking the private key.\n\nThe risk is an error can cause the change addresses to be wrong or cause the values to be wrong. Nothing currently guards against this (though, obviously, it's unlikely). Then it goes on to sign that wrong value, it validates fine, but doesn't do what you want.  We could and should go an verify more after signing, though doing that wouldn't completely eliminate change risk.\n\nThe behavior I was complaining about that Dooglus is talking about is where someone puts 100k btc in a single coin and then makes a bunch of small payments with ~100k change each time.  It's taking a small but unnecessary risk to move huge amounts of coins when the actual amount being moved is small.\n",
      "created_at" : "2013-10-29T16:47:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3181#issuecomment-27320469",
      "id" : 27320469,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI3MzIwNDY5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27320469/reactions"
      },
      "updated_at" : "2013-10-29T16:47:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27320469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "So many bitflips can happen.. Isn't the txid *almost* the transaction checksum?\r\n\r\n> someone puts 100k btc in a single coin and then makes a bunch of small payments with ~100k change each time. It's taking a small but unnecessary risk to move huge amounts of coins when the actual amount being moved is small.\r\n\r\nWhat do you suggest then? Warn the user if the input/(output-change) ratio is too high (even with coin selection)?",
      "created_at" : "2017-12-07T00:40:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3181#issuecomment-349822944",
      "id" : 349822944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM0OTgyMjk0NA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349822944/reactions"
      },
      "updated_at" : "2017-12-07T00:40:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349822944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If I understand this issue correct, it is about bitflips in *outputs*, so nValue or scriptPubKey.\r\n\r\nThe wallet, as well as the rpc should reject absurdly high fees, so at least a bit flip in a higher bit of nValue is checked by Bitcoin Core.\r\n\r\nFor the other cases I don't see how Bitcoin Core can prevent them from happening. The best solution would be to store the address/value pairs and verify them when the signed transaction comes back?\r\n\r\nThe GUI does this by showing each address/value pair.\r\nFor the RPC, I think the end user has to implement this, so closing for now unless there are specific improvements to take.",
      "created_at" : "2020-05-08T17:52:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3181#issuecomment-625938568",
      "id" : 625938568,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3181",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNTkzODU2OA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/625938568/reactions"
      },
      "updated_at" : "2020-05-08T17:52:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/625938568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
