[
   {
      "author_association" : "MEMBER",
      "body" : "> We can probably check for close prior to the extra send\r\n\r\nDefinitely Ã¢ÂÂ `[Errno 41] Protocol wrong type for socket` sounds like a race, not only has the file descriptor been closed but it has been re-used for a different protocol since?",
      "created_at" : "2019-02-13T21:37:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15400#issuecomment-463383314",
      "id" : 463383314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15400",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MzM4MzMxNA==",
      "updated_at" : "2019-02-13T21:37:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463383314",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It could be that or `Protocol wrong type for socket` could just be darwin kernel-specific behavior when writing to the reset socket; I'm not sure off-hand.",
      "created_at" : "2019-02-13T21:40:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15400#issuecomment-463384303",
      "id" : 463384303,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15400",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MzM4NDMwMw==",
      "updated_at" : "2019-02-13T21:40:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463384303",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "According to [a blog post by @erickt](http://erickt.github.io/blog/2014/11/19/adventures-in-debugging-a-potential-osx-kernel-bug/), we might see the protocol error in macOS/XNU if we try to send while the kernel is tearing down the socket. So yea, a race of sorts.",
      "created_at" : "2019-02-13T22:02:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15400#issuecomment-463393329",
      "id" : 463393329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15400",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MzM5MzMyOQ==",
      "updated_at" : "2019-02-13T22:02:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463393329",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Running the test directly gives the same error for me as running with  ```test_runner.py```.\r\n\r\nIf it's helpful at all, it seems that if you comment out either test 0 or test 1 (the ```msg_at_size``` and ```msg_over_size``` tests) the tests consistently pass even using ```test_runner.py```. But when run together, they error out.\r\n\r\nEdit: It looks like if you swap the order of tests 0 & 1 (and add some lines to rebuild the connections after the induced disconnect) the test now run without error. There seems to be something about sending the oversized message after the at-sized one.",
      "created_at" : "2019-02-15T09:24:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15400#issuecomment-463966764",
      "id" : 463966764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15400",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2Mzk2Njc2NA==",
      "updated_at" : "2019-02-15T14:19:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463966764",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/9293647?v=4",
         "events_url" : "https://api.github.com/users/IlyasRidhuan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/IlyasRidhuan/followers",
         "following_url" : "https://api.github.com/users/IlyasRidhuan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/IlyasRidhuan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/IlyasRidhuan",
         "id" : 9293647,
         "login" : "IlyasRidhuan",
         "node_id" : "MDQ6VXNlcjkyOTM2NDc=",
         "organizations_url" : "https://api.github.com/users/IlyasRidhuan/orgs",
         "received_events_url" : "https://api.github.com/users/IlyasRidhuan/received_events",
         "repos_url" : "https://api.github.com/users/IlyasRidhuan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/IlyasRidhuan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/IlyasRidhuan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/IlyasRidhuan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Let me know if this is still an issue with current master",
      "created_at" : "2019-07-24T11:22:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15400#issuecomment-514592119",
      "id" : 514592119,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15400",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDU5MjExOQ==",
      "updated_at" : "2019-07-24T11:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514592119",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I could only see this on travis. With the gitian binaries, or with our new native build: https://travis-ci.org/bitcoin/bitcoin/jobs/599413856 or https://travis-ci.org/bitcoin/bitcoin/jobs/599229377#L6967\r\n\r\nAnyone also seeing this locally?",
      "created_at" : "2019-10-18T12:56:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15400#issuecomment-543729252",
      "id" : 543729252,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15400",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzcyOTI1Mg==",
      "updated_at" : "2019-10-18T13:20:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543729252",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If this is an issue on travis only, we should disable the functional tests there. If this can be reproduced locally, it should be fixed.",
      "created_at" : "2019-10-18T13:26:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15400#issuecomment-543745053",
      "id" : 543745053,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15400",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mzc0NTA1Mw==",
      "updated_at" : "2019-10-18T13:26:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543745053",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
