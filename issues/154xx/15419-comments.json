[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#12134](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/12134.html) (Build previous releases and run functional tests by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-02-15T15:46:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-464097027",
      "id" : 464097027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NDA5NzAyNw==",
      "updated_at" : "2019-02-20T16:40:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/464097027",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257799583"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257799583"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could remove this right?",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T18:51:44Z",
      "diff_hunk" : "@@ -477,32 +486,24 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n-            # Note: To preserve compatibility with older versions of\n-            # initialize_chain, only 4 nodes will generate coins.\n-            #\n-            # blocks are created with timestamps 10 minutes apart\n-            # starting from 2010 minutes in the past\n-            block_time = self.mocktime - (201 * 10 * 60)\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257799583",
      "id" : 257799583,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Nzc5OTU4Mw==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 84,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204919413,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257799583",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257800600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257800600"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Care to explain why it needs to wait?",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T18:56:38Z",
      "diff_hunk" : "@@ -275,6 +275,17 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args)\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n+        if not self.setup_clean_chain:\n+            for n in self.nodes:\n+                wait_until(lambda: n.getblockchaininfo()[\"blocks\"] == 199)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257800600",
      "id" : 257800600,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwMDYwMA==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 28,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204919413,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257800600",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257805739"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257805739"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe something more straightforward?\r\n```py\r\ndef gen_blocks(peer, blocks):\r\n    node = self.nodes[peer]\r\n    address = node.get_deterministic_priv_key().address\r\n    return node.generatetoaddress(blocks, address)\r\n\r\ngen_blocks(0, 25)\r\ngen_blocks(1, 25)\r\ngen_blocks(2, 25)\r\ngen_blocks(3, 24)\r\n```",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T19:20:38Z",
      "diff_hunk" : "@@ -477,32 +486,24 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n-            # Note: To preserve compatibility with older versions of\n-            # initialize_chain, only 4 nodes will generate coins.\n-            #\n-            # blocks are created with timestamps 10 minutes apart\n-            # starting from 2010 minutes in the past\n-            block_time = self.mocktime - (201 * 10 * 60)\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):\n                 for peer in range(4):\n                     for j in range(25):\n-                        set_node_times(self.nodes, block_time)\n+                        if i == 1 and peer == 3 and j == 24:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257805739",
      "id" : 257805739,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwNTczOQ==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 88,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204919413,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257805739",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257806489"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257806489"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is this really necessary?",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T19:24:23Z",
      "diff_hunk" : "@@ -477,32 +486,24 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n-            # Note: To preserve compatibility with older versions of\n-            # initialize_chain, only 4 nodes will generate coins.\n-            #\n-            # blocks are created with timestamps 10 minutes apart\n-            # starting from 2010 minutes in the past\n-            block_time = self.mocktime - (201 * 10 * 60)\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):\n                 for peer in range(4):\n                     for j in range(25):\n-                        set_node_times(self.nodes, block_time)\n+                        if i == 1 and peer == 3 and j == 24:\n+                            break  # Don't store the very last block in the cache to avoid having it rot\n                         self.nodes[peer].generatetoaddress(1, self.nodes[peer].get_deterministic_priv_key().address)\n-                        block_time += 10 * 60\n                     # Must sync before next peer starts generating blocks\n                     sync_blocks(self.nodes)\n \n+            for n in self.nodes:\n+                assert_equal(n.getblockchaininfo()[\"blocks\"], 199)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257806489",
      "id" : 257806489,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwNjQ4OQ==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 96,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 101,
      "pull_request_review_id" : 204919413,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257806489",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257807874"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257807874"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why?",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T19:30:59Z",
      "diff_hunk" : "@@ -477,32 +486,24 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n-            # Note: To preserve compatibility with older versions of\n-            # initialize_chain, only 4 nodes will generate coins.\n-            #\n-            # blocks are created with timestamps 10 minutes apart\n-            # starting from 2010 minutes in the past\n-            block_time = self.mocktime - (201 * 10 * 60)\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257807874",
      "id" : 257807874,
      "in_reply_to_id" : 257799583,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwNzg3NA==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 84,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204929615,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257807874",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257808037"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257808037"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, that would generate 99 blocks, we need 199.\r\n\r\nNot sure if this looks simpler:\r\n\r\n```py\r\ngen_blocks(0, 25)\r\ngen_blocks(1, 25)\r\ngen_blocks(2, 25)\r\ngen_blocks(3, 25)\r\ngen_blocks(0, 25)\r\ngen_blocks(1, 25)\r\ngen_blocks(2, 25)\r\ngen_blocks(3, 24)",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T19:31:46Z",
      "diff_hunk" : "@@ -477,32 +486,24 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n-            # Note: To preserve compatibility with older versions of\n-            # initialize_chain, only 4 nodes will generate coins.\n-            #\n-            # blocks are created with timestamps 10 minutes apart\n-            # starting from 2010 minutes in the past\n-            block_time = self.mocktime - (201 * 10 * 60)\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):\n                 for peer in range(4):\n                     for j in range(25):\n-                        set_node_times(self.nodes, block_time)\n+                        if i == 1 and peer == 3 and j == 24:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257808037",
      "id" : 257808037,
      "in_reply_to_id" : 257805739,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwODAzNw==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 88,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204929815,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257808037",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257808326"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257808326"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oh right, I was doing for 99 Ã°ÂÂ¤Â¦Ã¢ÂÂÃ¢ÂÂÃ¯Â¸Â",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T19:33:14Z",
      "diff_hunk" : "@@ -477,32 +486,24 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n-            # Note: To preserve compatibility with older versions of\n-            # initialize_chain, only 4 nodes will generate coins.\n-            #\n-            # blocks are created with timestamps 10 minutes apart\n-            # starting from 2010 minutes in the past\n-            block_time = self.mocktime - (201 * 10 * 60)\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):\n                 for peer in range(4):\n                     for j in range(25):\n-                        set_node_times(self.nodes, block_time)\n+                        if i == 1 and peer == 3 and j == 24:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257808326",
      "id" : 257808326,
      "in_reply_to_id" : 257805739,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwODMyNg==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 88,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204930159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257808326",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257808496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257808496"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, but nice to see that the cache *really is* 199 blocks high",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T19:34:03Z",
      "diff_hunk" : "@@ -477,32 +486,24 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n-            # Note: To preserve compatibility with older versions of\n-            # initialize_chain, only 4 nodes will generate coins.\n-            #\n-            # blocks are created with timestamps 10 minutes apart\n-            # starting from 2010 minutes in the past\n-            block_time = self.mocktime - (201 * 10 * 60)\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):\n                 for peer in range(4):\n                     for j in range(25):\n-                        set_node_times(self.nodes, block_time)\n+                        if i == 1 and peer == 3 and j == 24:\n+                            break  # Don't store the very last block in the cache to avoid having it rot\n                         self.nodes[peer].generatetoaddress(1, self.nodes[peer].get_deterministic_priv_key().address)\n-                        block_time += 10 * 60\n                     # Must sync before next peer starts generating blocks\n                     sync_blocks(self.nodes)\n \n+            for n in self.nodes:\n+                assert_equal(n.getblockchaininfo()[\"blocks\"], 199)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257808496",
      "id" : 257808496,
      "in_reply_to_id" : 257806489,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwODQ5Ng==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 96,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 101,
      "pull_request_review_id" : 204930367,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257808496",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257808987"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257808987"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I had it fail locally. Not sure why, but the wait_until decays into a single check without wait when the condition was already true",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T19:36:26Z",
      "diff_hunk" : "@@ -275,6 +275,17 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args)\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n+        if not self.setup_clean_chain:\n+            for n in self.nodes:\n+                wait_until(lambda: n.getblockchaininfo()[\"blocks\"] == 199)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257808987",
      "id" : 257808987,
      "in_reply_to_id" : 257800600,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwODk4Nw==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 28,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204930991,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257808987",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257809114"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257809114"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In that case\r\n```py\r\ngen_blocks(0, 50)\r\ngen_blocks(1, 50)\r\ngen_blocks(2, 50)\r\ngen_blocks(3, 49)\r\n```\r\nOr is there a reason against?",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T19:37:07Z",
      "diff_hunk" : "@@ -477,32 +486,24 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n-            # Note: To preserve compatibility with older versions of\n-            # initialize_chain, only 4 nodes will generate coins.\n-            #\n-            # blocks are created with timestamps 10 minutes apart\n-            # starting from 2010 minutes in the past\n-            block_time = self.mocktime - (201 * 10 * 60)\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):\n                 for peer in range(4):\n                     for j in range(25):\n-                        set_node_times(self.nodes, block_time)\n+                        if i == 1 and peer == 3 and j == 24:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257809114",
      "id" : 257809114,
      "in_reply_to_id" : 257805739,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwOTExNA==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 88,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204931149,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257809114",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257809848"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257809848"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ok, maybe add a comment saying it needs to wait for nodes to complete loading from the cache?",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T19:40:58Z",
      "diff_hunk" : "@@ -275,6 +275,17 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args)\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n+        if not self.setup_clean_chain:\n+            for n in self.nodes:\n+                wait_until(lambda: n.getblockchaininfo()[\"blocks\"] == 199)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257809848",
      "id" : 257809848,
      "in_reply_to_id" : 257800600,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwOTg0OA==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 28,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204932069,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257809848",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257818115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257818115"
         }
      },
      "author_association" : "MEMBER",
      "body" : "See the comment two lines up:\r\n\r\n```\r\n            # Create a 199-block-long chain; each of the 4 first nodes\r\n            # gets 25 mature blocks and 25 immature.",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T20:21:38Z",
      "diff_hunk" : "@@ -477,32 +486,24 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n-            # Note: To preserve compatibility with older versions of\n-            # initialize_chain, only 4 nodes will generate coins.\n-            #\n-            # blocks are created with timestamps 10 minutes apart\n-            # starting from 2010 minutes in the past\n-            block_time = self.mocktime - (201 * 10 * 60)\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):\n                 for peer in range(4):\n                     for j in range(25):\n-                        set_node_times(self.nodes, block_time)\n+                        if i == 1 and peer == 3 and j == 24:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257818115",
      "id" : 257818115,
      "in_reply_to_id" : 257805739,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgxODExNQ==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 88,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204942001,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257818115",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257819725"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257819725"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Hmm, I guess you are right. This really makes no sense to have. Going to replace with an assert",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T20:29:35Z",
      "diff_hunk" : "@@ -275,6 +275,17 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args)\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n+        if not self.setup_clean_chain:\n+            for n in self.nodes:\n+                wait_until(lambda: n.getblockchaininfo()[\"blocks\"] == 199)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257819725",
      "id" : 257819725,
      "in_reply_to_id" : 257800600,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgxOTcyNQ==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 28,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204943912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257819725",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257824746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257824746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah, so the wait_until would be needed if we wanted to `-reindex` on the first start (e.g. mempool_accept)\r\n\r\nHowever, with txindex as a background thread, this is no longer required in mempool_accept.",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-18T20:54:41Z",
      "diff_hunk" : "@@ -275,6 +275,17 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args)\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n+        if not self.setup_clean_chain:\n+            for n in self.nodes:\n+                wait_until(lambda: n.getblockchaininfo()[\"blocks\"] == 199)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r257824746",
      "id" : 257824746,
      "in_reply_to_id" : 257800600,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgyNDc0Ng==",
      "original_commit_id" : "fa05eef9bc28955123b453ae77a1a4ecdfad8c55",
      "original_position" : 28,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 204949789,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257824746",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Please remove unrelated code style fixes from your commits.\r\n\r\nI think 'rot' is the wrong terminology, and the comment here: https://github.com/bitcoin/bitcoin/pull/15419/commits/faeb65a8cdeb4495e5b0cd8b515a19911ba0a6ad#diff-64721c5ee64d44f7114d6d0d2226db4dR495 isn't clear.",
      "created_at" : "2019-02-18T23:39:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-464922537",
      "id" : 464922537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NDkyMjUzNw==",
      "updated_at" : "2019-02-18T23:39:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/464922537",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "By rotten, you mean dirty? :)",
      "created_at" : "2019-02-19T00:58:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-464936750",
      "id" : 464936750,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NDkzNjc1MA==",
      "updated_at" : "2019-02-19T00:58:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/464936750",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rotten as in *from yesterday* or *from last week*. If the cache was edible, it would be rotten, no?",
      "created_at" : "2019-02-19T13:55:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465136475",
      "id" : 465136475,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTEzNjQ3NQ==",
      "updated_at" : "2019-02-19T13:55:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465136475",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> rotten as in _from yesterday_ or _from last week_. If the cache was edible, it would be rotten, no?\r\n\r\nThere's nothing wrong with the block, it's just old. I think this would be much clearer to people reading the tests if you removed the *rotten* terminology and just said that the latest block needs to be within the last 24 hours for the nodes to consider themselves sync'ed to the tip, possibly with reference to `IsInitialBlockDownload()` and https://github.com/bitcoin/bitcoin/blob/904308dca3ff50afb704597c0a65d226dd40f635/src/validation.h#L113.",
      "created_at" : "2019-02-19T14:11:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465142837",
      "id" : 465142837,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTE0MjgzNw==",
      "updated_at" : "2019-02-19T14:11:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465142837",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> the latest block needs to be within the last 24 hours for the nodes to consider themselves sync'ed to the tip\r\n\r\nThat's definitely useful to remind the reader of (including yours truly).",
      "created_at" : "2019-02-19T14:32:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465151203",
      "id" : 465151203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTE1MTIwMw==",
      "updated_at" : "2019-02-19T14:32:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465151203",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, going to fixup that comment as per @jnewbery's suggestion",
      "created_at" : "2019-02-19T15:28:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465176589",
      "id" : 465176589,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTE3NjU4OQ==",
      "updated_at" : "2019-02-19T15:28:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465176589",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "*stale* is still wrong:\r\n\r\n- in caching terminology, stale is commonly understood as meaning that a piece of data in a cache is no longer valid because the underlying value for that data has been updated.\r\n- In Bitcoin terminology, a stale block is one which is valid, but not part of the main chain as its on a fork which has less work than the main chain.\r\n\r\nNeither of those is the case here. The old block is not *stale*, it's just old.\r\n\r\nI suggest not creating new (confusing) terminology here and just describe what's actually being implemented.",
      "created_at" : "2019-02-19T16:44:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465212621",
      "id" : 465212621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTIxMjYyMQ==",
      "updated_at" : "2019-02-19T16:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465212621",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258128988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258128988"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This needs more explanation, since iiuc it's very relevant to the bug you're trying to squash. What cache is going stale and what is the consequence of that? And in what we should one see `IsInitialBlockDownload`? What about the cache causes nodes to think they're in or out of IBD? The absolute age of the block in the cache?\r\n\r\nIt's explained a bit in the next commit, but that's in a very different place.",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-19T16:46:37Z",
      "diff_hunk" : "@@ -476,15 +487,23 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):\n                 for peer in range(4):\n                     for j in range(25):\n+                        if i == 1 and peer == 3 and j == 24:\n+                            # Don't store the very last block in the cache to avoid having it go stale\n+                            # See IsInitialBlockDownload()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258128988",
      "id" : 258128988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODEyODk4OA==",
      "original_commit_id" : "faa5ba87cfd1e504ee1e56f7ab0c416e457f343d",
      "original_position" : 40,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 205326385,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258128988",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Can you remove unrelated style changes?\r\n\r\nI don't care much about additional new lines between classes (https://github.com/bitcoin/bitcoin/pull/15419/files#diff-a12894108450a68b27252d39d7b6e704R44) or terminating lists with commas (https://github.com/bitcoin/bitcoin/pull/15419/files#diff-86294e5ae5283eebdd9f98d79007a0e1R93).\r\n\r\nIf you think that should be the project code style, the right thing to do would be update the developer notes and add linters.",
      "created_at" : "2019-02-19T17:03:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465220801",
      "id" : 465220801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTIyMDgwMQ==",
      "updated_at" : "2019-02-19T17:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465220801",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258137237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258137237"
         }
      },
      "author_association" : "MEMBER",
      "body" : "There are other conditions that keep our node in IBD, but the one we care about here is the tip age (difference between now and the time the miner claimed to have mined the block)",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-19T17:03:43Z",
      "diff_hunk" : "@@ -476,15 +487,23 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes\n             # gets 25 mature blocks and 25 immature.\n+            # The 4th node gets only 24 immature blocks.\n             for i in range(2):\n                 for peer in range(4):\n                     for j in range(25):\n+                        if i == 1 and peer == 3 and j == 24:\n+                            # Don't store the very last block in the cache to avoid having it go stale\n+                            # See IsInitialBlockDownload()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258137237",
      "id" : 258137237,
      "in_reply_to_id" : 258128988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODEzNzIzNw==",
      "original_commit_id" : "faa5ba87cfd1e504ee1e56f7ab0c416e457f343d",
      "original_position" : 40,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 205336714,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258137237",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery We agreed to not add any style-related linters to this project several times already. Personally I format all changed code according to https://github.com/bitcoin/bitcoin/blob/master/doc/productivity.md#writing-code, so that review can focus on the actual changes and is not wasted on counting how many spaces or newlines are between non-whitepace characters.",
      "created_at" : "2019-02-19T19:28:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465276019",
      "id" : 465276019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTI3NjAxOQ==",
      "updated_at" : "2019-02-19T19:28:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465276019",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> so that review can focus on the actual changes and is not wasted on counting how many spaces or newlines are between non-whitepace characters.\r\n\r\nMy suggestion is to not change code style in PRs which are supposed to be changing behaviour. Here for example: https://github.com/bitcoin/bitcoin/pull/15419/files#diff-64721c5ee64d44f7114d6d0d2226db4dR36 you add a newline that has nothing to do with the changes in this PR.\r\n\r\nIf you want review to focus on the actual changes, just remove unnecessary noise.",
      "created_at" : "2019-02-19T19:38:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465279467",
      "id" : 465279467,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTI3OTQ2Nw==",
      "updated_at" : "2019-02-19T19:38:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465279467",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I fixed up the comment and removed a newline that the formatter added. I missed the newline you pointed in the previous comment. Though, I am going to leave this as is for now unless there are actual concerns about the code.",
      "created_at" : "2019-02-19T22:15:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465332894",
      "id" : 465332894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTMzMjg5NA==",
      "updated_at" : "2019-02-19T22:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465332894",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Python syntax issue are fixed in #15439. Also ignore the `tool_wallet.py` failure, since I forgot to build that target.\r\n\r\nutACK fa25210",
      "created_at" : "2019-02-20T09:26:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-465494373",
      "id" : 465494373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTQ5NDM3Mw==",
      "updated_at" : "2019-02-20T09:26:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465494373",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258962034"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258962034"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think \"finalize the cache\" would mean anything to people without more context. I'd suggest changing this to:\r\n\r\n```py\r\n            # To ensure that all nodes are out of IBD, the most recent block must\r\n            # be within the last 24 hours (see IsInitialBlockDownload()). Generate it here.\r\n            self.log.debug('Generate a block with current time')\r\n```",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-21T14:55:21Z",
      "diff_hunk" : "@@ -275,6 +274,17 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args)\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n+        if not self.setup_clean_chain:\n+            for n in self.nodes:\n+                assert_equal(n.getblockchaininfo()[\"blocks\"], 199)\n+            self.log.debug('Generate a block with current time to finalize the cache and assert we are out of IBD')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258962034",
      "id" : 258962034,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODk2MjAzNA==",
      "original_commit_id" : "fa25210d6266d50a6c2bfd6d96062bacb2ae393b",
      "original_position" : 28,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 206348374,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258962034",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258965691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258965691"
         }
      },
      "author_association" : "MEMBER",
      "body" : "There's no race here since `submitblock()` will only return after `ActivateBestChain()`, but if we ever make `ProcessNewBlock()` multithreaded, then there could be a race if `submitblock()` returns before the best chain has been activated.\r\n\r\nI don't think you need to do anything here, but you could add a comment or a `wait_until()` if you wanted to make this clear to readers.",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-21T15:03:32Z",
      "diff_hunk" : "@@ -275,6 +274,17 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args)\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n+        if not self.setup_clean_chain:\n+            for n in self.nodes:\n+                assert_equal(n.getblockchaininfo()[\"blocks\"], 199)\n+            self.log.debug('Generate a block with current time to finalize the cache and assert we are out of IBD')\n+            block_hash = self.nodes[0].generate(1)[0]\n+            block = self.nodes[0].getblock(blockhash=block_hash, verbosity=0)\n+            for n in self.nodes:\n+                n.submitblock(block)\n+                chain_info = n.getblockchaininfo()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258965691",
      "id" : 258965691,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODk2NTY5MQ==",
      "original_commit_id" : "fa25210d6266d50a6c2bfd6d96062bacb2ae393b",
      "original_position" : 33,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 35,
      "pull_request_review_id" : 206348374,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258965691",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258967701"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258967701"
         }
      },
      "author_association" : "MEMBER",
      "body" : "A couple of suggestions that could make this more efficient/clear:\r\n\r\n- you could generate all blocks on node0, generating to the other nodes' addresses in turn. This would avoid the `sync_blocks()` calls.\r\n- do any of the tests rely on the immature blocks becoming mature during the test? I'd hope not. If they don't, you could generate those immature blocks to a dummy address, and change this to:\r\n\r\n```py\r\nself.nodes[0].generatetoaddress(25, <node0_address>)\r\nself.nodes[0].generatetoaddress(25, <node1_address>)\r\nself.nodes[0].generatetoaddress(25, <node2_address>)\r\nself.nodes[0].generatetoaddress(25, <node3_address>)\r\nself.nodes[0].generatetoaddress(99, <dummy_address>)\r\n```\r\n\r\nor:\r\n\r\n```py\r\nfor i in range(4):\r\n    self.nodes[0].generatetoaddress(25, self.nodes[i].get_deterministic_priv_key().address())\r\nself.nodes[0].generatetoaddress(99, <dummy_address>)\r\n```",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-21T15:08:01Z",
      "diff_hunk" : "@@ -479,32 +487,27 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258967701",
      "id" : 258967701,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODk2NzcwMQ==",
      "original_commit_id" : "fa25210d6266d50a6c2bfd6d96062bacb2ae393b",
      "original_position" : 74,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 76,
      "pull_request_review_id" : 206348374,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258967701",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258969485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258969485"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Suggestion: combine this with the for loop below.",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-21T15:11:47Z",
      "diff_hunk" : "@@ -34,6 +34,14 @@ def setup_network(self):\n     def run_test(self):\n         # All nodes should start with 1,250 BTC:\n         starting_balance = 1250\n+\n+        # All nodes should be out of IBD.\n+        # If the nodes are not all out of IBD, that can interfere with\n+        # blockchain sync later in the test when nodes are connected, due to\n+        # timing issues.\n+        for n in self.nodes:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r258969485",
      "id" : 258969485,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODk2OTQ4NQ==",
      "original_commit_id" : "fa25210d6266d50a6c2bfd6d96062bacb2ae393b",
      "original_position" : 9,
      "path" : "test/functional/wallet_txn_doublespend.py",
      "position" : 9,
      "pull_request_review_id" : 206348374,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258969485",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r259910830"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/259910830"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done, I measured that it wouldn't make it faster, but at least the code is shorter",
      "commit_id" : "fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-25T16:36:16Z",
      "diff_hunk" : "@@ -479,32 +487,27 @@ def _initialize_chain(self):\n             for node in self.nodes:\n                 node.wait_for_rpc_connection()\n \n-            # For backward compatibility of the python scripts with previous\n-            # versions of the cache, set mocktime to Jan 1,\n-            # 2014 + (201 * 10 * 60)\"\"\"\n-            self.mocktime = 1388534400 + (201 * 10 * 60)\n-\n-            # Create a 200-block-long chain; each of the 4 first nodes\n+            # Create a 199-block-long chain; each of the 4 first nodes",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#discussion_r259910830",
      "id" : 259910830,
      "in_reply_to_id" : 258967701,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1OTkxMDgzMA==",
      "original_commit_id" : "fa25210d6266d50a6c2bfd6d96062bacb2ae393b",
      "original_position" : 74,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 76,
      "pull_request_review_id" : 207500359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15419",
      "updated_at" : "2019-02-25T16:36:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/259910830",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK fa2cdc9ac2672301591cafceb8ff230b95425ad0",
      "created_at" : "2019-02-25T19:43:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15419#issuecomment-467154606",
      "id" : 467154606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15419",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NzE1NDYwNg==",
      "updated_at" : "2019-02-25T19:43:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/467154606",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
