[
   {
      "author_association" : "MEMBER",
      "body" : "@achow101 @gwillen You may be interested in this.",
      "created_at" : "2019-02-17T00:53:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-464403922",
      "id" : 464403922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NDQwMzkyMg==",
      "updated_at" : "2019-02-17T00:53:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/464403922",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16240](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16240.html) (JSONRPCRequest-aware RPCHelpMan by kallewoof)\n* [#16227](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16227.html) (Refactor CWallet's inheritance chain by achow101)\n* [#15996](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15996.html) (rpc: Deprecate totalfee argument in `bumpfee` by instagibbs)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-02-18T13:26:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-464730922",
      "id" : 464730922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NDczMDkyMg==",
      "updated_at" : "2019-06-24T11:35:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/464730922",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r257794269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257794269"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Commit cb085728f64a76fec48dee4e6432c199aa69a62a\r\n\r\nIsn't this new code?",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-02-18T18:26:41Z",
      "diff_hunk" : "@@ -499,3 +499,19 @@ FlatSigningProvider Merge(const FlatSigningProvider& a, const FlatSigningProvide\n     ret.origins.insert(b.origins.begin(), b.origins.end());\n     return ret;\n }\n+\n+bool IsSegWitOutput(const SigningProvider& provider, const CScript& script)\n+{\n+    std::vector<valtype> solutions;\n+    auto whichtype = Solver(script, solutions);\n+    if (whichtype == TX_WITNESS_V0_SCRIPTHASH || whichtype == TX_WITNESS_V0_KEYHASH || whichtype == TX_WITNESS_UNKNOWN) return true;\n+    if (whichtype == TX_SCRIPTHASH) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r257794269",
      "id" : 257794269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Nzc5NDI2OQ==",
      "original_commit_id" : "cb085728f64a76fec48dee4e6432c199aa69a62a",
      "original_position" : 10,
      "path" : "src/script/sign.cpp",
      "position" : 10,
      "pull_request_review_id" : 204912961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257794269",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r257795719"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257795719"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Instead of a single range value, this could be the start and end values of the range like what `importmulti` does?",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-02-18T18:33:05Z",
      "diff_hunk" : "@@ -1708,12 +1708,19 @@ UniValue converttopsbt(const JSONRPCRequest& request)\n \n UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n             RPCHelpMan{\"utxoupdatepsbt\",\n-            \"\\nUpdates a PSBT with witness UTXOs retrieved from the UTXO set or the mempool.\\n\",\n+            \"\\nUpdates a PSBT with data from descriptors and the UTXO set or the mempool (segwit outputs only)\\n\",\n             {\n-                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"}\n+                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"},\n+                {\"descriptors\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"An array of either strings or objects\", {\n+                    {\"\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"A descriptor\"},\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"An object with a descriptor and extra information\", {\n+                         {\"desc\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A descriptor\"},\n+                         {\"range\", RPCArg::Type::NUM, \"1000\", \"Up to what index HD chains should be explored\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r257795719",
      "id" : 257795719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Nzc5NTcxOQ==",
      "original_commit_id" : "e90a5c753d6a91d7fea42f7485865f6fff34019f",
      "original_position" : 17,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 204914633,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257795719",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r257801740"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257801740"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes?",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-02-18T19:01:57Z",
      "diff_hunk" : "@@ -499,3 +499,19 @@ FlatSigningProvider Merge(const FlatSigningProvider& a, const FlatSigningProvide\n     ret.origins.insert(b.origins.begin(), b.origins.end());\n     return ret;\n }\n+\n+bool IsSegWitOutput(const SigningProvider& provider, const CScript& script)\n+{\n+    std::vector<valtype> solutions;\n+    auto whichtype = Solver(script, solutions);\n+    if (whichtype == TX_WITNESS_V0_SCRIPTHASH || whichtype == TX_WITNESS_V0_KEYHASH || whichtype == TX_WITNESS_UNKNOWN) return true;\n+    if (whichtype == TX_SCRIPTHASH) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r257801740",
      "id" : 257801740,
      "in_reply_to_id" : 257794269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwMTc0MA==",
      "original_commit_id" : "cb085728f64a76fec48dee4e6432c199aa69a62a",
      "original_position" : 10,
      "path" : "src/script/sign.cpp",
      "position" : 10,
      "pull_request_review_id" : 204922146,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257801740",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r257807360"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257807360"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That's fine, just that after reading commit message I thought this was move only commit.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-02-18T19:28:22Z",
      "diff_hunk" : "@@ -499,3 +499,19 @@ FlatSigningProvider Merge(const FlatSigningProvider& a, const FlatSigningProvide\n     ret.origins.insert(b.origins.begin(), b.origins.end());\n     return ret;\n }\n+\n+bool IsSegWitOutput(const SigningProvider& provider, const CScript& script)\n+{\n+    std::vector<valtype> solutions;\n+    auto whichtype = Solver(script, solutions);\n+    if (whichtype == TX_WITNESS_V0_SCRIPTHASH || whichtype == TX_WITNESS_V0_KEYHASH || whichtype == TX_WITNESS_UNKNOWN) return true;\n+    if (whichtype == TX_SCRIPTHASH) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r257807360",
      "id" : 257807360,
      "in_reply_to_id" : 257794269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzgwNzM2MA==",
      "original_commit_id" : "cb085728f64a76fec48dee4e6432c199aa69a62a",
      "original_position" : 10,
      "path" : "src/script/sign.cpp",
      "position" : 10,
      "pull_request_review_id" : 204928970,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257807360",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r258543947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258543947"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah, good point. I'll clarify in the commit message.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-02-20T15:46:39Z",
      "diff_hunk" : "@@ -499,3 +499,19 @@ FlatSigningProvider Merge(const FlatSigningProvider& a, const FlatSigningProvide\n     ret.origins.insert(b.origins.begin(), b.origins.end());\n     return ret;\n }\n+\n+bool IsSegWitOutput(const SigningProvider& provider, const CScript& script)\n+{\n+    std::vector<valtype> solutions;\n+    auto whichtype = Solver(script, solutions);\n+    if (whichtype == TX_WITNESS_V0_SCRIPTHASH || whichtype == TX_WITNESS_V0_KEYHASH || whichtype == TX_WITNESS_UNKNOWN) return true;\n+    if (whichtype == TX_SCRIPTHASH) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r258543947",
      "id" : 258543947,
      "in_reply_to_id" : 257794269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODU0Mzk0Nw==",
      "original_commit_id" : "cb085728f64a76fec48dee4e6432c199aa69a62a",
      "original_position" : 10,
      "path" : "src/script/sign.cpp",
      "position" : 10,
      "pull_request_review_id" : 205835467,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258543947",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r259645891"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/259645891"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm copying the behavior of `scantxoutset` here. Maybe it makes sense to merge the two afterwards, and have all three (scantxoutset, utxoupdatepsbt, importmulti) support both start+end and range?",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-02-24T22:52:17Z",
      "diff_hunk" : "@@ -1708,12 +1708,19 @@ UniValue converttopsbt(const JSONRPCRequest& request)\n \n UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n             RPCHelpMan{\"utxoupdatepsbt\",\n-            \"\\nUpdates a PSBT with witness UTXOs retrieved from the UTXO set or the mempool.\\n\",\n+            \"\\nUpdates a PSBT with data from descriptors and the UTXO set or the mempool (segwit outputs only)\\n\",\n             {\n-                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"}\n+                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"},\n+                {\"descriptors\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"An array of either strings or objects\", {\n+                    {\"\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"A descriptor\"},\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"An object with a descriptor and extra information\", {\n+                         {\"desc\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A descriptor\"},\n+                         {\"range\", RPCArg::Type::NUM, \"1000\", \"Up to what index HD chains should be explored\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r259645891",
      "id" : 259645891,
      "in_reply_to_id" : 257795719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1OTY0NTg5MQ==",
      "original_commit_id" : "e90a5c753d6a91d7fea42f7485865f6fff34019f",
      "original_position" : 17,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 207177435,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/259645891",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r259646155"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/259646155"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-02-24T22:58:05Z",
      "diff_hunk" : "@@ -499,3 +499,19 @@ FlatSigningProvider Merge(const FlatSigningProvider& a, const FlatSigningProvide\n     ret.origins.insert(b.origins.begin(), b.origins.end());\n     return ret;\n }\n+\n+bool IsSegWitOutput(const SigningProvider& provider, const CScript& script)\n+{\n+    std::vector<valtype> solutions;\n+    auto whichtype = Solver(script, solutions);\n+    if (whichtype == TX_WITNESS_V0_SCRIPTHASH || whichtype == TX_WITNESS_V0_KEYHASH || whichtype == TX_WITNESS_UNKNOWN) return true;\n+    if (whichtype == TX_SCRIPTHASH) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r259646155",
      "id" : 259646155,
      "in_reply_to_id" : 257794269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1OTY0NjE1NQ==",
      "original_commit_id" : "cb085728f64a76fec48dee4e6432c199aa69a62a",
      "original_position" : 10,
      "path" : "src/script/sign.cpp",
      "position" : 10,
      "pull_request_review_id" : 207177735,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/259646155",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2019-02-24T22:58:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-466826922",
      "id" : 466826922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjgyNjkyMg==",
      "updated_at" : "2019-02-24T22:58:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466826922",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased after merge of #15497.",
      "created_at" : "2019-03-02T21:27:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-468961909",
      "id" : 468961909,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2ODk2MTkwOQ==",
      "updated_at" : "2019-03-02T21:27:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/468961909",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r261842822"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261842822"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is now fixed by using the same parameter style as all through #15497.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-03-02T21:27:30Z",
      "diff_hunk" : "@@ -1708,12 +1708,19 @@ UniValue converttopsbt(const JSONRPCRequest& request)\n \n UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n             RPCHelpMan{\"utxoupdatepsbt\",\n-            \"\\nUpdates a PSBT with witness UTXOs retrieved from the UTXO set or the mempool.\\n\",\n+            \"\\nUpdates a PSBT with data from descriptors and the UTXO set or the mempool (segwit outputs only)\\n\",\n             {\n-                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"}\n+                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"},\n+                {\"descriptors\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"An array of either strings or objects\", {\n+                    {\"\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"A descriptor\"},\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"An object with a descriptor and extra information\", {\n+                         {\"desc\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A descriptor\"},\n+                         {\"range\", RPCArg::Type::NUM, \"1000\", \"Up to what index HD chains should be explored\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r261842822",
      "id" : 261842822,
      "in_reply_to_id" : 257795719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MTg0MjgyMg==",
      "original_commit_id" : "e90a5c753d6a91d7fea42f7485865f6fff34019f",
      "original_position" : 17,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 209884826,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/261842822",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-04-14T04:11:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-482918298",
      "id" : 482918298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MjkxODI5OA==",
      "updated_at" : "2019-04-14T04:11:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/482918298",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280532024"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280532024"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this could comment could be a bit more detailed. How is the PSBTOutput updated? (Answer: the `redeem_script`, `witness_script` and `hd_keypaths` are filled in)",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-02T17:57:29Z",
      "diff_hunk" : "@@ -554,6 +554,9 @@ bool PSBTInputSigned(PSBTInput& input);\n /** Signs a PSBTInput, verifying that all provided data matches what is being signed. */\n bool SignPSBTInput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index, int sighash = SIGHASH_ALL, SignatureData* out_sigdata = nullptr, bool use_dummy = false);\n \n+/** Updates a PSBTOutput with information from provider. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280532024",
      "id" : 280532024,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDUzMjAyNA==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 4,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 233153176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280532024",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280533307"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280533307"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I know this is move-only, but I found this functionality pretty inscrutable, and think it could do with some additional commenting. Things that would be helpful:\r\n\r\n- explain why the caller is instantiating a `HidingSigningProvider` with `nosign` set to true\r\n- explain what the magic `0` and `1` values are in the call to `ProduceSignature()` \r\n- explain that `ProduceSignature()` isn't really signing (or if it does, then that signature gets thrown away)",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-02T18:00:49Z",
      "diff_hunk" : "@@ -210,6 +210,20 @@ bool PSBTInputSigned(PSBTInput& input)\n     return !input.final_script_sig.empty() || !input.final_script_witness.IsNull();\n }\n \n+void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index)\n+{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280533307",
      "id" : 280533307,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDUzMzMwNw==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 5,
      "path" : "src/psbt.cpp",
      "position" : 5,
      "pull_request_review_id" : 233153176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280533307",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280537878"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280537878"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The parentheses here are ambiguous - they could be interpreted as modifying the entire sentence or just the mempool part. Consider changing this to:\r\n\r\n```\r\n\"\\nUpdates all segwit inputs and outputs in a PSBT with data from descriptors, the UTXO set or the mempool.\\n\",\r\n```",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-02T18:13:35Z",
      "diff_hunk" : "@@ -1710,12 +1710,19 @@ UniValue converttopsbt(const JSONRPCRequest& request)\n \n UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n             RPCHelpMan{\"utxoupdatepsbt\",\n-            \"\\nUpdates a PSBT with witness UTXOs retrieved from the UTXO set or the mempool.\\n\",\n+            \"\\nUpdates a PSBT with data from descriptors and the UTXO set or the mempool (segwit outputs only)\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280537878",
      "id" : 280537878,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDUzNzg3OA==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 9,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 233153176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280537878",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280538090"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280538090"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Comment could be expanded to say what is being updated (redeem_script, witness_script and hd_keypaths are being filled)",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-02T18:14:15Z",
      "diff_hunk" : "@@ -1760,11 +1776,17 @@ UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n \n         const Coin& coin = view.AccessCoin(psbtx.tx->vin[i].prevout);\n \n-        std::vector<std::vector<unsigned char>> solutions_data;\n-        txnouttype which_type = Solver(coin.out.scriptPubKey, solutions_data);\n-        if (which_type == TX_WITNESS_V0_SCRIPTHASH || which_type == TX_WITNESS_V0_KEYHASH || which_type == TX_WITNESS_UNKNOWN) {\n+        if (IsSegWitOutput(provider, coin.out.scriptPubKey)) {\n             input.witness_utxo = coin.out;\n         }\n+\n+        // Update the inputs using descriptor data.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280538090",
      "id" : 280538090,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDUzODA5MA==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 59,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 233153176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280538090",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280538125"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280538125"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Comment could be expanded to say what is being updated (redeem_script, witness_script and hd_keypaths are being filled)",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-02T18:14:20Z",
      "diff_hunk" : "@@ -1760,11 +1776,17 @@ UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n \n         const Coin& coin = view.AccessCoin(psbtx.tx->vin[i].prevout);\n \n-        std::vector<std::vector<unsigned char>> solutions_data;\n-        txnouttype which_type = Solver(coin.out.scriptPubKey, solutions_data);\n-        if (which_type == TX_WITNESS_V0_SCRIPTHASH || which_type == TX_WITNESS_V0_KEYHASH || which_type == TX_WITNESS_UNKNOWN) {\n+        if (IsSegWitOutput(provider, coin.out.scriptPubKey)) {\n             input.witness_utxo = coin.out;\n         }\n+\n+        // Update the inputs using descriptor data.\n+        SignPSBTInput(HidingSigningProvider(&provider, /* nosign */ true, /* nobip32derivs */ false), psbtx, i, /* sighash_type */ 1);\n+    }\n+\n+    // Update the outputs",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280538125",
      "id" : 280538125,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDUzODEyNQ==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 63,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 233153176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280538125",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280538596"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280538596"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I found using `SignPSBTInput()` a bit jarring here, since nothing is actually being signed. Can you add a comment to say that `SignPSBTInput()` won't actually sign when provided with a `HidingSigningProvider` where `nosign` is true?",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-02T18:15:32Z",
      "diff_hunk" : "@@ -1760,11 +1776,17 @@ UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n \n         const Coin& coin = view.AccessCoin(psbtx.tx->vin[i].prevout);\n \n-        std::vector<std::vector<unsigned char>> solutions_data;\n-        txnouttype which_type = Solver(coin.out.scriptPubKey, solutions_data);\n-        if (which_type == TX_WITNESS_V0_SCRIPTHASH || which_type == TX_WITNESS_V0_KEYHASH || which_type == TX_WITNESS_UNKNOWN) {\n+        if (IsSegWitOutput(provider, coin.out.scriptPubKey)) {\n             input.witness_utxo = coin.out;\n         }\n+\n+        // Update the inputs using descriptor data.\n+        SignPSBTInput(HidingSigningProvider(&provider, /* nosign */ true, /* nobip32derivs */ false), psbtx, i, /* sighash_type */ 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280538596",
      "id" : 280538596,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDUzODU5Ng==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 60,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 233153176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280538596",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280538837"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280538837"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there a reason not to create one `HidingSigningProvider()` for the entire function, rather than instantiate one for each call to `SignPSBTInput()` and `UpdatePSBTOutput()`",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-02T18:16:12Z",
      "diff_hunk" : "@@ -1760,11 +1776,17 @@ UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n \n         const Coin& coin = view.AccessCoin(psbtx.tx->vin[i].prevout);\n \n-        std::vector<std::vector<unsigned char>> solutions_data;\n-        txnouttype which_type = Solver(coin.out.scriptPubKey, solutions_data);\n-        if (which_type == TX_WITNESS_V0_SCRIPTHASH || which_type == TX_WITNESS_V0_KEYHASH || which_type == TX_WITNESS_UNKNOWN) {\n+        if (IsSegWitOutput(provider, coin.out.scriptPubKey)) {\n             input.witness_utxo = coin.out;\n         }\n+\n+        // Update the inputs using descriptor data.\n+        SignPSBTInput(HidingSigningProvider(&provider, /* nosign */ true, /* nobip32derivs */ false), psbtx, i, /* sighash_type */ 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280538837",
      "id" : 280538837,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDUzODgzNw==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 60,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 233153176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280538837",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280550604"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280550604"
         }
      },
      "author_association" : "MEMBER",
      "body" : "These lines are pretty hard to read, and don't give very useful output if they fail. Consider refactoring as follows:\r\n\r\n```diff\r\ndiff --git a/test/functional/rpc_psbt.py b/test/functional/rpc_psbt.py\r\nindex 20261f7b7..9b00fc767 100755\r\n--- a/test/functional/rpc_psbt.py\r\n+++ b/test/functional/rpc_psbt.py\r\n@@ -307,25 +307,32 @@ class PSBTTest(BitcoinTestFramework):\r\n         vout3 = find_output(self.nodes[0], txid3, 11)\r\n         self.sync_all()\r\n \r\n-        # Update a PSBT with UTXOs from the node\r\n-        # Bech32 inputs should be filled with witness UTXO. Other inputs should not be filled because they are non-witness\r\n+        def test_psbt_input_keys(psbt_input, keys):\r\n+            \"\"\"Check that the psbt input has only the expected keys.\"\"\"\r\n+            assert_equal(set(keys), set(psbt_input.keys()))\r\n+\r\n+        # Create a PSBT. None of the inputs are filled initially\r\n         psbt = self.nodes[1].createpsbt([{\"txid\":txid1, \"vout\":vout1},{\"txid\":txid2, \"vout\":vout2},{\"txid\":txid3, \"vout\":vout3}], {self.nodes[0].getnewaddress():32.999})\r\n         decoded = self.nodes[1].decodepsbt(psbt)\r\n-        assert \"witness_utxo\" not in decoded['inputs'][0] and \"non_witness_utxo\" not in decoded['inputs'][0] and \"bip32_derivs\" not in decoded['inputs'][0]\r\n-        assert \"witness_utxo\" not in decoded['inputs'][1] and \"non_witness_utxo\" not in decoded['inputs'][1] and \"bip32_derivs\" not in decoded['inputs'][1]\r\n-        assert \"witness_utxo\" not in decoded['inputs'][2] and \"non_witness_utxo\" not in decoded['inputs'][2] and \"redeem_script\" not in decoded['inputs'][2]\r\n+        test_psbt_input_keys(decoded['inputs'][0], [])\r\n+        test_psbt_input_keys(decoded['inputs'][1], [])\r\n+        test_psbt_input_keys(decoded['inputs'][2], [])\r\n+\r\n+        # Update a PSBT with UTXOs from the node\r\n+        # Bech32 inputs should be filled with witness UTXO. Other inputs should not be filled because they are non-witness\r\n         updated = self.nodes[1].utxoupdatepsbt(psbt)\r\n         decoded = self.nodes[1].decodepsbt(updated)\r\n-        assert \"witness_utxo\" in decoded['inputs'][0] and \"non_witness_utxo\" not in decoded['inputs'][0] and \"bip32_derivs\" not in decoded['inputs'][0]\r\n-        assert \"witness_utxo\" not in decoded['inputs'][1] and \"non_witness_utxo\" not in decoded['inputs'][1] and \"bip32_derivs\" not in decoded['inputs'][1]\r\n-        assert \"witness_utxo\" not in decoded['inputs'][2] and \"non_witness_utxo\" not in decoded['inputs'][2] and \"redeem_script\" not in decoded['inputs'][2]\r\n+        test_psbt_input_keys(decoded['inputs'][0], ['witness_utxo'])\r\n+        test_psbt_input_keys(decoded['inputs'][1], [])\r\n+        test_psbt_input_keys(decoded['inputs'][2], [])\r\n+\r\n         # Try again, now while providing descriptors, making P2SH-segwit work, and causing bip32_derivs and redeem_script to be filled in\r\n         descs = [self.nodes[1].getaddressinfo(addr)['desc'] for addr in [addr1,addr2,addr3]]\r\n         updated = self.nodes[1].utxoupdatepsbt(psbt, descs)\r\n         decoded = self.nodes[1].decodepsbt(updated)\r\n-        assert \"witness_utxo\" in decoded['inputs'][0] and \"non_witness_utxo\" not in decoded['inputs'][0] and \"bip32_derivs\" in decoded['inputs'][0]\r\n-        assert \"witness_utxo\" not in decoded['inputs'][1] and \"non_witness_utxo\" not in decoded['inputs'][1] and \"bip32_derivs\" not in decoded['inputs'][1]\r\n-        assert \"witness_utxo\" in decoded['inputs'][2] and \"non_witness_utxo\" not in decoded['inputs'][2] and \"redeem_script\" in decoded['inputs'][2]\r\n+        test_psbt_input_keys(decoded['inputs'][0], ['witness_utxo', 'bip32_derivs'])\r\n+        test_psbt_input_keys(decoded['inputs'][1], [])\r\n+        test_psbt_input_keys(decoded['inputs'][2], ['witness_utxo', 'bip32_derivs', 'redeem_script'])\r\n \r\n         # Two PSBTs with a common input should not be joinable\r\n         psbt1 = self.nodes[1].createpsbt([{\"txid\":txid1, \"vout\":vout1}], {self.nodes[0].getnewaddress():Decimal('10.999')})\r\n```",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-02T18:49:00Z",
      "diff_hunk" : "@@ -311,14 +311,21 @@ def run_test(self):\n         # Bech32 inputs should be filled with witness UTXO. Other inputs should not be filled because they are non-witness\n         psbt = self.nodes[1].createpsbt([{\"txid\":txid1, \"vout\":vout1},{\"txid\":txid2, \"vout\":vout2},{\"txid\":txid3, \"vout\":vout3}], {self.nodes[0].getnewaddress():32.999})\n         decoded = self.nodes[1].decodepsbt(psbt)\n-        assert \"witness_utxo\" not in decoded['inputs'][0] and \"non_witness_utxo\" not in decoded['inputs'][0]\n-        assert \"witness_utxo\" not in decoded['inputs'][1] and \"non_witness_utxo\" not in decoded['inputs'][1]\n-        assert \"witness_utxo\" not in decoded['inputs'][2] and \"non_witness_utxo\" not in decoded['inputs'][2]\n+        assert \"witness_utxo\" not in decoded['inputs'][0] and \"non_witness_utxo\" not in decoded['inputs'][0] and \"bip32_derivs\" not in decoded['inputs'][0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r280550604",
      "id" : 280550604,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDU1MDYwNA==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 7,
      "path" : "test/functional/rpc_psbt.py",
      "position" : null,
      "pull_request_review_id" : 233153176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280550604",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692152"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692152"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-09T22:39:35Z",
      "diff_hunk" : "@@ -554,6 +554,9 @@ bool PSBTInputSigned(PSBTInput& input);\n /** Signs a PSBTInput, verifying that all provided data matches what is being signed. */\n bool SignPSBTInput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index, int sighash = SIGHASH_ALL, SignatureData* out_sigdata = nullptr, bool use_dummy = false);\n \n+/** Updates a PSBTOutput with information from provider. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692152",
      "id" : 282692152,
      "in_reply_to_id" : 280532024,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjY5MjE1Mg==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 4,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 235857430,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692152",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692206"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692206"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a bunch of comments. Better?",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-09T22:39:52Z",
      "diff_hunk" : "@@ -210,6 +210,20 @@ bool PSBTInputSigned(PSBTInput& input)\n     return !input.final_script_sig.empty() || !input.final_script_witness.IsNull();\n }\n \n+void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index)\n+{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692206",
      "id" : 282692206,
      "in_reply_to_id" : 280533307,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjY5MjIwNg==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 5,
      "path" : "src/psbt.cpp",
      "position" : 5,
      "pull_request_review_id" : 235857505,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692206",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692235"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692235"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-09T22:40:01Z",
      "diff_hunk" : "@@ -1710,12 +1710,19 @@ UniValue converttopsbt(const JSONRPCRequest& request)\n \n UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n             RPCHelpMan{\"utxoupdatepsbt\",\n-            \"\\nUpdates a PSBT with witness UTXOs retrieved from the UTXO set or the mempool.\\n\",\n+            \"\\nUpdates a PSBT with data from descriptors and the UTXO set or the mempool (segwit outputs only)\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692235",
      "id" : 282692235,
      "in_reply_to_id" : 280537878,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjY5MjIzNQ==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 9,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 235857539,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692235",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692305"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692305"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd rather not be specific here, as it may change over time.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-09T22:40:19Z",
      "diff_hunk" : "@@ -1760,11 +1776,17 @@ UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n \n         const Coin& coin = view.AccessCoin(psbtx.tx->vin[i].prevout);\n \n-        std::vector<std::vector<unsigned char>> solutions_data;\n-        txnouttype which_type = Solver(coin.out.scriptPubKey, solutions_data);\n-        if (which_type == TX_WITNESS_V0_SCRIPTHASH || which_type == TX_WITNESS_V0_KEYHASH || which_type == TX_WITNESS_UNKNOWN) {\n+        if (IsSegWitOutput(provider, coin.out.scriptPubKey)) {\n             input.witness_utxo = coin.out;\n         }\n+\n+        // Update the inputs using descriptor data.\n+        SignPSBTInput(HidingSigningProvider(&provider, /* nosign */ true, /* nobip32derivs */ false), psbtx, i, /* sighash_type */ 1);\n+    }\n+\n+    // Update the outputs",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692305",
      "id" : 282692305,
      "in_reply_to_id" : 280538125,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjY5MjMwNQ==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 63,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 235857624,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692305",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692554"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692554"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added some comments.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-09T22:41:31Z",
      "diff_hunk" : "@@ -1760,11 +1776,17 @@ UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n \n         const Coin& coin = view.AccessCoin(psbtx.tx->vin[i].prevout);\n \n-        std::vector<std::vector<unsigned char>> solutions_data;\n-        txnouttype which_type = Solver(coin.out.scriptPubKey, solutions_data);\n-        if (which_type == TX_WITNESS_V0_SCRIPTHASH || which_type == TX_WITNESS_V0_KEYHASH || which_type == TX_WITNESS_UNKNOWN) {\n+        if (IsSegWitOutput(provider, coin.out.scriptPubKey)) {\n             input.witness_utxo = coin.out;\n         }\n+\n+        // Update the inputs using descriptor data.\n+        SignPSBTInput(HidingSigningProvider(&provider, /* nosign */ true, /* nobip32derivs */ false), psbtx, i, /* sighash_type */ 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692554",
      "id" : 282692554,
      "in_reply_to_id" : 280538596,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjY5MjU1NA==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 60,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 235857952,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692554",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692611"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692611"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nope. Done that, that's much more readable.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-09T22:41:44Z",
      "diff_hunk" : "@@ -1760,11 +1776,17 @@ UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n \n         const Coin& coin = view.AccessCoin(psbtx.tx->vin[i].prevout);\n \n-        std::vector<std::vector<unsigned char>> solutions_data;\n-        txnouttype which_type = Solver(coin.out.scriptPubKey, solutions_data);\n-        if (which_type == TX_WITNESS_V0_SCRIPTHASH || which_type == TX_WITNESS_V0_KEYHASH || which_type == TX_WITNESS_UNKNOWN) {\n+        if (IsSegWitOutput(provider, coin.out.scriptPubKey)) {\n             input.witness_utxo = coin.out;\n         }\n+\n+        // Update the inputs using descriptor data.\n+        SignPSBTInput(HidingSigningProvider(&provider, /* nosign */ true, /* nobip32derivs */ false), psbtx, i, /* sighash_type */ 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692611",
      "id" : 282692611,
      "in_reply_to_id" : 280538837,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjY5MjYxMQ==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 60,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 235858024,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692611",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692640"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692640"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Applied.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-09T22:41:51Z",
      "diff_hunk" : "@@ -311,14 +311,21 @@ def run_test(self):\n         # Bech32 inputs should be filled with witness UTXO. Other inputs should not be filled because they are non-witness\n         psbt = self.nodes[1].createpsbt([{\"txid\":txid1, \"vout\":vout1},{\"txid\":txid2, \"vout\":vout2},{\"txid\":txid3, \"vout\":vout3}], {self.nodes[0].getnewaddress():32.999})\n         decoded = self.nodes[1].decodepsbt(psbt)\n-        assert \"witness_utxo\" not in decoded['inputs'][0] and \"non_witness_utxo\" not in decoded['inputs'][0]\n-        assert \"witness_utxo\" not in decoded['inputs'][1] and \"non_witness_utxo\" not in decoded['inputs'][1]\n-        assert \"witness_utxo\" not in decoded['inputs'][2] and \"non_witness_utxo\" not in decoded['inputs'][2]\n+        assert \"witness_utxo\" not in decoded['inputs'][0] and \"non_witness_utxo\" not in decoded['inputs'][0] and \"bip32_derivs\" not in decoded['inputs'][0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r282692640",
      "id" : 282692640,
      "in_reply_to_id" : 280550604,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjY5MjY0MA==",
      "original_commit_id" : "cdabfae36e83f20c4728fcbbab0089e711cf3bc3",
      "original_position" : 7,
      "path" : "test/functional/rpc_psbt.py",
      "position" : null,
      "pull_request_review_id" : 235858062,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282692640",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-05-10T13:32:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-491290101",
      "id" : 491290101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI5MDEwMQ==",
      "updated_at" : "2019-05-10T13:32:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491290101",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283012878"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283012878"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe this needs to be a range type and have the description updated. You should just be able to copy it from the `scantxoutset` help text.\r\n\r\nAlso consider refering to `descriptors` as `output descriptors` throughout, for consistency with other RPCs.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-10T19:21:07Z",
      "diff_hunk" : "@@ -1710,12 +1710,19 @@ UniValue converttopsbt(const JSONRPCRequest& request)\n \n UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n             RPCHelpMan{\"utxoupdatepsbt\",\n-            \"\\nUpdates a PSBT with witness UTXOs retrieved from the UTXO set or the mempool.\\n\",\n+            \"\\nUpdates all segwit inputs and outputs in a PSBT with data from descriptors, the UTXO set or the mempool.\\n\",\n             {\n-                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"}\n+                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"},\n+                {\"descriptors\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"An array of either strings or objects\", {\n+                    {\"\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"A descriptor\"},\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"An object with a descriptor and extra information\", {\n+                         {\"desc\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A descriptor\"},\n+                         {\"range\", RPCArg::Type::NUM, \"1000\", \"Up to what index HD chains should be explored\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283012878",
      "id" : 283012878,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzAxMjg3OA==",
      "original_commit_id" : "535b649da4060e34afeb7be246952229081e0220",
      "original_position" : 17,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 236273592,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283012878",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283052336"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283052336"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-10T21:46:52Z",
      "diff_hunk" : "@@ -1710,12 +1710,19 @@ UniValue converttopsbt(const JSONRPCRequest& request)\n \n UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n             RPCHelpMan{\"utxoupdatepsbt\",\n-            \"\\nUpdates a PSBT with witness UTXOs retrieved from the UTXO set or the mempool.\\n\",\n+            \"\\nUpdates all segwit inputs and outputs in a PSBT with data from descriptors, the UTXO set or the mempool.\\n\",\n             {\n-                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"}\n+                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"},\n+                {\"descriptors\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"An array of either strings or objects\", {\n+                    {\"\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"A descriptor\"},\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"An object with a descriptor and extra information\", {\n+                         {\"desc\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A descriptor\"},\n+                         {\"range\", RPCArg::Type::NUM, \"1000\", \"Up to what index HD chains should be explored\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283052336",
      "id" : 283052336,
      "in_reply_to_id" : 283012878,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzA1MjMzNg==",
      "original_commit_id" : "535b649da4060e34afeb7be246952229081e0220",
      "original_position" : 17,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 236325396,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-10T21:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283052336",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2019-05-10T21:46:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-491439623",
      "id" : 491439623,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTQzOTYyMw==",
      "updated_at" : "2019-05-10T21:46:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491439623",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-10T22:19:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-491446139",
      "id" : 491446139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTQ0NjEzOQ==",
      "updated_at" : "2019-05-10T22:19:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491446139",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283460009"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283460009"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Use range loop\r\n```cpp\r\nfor (const UniValue& scanobject : request.params[1].get_array().getValues()) {\r\n```\r\nLike [here](https://github.com/bitcoin/bitcoin/pull/15427/files#diff-a0c8f511d90e83aa9b5857e819ced344R2243).",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-13T17:45:21Z",
      "diff_hunk" : "@@ -1514,6 +1521,17 @@ UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n     }\n \n+    // Parse descriptors, if any.\n+    FlatSigningProvider provider;\n+    if (!request.params[1].isNull()) {\n+        auto descs = request.params[1].get_array();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283460009",
      "id" : 283460009,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzQ2MDAwOQ==",
      "original_commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "original_position" : 39,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 39,
      "pull_request_review_id" : 236823312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-13T18:01:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283460009",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283463922"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283463922"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Makes sense to instantiate `HidingSigningProvider` before the loop?",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-13T17:55:17Z",
      "diff_hunk" : "@@ -44,16 +44,7 @@ TransactionError FillPSBT(const CWallet* pwallet, PartiallySignedTransaction& ps\n \n     // Fill in the bip32 keypaths and redeemscripts for the outputs so that hardware wallets can identify change\n     for (unsigned int i = 0; i < psbtx.tx->vout.size(); ++i) {\n-        const CTxOut& out = psbtx.tx->vout.at(i);\n-        PSBTOutput& psbt_out = psbtx.outputs.at(i);\n-\n-        // Fill a SignatureData with output info\n-        SignatureData sigdata;\n-        psbt_out.FillSignatureData(sigdata);\n-\n-        MutableTransactionSignatureCreator creator(psbtx.tx.get_ptr(), 0, out.nValue, 1);\n-        ProduceSignature(HidingSigningProvider(pwallet, true, !bip32derivs), creator, out.scriptPubKey, sigdata);\n-        psbt_out.FromSignatureData(sigdata);\n+        UpdatePSBTOutput(HidingSigningProvider(pwallet, true, !bip32derivs), psbtx, i);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283463922",
      "id" : 283463922,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzQ2MzkyMg==",
      "original_commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "original_position" : 14,
      "path" : "src/wallet/psbtwallet.cpp",
      "position" : 14,
      "pull_request_review_id" : 236823312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-13T18:01:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283463922",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283465008"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283465008"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, spaces after `,` - `[addr1, addr2, addr3]`.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-13T17:57:55Z",
      "diff_hunk" : "@@ -314,18 +314,32 @@ def run_test(self):\n         vout3 = find_output(self.nodes[0], txid3, 11)\n         self.sync_all()\n \n-        # Update a PSBT with UTXOs from the node\n-        # Bech32 inputs should be filled with witness UTXO. Other inputs should not be filled because they are non-witness\n+        def test_psbt_input_keys(psbt_input, keys):\n+            \"\"\"Check that the psbt input has only the expected keys.\"\"\"\n+            assert_equal(set(keys), set(psbt_input.keys()))\n+\n+        # Create a PSBT. None of the inputs are filled initially\n         psbt = self.nodes[1].createpsbt([{\"txid\":txid1, \"vout\":vout1},{\"txid\":txid2, \"vout\":vout2},{\"txid\":txid3, \"vout\":vout3}], {self.nodes[0].getnewaddress():32.999})\n         decoded = self.nodes[1].decodepsbt(psbt)\n-        assert \"witness_utxo\" not in decoded['inputs'][0] and \"non_witness_utxo\" not in decoded['inputs'][0]\n-        assert \"witness_utxo\" not in decoded['inputs'][1] and \"non_witness_utxo\" not in decoded['inputs'][1]\n-        assert \"witness_utxo\" not in decoded['inputs'][2] and \"non_witness_utxo\" not in decoded['inputs'][2]\n+        test_psbt_input_keys(decoded['inputs'][0], [])\n+        test_psbt_input_keys(decoded['inputs'][1], [])\n+        test_psbt_input_keys(decoded['inputs'][2], [])\n+\n+        # Update a PSBT with UTXOs from the node\n+        # Bech32 inputs should be filled with witness UTXO. Other inputs should not be filled because they are non-witness\n         updated = self.nodes[1].utxoupdatepsbt(psbt)\n         decoded = self.nodes[1].decodepsbt(updated)\n-        assert \"witness_utxo\" in decoded['inputs'][0] and \"non_witness_utxo\" not in decoded['inputs'][0]\n-        assert \"witness_utxo\" not in decoded['inputs'][1] and \"non_witness_utxo\" not in decoded['inputs'][1]\n-        assert \"witness_utxo\" not in decoded['inputs'][2] and \"non_witness_utxo\" not in decoded['inputs'][2]\n+        test_psbt_input_keys(decoded['inputs'][0], ['witness_utxo'])\n+        test_psbt_input_keys(decoded['inputs'][1], [])\n+        test_psbt_input_keys(decoded['inputs'][2], [])\n+\n+        # Try again, now while providing descriptors, making P2SH-segwit work, and causing bip32_derivs and redeem_script to be filled in\n+        descs = [self.nodes[1].getaddressinfo(addr)['desc'] for addr in [addr1,addr2,addr3]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283465008",
      "id" : 283465008,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzQ2NTAwOA==",
      "original_commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "original_position" : 32,
      "path" : "test/functional/rpc_psbt.py",
      "position" : 32,
      "pull_request_review_id" : 236823312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-13T18:01:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283465008",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283466106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283466106"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could name this `UpdatePSBT()` and iterate outputs here? - which is what both callers do.",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-13T18:00:34Z",
      "diff_hunk" : "@@ -215,6 +215,25 @@ bool PSBTInputSigned(const PSBTInput& input)\n     return !input.final_script_sig.empty() || !input.final_script_witness.IsNull();\n }\n \n+void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r283466106",
      "id" : 283466106,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzQ2NjEwNg==",
      "original_commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "original_position" : 4,
      "path" : "src/psbt.cpp",
      "position" : 4,
      "pull_request_review_id" : 236823312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-13T18:01:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283466106",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 26fe9b990995f9cb5eee21d40b4daaad19f7181f (will hold merging until response to promag's comments)",
      "created_at" : "2019-05-20T14:29:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-494011526",
      "id" : 494011526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDAxMTUyNg==",
      "updated_at" : "2019-05-20T14:34:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494011526",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r285774570"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285774570"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: \"native segwit or nested-segwit\"?",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-20T21:26:00Z",
      "diff_hunk" : "@@ -232,4 +232,7 @@ void UpdateInput(CTxIn& input, const SignatureData& data);\n  * Solvability is unrelated to whether we consider this output to be ours. */\n bool IsSolvable(const SigningProvider& provider, const CScript& script);\n \n+/** Check whether a scriptPubKey is known to be segwit. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r285774570",
      "id" : 285774570,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc3NDU3MA==",
      "original_commit_id" : "eaf4f887348a08c620732125ad4430e1a133d434",
      "original_position" : 4,
      "path" : "src/script/sign.h",
      "position" : 4,
      "pull_request_review_id" : 239730895,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-20T21:36:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285774570",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r285774802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285774802"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: \"with inputs and outputs updated\"",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-20T21:26:47Z",
      "diff_hunk" : "@@ -1490,12 +1490,19 @@ UniValue converttopsbt(const JSONRPCRequest& request)\n \n UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n             RPCHelpMan{\"utxoupdatepsbt\",\n-            \"\\nUpdates a PSBT with witness UTXOs retrieved from the UTXO set or the mempool.\\n\",\n+            \"\\nUpdates all segwit inputs and outputs in a PSBT with data from output descriptors, the UTXO set or the mempool.\\n\",\n             {\n-                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"}\n+                {\"psbt\", RPCArg::Type::STR, RPCArg::Optional::NO, \"A base64 string of a PSBT\"},\n+                {\"descriptors\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"An array of either strings or objects\", {\n+                    {\"\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"An output descriptor\"},\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"An object with an output descriptor and extra information\", {\n+                         {\"desc\", RPCArg::Type::STR, RPCArg::Optional::NO, \"An output descriptor\"},\n+                         {\"range\", RPCArg::Type::RANGE, \"1000\", \"Up to what index HD chains should be explored (either end or [begin,end])\"},\n+                    }},\n+                }},\n             },\n             RPCResult {\n                 \"  \\\"psbt\\\"          (string) The base64-encoded partially signed transaction with inputs updated\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r285774802",
      "id" : 285774802,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc3NDgwMg==",
      "original_commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "original_position" : 22,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 22,
      "pull_request_review_id" : 239730895,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-20T21:36:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285774802",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r288387883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288387883"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Alternatively, seems this could be appropriate as `PartiallySignedTransaction::UpdateOutput`",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-05-29T04:19:42Z",
      "diff_hunk" : "@@ -215,6 +215,25 @@ bool PSBTInputSigned(const PSBTInput& input)\n     return !input.final_script_sig.empty() || !input.final_script_witness.IsNull();\n }\n \n+void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r288387883",
      "id" : 288387883,
      "in_reply_to_id" : 283466106,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4ODM4Nzg4Mw==",
      "original_commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "original_position" : 4,
      "path" : "src/psbt.cpp",
      "position" : 4,
      "pull_request_review_id" : 243032344,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-05-29T04:19:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288387883",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r289657124"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/289657124"
         }
      },
      "author_association" : "MEMBER",
      "body" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f\r\n\r\nnit, could use the \"new\" way:\r\n```cpp\r\n    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\r\n        throw std::runtime_error(help.ToString());\r\n    }\r\n```",
      "commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "created_at" : "2019-06-02T20:39:57Z",
      "diff_hunk" : "@@ -1490,12 +1490,19 @@ UniValue converttopsbt(const JSONRPCRequest& request)\n \n UniValue utxoupdatepsbt(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#discussion_r289657124",
      "id" : 289657124,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4OTY1NzEyNA==",
      "original_commit_id" : "26fe9b990995f9cb5eee21d40b4daaad19f7181f",
      "original_position" : 5,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 5,
      "pull_request_review_id" : 244641575,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15427",
      "updated_at" : "2019-06-02T20:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/289657124",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems like next steps for this PR are for @sipa to respond to @promag and @ariard comments, then probably back to @laanwj for merge consideration.",
      "created_at" : "2019-06-06T21:45:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-499679577",
      "id" : 499679577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5OTY3OTU3Nw==",
      "updated_at" : "2019-06-06T21:45:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/499679577",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/326147?v=4",
         "events_url" : "https://api.github.com/users/moneyball/events{/privacy}",
         "followers_url" : "https://api.github.com/users/moneyball/followers",
         "following_url" : "https://api.github.com/users/moneyball/following{/other_user}",
         "gists_url" : "https://api.github.com/users/moneyball/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/moneyball",
         "id" : 326147,
         "login" : "moneyball",
         "node_id" : "MDQ6VXNlcjMyNjE0Nw==",
         "organizations_url" : "https://api.github.com/users/moneyball/orgs",
         "received_events_url" : "https://api.github.com/users/moneyball/received_events",
         "repos_url" : "https://api.github.com/users/moneyball/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/moneyball/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/moneyball/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/moneyball"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "My comments aren't blocking FWIW.",
      "created_at" : "2019-06-11T13:58:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-500853862",
      "id" : 500853862,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMDg1Mzg2Mg==",
      "updated_at" : "2019-06-11T13:58:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/500853862",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa my suggestions are in fb3540a87, and rebased here d7a8cf21f.",
      "created_at" : "2019-06-12T21:20:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-501459741",
      "id" : 501459741,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTQ1OTc0MQ==",
      "updated_at" : "2019-06-12T21:20:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501459741",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 26fe9b9, checked refactors and tests look comprehensive. Still missing a release note but can be added later.",
      "created_at" : "2019-06-12T21:23:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-501460523",
      "id" : 501460523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTQ2MDUyMw==",
      "updated_at" : "2019-06-12T21:23:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501460523",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Going to merge this, I think the comments are minor enough to be addressable afterward and don't really need to block the merge.",
      "created_at" : "2019-07-02T14:54:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-507713600",
      "id" : 507713600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNzcxMzYwMA==",
      "updated_at" : "2019-07-02T14:54:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/507713600",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It's a shame that this got merged without a bunch of review comments being addressed. It seems to me that this: https://github.com/bitcoin/bitcoin/pull/15427#pullrequestreview-239730895 is a bug, and that the new functionality won't work with bitcoin-cli or using named arguments.",
      "created_at" : "2019-07-02T16:57:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-507761329",
      "id" : 507761329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNzc2MTMyOQ==",
      "updated_at" : "2019-07-02T16:57:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/507761329",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed here: #16326",
      "created_at" : "2019-07-02T17:45:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-507778796",
      "id" : 507778796,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNzc3ODc5Ng==",
      "updated_at" : "2019-07-02T17:45:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/507778796",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This had 3 ACKs. `master` is always expected to have bugs and if they are trivially fixed in a follow-up, why not?",
      "created_at" : "2019-07-02T20:37:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-507835187",
      "id" : 507835187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNzgzNTE4Nw==",
      "updated_at" : "2019-07-02T20:37:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/507835187",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Release notes for this are being added as part of #16326.",
      "created_at" : "2019-07-05T02:03:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-508605736",
      "id" : 508605736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODYwNTczNg==",
      "updated_at" : "2019-07-05T02:03:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508605736",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This had 3 ACKs. master is always expected to have bugs and if they are trivially fixed in a follow-up, why not?\r\n\r\nBecause comments should at least be acknowledged by the author, even if that's just to say \"This can be addressed in a follow-up PR\".",
      "created_at" : "2019-07-05T09:45:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15427#issuecomment-508701051",
      "id" : 508701051,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15427",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODcwMTA1MQ==",
      "updated_at" : "2019-07-05T09:45:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508701051",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
