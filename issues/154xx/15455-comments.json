[
   {
      "author_association" : "MEMBER",
      "body" : "Please tag 0.18.",
      "created_at" : "2019-02-21T08:09:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15455#issuecomment-465901989",
      "id" : 465901989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15455",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTkwMTk4OQ==",
      "updated_at" : "2019-02-21T08:09:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465901989",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "But was the wallet loaded?",
      "created_at" : "2019-02-21T17:16:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15455#issuecomment-466085738",
      "id" : 466085738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15455",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjA4NTczOA==",
      "updated_at" : "2019-02-21T17:16:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466085738",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It is really weird such paths always trigger the bug. The following patch fixes it:\r\n```diff\r\nindex bc88dd5e0..2e7cf65e9 100644\r\n--- a/src/qt/bitcoingui.cpp\r\n+++ b/src/qt/bitcoingui.cpp\r\n@@ -396,6 +396,7 @@ void BitcoinGUI::createActions()\r\n                     connect(activity, &OpenWalletActivity::opened, this, &BitcoinGUI::setCurrentWallet);\r\n                     connect(activity, &OpenWalletActivity::finished, activity, &QObject::deleteLater);\r\n                     connect(activity, &OpenWalletActivity::finished, dialog, &QObject::deleteLater);\r\n+                    QMetaObject::invokeMethod(activity, \"open\", Qt::QueuedConnection);\r\n                 });\r\n             }\r\n         });\r\ndiff --git a/src/qt/walletcontroller.cpp b/src/qt/walletcontroller.cpp\r\nindex c532ffbbf..fab86a791 100644\r\n--- a/src/qt/walletcontroller.cpp\r\n+++ b/src/qt/walletcontroller.cpp\r\n@@ -59,7 +59,6 @@ OpenWalletActivity* WalletController::openWallet(const std::string& name, QWidge\r\n {\r\n     OpenWalletActivity* activity = new OpenWalletActivity(this, name);\r\n     activity->moveToThread(&m_activity_thread);\r\n-    QMetaObject::invokeMethod(activity, \"open\", Qt::QueuedConnection);\r\n     return activity;\r\n }\r\n```\r\n@fanquake mind testing it? The bug happens because the signal `OpenWalletActivity::finished` is emitted before the connection to this signal is made.\r\n\r\nAnd I'm inclined to push this to 0.18 branch only due to the simple change.\r\n\r\nHowever for master I'm refactoring the `WalletController` and `OpenWalletActivity` which can auto fix this issue.",
      "created_at" : "2019-02-21T23:18:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15455#issuecomment-466208744",
      "id" : 466208744,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15455",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjIwODc0NA==",
      "updated_at" : "2019-02-21T23:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466208744",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag I've tested that the above patch fixes this issue. Using it I can open a wallet named `Ã°ÂÂ¦Â¹Ã°ÂÂÂ¿Ã¢ÂÂÃ¢ÂÂÃ¯Â¸Â` from the `Open Wallet` menu, and the progress dialog closes when the wallet is loaded.",
      "created_at" : "2019-02-22T01:03:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15455#issuecomment-466231599",
      "id" : 466231599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15455",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjIzMTU5OQ==",
      "updated_at" : "2019-02-22T01:03:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466231599",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
