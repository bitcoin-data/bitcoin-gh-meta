[
   {
      "author_association" : "MEMBER",
      "body" : "Suggested by @ryanofsky in https://github.com/bitcoin/bitcoin/pull/15195#issuecomment-463791974.",
      "created_at" : "2019-02-21T15:29:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15458#issuecomment-466042732",
      "id" : 466042732,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15458",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjA0MjczMg==",
      "updated_at" : "2019-02-21T15:29:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466042732",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15458#discussion_r258988654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258988654"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here and other places, this should change to `*m_wallet` instead of `*m_wallet.get()`. It's shorter, more readable, and potentially allows better error checking since the overloaded method can detect a null dereference.",
      "commit_id" : "53b310390cc72a034911a8d6236b472a22c62227",
      "created_at" : "2019-02-21T15:49:10Z",
      "diff_hunk" : "@@ -135,55 +135,55 @@ WalletTxOut MakeWalletTxOut(interfaces::Chain::Lock& locked_chain,\n class WalletImpl : public Wallet\n {\n public:\n-    explicit WalletImpl(const std::shared_ptr<CWallet>& wallet) : m_shared_wallet(wallet), m_wallet(*wallet.get()) {}\n+    explicit WalletImpl(const std::shared_ptr<CWallet>& wallet) : m_wallet(wallet) {}\n \n     bool encryptWallet(const SecureString& wallet_passphrase) override\n     {\n-        return m_wallet.EncryptWallet(wallet_passphrase);\n+        return m_wallet->EncryptWallet(wallet_passphrase);\n     }\n-    bool isCrypted() override { return m_wallet.IsCrypted(); }\n-    bool lock() override { return m_wallet.Lock(); }\n-    bool unlock(const SecureString& wallet_passphrase) override { return m_wallet.Unlock(wallet_passphrase); }\n-    bool isLocked() override { return m_wallet.IsLocked(); }\n+    bool isCrypted() override { return m_wallet->IsCrypted(); }\n+    bool lock() override { return m_wallet->Lock(); }\n+    bool unlock(const SecureString& wallet_passphrase) override { return m_wallet->Unlock(wallet_passphrase); }\n+    bool isLocked() override { return m_wallet->IsLocked(); }\n     bool changeWalletPassphrase(const SecureString& old_wallet_passphrase,\n         const SecureString& new_wallet_passphrase) override\n     {\n-        return m_wallet.ChangeWalletPassphrase(old_wallet_passphrase, new_wallet_passphrase);\n+        return m_wallet->ChangeWalletPassphrase(old_wallet_passphrase, new_wallet_passphrase);\n     }\n-    void abortRescan() override { m_wallet.AbortRescan(); }\n-    bool backupWallet(const std::string& filename) override { return m_wallet.BackupWallet(filename); }\n-    std::string getWalletName() override { return m_wallet.GetName(); }\n+    void abortRescan() override { m_wallet->AbortRescan(); }\n+    bool backupWallet(const std::string& filename) override { return m_wallet->BackupWallet(filename); }\n+    std::string getWalletName() override { return m_wallet->GetName(); }\n     bool getKeyFromPool(bool internal, CPubKey& pub_key) override\n     {\n-        return m_wallet.GetKeyFromPool(pub_key, internal);\n+        return m_wallet->GetKeyFromPool(pub_key, internal);\n     }\n-    bool getPubKey(const CKeyID& address, CPubKey& pub_key) override { return m_wallet.GetPubKey(address, pub_key); }\n-    bool getPrivKey(const CKeyID& address, CKey& key) override { return m_wallet.GetKey(address, key); }\n-    bool isSpendable(const CTxDestination& dest) override { return IsMine(m_wallet, dest) & ISMINE_SPENDABLE; }\n-    bool haveWatchOnly() override { return m_wallet.HaveWatchOnly(); };\n+    bool getPubKey(const CKeyID& address, CPubKey& pub_key) override { return m_wallet->GetPubKey(address, pub_key); }\n+    bool getPrivKey(const CKeyID& address, CKey& key) override { return m_wallet->GetKey(address, key); }\n+    bool isSpendable(const CTxDestination& dest) override { return IsMine(*m_wallet.get(), dest) & ISMINE_SPENDABLE; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15458#discussion_r258988654",
      "id" : 258988654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODk4ODY1NA==",
      "original_commit_id" : "526c5670d6fd866dfa0fb17ff40356d6fd089262",
      "original_position" : 43,
      "path" : "src/interfaces/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 206381772,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15458",
      "updated_at" : "2019-02-21T16:19:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258988654",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15458#discussion_r258996398"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258996398"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oh I forgot about that operator, thanks.",
      "commit_id" : "53b310390cc72a034911a8d6236b472a22c62227",
      "created_at" : "2019-02-21T16:04:42Z",
      "diff_hunk" : "@@ -135,55 +135,55 @@ WalletTxOut MakeWalletTxOut(interfaces::Chain::Lock& locked_chain,\n class WalletImpl : public Wallet\n {\n public:\n-    explicit WalletImpl(const std::shared_ptr<CWallet>& wallet) : m_shared_wallet(wallet), m_wallet(*wallet.get()) {}\n+    explicit WalletImpl(const std::shared_ptr<CWallet>& wallet) : m_wallet(wallet) {}\n \n     bool encryptWallet(const SecureString& wallet_passphrase) override\n     {\n-        return m_wallet.EncryptWallet(wallet_passphrase);\n+        return m_wallet->EncryptWallet(wallet_passphrase);\n     }\n-    bool isCrypted() override { return m_wallet.IsCrypted(); }\n-    bool lock() override { return m_wallet.Lock(); }\n-    bool unlock(const SecureString& wallet_passphrase) override { return m_wallet.Unlock(wallet_passphrase); }\n-    bool isLocked() override { return m_wallet.IsLocked(); }\n+    bool isCrypted() override { return m_wallet->IsCrypted(); }\n+    bool lock() override { return m_wallet->Lock(); }\n+    bool unlock(const SecureString& wallet_passphrase) override { return m_wallet->Unlock(wallet_passphrase); }\n+    bool isLocked() override { return m_wallet->IsLocked(); }\n     bool changeWalletPassphrase(const SecureString& old_wallet_passphrase,\n         const SecureString& new_wallet_passphrase) override\n     {\n-        return m_wallet.ChangeWalletPassphrase(old_wallet_passphrase, new_wallet_passphrase);\n+        return m_wallet->ChangeWalletPassphrase(old_wallet_passphrase, new_wallet_passphrase);\n     }\n-    void abortRescan() override { m_wallet.AbortRescan(); }\n-    bool backupWallet(const std::string& filename) override { return m_wallet.BackupWallet(filename); }\n-    std::string getWalletName() override { return m_wallet.GetName(); }\n+    void abortRescan() override { m_wallet->AbortRescan(); }\n+    bool backupWallet(const std::string& filename) override { return m_wallet->BackupWallet(filename); }\n+    std::string getWalletName() override { return m_wallet->GetName(); }\n     bool getKeyFromPool(bool internal, CPubKey& pub_key) override\n     {\n-        return m_wallet.GetKeyFromPool(pub_key, internal);\n+        return m_wallet->GetKeyFromPool(pub_key, internal);\n     }\n-    bool getPubKey(const CKeyID& address, CPubKey& pub_key) override { return m_wallet.GetPubKey(address, pub_key); }\n-    bool getPrivKey(const CKeyID& address, CKey& key) override { return m_wallet.GetKey(address, key); }\n-    bool isSpendable(const CTxDestination& dest) override { return IsMine(m_wallet, dest) & ISMINE_SPENDABLE; }\n-    bool haveWatchOnly() override { return m_wallet.HaveWatchOnly(); };\n+    bool getPubKey(const CKeyID& address, CPubKey& pub_key) override { return m_wallet->GetPubKey(address, pub_key); }\n+    bool getPrivKey(const CKeyID& address, CKey& key) override { return m_wallet->GetKey(address, key); }\n+    bool isSpendable(const CTxDestination& dest) override { return IsMine(*m_wallet.get(), dest) & ISMINE_SPENDABLE; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15458#discussion_r258996398",
      "id" : 258996398,
      "in_reply_to_id" : 258988654,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODk5NjM5OA==",
      "original_commit_id" : "526c5670d6fd866dfa0fb17ff40356d6fd089262",
      "original_position" : 43,
      "path" : "src/interfaces/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 206391623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15458",
      "updated_at" : "2019-02-21T16:19:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258996398",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15288](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15288.html) (Remove wallet -> node global function calls by ryanofsky)\n* [#12096](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/12096.html) ([rpc] [wallet] Allow specifying the output index when using bumpfee by kallewoof)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-02-21T16:52:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15458#issuecomment-466076190",
      "id" : 466076190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15458",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjA3NjE5MA==",
      "updated_at" : "2019-02-21T16:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466076190",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 53b310390cc72a034911a8d6236b472a22c62227",
      "created_at" : "2019-02-21T18:49:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15458#issuecomment-466119289",
      "id" : 466119289,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15458",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjExOTI4OQ==",
      "updated_at" : "2019-02-21T18:49:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466119289",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 53b310390cc72a034911a8d6236b472a22c62227",
      "created_at" : "2019-02-22T06:42:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15458#issuecomment-466291408",
      "id" : 466291408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15458",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjI5MTQwOA==",
      "updated_at" : "2019-02-22T06:42:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466291408",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
