[
   {
      "author_association" : "MEMBER",
      "body" : "Also: #15822",
      "created_at" : "2019-09-30T13:21:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16992#issuecomment-536557592",
      "id" : 536557592,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16992",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjU1NzU5Mg==",
      "updated_at" : "2019-09-30T13:21:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536557592",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> ```\r\n> interfaces/chain.cpp:249:25: warning: redundant move in return statement [-Wredundant-move]\r\n>   249 |         return std::move(result);  \r\n>       |                ~~~~~~~~~^~~~~~~~                   \r\n> interfaces/chain.cpp:249:25: note: remove âstd::moveâ call\r\n> ```\r\n\r\nstd::move here was needed to support older versions of clang, I think including the version used for travis macos builds (https://stackoverflow.com/questions/36752678/clang-returning-stdunique-ptr-with-type-conversion)\r\n\r\nCould maybe use some macro magic to avoid both the clang error without std::move and the gcc warning with std::move if the clang bug is still a concern.",
      "created_at" : "2019-09-30T16:10:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16992#issuecomment-536634398",
      "id" : 536634398,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16992",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjYzNDM5OA==",
      "updated_at" : "2019-09-30T16:10:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536634398",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky Thanks for the info! Will try to figure out if this is still necessary, and if so, if we can find an alternative work-around that doesn't make gcc complain.\r\n\r\nEdit: it is still necessary. And not just for clang. Without the `std::move` it fails on trusty, xenial and MacOSX.",
      "created_at" : "2019-10-01T10:00:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16992#issuecomment-536964080",
      "id" : 536964080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16992",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjk2NDA4MA==",
      "updated_at" : "2019-10-01T11:24:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536964080",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Libreoffice stumbled on the same problem: https://cgit.freedesktop.org/libreoffice/core/commit/?id=dc06c8f4989fc28d0c31ebd333e53dfe0e0f5f66\r\n\r\nWhat they did was detect it in the build system:\r\n```autoconf\r\nHAVE_CXX_CWG1579_FIX=\r\nAC_MSG_CHECKING([whether $CXX has a fix for CWG1579])\r\nAC_LANG_PUSH([C++])\r\nsave_CXXFLAGS=$CXXFLAGS\r\nCXXFLAGS=\"$CXXFLAGS $CXXFLAGS_CXX11\"\r\nAC_COMPILE_IFELSE([AC_LANG_SOURCE([\r\n        #include <memory>\r\n        struct S1 {};\r\n        struct S2: S1 {};\r\n        std::unique_ptr<S1> f() {\r\n            std::unique_ptr<S2> s2(new S2);\r\n            return s2;\r\n        }\r\n    ])], [\r\n        AC_DEFINE([HAVE_CXX_CWG1579_FIX],[1])\r\n        AC_MSG_RESULT([yes])\r\n    ], [AC_MSG_RESULT([no])])\r\nCXXFLAGS=$save_CXXFLAGS\r\nAC_LANG_POP([C++])\r\nAC_SUBST([HAVE_CXX_CWG1579_FIX])```\r\n```\r\nThen use this to determine whether to use `std::move` for the upcast\r\n```c++\r\n#if HAVE_CXX_CWG1579_FIX\r\n            return pNew;\r\n#else\r\n            return std::move(pNew);\r\n#endif\r\n```\r\n\r\nâ¦ not sure if this is worth it for a warning, but FWIW",
      "created_at" : "2019-10-01T11:39:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16992#issuecomment-536996924",
      "id" : 536996924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16992",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjk5NjkyNA==",
      "updated_at" : "2019-10-01T11:39:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536996924",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1579",
      "created_at" : "2019-10-01T11:51:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16992#issuecomment-537000445",
      "id" : 537000445,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16992",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzAwMDQ0NQ==",
      "updated_at" : "2019-10-01T11:51:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537000445",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not worth fixing, it bounces from one C++ compiler issue to another (see discussion in #16995).",
      "created_at" : "2019-10-03T09:46:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16992#issuecomment-537872175",
      "id" : 537872175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16992",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzg3MjE3NQ==",
      "updated_at" : "2019-10-03T09:46:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537872175",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
