{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Building under GCC `13.0.1` with `-flto` (Fedora Rawhide) currently results in a number of `-Wmaybe-uninitialized` warnings. Some of these are things we might not want to \"fix\", i.e in test code. Some come from leveldb etc. Open this issue to document them, as some exist with current versions of GCC, and GCC 13.0 will be released soon:\r\n\r\n```bash\r\nIn member function 'operator=',\r\n    inlined from 'Seed.constprop' at test/util/setup_common.cpp:91:33:\r\nrandom.cpp:687:19: warning: 'D.19516.bitbuf' may be used uninitialized [-Wmaybe-uninitialized]\r\n  687 |     bitbuf = from.bitbuf;\r\n      |                   ^\r\ntest/util/setup_common.cpp: In function 'Seed.constprop':\r\ntest/util/setup_common.cpp:91:33: note: '<anonymous>' declared here\r\n   91 |     ctx = FastRandomContext(seed);\r\n      |                                 ^\r\nIn member function 'operator=',\r\n    inlined from 'Seed.constprop' at test/util/setup_common.cpp:91:33:\r\nrandom.cpp:687:19: warning: 'D.52901.bitbuf' may be used uninitialized [-Wmaybe-uninitialized]\r\n  687 |     bitbuf = from.bitbuf;\r\n      |                   ^\r\ntest/util/setup_common.cpp: In function 'Seed.constprop':\r\ntest/util/setup_common.cpp:91:33: note: '<anonymous>' declared here\r\n   91 |     ctx = FastRandomContext(seed);\r\n      |                                 ^\r\nIn member function 'operator=',\r\n    inlined from 'test_method' at test/orphanage_tests.cpp:57:56,\r\n    inlined from 'DoS_mapOrphans_invoker' at test/orphanage_tests.cpp:49:1:\r\nrandom.cpp:687:19: warning: 'D.24035.bitbuf' may be used uninitialized [-Wmaybe-uninitialized]\r\n  687 |     bitbuf = from.bitbuf;\r\n      |                   ^\r\ntest/orphanage_tests.cpp: In function 'DoS_mapOrphans_invoker':\r\ntest/orphanage_tests.cpp:57:56: note: '<anonymous>' declared here\r\n   57 |     g_insecure_rand_ctx = FastRandomContext{uint256{33}};\r\n      |                                                        ^\r\n```\r\n\r\n```bash\r\ntest/fuzz/float.cpp: In function 'float_fuzz_target':\r\ntest/fuzz/float.cpp:50:40: warning: 'tmp' may be used uninitialized [-Wmaybe-uninitialized]\r\n   50 |         uint64_t encoded = EncodeDouble(d);\r\n      |                                        ^\r\ntest/fuzz/float.cpp:22:20: note: 'tmp' was declared here\r\n   22 |             double tmp;\r\n      |                    ^\r\n```\r\n\r\n```bash\r\nleveldb/db/memtable.cc: In function 'GetLengthPrefixedSlice':\r\nleveldb/db/memtable.cc:18:10: warning: 'len' may be used uninitialized [-Wmaybe-uninitialized]\r\n   18 |   return Slice(p, len);\r\n      |          ^\r\nleveldb/db/memtable.cc:15:12: note: 'len' was declared here\r\n   15 |   uint32_t len;\r\n      |            ^\r\nIn function 'GetLengthPrefixedSlice',\r\n    inlined from 'operator()' at leveldb/db/memtable.cc:32:35,\r\n    inlined from 'KeyIsAfterNode' at ./leveldb/db/skiplist.h:257:37,\r\n    inlined from 'FindGreaterOrEqual' at ./leveldb/db/skiplist.h:268:23:\r\nleveldb/db/memtable.cc:18:10: warning: 'len' may be used uninitialized [-Wmaybe-uninitialized]\r\n   18 |   return Slice(p, len);\r\n      |          ^\r\nleveldb/db/memtable.cc: In member function 'FindGreaterOrEqual':\r\nleveldb/db/memtable.cc:15:12: note: 'len' was declared here\r\n   15 |   uint32_t len;\r\n      |            ^\r\nleveldb/db/memtable.cc: In member function 'Get':\r\nleveldb/db/memtable.cc:119:39: warning: 'key_length' may be used uninitialized [-Wmaybe-uninitialized]\r\n  119 |             Slice(key_ptr, key_length - 8), key.user_key()) == 0) {\r\n      |                                       ^\r\nleveldb/db/memtable.cc:116:14: note: 'key_length' was declared here\r\n  116 |     uint32_t key_length;\r\n      |              ^\r\nleveldb/db/memtable.cc: In function 'GetLengthPrefixedSlice':\r\nleveldb/db/memtable.cc:18:10: warning: 'len' may be used uninitialized [-Wmaybe-uninitialized]\r\n   18 |   return Slice(p, len);\r\n      |          ^\r\nleveldb/db/memtable.cc:15:12: note: 'len' was declared here\r\n   15 |   uint32_t len;\r\n      |            ^\r\nIn function 'GetLengthPrefixedSlice',\r\n    inlined from 'operator()' at leveldb/db/memtable.cc:32:35,\r\n    inlined from 'KeyIsAfterNode' at ./leveldb/db/skiplist.h:257:37,\r\n    inlined from 'FindGreaterOrEqual' at ./leveldb/db/skiplist.h:268:23:\r\nleveldb/db/memtable.cc:18:10: warning: 'len' may be used uninitialized [-Wmaybe-uninitialized]\r\n   18 |   return Slice(p, len);\r\n      |          ^\r\nleveldb/db/memtable.cc: In member function 'FindGreaterOrEqual':\r\nleveldb/db/memtable.cc:15:12: note: 'len' was declared here\r\n   15 |   uint32_t len;\r\n      |            ^\r\nleveldb/db/memtable.cc: In member function 'Get':\r\nleveldb/db/memtable.cc:119:39: warning: 'key_length' may be used uninitialized [-Wmaybe-uninitialized]\r\n  119 |             Slice(key_ptr, key_length - 8), key.user_key()) == 0) {\r\n      |                                       ^\r\nleveldb/db/memtable.cc:116:14: note: 'key_length' was declared here\r\n  116 |     uint32_t key_length;\r\n      |              ^\r\nIn member function 'operator=',\r\n    inlined from '__ct ' at test/prevector_tests.cpp:215:20,\r\n    inlined from 'test_method.isra' at test/prevector_tests.cpp:222:34:\r\nrandom.cpp:687:19: warning: 'D.48197.bitbuf' is used uninitialized [-Wuninitialized]\r\n  687 |     bitbuf = from.bitbuf;\r\n      |                   ^\r\ntest/prevector_tests.cpp: In function 'test_method.isra':\r\ntest/prevector_tests.cpp:215:22: note: '<anonymous>' declared here\r\n  215 |         rand_cache = FastRandomContext(rand_seed);\r\n      |                      ^\r\nleveldb/db/memtable.cc: In function 'GetLengthPrefixedSlice':\r\nleveldb/db/memtable.cc:18:10: warning: 'len' may be used uninitialized [-Wmaybe-uninitialized]\r\n   18 |   return Slice(p, len);\r\n      |          ^\r\nleveldb/db/memtable.cc:15:12: note: 'len' was declared here\r\n   15 |   uint32_t len;\r\n      |            ^\r\nIn function 'GetLengthPrefixedSlice',\r\n    inlined from 'operator()' at leveldb/db/memtable.cc:32:35,\r\n    inlined from 'KeyIsAfterNode' at ./leveldb/db/skiplist.h:257:37,\r\n    inlined from 'FindGreaterOrEqual' at ./leveldb/db/skiplist.h:268:23:\r\nleveldb/db/memtable.cc:18:10: warning: 'len' may be used uninitialized [-Wmaybe-uninitialized]\r\n   18 |   return Slice(p, len);\r\n      |          ^\r\nleveldb/db/memtable.cc: In member function 'FindGreaterOrEqual':\r\nleveldb/db/memtable.cc:15:12: note: 'len' was declared here\r\n   15 |   uint32_t len;\r\n      |            ^\r\nleveldb/db/memtable.cc: In member function 'Get':\r\nleveldb/db/memtable.cc:119:39: warning: 'key_length' may be used uninitialized [-Wmaybe-uninitialized]\r\n  119 |             Slice(key_ptr, key_length - 8), key.user_key()) == 0) {\r\n      |                                       ^\r\nleveldb/db/memtable.cc:116:14: note: 'key_length' was declared here\r\n  116 |     uint32_t key_length;\r\n      |              ^\r\n\r\nleveldb/db/memtable.cc: In function 'GetLengthPrefixedSlice':\r\nleveldb/db/memtable.cc:18:10: warning: 'len' may be used uninitialized [-Wmaybe-uninitialized]\r\n   18 |   return Slice(p, len);\r\n      |          ^\r\nleveldb/db/memtable.cc:15:12: note: 'len' was declared here\r\n   15 |   uint32_t len;\r\n      |            ^\r\nIn function 'GetLengthPrefixedSlice',\r\n    inlined from 'operator()' at leveldb/db/memtable.cc:32:35,\r\n    inlined from 'KeyIsAfterNode' at ./leveldb/db/skiplist.h:257:37,\r\n    inlined from 'FindGreaterOrEqual' at ./leveldb/db/skiplist.h:268:23:\r\nleveldb/db/memtable.cc:18:10: warning: 'len' may be used uninitialized [-Wmaybe-uninitialized]\r\n   18 |   return Slice(p, len);\r\n      |          ^\r\nleveldb/db/memtable.cc: In member function 'FindGreaterOrEqual':\r\nleveldb/db/memtable.cc:15:12: note: 'len' was declared here\r\n   15 |   uint32_t len;\r\n      |            ^\r\nleveldb/db/memtable.cc: In member function 'Get':\r\nleveldb/db/memtable.cc:119:39: warning: 'key_length' may be used uninitialized [-Wmaybe-uninitialized]\r\n  119 |             Slice(key_ptr, key_length - 8), key.user_key()) == 0) {\r\n      |                                       ^\r\nleveldb/db/memtable.cc:116:14: note: 'key_length' was declared here\r\n  116 |     uint32_t key_length;\r\n      |              ^\r\nIn function '__fill_a1',\r\n    inlined from '__fill_a1' at /usr/include/c++/13/bits/stl_algobase.h:960:21,\r\n    inlined from '__fill_a' at /usr/include/c++/13/bits/stl_algobase.h:977:21,\r\n    inlined from 'fill' at /usr/include/c++/13/bits/stl_algobase.h:1007:20,\r\n    inlined from 'PollutePubKey' at wallet/test/wallet_tests.cpp:484:14:\r\n/usr/include/c++/13/bits/stl_algobase.h:931:18: warning: '__builtin_memset' specified bound 18446744073709551615 exceeds maximum object size 9223372036854775807 [-Wstringop-overflow=]\r\n  931 |         *__first = __tmp;\r\n      |                  ^\r\n```",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27343/comments",
   "created_at" : "2023-03-27T13:43:17Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27343/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/27343",
   "id" : 1642095164,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27343/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "I_kwDOABII585h4GI8",
   "number" : 27343,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27343/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27343/timeline",
   "title" : "-Wmaybe-uninitialized warnings under LTO",
   "updated_at" : "2023-03-28T11:39:13Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27343",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
