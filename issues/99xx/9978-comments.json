[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hi,\r\n\r\nI stumbled upon this issue while filtering the history for \"least commented issues\". :)\r\n\r\nIf I correctly understand, the idea is to let users specify an arbitrary number of **privkeys** (but no less than 1) and also an **optional address** whose privkey could also become part of the future *add* operation. The other two options, _rescan_ and _label_, would then be forwarded to *importprivkey* together with the **assembled privkey**.\r\n\r\nI have played a bit with this idea, and if I had more knowledge about \"modulo the curve's order\" and what *addition* in those realms really looks like, the RPC would look like this:\r\n\r\n```cpp\r\nUniValue importprivkeyparts(const JSONRPCRequest& main_request)\r\n{\r\n    CKey assembled_privkey;\r\n    const UniValue& requests = main_request.params[3];\r\n    for (const UniValue& request: requests.getValues()) {\r\n        //Get each of the privkeys from their request objects.\r\n        //Then add them to the assembled privkey.\r\n       assemble_priv_key(request, &assembled_privkey);\r\n    }  \r\n    return importprivkey(assembled_privkey);\r\n}\r\n```\r\n\r\nIn *client.cpp* we would then expand this table:\r\n```cpp\r\nstatic const CRPCConvertParam vRPCConvertParams[]\r\n```\r\n\r\nwith these entries to get proper argument conversions:\r\n\r\n```cpp\r\n{ \"importprivkeyparts\", 2, \"rescan\" },\r\n{ \"importprivkeyparts\", 3, \"privkey_parts\" },\r\n```\r\n\r\nAnd in rpcwallet.cpp's:\r\n\r\n```cpp\r\nstatic const CRPCCommand commands[] = \r\n```\r\n\r\nwe would insert a new entry:\r\n\r\n```cpp\r\n { \"wallet\",  \"importprivkeyparts\",   &importprivkeyparts,  {\"address\", \"label\", \"rescan\", \"privkey_parts\"} },\r\n```\r\n\r\nHowever, all this is the *easy part*, actually, as I'm not sure what the best way is to execute the aforementioned **add** operation. There are many functions in *secp251k1* that deal with addition, multiplication and various other *magical* things, but I am not sure if this would make much sense. \r\n\r\nI have seen functions like `secp256k1_eckey_privkey_tweak_add`, but I am not sure if this is the correct way of generating privkeys based on a multitude of others.\r\n\r\nIf someone could give me a few hints..._where to search_...or maybe examples of _addition_ and what this \"modulo curve's order\" is, I'd like to work on this issue.",
      "created_at" : "2020-05-04T19:18:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9978#issuecomment-623654378",
      "id" : 623654378,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9978",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzY1NDM3OA==",
      "updated_at" : "2020-05-04T19:19:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623654378",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think combining of key parts should be done by the program that parted them, not by Bitcoin Core. Unless I am missing something this seems out of scope for the Bitcoin Core wallet.",
      "created_at" : "2020-05-04T22:50:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9978#issuecomment-623748895",
      "id" : 623748895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9978",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzc0ODg5NQ==",
      "updated_at" : "2020-05-04T22:50:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623748895",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think combining of key parts should be done by the program that parted them, not by Bitcoin Core. Unless I am missing something this seems out of scope for the Bitcoin Core wallet.\r\n\r\nOk. Then this issue seems to have deserved to be closed. :)",
      "created_at" : "2020-05-04T22:52:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9978#issuecomment-623749333",
      "id" : 623749333,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9978",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzc0OTMzMw==",
      "updated_at" : "2020-05-04T22:52:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623749333",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, closing for now.",
      "created_at" : "2020-05-05T17:42:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9978#issuecomment-624204602",
      "id" : 624204602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9978",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNDIwNDYwMg==",
      "updated_at" : "2020-05-05T17:42:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/624204602",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
