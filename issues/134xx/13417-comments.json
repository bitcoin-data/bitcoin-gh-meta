[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r193887444"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193887444"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`/**` is a doxygen trigger. Seems not needed for this and the below.",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-07T20:59:15Z",
      "diff_hunk" : "@@ -56,43 +56,38 @@ static constexpr int64_t STALE_CHECK_INTERVAL = 10 * 60; // 10 minutes\n static constexpr int64_t EXTRA_PEER_CHECK_INTERVAL = 45;\n /** Minimum time an outbound-peer-eviction candidate must be connected for, in order to evict, in seconds */\n static constexpr int64_t MINIMUM_CONNECT_TIME = 30;\n-\n-static const uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL; // SHA256(\"main address relay\")[0:8]\n-\n+/** SHA256(\"main address relay\")[0:8] */\n+static constexpr uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL;\n /// Age after which a stale block will no longer be served if requested as\n /// protection against fingerprinting. Set to one month, denominated in seconds.\n-static const int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n-\n+static constexpr int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n /// Age after which a block is considered historical for purposes of rate\n /// limiting block relay. Set to one week, denominated in seconds.\n-static const int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n+static constexpr int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n \n-std::atomic<int64_t> nTimeBestReceived(0); // Used only to inform the wallet of when we last received a block\n+static CCriticalSection cs_orphans;\n \n-struct IteratorComparator\n-{\n-    template<typename I>\n-    bool operator()(const I& a, const I& b) const\n-    {\n-        return &(*a) < &(*b);\n-    }\n-};\n+//=============================================================================\n+/** The below declarations are not translation unit static for unit test use */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r193887444",
      "id" : 193887444,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Mzg4NzQ0NA==",
      "original_commit_id" : "b6a37ffbf79bf739a09cf23ffa4eaa1dce01712a",
      "original_position" : 43,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 126954595,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193887444",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "4950ae2 could be a scripted-diff",
      "created_at" : "2018-06-07T21:00:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-395563408",
      "id" : 395563408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NTU2MzQwOA==",
      "updated_at" : "2018-06-07T21:00:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395563408",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r193892987"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193892987"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I know the developer notes don't clarify what \"global\" is, but unless you have a reason to remove the prefix, I'd suggest keeping it for now to make the diff smaller?",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-07T21:22:20Z",
      "diff_hunk" : "@@ -74,6 +73,9 @@ static const int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n \n // Internal stuff\n namespace {\n+    /** Enable BIP61 (sending reject messages) */\n+    bool enable_bip61 = DEFAULT_ENABLE_BIP61;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r193892987",
      "id" : 193892987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Mzg5Mjk4Nw==",
      "original_commit_id" : "f026cb265ca119d829e4ec82cf25a87f11f32823",
      "original_position" : 13,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 126961701,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193892987",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r193895546"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193895546"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This commit could also be broken into 1 minor move commit and one rename scripted-diff.",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-07T21:33:20Z",
      "diff_hunk" : "@@ -74,6 +73,9 @@ static const int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n \n // Internal stuff\n namespace {\n+    /** Enable BIP61 (sending reject messages) */\n+    bool enable_bip61 = DEFAULT_ENABLE_BIP61;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r193895546",
      "id" : 193895546,
      "in_reply_to_id" : 193892987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Mzg5NTU0Ng==",
      "original_commit_id" : "f026cb265ca119d829e4ec82cf25a87f11f32823",
      "original_position" : 13,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 126964991,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193895546",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-06-07T21:59:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-395578938",
      "id" : 395578938,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NTU3ODkzOA==",
      "updated_at" : "2018-06-07T21:59:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395578938",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13423 ([net] Thread safety annotations in net_processing by skeees)\n* #13407 ([refactor, move-only-ish] Refactor mempool accept/reject logic by skeees)\n* #13298 (Net: Random delays *per network group* to obfuscate transaction time by naumenkogs)\n* #13083 (Add compile time checking for cs_main runtime locking assertions by practicalswift)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-06-08T17:20:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-395828905",
      "id" : 395828905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NTgyODkwNQ==",
      "updated_at" : "2018-07-13T19:37:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395828905",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "per reviewer feedback I'll reshape these commits to use more scripted-diffs",
      "created_at" : "2018-06-08T18:04:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-395841648",
      "id" : 395841648,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NTg0MTY0OA==",
      "updated_at" : "2018-06-08T18:04:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395841648",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r194168781"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194168781"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's a bit strange to forward-declare these methods when the references aren't to be used prior to the actual definition. Maybe comment each method instead?",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-08T20:10:47Z",
      "diff_hunk" : "@@ -56,43 +56,38 @@ static constexpr int64_t STALE_CHECK_INTERVAL = 10 * 60; // 10 minutes\n static constexpr int64_t EXTRA_PEER_CHECK_INTERVAL = 45;\n /** Minimum time an outbound-peer-eviction candidate must be connected for, in order to evict, in seconds */\n static constexpr int64_t MINIMUM_CONNECT_TIME = 30;\n-\n-static const uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL; // SHA256(\"main address relay\")[0:8]\n-\n+/** SHA256(\"main address relay\")[0:8] */\n+static constexpr uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL;\n /// Age after which a stale block will no longer be served if requested as\n /// protection against fingerprinting. Set to one month, denominated in seconds.\n-static const int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n-\n+static constexpr int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n /// Age after which a block is considered historical for purposes of rate\n /// limiting block relay. Set to one week, denominated in seconds.\n-static const int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n+static constexpr int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n \n-std::atomic<int64_t> nTimeBestReceived(0); // Used only to inform the wallet of when we last received a block\n+static CCriticalSection cs_orphans;\n \n-struct IteratorComparator\n-{\n-    template<typename I>\n-    bool operator()(const I& a, const I& b) const\n-    {\n-        return &(*a) < &(*b);\n-    }\n-};\n+//============================================================================\n+/* The below declarations are not translation unit static for unit test use */\n+\n+bool AddOrphanTx(const CTransactionRef& tx, NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(cs_orphans);\n+void EraseOrphansFor(NodeId peer);\n+unsigned int LimitOrphanTxSize(unsigned int nMaxOrphans);\n+/** Increase a node's misbehavior score. */\n+void Misbehaving(NodeId nodeid, int howmuch, const std::string& message=\"\");\n+// This function is used for testing the stale tip eviction logic\n+void UpdateLastBlockAnnounceTime(NodeId node, int64_t time_in_seconds);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r194168781",
      "id" : 194168781,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDE2ODc4MQ==",
      "original_commit_id" : "c4d7d6c9c0d30a3b19e7944e9359d7dbb2596c59",
      "original_position" : 51,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 127299582,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194168781",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK c4d7d6c ",
      "created_at" : "2018-06-08T20:12:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-395876946",
      "id" : 395876946,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NTg3Njk0Ng==",
      "updated_at" : "2018-06-08T20:12:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395876946",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I realize that C++ doesn't really have a concept of 'global' for variables; it has storage duration (static, automatic, dynamic) and linkage (internal and external). So the guidelines are confusing here.\r\n\r\nI would prefer to keep the `g_` prefix for all objects with static storage duration, regardless of linkage. It just means \"there is just one of these for the entire program\", whether or not it can accessed everywhere.\r\n\r\n",
      "created_at" : "2018-06-10T01:28:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-396012310",
      "id" : 396012310,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjAxMjMxMA==",
      "updated_at" : "2018-06-10T01:28:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396012310",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What @sipa suggests is in line with @MarcoFalke suggestion (don't remember PR) and\r\n\r\n> I would prefer to keep the g_ prefix for all objects with static storage duration, regardless of linkage. It just means \"there is just one of these for the entire program\", whether or not it can accessed everywhere.\r\n\r\n:+1:",
      "created_at" : "2018-06-10T09:34:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-396034811",
      "id" : 396034811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjAzNDgxMQ==",
      "updated_at" : "2018-06-10T09:34:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396034811",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r194251283"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194251283"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Commit \"[net] Tighten scope in net_processing\"\r\n\r\nCould not include these changes.",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-10T09:36:49Z",
      "diff_hunk" : "@@ -867,7 +871,7 @@ static uint256 most_recent_block_hash;\n static bool fWitnessesPresentInMostRecentCompactBlock;\n \n /**\n- * Maintain state about the best-seen block and fast-announce a compact block \n+ * Maintain state about the best-seen block and fast-announce a compact block",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r194251283",
      "id" : 194251283,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDI1MTI4Mw==",
      "original_commit_id" : "aad9abfd51eca5823319a1c46f39abe5d4613847",
      "original_position" : 32,
      "path" : "src/net_processing.cpp",
      "position" : 126,
      "pull_request_review_id" : 127390952,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194251283",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Per reviewer feedback I've dropped the commits that did the s/g_// rename",
      "created_at" : "2018-06-10T12:48:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-396046549",
      "id" : 396046549,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjA0NjU0OQ==",
      "updated_at" : "2018-06-10T12:48:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396046549",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-06-12T16:51:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-396659137",
      "id" : 396659137,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjY1OTEzNw==",
      "updated_at" : "2018-06-12T16:51:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396659137",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r195496500"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195496500"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree that it seems a bit strange to forward-declare these functions here.",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-14T16:52:32Z",
      "diff_hunk" : "@@ -56,43 +56,38 @@ static constexpr int64_t STALE_CHECK_INTERVAL = 10 * 60; // 10 minutes\n static constexpr int64_t EXTRA_PEER_CHECK_INTERVAL = 45;\n /** Minimum time an outbound-peer-eviction candidate must be connected for, in order to evict, in seconds */\n static constexpr int64_t MINIMUM_CONNECT_TIME = 30;\n-\n-static const uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL; // SHA256(\"main address relay\")[0:8]\n-\n+/** SHA256(\"main address relay\")[0:8] */\n+static constexpr uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL;\n /// Age after which a stale block will no longer be served if requested as\n /// protection against fingerprinting. Set to one month, denominated in seconds.\n-static const int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n-\n+static constexpr int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n /// Age after which a block is considered historical for purposes of rate\n /// limiting block relay. Set to one week, denominated in seconds.\n-static const int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n+static constexpr int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n \n-std::atomic<int64_t> nTimeBestReceived(0); // Used only to inform the wallet of when we last received a block\n+static CCriticalSection cs_orphans;\n \n-struct IteratorComparator\n-{\n-    template<typename I>\n-    bool operator()(const I& a, const I& b) const\n-    {\n-        return &(*a) < &(*b);\n-    }\n-};\n+//============================================================================\n+/* The below declarations are not translation unit static for unit test use */\n+\n+bool AddOrphanTx(const CTransactionRef& tx, NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(cs_orphans);\n+void EraseOrphansFor(NodeId peer);\n+unsigned int LimitOrphanTxSize(unsigned int nMaxOrphans);\n+/** Increase a node's misbehavior score. */\n+void Misbehaving(NodeId nodeid, int howmuch, const std::string& message=\"\");\n+// This function is used for testing the stale tip eviction logic\n+void UpdateLastBlockAnnounceTime(NodeId node, int64_t time_in_seconds);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r195496500",
      "id" : 195496500,
      "in_reply_to_id" : 194168781,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ5NjUwMA==",
      "original_commit_id" : "c4d7d6c9c0d30a3b19e7944e9359d7dbb2596c59",
      "original_position" : 51,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 128878293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195496500",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This needs a trivial rebase.\r\n\r\nI've tested a rebased branch. Seems good.",
      "created_at" : "2018-06-14T16:53:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-397364726",
      "id" : 397364726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzM2NDcyNg==",
      "updated_at" : "2018-06-14T16:53:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397364726",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks. @jnewbery what commit did you rebase onto? I'll use the same to preserve the validity of your testing",
      "created_at" : "2018-06-14T17:00:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-397366570",
      "id" : 397366570,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzM2NjU3MA==",
      "updated_at" : "2018-06-14T17:00:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397366570",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@DrahtBot - rebased",
      "created_at" : "2018-06-19T17:30:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-398481000",
      "id" : 398481000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5ODQ4MTAwMA==",
      "updated_at" : "2018-06-19T17:30:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398481000",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r196606371"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196606371"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree here as well. Could either just not mention it at all or add a comment in-line to each function?",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-19T23:09:37Z",
      "diff_hunk" : "@@ -56,43 +56,38 @@ static constexpr int64_t STALE_CHECK_INTERVAL = 10 * 60; // 10 minutes\n static constexpr int64_t EXTRA_PEER_CHECK_INTERVAL = 45;\n /** Minimum time an outbound-peer-eviction candidate must be connected for, in order to evict, in seconds */\n static constexpr int64_t MINIMUM_CONNECT_TIME = 30;\n-\n-static const uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL; // SHA256(\"main address relay\")[0:8]\n-\n+/** SHA256(\"main address relay\")[0:8] */\n+static constexpr uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL;\n /// Age after which a stale block will no longer be served if requested as\n /// protection against fingerprinting. Set to one month, denominated in seconds.\n-static const int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n-\n+static constexpr int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n /// Age after which a block is considered historical for purposes of rate\n /// limiting block relay. Set to one week, denominated in seconds.\n-static const int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n+static constexpr int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n \n-std::atomic<int64_t> nTimeBestReceived(0); // Used only to inform the wallet of when we last received a block\n+static CCriticalSection cs_orphans;\n \n-struct IteratorComparator\n-{\n-    template<typename I>\n-    bool operator()(const I& a, const I& b) const\n-    {\n-        return &(*a) < &(*b);\n-    }\n-};\n+//============================================================================\n+/* The below declarations are not translation unit static for unit test use */\n+\n+bool AddOrphanTx(const CTransactionRef& tx, NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(cs_orphans);\n+void EraseOrphansFor(NodeId peer);\n+unsigned int LimitOrphanTxSize(unsigned int nMaxOrphans);\n+/** Increase a node's misbehavior score. */\n+void Misbehaving(NodeId nodeid, int howmuch, const std::string& message=\"\");\n+// This function is used for testing the stale tip eviction logic\n+void UpdateLastBlockAnnounceTime(NodeId node, int64_t time_in_seconds);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r196606371",
      "id" : 196606371,
      "in_reply_to_id" : 194168781,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjYwNjM3MQ==",
      "original_commit_id" : "c4d7d6c9c0d30a3b19e7944e9359d7dbb2596c59",
      "original_position" : 51,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 130192196,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196606371",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK 6f7239437b5a61c33178d3e53641b8d2e1487f79 beside previous review comments.\r\n\r\nTagged with refactoring since this shouldn't change behavior.",
      "created_at" : "2018-06-19T23:10:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-398574115",
      "id" : 398574115,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5ODU3NDExNQ==",
      "updated_at" : "2018-06-19T23:10:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398574115",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I personally disagree, but by popular demand the forward declarations are removed",
      "created_at" : "2018-06-20T19:20:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-398866221",
      "id" : 398866221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5ODg2NjIyMQ==",
      "updated_at" : "2018-06-20T19:20:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398866221",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r196912886"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196912886"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Now removed - only remaining forward declarations are the ones strictly necessary for compilation",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-20T19:21:31Z",
      "diff_hunk" : "@@ -56,43 +56,38 @@ static constexpr int64_t STALE_CHECK_INTERVAL = 10 * 60; // 10 minutes\n static constexpr int64_t EXTRA_PEER_CHECK_INTERVAL = 45;\n /** Minimum time an outbound-peer-eviction candidate must be connected for, in order to evict, in seconds */\n static constexpr int64_t MINIMUM_CONNECT_TIME = 30;\n-\n-static const uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL; // SHA256(\"main address relay\")[0:8]\n-\n+/** SHA256(\"main address relay\")[0:8] */\n+static constexpr uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL;\n /// Age after which a stale block will no longer be served if requested as\n /// protection against fingerprinting. Set to one month, denominated in seconds.\n-static const int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n-\n+static constexpr int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n /// Age after which a block is considered historical for purposes of rate\n /// limiting block relay. Set to one week, denominated in seconds.\n-static const int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n+static constexpr int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n \n-std::atomic<int64_t> nTimeBestReceived(0); // Used only to inform the wallet of when we last received a block\n+static CCriticalSection cs_orphans;\n \n-struct IteratorComparator\n-{\n-    template<typename I>\n-    bool operator()(const I& a, const I& b) const\n-    {\n-        return &(*a) < &(*b);\n-    }\n-};\n+//============================================================================\n+/* The below declarations are not translation unit static for unit test use */\n+\n+bool AddOrphanTx(const CTransactionRef& tx, NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(cs_orphans);\n+void EraseOrphansFor(NodeId peer);\n+unsigned int LimitOrphanTxSize(unsigned int nMaxOrphans);\n+/** Increase a node's misbehavior score. */\n+void Misbehaving(NodeId nodeid, int howmuch, const std::string& message=\"\");\n+// This function is used for testing the stale tip eviction logic\n+void UpdateLastBlockAnnounceTime(NodeId node, int64_t time_in_seconds);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r196912886",
      "id" : 196912886,
      "in_reply_to_id" : 194168781,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxMjg4Ng==",
      "original_commit_id" : "c4d7d6c9c0d30a3b19e7944e9359d7dbb2596c59",
      "original_position" : 51,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 130552823,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196912886",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK a7fb7259dd53c37b1922a44de23abbb3b23129c6",
      "created_at" : "2018-06-20T20:23:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-398884386",
      "id" : 398884386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5ODg4NDM4Ng==",
      "updated_at" : "2018-06-20T20:23:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398884386",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r196934496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196934496"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any reason to move this line (and the void functions below)? I'd prefer to preserve what git blame tells and keep the diff minimal.\r\n",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-20T20:38:42Z",
      "diff_hunk" : "@@ -36,44 +36,54 @@\n # error \"Bitcoin cannot be compiled without assertions.\"\n #endif\n \n-std::atomic<int64_t> nTimeBestReceived(0); // Used only to inform the wallet of when we last received a block\n-bool g_enable_bip61 = DEFAULT_ENABLE_BIP61;\n+/** Expiration time for orphan transactions in seconds */\n+static constexpr int64_t ORPHAN_TX_EXPIRE_TIME = 20 * 60;\n+/** Minimum time between orphan transactions expire time checks in seconds */\n+static constexpr int64_t ORPHAN_TX_EXPIRE_INTERVAL = 5 * 60;\n+/** Headers download timeout expressed in microseconds\n+ *  Timeout = base + per_header * (expected number of headers) */\n+static constexpr int64_t HEADERS_DOWNLOAD_TIMEOUT_BASE = 15 * 60 * 1000000; // 15 minutes\n+static constexpr int64_t HEADERS_DOWNLOAD_TIMEOUT_PER_HEADER = 1000; // 1ms/header\n+/** Protect at least this many outbound peers from disconnection due to slow/\n+ * behind headers chain.\n+ */\n+static constexpr int32_t MAX_OUTBOUND_PEERS_TO_PROTECT_FROM_DISCONNECT = 4;\n+/** Timeout for (unprotected) outbound peers to sync to our chainwork, in seconds */\n+static constexpr int64_t CHAIN_SYNC_TIMEOUT = 20 * 60; // 20 minutes\n+/** How frequently to check for stale tips, in seconds */\n+static constexpr int64_t STALE_CHECK_INTERVAL = 10 * 60; // 10 minutes\n+/** How frequently to check for extra outbound peers and disconnect, in seconds */\n+static constexpr int64_t EXTRA_PEER_CHECK_INTERVAL = 45;\n+/** Minimum time an outbound-peer-eviction candidate must be connected for, in order to evict, in seconds */\n+static constexpr int64_t MINIMUM_CONNECT_TIME = 30;\n+/** SHA256(\"main address relay\")[0:8] */\n+static constexpr uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL;\n+/// Age after which a stale block will no longer be served if requested as\n+/// protection against fingerprinting. Set to one month, denominated in seconds.\n+static constexpr int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n+/// Age after which a block is considered historical for purposes of rate\n+/// limiting block relay. Set to one week, denominated in seconds.\n+static constexpr int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n \n-struct IteratorComparator\n-{\n-    template<typename I>\n-    bool operator()(const I& a, const I& b) const\n-    {\n-        return &(*a) < &(*b);\n-    }\n-};\n+static CCriticalSection g_cs_orphans;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r196934496",
      "id" : 196934496,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkzNDQ5Ng==",
      "original_commit_id" : "a7fb7259dd53c37b1922a44de23abbb3b23129c6",
      "original_position" : 43,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 130579210,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196934496",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r196948763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196948763"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "artefact of the previous forward declarations - moved back to original locations now",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-20T21:28:54Z",
      "diff_hunk" : "@@ -36,44 +36,54 @@\n # error \"Bitcoin cannot be compiled without assertions.\"\n #endif\n \n-std::atomic<int64_t> nTimeBestReceived(0); // Used only to inform the wallet of when we last received a block\n-bool g_enable_bip61 = DEFAULT_ENABLE_BIP61;\n+/** Expiration time for orphan transactions in seconds */\n+static constexpr int64_t ORPHAN_TX_EXPIRE_TIME = 20 * 60;\n+/** Minimum time between orphan transactions expire time checks in seconds */\n+static constexpr int64_t ORPHAN_TX_EXPIRE_INTERVAL = 5 * 60;\n+/** Headers download timeout expressed in microseconds\n+ *  Timeout = base + per_header * (expected number of headers) */\n+static constexpr int64_t HEADERS_DOWNLOAD_TIMEOUT_BASE = 15 * 60 * 1000000; // 15 minutes\n+static constexpr int64_t HEADERS_DOWNLOAD_TIMEOUT_PER_HEADER = 1000; // 1ms/header\n+/** Protect at least this many outbound peers from disconnection due to slow/\n+ * behind headers chain.\n+ */\n+static constexpr int32_t MAX_OUTBOUND_PEERS_TO_PROTECT_FROM_DISCONNECT = 4;\n+/** Timeout for (unprotected) outbound peers to sync to our chainwork, in seconds */\n+static constexpr int64_t CHAIN_SYNC_TIMEOUT = 20 * 60; // 20 minutes\n+/** How frequently to check for stale tips, in seconds */\n+static constexpr int64_t STALE_CHECK_INTERVAL = 10 * 60; // 10 minutes\n+/** How frequently to check for extra outbound peers and disconnect, in seconds */\n+static constexpr int64_t EXTRA_PEER_CHECK_INTERVAL = 45;\n+/** Minimum time an outbound-peer-eviction candidate must be connected for, in order to evict, in seconds */\n+static constexpr int64_t MINIMUM_CONNECT_TIME = 30;\n+/** SHA256(\"main address relay\")[0:8] */\n+static constexpr uint64_t RANDOMIZER_ID_ADDRESS_RELAY = 0x3cac0035b5866b90ULL;\n+/// Age after which a stale block will no longer be served if requested as\n+/// protection against fingerprinting. Set to one month, denominated in seconds.\n+static constexpr int STALE_RELAY_AGE_LIMIT = 30 * 24 * 60 * 60;\n+/// Age after which a block is considered historical for purposes of rate\n+/// limiting block relay. Set to one week, denominated in seconds.\n+static constexpr int HISTORICAL_BLOCK_AGE = 7 * 24 * 60 * 60;\n \n-struct IteratorComparator\n-{\n-    template<typename I>\n-    bool operator()(const I& a, const I& b) const\n-    {\n-        return &(*a) < &(*b);\n-    }\n-};\n+static CCriticalSection g_cs_orphans;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r196948763",
      "id" : 196948763,
      "in_reply_to_id" : 196934496,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Njk0ODc2Mw==",
      "original_commit_id" : "a7fb7259dd53c37b1922a44de23abbb3b23129c6",
      "original_position" : 43,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 130596224,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196948763",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 6690a28606d6ada23355de7d9a9878f841b21e67\r\n\r\nConfirm that the difference from a7fb725 is simply a code move.",
      "created_at" : "2018-06-20T21:39:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-398906150",
      "id" : 398906150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5ODkwNjE1MA==",
      "updated_at" : "2018-06-20T21:39:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398906150",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 6690a28606d6ada23355de7d9a9878f841b21e67 (Used `--ignore-all-space --color-moved=dimmed_zebra` options to `git diff`)",
      "created_at" : "2018-06-21T18:59:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-399208792",
      "id" : 399208792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5OTIwODc5Mg==",
      "updated_at" : "2018-06-21T18:59:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399208792",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r197327190"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197327190"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It seems strange to initialize a global inside an object's constructor. There could be multiple `PeerLogicValidation` objects, and each will re-initialize the global.",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-22T02:36:31Z",
      "diff_hunk" : "@@ -811,6 +813,8 @@ static bool BlockRequestAllowed(const CBlockIndex* pindex, const Consensus::Para\n }\n \n PeerLogicValidation::PeerLogicValidation(CConnman* connmanIn, CScheduler &scheduler) : connman(connmanIn), m_stale_tip_check_time(0) {\n+    g_enable_bip61 = gArgs.GetBoolArg(\"-enablebip61\", DEFAULT_ENABLE_BIP61);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r197327190",
      "id" : 197327190,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzMyNzE5MA==",
      "original_commit_id" : "02bbc053100ef99ca0f433b0a8c70961336ae79e",
      "original_position" : 22,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 131051415,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197327190",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r197331193"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197331193"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is true, but:\r\n- this global is only ever read from either methods in `PeerLogic` or static functions called by peer logic methods\r\n- its value doesn't change post startup so if its  read more than once it will always have the same value, reinitializing it a couple times isn't really a performance issue either\r\n\r\nsome other options could be:\r\n- make it a member variable instead of a global (will have to pass it as an arg to the static functions which reference it)\r\n- just call GetBoolArg directly (this is done in a couple other situations)\r\n\r\neither of the above alternate options would inflate the diff quite a bit. doing it this way seemed the most compact\r\n\r\nand it seems like a worthwhile tradeoff to be able to eliminate the `extern` declaration. thoughts?",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-06-22T03:17:28Z",
      "diff_hunk" : "@@ -811,6 +813,8 @@ static bool BlockRequestAllowed(const CBlockIndex* pindex, const Consensus::Para\n }\n \n PeerLogicValidation::PeerLogicValidation(CConnman* connmanIn, CScheduler &scheduler) : connman(connmanIn), m_stale_tip_check_time(0) {\n+    g_enable_bip61 = gArgs.GetBoolArg(\"-enablebip61\", DEFAULT_ENABLE_BIP61);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r197331193",
      "id" : 197331193,
      "in_reply_to_id" : 197327190,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzMzMTE5Mw==",
      "original_commit_id" : "02bbc053100ef99ca0f433b0a8c70961336ae79e",
      "original_position" : 22,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 131055953,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197331193",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201091745"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201091745"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree this is strange, would also prefer initializing it somewhere outside the constructor OR making it an instance variable if possible.",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-07-09T17:51:46Z",
      "diff_hunk" : "@@ -811,6 +813,8 @@ static bool BlockRequestAllowed(const CBlockIndex* pindex, const Consensus::Para\n }\n \n PeerLogicValidation::PeerLogicValidation(CConnman* connmanIn, CScheduler &scheduler) : connman(connmanIn), m_stale_tip_check_time(0) {\n+    g_enable_bip61 = gArgs.GetBoolArg(\"-enablebip61\", DEFAULT_ENABLE_BIP61);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201091745",
      "id" : 201091745,
      "in_reply_to_id" : 197327190,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTA5MTc0NQ==",
      "original_commit_id" : "02bbc053100ef99ca0f433b0a8c70961336ae79e",
      "original_position" : 22,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 135525843,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201091745",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201101641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201101641"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "There's no good place that's local to the file but also out of the `PeerLogicValidation` constructor (i don't think i call `GetBoolArg` safely in a static initializer)\r\n\r\nI think that making it an instance variable is the right way to go - but its going to substantially increase the size of this diff because there are a bunch of functions invoked from PeerLogicValidation that are static to net_processing but not PeerLogicValidation methods so it will change the argument signature of all of those\r\n\r\nIf people don't mind the member var i will go ahead and do that but it will substantially increase review burden for IMO not much benefit",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-07-09T18:24:24Z",
      "diff_hunk" : "@@ -811,6 +813,8 @@ static bool BlockRequestAllowed(const CBlockIndex* pindex, const Consensus::Para\n }\n \n PeerLogicValidation::PeerLogicValidation(CConnman* connmanIn, CScheduler &scheduler) : connman(connmanIn), m_stale_tip_check_time(0) {\n+    g_enable_bip61 = gArgs.GetBoolArg(\"-enablebip61\", DEFAULT_ENABLE_BIP61);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201101641",
      "id" : 201101641,
      "in_reply_to_id" : 197327190,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTEwMTY0MQ==",
      "original_commit_id" : "02bbc053100ef99ca0f433b0a8c70961336ae79e",
      "original_position" : 22,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 135537713,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201101641",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201113237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201113237"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "(here's roughly what that diff would look like: https://github.com/skeees/bitcoin/tree/net_processing-disentangle-yugediff)",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-07-09T19:03:18Z",
      "diff_hunk" : "@@ -811,6 +813,8 @@ static bool BlockRequestAllowed(const CBlockIndex* pindex, const Consensus::Para\n }\n \n PeerLogicValidation::PeerLogicValidation(CConnman* connmanIn, CScheduler &scheduler) : connman(connmanIn), m_stale_tip_check_time(0) {\n+    g_enable_bip61 = gArgs.GetBoolArg(\"-enablebip61\", DEFAULT_ENABLE_BIP61);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201113237",
      "id" : 201113237,
      "in_reply_to_id" : 197327190,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTExMzIzNw==",
      "original_commit_id" : "02bbc053100ef99ca0f433b0a8c70961336ae79e",
      "original_position" : 22,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 135551487,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201113237",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201143100"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201143100"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@skeees not that big, LGTM. +1 to make it an instance variable.",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-07-09T20:52:05Z",
      "diff_hunk" : "@@ -811,6 +813,8 @@ static bool BlockRequestAllowed(const CBlockIndex* pindex, const Consensus::Para\n }\n \n PeerLogicValidation::PeerLogicValidation(CConnman* connmanIn, CScheduler &scheduler) : connman(connmanIn), m_stale_tip_check_time(0) {\n+    g_enable_bip61 = gArgs.GetBoolArg(\"-enablebip61\", DEFAULT_ENABLE_BIP61);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201143100",
      "id" : 201143100,
      "in_reply_to_id" : 197327190,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTE0MzEwMA==",
      "original_commit_id" : "02bbc053100ef99ca0f433b0a8c70961336ae79e",
      "original_position" : 22,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 135587785,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201143100",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201172667"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201172667"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm also into this. +1",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-07-09T22:55:47Z",
      "diff_hunk" : "@@ -811,6 +813,8 @@ static bool BlockRequestAllowed(const CBlockIndex* pindex, const Consensus::Para\n }\n \n PeerLogicValidation::PeerLogicValidation(CConnman* connmanIn, CScheduler &scheduler) : connman(connmanIn), m_stale_tip_check_time(0) {\n+    g_enable_bip61 = gArgs.GetBoolArg(\"-enablebip61\", DEFAULT_ENABLE_BIP61);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201172667",
      "id" : 201172667,
      "in_reply_to_id" : 197327190,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTE3MjY2Nw==",
      "original_commit_id" : "02bbc053100ef99ca0f433b0a8c70961336ae79e",
      "original_position" : 22,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 135622338,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201172667",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201194524"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201194524"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "if you don't mind the larger review then ok! three +1s, PR updated",
      "commit_id" : "3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-07-10T01:29:29Z",
      "diff_hunk" : "@@ -811,6 +813,8 @@ static bool BlockRequestAllowed(const CBlockIndex* pindex, const Consensus::Para\n }\n \n PeerLogicValidation::PeerLogicValidation(CConnman* connmanIn, CScheduler &scheduler) : connman(connmanIn), m_stale_tip_check_time(0) {\n+    g_enable_bip61 = gArgs.GetBoolArg(\"-enablebip61\", DEFAULT_ENABLE_BIP61);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#discussion_r201194524",
      "id" : 201194524,
      "in_reply_to_id" : 197327190,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTE5NDUyNA==",
      "original_commit_id" : "02bbc053100ef99ca0f433b0a8c70961336ae79e",
      "original_position" : 22,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 135647640,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13417",
      "updated_at" : "2018-07-10T01:29:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201194524",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
         "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skeees/followers",
         "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skeees",
         "id" : 195769,
         "login" : "skeees",
         "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
         "organizations_url" : "https://api.github.com/users/skeees/orgs",
         "received_events_url" : "https://api.github.com/users/skeees/received_events",
         "repos_url" : "https://api.github.com/users/skeees/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skeees"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "nit: some unrelated whitespace changes in 02bbc05\r\n\r\nutACK 3339ba2",
      "created_at" : "2018-07-10T04:36:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-403697605",
      "id" : 403697605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzY5NzYwNQ==",
      "updated_at" : "2018-07-10T04:36:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403697605",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 3339ba28e95aaaa355b7d33a69cffca7ab29b3fd",
      "created_at" : "2018-07-13T22:36:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13417#issuecomment-404970641",
      "id" : 404970641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13417",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDk3MDY0MQ==",
      "updated_at" : "2018-07-13T22:36:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404970641",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
