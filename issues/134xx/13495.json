{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "There are ARM devices out there with HDMI and full desktop linux support. I was able to compile and use QT on an Orange Pi Plus2E running Lubuntu 16.04. Compilation on the device itself takes several hours and QT spends a few minutes loading stuff, but otherwise the UI is pretty snappy.\r\n\r\nGitian builds currently don't include binaries for ARM. Cross compilation (for Gitian) was added in #8188, but QT was intentionally left out. Does anyone remember why?\r\n\r\nI've been trying to get this to work on Ubuntu Bionic, but no success so far.\r\n\r\nThe first step to enabling this (for 32 bit) is to add `qt_arm_linux_packages:=$(qt_x86_64_linux_packages)`  to `depends/packages.mk`. That prevents it from skipping QT. This however will result in an error:\r\n\r\n```\r\nmake HOST=arm-linux-gnueabihf\r\n\r\nConfiguring qt...\r\n\r\n[...]\r\n\r\n   The specified system/compiler is not supported:\r\n\r\n      [...]/bitcoin/depends/work/build/arm-linux-gnueabihf/qt/5.7.1-c292d7b0435/qtbase/mkspecs/arm-linux-gnueabihf\r\n\r\n   Please see the README file for a complete list.\r\n\r\nfuncs.mk:242: recipe for target '[...]/bitcoin/depends/work/build/arm-linux-gnueabihf/qt/5.7.1-c292d7b0435/qtbase/.stamp_con\r\n```\r\n\r\nI tried replacing `$(package)_config_opts_arm_linux  = $(host)` with ` = -platform linux-g++ -xplatform linux-arm-gnueabi-g++`, which seems to result in something being built. But configure isn't happy:\r\n\r\n```sh\r\n./configure --prefix=$PWD/depends/arm-linux-gnueabihf --enable-glibc-back-compat --enable-reduce-exports LDFLAGS=-static-libstdc++ --disable-tests --disable-bench --with-qrencode --with-gui=qt5\r\n[...]\r\nchecking for QT5... yes\r\nchecking for QT_TEST... yes\r\nchecking for QT_DBUS... yes\r\nchecking for static Qt... yes\r\nchecking for QTPLATFORM... yes\r\nchecking for X11XCB... yes\r\nchecking for QTXCBQPA... yes\r\nchecking for Qt < 5.4... no\r\nchecking for static Qt plugins: -lqminimal... no\r\nconfigure: error: Could not resolve: -lqminimal\r\n```\r\n\r\nI tried building the depends with #12971 with `QT_59=1`, but this fails with:\r\n\r\n```\r\nNote: Disabling X11 Accessibility Bridge: D-Bus or AT-SPI is missing.\r\n\r\nERROR: Feature 'system-zlib' was enabled, but the pre-condition 'libs.zlib' failed.\r\nfuncs.mk:242: recipe for target '[...]/bitcoin/depends/work/build/arm-linux-gnueabihf/qt/5.9.5-28b90c3bee9/qtbase/.stamp_configured' failed\r\nmake: *** [[...]/bitcoin/depends/work/build/arm-linux-gnueabihf/qt/5.9.5-28b90c3bee9/qtbase/.stamp_configured] Error 3\r\n```\r\n\r\nHopefully someone who actually understands the depends system and cross compilation has more luck...",
   "closed_at" : "2018-08-05T17:25:12Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 6,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13495/comments",
   "created_at" : "2018-06-18T13:34:27Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13495/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/13495",
   "id" : 333272136,
   "labels" : [
      {
         "color" : "02d7e1",
         "default" : false,
         "id" : 135946,
         "name" : "GUI",
         "node_id" : "MDU6TGFiZWwxMzU5NDY=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13495/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWUzMzMyNzIxMzY=",
   "number" : 13495,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "QT cross compile to ARM",
   "updated_at" : "2018-08-05T17:25:12Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13495",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
      "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Sjors/followers",
      "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Sjors",
      "id" : 10217,
      "login" : "Sjors",
      "node_id" : "MDQ6VXNlcjEwMjE3",
      "organizations_url" : "https://api.github.com/users/Sjors/orgs",
      "received_events_url" : "https://api.github.com/users/Sjors/received_events",
      "repos_url" : "https://api.github.com/users/Sjors/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Sjors"
   }
}
