[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I got this error as well, albeit on my own commit be758fe02. I was using a SegWit address as the custom change address. I also manually selected a segwit address for the input coins and the destination was a SegWit address.",
      "created_at" : "2017-11-04T13:04:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11233#issuecomment-341895515",
      "id" : 341895515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11233",
      "updated_at" : "2017-11-04T13:04:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/341895515",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "#12096 should provide a way to work around this. It gives you a way to manually specify which transaction output to decrease in order to increase the fee.\r\n\r\nFor fixing the root issue and determining the right change output, there are various possibilities. Sipa's proposed future design for wallet pubkey storage would start explicitly recording whether a key is intended to be used for change or payment (https://gist.github.com/sipa/125cfa1615946d0c3f3eec2ad7f250a2#future-design). Even without this, for hd split wallets (#9294), existing key metadata could provide this information.",
      "created_at" : "2018-01-09T16:08:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11233#issuecomment-356330003",
      "id" : 356330003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11233",
      "updated_at" : "2018-01-09T16:08:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356330003",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Since #15557, we will add additional inputs if needed, so this should be resolved now? It is also easier now to create change addresses that are actually detected as change.",
      "created_at" : "2022-10-26T19:37:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11233#issuecomment-1292552334",
      "id" : 1292552334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11233",
      "node_id" : "IC_kwDOABII585NCsiO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292552334/reactions"
      },
      "updated_at" : "2022-10-26T19:37:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292552334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@achow101: The scenario is: I make a transaction that spends a 100-ksat UTxO to make one 60-ksat output to Address A and one 39-ksat output to Address B, with the remaining 1 ksat offered as a mining fee. When I run `bumpfee` on this transaction, Bitcoin Core doesn't know which output to take additional funds from. You are saying it will add another input if necessary, but that's not what we want here. We want to reduce one of the two outputs so that more goes to mining fee. This is a very common scenario when one of the outputs is a genuine payment and the other is a self-transfer, e.g., to cold storage.",
      "created_at" : "2022-10-26T23:31:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11233#issuecomment-1292773502",
      "id" : 1292773502,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11233",
      "node_id" : "IC_kwDOABII585NDih-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292773502/reactions"
      },
      "updated_at" : "2022-10-26T23:31:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292773502",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/797782?v=4",
         "events_url" : "https://api.github.com/users/whitslack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/whitslack/followers",
         "following_url" : "https://api.github.com/users/whitslack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/whitslack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/whitslack",
         "id" : 797782,
         "login" : "whitslack",
         "node_id" : "MDQ6VXNlcjc5Nzc4Mg==",
         "organizations_url" : "https://api.github.com/users/whitslack/orgs",
         "received_events_url" : "https://api.github.com/users/whitslack/received_events",
         "repos_url" : "https://api.github.com/users/whitslack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/whitslack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/whitslack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/whitslack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't see the error mentioned by OP. However, unnecessary inputs are still added when using `bumpfee` with custom change address. Example:\r\n\r\nAlice tries to pay 0.0005 to Bob in Tx1 by selecting one input from wallet:\r\n\r\n![image](https://user-images.githubusercontent.com/94559964/198176249-3ee9035c-b537-4591-8340-ebc001d49731.png)\r\n\r\n`bumpfee` adds another input which was not required and extra output:\r\n\r\n![image](https://user-images.githubusercontent.com/94559964/198176325-21d7fe8f-ead6-4b7a-94c0-b4944e5cf8c3.png)\r\n\r\n\r\n[`2af9dc2d055a5561b330501fdcb13d164e46e6c6c4f2bd3d744c374cc8f2daee`](https://mempool.space/signet/tx/2af9dc2d055a5561b330501fdcb13d164e46e6c6c4f2bd3d744c374cc8f2daee)\r\n\r\n- Reason is associated with change addresses and explained in https://github.com/bitcoin/bitcoin/issues/20935\r\n- I used change address by creating one with `getrawchangeaddress` and adding label with `setlabel`\r\n\r\n---\r\n\r\nMaybe https://github.com/bitcoin/bitcoin/pull/25979 fixes it and I will try to review it this week\r\n",
      "created_at" : "2022-10-27T02:31:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11233#issuecomment-1292887488",
      "id" : 1292887488,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11233",
      "node_id" : "IC_kwDOABII585ND-XA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292887488/reactions"
      },
      "updated_at" : "2022-10-27T02:31:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292887488",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   }
]
