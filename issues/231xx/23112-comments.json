[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. More precise information in the logs for troubleshooting in case of errors is better.\r\n\r\nSomething to review for is if we match on specific result codes anywhere in the code and if so, whether they need to be changed.",
      "created_at" : "2021-09-28T13:10:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23112#issuecomment-929194759",
      "id" : 929194759,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23112",
      "node_id" : "IC_kwDOABII5843YmMH",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-28T13:10:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929194759",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 90be29c\r\n\r\nA search for `= SQLITE_` reveals that so far we don't check for specific error codes. Instead we usually check if the result is (un)equal to `SQLITE_OK`, `SQLITE_ROW`, `SQLITE_DONE`. We also use `sqlite3_errstr` in most places when the result code is not what we expected.\r\n\r\nOur minimum Sqlite version is 3.7.17 and this is enforced in `configure.ac`, so that's good.\r\n\r\ncc @achow101 ",
      "created_at" : "2021-09-29T08:47:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23112#issuecomment-929970800",
      "id" : 929970800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23112",
      "node_id" : "IC_kwDOABII5843bjpw",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-29T08:50:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929970800",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 90be29c5b52e68b5de8a3282cd83172fbf9acf1b",
      "created_at" : "2021-09-29T18:01:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23112#issuecomment-930415871",
      "id" : 930415871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23112",
      "node_id" : "IC_kwDOABII5843dQT_",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-29T18:01:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/930415871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 90be29c5b52e68b5de8a3282cd83172fbf9acf1b\r\n\r\n> A search for = SQLITE_ reveals that so far we don't check for specific error codes. Instead we usually check if the result is (un)equal to SQLITE_OK, SQLITE_ROW, SQLITE_DONE.\r\n\r\nHave also checked this, and checked the documentation referenced in the OP that these specific result codes are \"primary result codes\" that have no extended variants\\*\r\n\r\n\\* there are\r\n```\r\n#define SQLITE_OK_LOAD_PERMANENTLY     (SQLITE_OK | (1<<8))\r\n#define SQLITE_OK_SYMLINK              (SQLITE_OK | (2<<8))\r\n```\r\nbut these are used internally in plugin/vfs handling and, as I understand it, not something ever returned on the outside API",
      "created_at" : "2021-09-30T10:09:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23112#issuecomment-931183563",
      "id" : 931183563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23112",
      "node_id" : "IC_kwDOABII5843gLvL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931183563/reactions"
      },
      "updated_at" : "2021-09-30T10:09:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931183563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
