[
   {
      "author_association" : "MEMBER",
      "body" : "The relevant code seems to be here: https://github.com/bitcoin/bitcoin/blob/master/src/wallet/rpc/spend.cpp#L73-L76",
      "created_at" : "2022-01-27T21:21:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23144#issuecomment-1023649707",
      "id" : 1023649707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23144",
      "node_id" : "IC_kwDOABII5849A6er",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023649707/reactions"
      },
      "updated_at" : "2022-01-27T21:21:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023649707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Seems to me that \"insufficient funds\" is the correct error message here if you cannot construct a transaction that the mempool would accept. Similarly, you may get \"insufficient funds\" if your coins are premature or nonfinal. If a user is interested in a more detailed breakdown of their coins, including whether things are spendable / safe to spend, they might want to use something like `listunspent`.",
      "created_at" : "2022-03-08T12:01:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23144#issuecomment-1061704346",
      "id" : 1061704346,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23144",
      "node_id" : "IC_kwDOABII584_SFKa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1061704346/reactions"
      },
      "updated_at" : "2022-03-08T12:01:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1061704346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Seems to me that \"insufficient funds\" is the correct error message here if you cannot construct a transaction that the mempool would accept. Similarly, you may get \"insufficient funds\" if your coins are premature or nonfinal. If a user is interested in a more detailed breakdown of their coins, including whether things are spendable / safe to spend, they might want to use something like `listunspent`.\r\n\r\n@glozow Why do you think the `too-long-mempool-chain` error code exists if it shouldn't be used here?",
      "created_at" : "2022-03-09T12:45:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23144#issuecomment-1062885558",
      "id" : 1062885558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23144",
      "node_id" : "IC_kwDOABII584_Wli2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062885558/reactions"
      },
      "updated_at" : "2022-03-09T12:45:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062885558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/244188?v=4",
         "events_url" : "https://api.github.com/users/JeremyRand/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRand/followers",
         "following_url" : "https://api.github.com/users/JeremyRand/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRand/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRand",
         "id" : 244188,
         "login" : "JeremyRand",
         "node_id" : "MDQ6VXNlcjI0NDE4OA==",
         "organizations_url" : "https://api.github.com/users/JeremyRand/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRand/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRand/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRand/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRand/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRand"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "`too-long-mempool-chain` corresponds to the reason a transaction is rejected from mempool. It's helpful, for example, to debug a transaction you submitted through `sendrawtransaction` or `testmempoolaccept`. It's also logged for rejected p2p transactions.",
      "created_at" : "2022-03-09T13:39:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23144#issuecomment-1062931519",
      "id" : 1062931519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23144",
      "node_id" : "IC_kwDOABII584_Www_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062931519/reactions"
      },
      "updated_at" : "2022-03-09T13:39:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062931519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@glozow Okay, so given your description, I don't understand why that code wouldn't be intuitively applicable to `send` when the method fails because the transaction would be rejected from the mempool.  The status quo is confusing to nontechnical users (source: personal experience providing tech support to users who think their funds have been stolen after seeing the \"Insufficient funds\" error code).\r\n\r\nFWIW I agree with @achow101 in https://github.com/bitcoin/bitcoin/pull/24502#issuecomment-1061742337 : \r\n\r\n> I think \"insufficient funds\" is too generic of an error message for coin selection failures as there are a ton of different reasons why coin selection might fail. I would like to have more granular error messages\r\n",
      "created_at" : "2022-03-14T06:58:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23144#issuecomment-1066440763",
      "id" : 1066440763,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23144",
      "node_id" : "IC_kwDOABII584_kJg7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1066440763/reactions"
      },
      "updated_at" : "2022-03-14T06:58:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1066440763",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/244188?v=4",
         "events_url" : "https://api.github.com/users/JeremyRand/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRand/followers",
         "following_url" : "https://api.github.com/users/JeremyRand/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRand/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRand",
         "id" : 244188,
         "login" : "JeremyRand",
         "node_id" : "MDQ6VXNlcjI0NDE4OA==",
         "organizations_url" : "https://api.github.com/users/JeremyRand/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRand/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRand/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRand/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRand/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRand"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "We can have errors that contain more explanation than just a few words. For example, this error could be \"Insufficient funds: Too long mempool chain. Creating this transaction would require creating a chain of unconfirmed transaction that will currently be rejected by the mempool.\"",
      "created_at" : "2022-03-14T10:15:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23144#issuecomment-1066604028",
      "id" : 1066604028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23144",
      "node_id" : "IC_kwDOABII584_kxX8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1066604028/reactions"
      },
      "updated_at" : "2022-03-14T10:15:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1066604028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> We can have errors that contain more explanation than just a few words. For example, this error could be \"Insufficient funds: Too long mempool chain. Creating this transaction would require creating a chain of unconfirmed transaction that will currently be rejected by the mempool.\"\r\n\r\n@achow101 I have no objection to this suggestion.",
      "created_at" : "2022-03-14T10:55:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23144#issuecomment-1066640597",
      "id" : 1066640597,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23144",
      "node_id" : "IC_kwDOABII584_k6TV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1066640597/reactions"
      },
      "updated_at" : "2022-03-14T10:55:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1066640597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/244188?v=4",
         "events_url" : "https://api.github.com/users/JeremyRand/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRand/followers",
         "following_url" : "https://api.github.com/users/JeremyRand/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRand/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRand",
         "id" : 244188,
         "login" : "JeremyRand",
         "node_id" : "MDQ6VXNlcjI0NDE4OA==",
         "organizations_url" : "https://api.github.com/users/JeremyRand/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRand/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRand/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRand/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRand/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRand"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> \"Insufficient funds: Too long mempool chain. Creating this transaction would require creating a chain of unconfirmed transaction that will currently be rejected by the mempool.\"\r\n\r\nI might prefer something like \"insufficient funds: unconfirmed UTXOs are available, but spending them creates a chain of transactions that will be rejected by the mempool. These funds will become available when the transaction confirms\" or something.\r\n\r\nIn general, I'm not saying I'm against more specific error messages. I'm saying that, since the user was not responsible for creating the transaction in the first place, it seems unhelpful to tell them the transaction was too-long-mempool-chain, as they can't do anything differently to change this. The information that would be helpful to them is \"you have money, but it's in unconfirmed UTXOs and I can't create a valid transaction right now.\"",
      "created_at" : "2022-03-14T10:55:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23144#issuecomment-1066640787",
      "id" : 1066640787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23144",
      "node_id" : "IC_kwDOABII584_k6WT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1066640787/reactions"
      },
      "updated_at" : "2022-03-14T10:55:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1066640787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   }
]
