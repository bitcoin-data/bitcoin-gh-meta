[
   {
      "author_association" : "NONE",
      "body" : "As far as I understand, patches are needed for operating system kernels. Recompilation of our software won't help if attacker will use other compiler and kernel is not updated\r\n\r\nAdvise users to updates operating system ASAP.\r\n",
      "created_at" : "2018-01-04T22:49:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355421635",
      "id" : 355421635,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-04T22:49:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355421635",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I thought patches were possibly needed for userspace applications in addition to kernels.",
      "created_at" : "2018-01-05T00:05:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355435452",
      "id" : 355435452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T00:05:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355435452",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3298484?v=4",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "If I get it correctly no need to recompile of user space application is needed. Problem is in CPU so only kernel can mitigate this. Application recompilation can probably help for some application faults but I think we want to use this CPU Speculative execution as this is a good feature. \r\n\r\nI will think a bit more :)",
      "created_at" : "2018-01-05T00:32:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355440023",
      "id" : 355440023,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T00:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355440023",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "ok\n\nOn Jan 4, 2018 6:33 PM, \"bolekC\" <notifications@github.com> wrote:\n\n> If I get it correctly no need to recompile of user space application is\n> needed. Problem is in CPU so only kernel can mitigate this. Application\n> recompilation can probably help for some application faults but I think we\n> want to use this CPU Speculative execution as this is a good feature.\n>\n> I will think a bit more :)\n>\n> Ã¢ÂÂ\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355440023>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AhZfX5VPlF8_ZuGylwoxTXs127TQ6Uk8ks5tHW3egaJpZM4RTZ4Z>\n> .\n>\n",
      "created_at" : "2018-01-05T00:37:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355440874",
      "id" : 355440874,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T00:37:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355440874",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35020639?v=4",
         "events_url" : "https://api.github.com/users/whiteboy19787/events{/privacy}",
         "followers_url" : "https://api.github.com/users/whiteboy19787/followers",
         "following_url" : "https://api.github.com/users/whiteboy19787/following{/other_user}",
         "gists_url" : "https://api.github.com/users/whiteboy19787/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/whiteboy19787",
         "id" : 35020639,
         "login" : "whiteboy19787",
         "organizations_url" : "https://api.github.com/users/whiteboy19787/orgs",
         "received_events_url" : "https://api.github.com/users/whiteboy19787/received_events",
         "repos_url" : "https://api.github.com/users/whiteboy19787/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/whiteboy19787/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/whiteboy19787/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/whiteboy19787"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "From [here](https://support.google.com/faqs/answer/7625886):\r\n> While our initial focus has been the protection of operating system and hypervisor-type targets, there are classes of user application for which this coverage is valuable.",
      "created_at" : "2018-01-05T00:43:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355441828",
      "id" : 355441828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T00:43:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355441828",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3298484?v=4",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "While this might make sense for the wallet, it seems unlikely to be useful for the node itself, and the performance impact might be seriously harmful there. Time to finally split the wallet out?",
      "created_at" : "2018-01-05T01:49:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355451446",
      "id" : 355451446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T01:49:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355451446",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe someone could run a comparison benchmark with either the [gcc](http://git.infradead.org/users/dwmw2/gcc-retpoline.git/shortlog/refs/heads/gcc-7_2_0-retpoline-20171219) or [llvm](https://reviews.llvm.org/D41723) patches to see how big a performance hit enabling them would have. Probably would be best to enable the mitigations by default when building with the wallet at least.",
      "created_at" : "2018-01-05T02:33:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355457457",
      "id" : 355457457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T02:33:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355457457",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3298484?v=4",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "It is quite complicated issue and I don't have a 100% sure opinion after another day of reading things around. Performance testing is for sure a good option.\r\n\r\nMoving \"wallet\" part out to separate application does not help much as then attacker will then attack this new application. And of course there are other wallet applications :-)\r\n\r\n1. The sensitive data we should protect are the private keys. (any other?)\r\n2. The attack is done on memory only (no problem for keys stored on disk)\r\n3. As far as I understand reading memory with this bug is quite slow\r\n\r\nMaybe we should limit to just ~1ms the time when we store private keys in memory:\r\n- always read private keys from file before using them\r\n- immediately clear memory after using private keys (overwrite all places where private keys where stored)\r\n\r\nAnyway these modifications will be quite difficult I suppose.\r\n",
      "created_at" : "2018-01-05T21:57:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355676390",
      "id" : 355676390,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T21:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355676390",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Moving the wallet out means we can build *that* with the mitigations while leaving the node fully performant.",
      "created_at" : "2018-01-05T22:01:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355677227",
      "id" : 355677227,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T22:01:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355677227",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Yeah, but I don't understand how recompilation can help. Need to study more....\r\nThe main direction of attack with this bug is from user processes towards kernel protected memory addresses. This is not a problem for us. If someone gets into our process space (can be: shared library) it can read anything he wants without tricks.\r\nAnything I've missed??",
      "created_at" : "2018-01-05T22:20:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355681408",
      "id" : 355681408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T22:23:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355681408",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think you might be confusing Meltdown for Spectre?",
      "created_at" : "2018-01-05T23:04:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355689452",
      "id" : 355689452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T23:04:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355689452",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Could be a bit. I'm trying to understand the issue as much as possible.... It's not easy :-)\r\nWe don't know all possible variants of this attacks. New ones ,not described yet can exists .... more for sure they exist and someone will find them.\r\nAnyway I thing the best protection is not to keep private keys in memory if it is not needed.",
      "created_at" : "2018-01-05T23:42:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355695321",
      "id" : 355695321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T23:42:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355695321",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@bolekC From my understanding of Spectre, the attack is towards a specific process and its memory. The examples given in the paper are towards the kernel, but AFAIU, it is not limited to just the kernel. In fact the PoC given in the paper does not do anything with the kernel at all.\r\n\r\nThe basic premise is to give a process some untrusted input which it then does input validation before allowing execution to proceed. The attack makes use of speculative execution that is performed before the input is fully validated in order to leak data from that process's memory. So no, it is not an attack on the kernel and it does require user applications to have mitigation in place in order to avoid the application from having its secrets leaked.\r\n\r\nSpectre requires knowing specific memory locations of data in the application, having memory in the user application that the external application can access and measure timings for, and knowing exactly what the code is doing. The third part is trivially achievable with open source applications.",
      "created_at" : "2018-01-05T23:46:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355695803",
      "id" : 355695803,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-05T23:48:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355695803",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "There are LLVM improvements for spectre coming:\r\nhttp://lists.llvm.org/pipermail/llvm-commits/Week-of-Mon-20180101/513630.html\r\n\r\nLooks like 5.0.2 will be the version the mitigations arrive in.\r\n  ",
      "created_at" : "2018-01-06T01:30:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355712481",
      "id" : 355712481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-06T01:37:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355712481",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1087?v=4",
         "events_url" : "https://api.github.com/users/jwilkins/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jwilkins/followers",
         "following_url" : "https://api.github.com/users/jwilkins/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jwilkins/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jwilkins",
         "id" : 1087,
         "login" : "jwilkins",
         "organizations_url" : "https://api.github.com/users/jwilkins/orgs",
         "received_events_url" : "https://api.github.com/users/jwilkins/received_events",
         "repos_url" : "https://api.github.com/users/jwilkins/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jwilkins/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jwilkins/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jwilkins"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "As part of mitigating this we should avoid keeping private keys unenecrypted in memory for long periods of time. However `walletpassphrase` allows the keys to be unencrypted in memory for basically an arbitrary amount of time. Maybe we should have a hard upper bound on that to avoid having keys in memory for too long to mitigate against these vulnerabilities and other vulnerabilities which may allow someone to read a processes memory.\r\n  ",
      "created_at" : "2018-01-06T07:13:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355729026",
      "id" : 355729026,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-06T07:14:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355729026",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Reading this papers for another day and still no good answer. I suppose there are still not described/published ways of using these CPU vulnerabilities. \r\n\r\nI think we should go for not keeping private keys in memory. Always read private key from the storage. Any idea for quick fix?",
      "created_at" : "2018-01-06T23:15:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355785394",
      "id" : 355785394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-06T23:15:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355785394",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I wonder if it would be safest to perform the signing without decrypting the key at all (I think that's possible in theory, not so sure about practice).",
      "created_at" : "2018-01-06T23:21:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355785658",
      "id" : 355785658,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-06T23:21:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355785658",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Anyway if you keep data in memory that can be used to sign message (with or without decrypting the key) then attacker can do the same it he gets all these data. I think that the best protection would be not to keep priv keys in memory when not used.",
      "created_at" : "2018-01-07T21:22:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355853683",
      "id" : 355853683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-07T21:22:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355853683",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, there is no perfect one-size-fits-all solution. Only trade-offs either way.",
      "created_at" : "2018-01-07T23:45:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-355862783",
      "id" : 355862783,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-07T23:45:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355862783",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Compiler mitigations aren't useful for us:  The attack requires an indirect jump that runs inside the target address space which can be precisely stimulated by the attacker, _any_ indirect jump. If Bitcoin were compiled with special flags, that would still leave libraries-- the whole system would need to be compiled with it.  [I'm also skeptical that these mitigations will have acceptable performance too-- speculation across indirect jumps is a big part of why they perform well enough that they're acceptable]\r\n\r\nMoving signing into another process would likely have the effect of denying an attacker the ability to stimulate an indirect jump on demand, so it would be useful.\r\nThe slowness of spectre is probably irrelevant, a few thousand bits per second would read a 256 bit private key pretty darn quickly-- even if it has to read a half dozen addresses first to find it.\r\n\r\nCapping decryption time would be penny wise and pound foolish, then parties that want long decryption times would just not encrypt at all, creating insecurity for common cases in exchange for maybe being somewhat more secure in uncommon cases. Please no. Keep in mind that local exploit vectors are MUCH MUCH MUCH more common than remote ones; if an attacker can run enough local code to use spectre then you're probably already in trouble. \r\n\r\nKeeping the keys themselves out of memory might be a worthwhile mitigation without much cost. They can be kept out of memory even if the wallet is unlocked. \r\n\r\n",
      "created_at" : "2018-01-08T21:04:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-356095855",
      "id" : 356095855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-08T21:04:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356095855",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Luke, care to elaborate on signing without decryption? Are there any concepts going around with this?",
      "created_at" : "2018-01-19T00:35:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-358829127",
      "id" : 358829127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-19T00:35:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358829127",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16888089?v=4",
         "events_url" : "https://api.github.com/users/kshank09/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kshank09/followers",
         "following_url" : "https://api.github.com/users/kshank09/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kshank09/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kshank09",
         "id" : 16888089,
         "login" : "kshank09",
         "organizations_url" : "https://api.github.com/users/kshank09/orgs",
         "received_events_url" : "https://api.github.com/users/kshank09/received_events",
         "repos_url" : "https://api.github.com/users/kshank09/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kshank09/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kshank09/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kshank09"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> If Bitcoin were compiled with special flags, that would still leave libraries-- the whole system would need to be compiled with it.\r\n\r\nI figured distributions would likely recompile libraries with mitigations at some point. What libraries do we use and not statically link that would be problematic?\r\n\r\n> Keep in mind that local exploit vectors are MUCH MUCH MUCH more common than remote ones; if an attacker can run enough local code to use spectre then you're probably already in trouble.\r\n\r\nI would expect this is largely an increased risk for systems with browsers since that's the most widespread way that users run untrusted code on their systems.\r\n\r\nIs it possible to localize mitigations such as retpoline to code that specifically handles key material/signing(ie generate retpoline instructions only for wallet/signing codepaths) to avoid the performance impact for normal validation codepaths or would retpoline mitigations need to be applied to the full binary to be effective?",
      "created_at" : "2018-01-21T21:01:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-359280548",
      "id" : 359280548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-01-21T21:01:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359280548",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3298484?v=4",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Solving this seems to be in the domain of operating system and CPU vendors. I'm a bit skeptical as to what user-space applications can do here. Are there other open source projects (apart from browsers, which run untrusted code in sandboxes) that people know of, that have special mitigations here, for example around key handing?",
      "created_at" : "2018-02-11T14:20:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-364755055",
      "id" : 364755055,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-02-11T14:20:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364755055",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Solving this seems to be in the domain of operating system and CPU vendors.\r\n\r\nEverything I've read so far indicates that full protection will require changes to userspace applications.\r\n\r\n> I'm a bit skeptical as to what user-space applications can do here.\r\n\r\nThey can be recompiled with mitigations like retpoline in place(to protect against spectre variant 2 attack), from what I've read alternative mitigations via microcode would have significantly higher performance impact for the variant 2 attack.\r\n\r\n> Are there other open source projects (apart from browsers, which run untrusted code in sandboxes) that people know of, that have special mitigations here, for example around key handing?\r\n\r\nLooks like openssh has [begun including](https://github.com/openssh/openssh-portable/commit/3377df00ea3fece5293db85fe63baef33bf5152e) mitigations when supported by the compiler.",
      "created_at" : "2018-02-11T15:10:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-364758460",
      "id" : 364758460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "updated_at" : "2018-02-11T15:10:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364758460",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3298484?v=4",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm going to close this for now, as I don't think there is any concrete action for the project to take at this stage.",
      "created_at" : "2022-08-10T11:23:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12091#issuecomment-1210538266",
      "id" : 1210538266,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12091",
      "node_id" : "IC_kwDOABII585IJ1ka",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210538266/reactions"
      },
      "updated_at" : "2022-08-10T11:23:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210538266",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
