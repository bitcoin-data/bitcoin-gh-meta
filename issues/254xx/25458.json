{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Even though it's (re)built infrequently, the LIEF build currently runs with a single job, and thus takes much longer to build than it should. This change modifies our packge so that the cmake invocation is done with multiple jobs, using [`parallel-job-count`](https://git.savannah.gnu.org/cgit/guix.git/tree/build-aux/compile-all.scm#n49). On a 6 core arm64 machine, this results in a ~80% speed up, and reduces the time taken to build the LIEF packge from ~19m to ~4m.\r\n\r\nGuix Build (x86_64):\r\n```bash\r\nba12c164915ec3f5bd916c99f75e074b935028acc7b65914d109b19caf8f86e7  guix-build-8d25926643cb/output/aarch64-linux-gnu/SHA256SUMS.part\r\n09d062446d8e8edd1c312da83d8fb1a4998880b028afe0bef40336bc0971358f  guix-build-8d25926643cb/output/aarch64-linux-gnu/bitcoin-8d25926643cb-aarch64-linux-gnu-debug.tar.gz\r\n74f1dad26cca571ee4eafba70537067be610059f770408460ae0216fd2fa4f7f  guix-build-8d25926643cb/output/aarch64-linux-gnu/bitcoin-8d25926643cb-aarch64-linux-gnu.tar.gz\r\n900e37dd5216f06b6e32af065336a6d1aff2fead13b3394fa521401eefa5b388  guix-build-8d25926643cb/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n4c8361225f9408cd44e08421ba39a13758bbba2159a4c3f1a5562e83175904af  guix-build-8d25926643cb/output/arm-linux-gnueabihf/bitcoin-8d25926643cb-arm-linux-gnueabihf-debug.tar.gz\r\n4780381b4e51ed99f6967975291703584e71dd2a22ea6bc77716d597f09bdbdd  guix-build-8d25926643cb/output/arm-linux-gnueabihf/bitcoin-8d25926643cb-arm-linux-gnueabihf.tar.gz\r\n46e178b38ca9a47ebcd4dd3d037f08c49bf79faf09c032e3a0ec99974bc47bcd  guix-build-8d25926643cb/output/arm64-apple-darwin/SHA256SUMS.part\r\ne44a9fa027b912a13ceb12708eaf864f5fed896887de8ec157c9c3bba24f9d64  guix-build-8d25926643cb/output/arm64-apple-darwin/bitcoin-8d25926643cb-arm64-apple-darwin-unsigned.dmg\r\n82bd6c2995f1c707b0204c618f7f16a90a80b5378a856cb287bad4cdf2191467  guix-build-8d25926643cb/output/arm64-apple-darwin/bitcoin-8d25926643cb-arm64-apple-darwin-unsigned.tar.gz\r\n9b28de51d7adea26ffae22f9a4db517643297aeab24467efe4916088fda496d0  guix-build-8d25926643cb/output/arm64-apple-darwin/bitcoin-8d25926643cb-arm64-apple-darwin.tar.gz\r\n71d86ffaf1b54b1dfb0ee6a978c2d3c800742d82a7845967becdd88b1ba4cbf4  guix-build-8d25926643cb/output/dist-archive/bitcoin-8d25926643cb.tar.gz\r\n9c19a5dd32586fa1a3e82a1d7882ac248dc4bd7fe525c0282b245f04d9618e4b  guix-build-8d25926643cb/output/powerpc64-linux-gnu/SHA256SUMS.part\r\na091e4dce267164a757067c279d7df609b112867944a3689fbd9b6fefa9dcd40  guix-build-8d25926643cb/output/powerpc64-linux-gnu/bitcoin-8d25926643cb-powerpc64-linux-gnu-debug.tar.gz\r\n195c8d6596acfe78f1f250b4ec8598c9b8c1e3420b96b8dd16529f194f4f5602  guix-build-8d25926643cb/output/powerpc64-linux-gnu/bitcoin-8d25926643cb-powerpc64-linux-gnu.tar.gz\r\n78fe3b028498818532ce2120d7262ddddd2533ee58d3d04fc7908d2a3384eac9  guix-build-8d25926643cb/output/powerpc64le-linux-gnu/SHA256SUMS.part\r\n52fba781d6637751500febb1470dd653933da2cf8f7ae052416438a80a925d7a  guix-build-8d25926643cb/output/powerpc64le-linux-gnu/bitcoin-8d25926643cb-powerpc64le-linux-gnu-debug.tar.gz\r\n4cb12dce174a58ccb46381efcfc27f9d49ea275cfbda68f334a73c2fa92fe18e  guix-build-8d25926643cb/output/powerpc64le-linux-gnu/bitcoin-8d25926643cb-powerpc64le-linux-gnu.tar.gz\r\nc8f5eb94bbf9577f59ae2a679e6807ba65380356656cc335d1e13390e17878bc  guix-build-8d25926643cb/output/riscv64-linux-gnu/SHA256SUMS.part\r\n97e28f9033341f08ab16a4116d593fb4b63da8838da62af49f64f9d6f26b8276  guix-build-8d25926643cb/output/riscv64-linux-gnu/bitcoin-8d25926643cb-riscv64-linux-gnu-debug.tar.gz\r\n1fb6c289347fbc6c13a7eb189b2a1bdf84c94b16f38dd786bdcc2a8ee0b6d136  guix-build-8d25926643cb/output/riscv64-linux-gnu/bitcoin-8d25926643cb-riscv64-linux-gnu.tar.gz\r\n1080f0e8e6ee9aff33b47fe90f3f55df368cd3b464bc60eebc1e0092a37bc957  guix-build-8d25926643cb/output/x86_64-apple-darwin/SHA256SUMS.part\r\n7cd7d4b68e2ec47bcec035b77c956a832453ac1589c7f552285623f5ea84a354  guix-build-8d25926643cb/output/x86_64-apple-darwin/bitcoin-8d25926643cb-x86_64-apple-darwin-unsigned.dmg\r\n9283cfe406694d7f1edc78acaddd817aebb7f2c7397b21687e4410ab71078773  guix-build-8d25926643cb/output/x86_64-apple-darwin/bitcoin-8d25926643cb-x86_64-apple-darwin-unsigned.tar.gz\r\ne96b0ad265db5f990c087bc857272c7d6ede32cd89dc8fd201c4fd25b9bdf072  guix-build-8d25926643cb/output/x86_64-apple-darwin/bitcoin-8d25926643cb-x86_64-apple-darwin.tar.gz\r\na3ff233ea536e9e6c19eecca54a7703dad901b4aab9b9606a2203af844be7f57  guix-build-8d25926643cb/output/x86_64-linux-gnu/SHA256SUMS.part\r\nb48d92a330f20cc9cfb8d9574c2e0190e5ee497120f7dbd0bb00e5001605ef3a  guix-build-8d25926643cb/output/x86_64-linux-gnu/bitcoin-8d25926643cb-x86_64-linux-gnu-debug.tar.gz\r\nd06d54c2bdd66e7031e1ed2da411343c665763e43312eee87a7f575db799a450  guix-build-8d25926643cb/output/x86_64-linux-gnu/bitcoin-8d25926643cb-x86_64-linux-gnu.tar.gz\r\n7164b2b3caa3ca56dc10098474325f92c328355fee7f1464069b99b72853bab1  guix-build-8d25926643cb/output/x86_64-w64-mingw32/SHA256SUMS.part\r\nf01a344bd8715479955911a465097bb196daffa04c8c334cab41e22529ad2f5c  guix-build-8d25926643cb/output/x86_64-w64-mingw32/bitcoin-8d25926643cb-win64-debug.zip\r\n5ae8999fdc66ef75ce87e1824b3fcbbb2278104f3e2a7b50a90d10e92c974673  guix-build-8d25926643cb/output/x86_64-w64-mingw32/bitcoin-8d25926643cb-win64-setup-unsigned.exe\r\n6beb94dbf0c843d80480901880074e7d1bdf9b9dce2153ac8980c27b484d1fe5  guix-build-8d25926643cb/output/x86_64-w64-mingw32/bitcoin-8d25926643cb-win64-unsigned.tar.gz\r\nde36858355e4053cd2870782072a073d1d2e39627b4ff7c3d48699f419966d20  guix-build-8d25926643cb/output/x86_64-w64-mingw32/bitcoin-8d25926643cb-win64.zip\r\n```\r\n\r\nGuix Build (arm64):\r\n```bash\r\n51703356187e978d0b6a2cafd7533554b9860f1bf934547ea2fa6e673d8c2009  guix-build-8d25926643cb/output/arm-linux-gnueabihf/SHA256SUMS.part\r\ne66aad4e90f7c88e839fe9c8c322b204d9c480812e5890d6b385aeb67893e3a0  guix-build-8d25926643cb/output/arm-linux-gnueabihf/bitcoin-8d25926643cb-arm-linux-gnueabihf-debug.tar.gz\r\n382c99aa79a92d9e6854490ee184ac8e7bf1ac1b9ddcab98421d959ba4c4797c  guix-build-8d25926643cb/output/arm-linux-gnueabihf/bitcoin-8d25926643cb-arm-linux-gnueabihf.tar.gz\r\n82f81c109a11a16cf56a5d4029cf7636c34a351f39902ec99d9b2da40e5b3073  guix-build-8d25926643cb/output/arm64-apple-darwin/SHA256SUMS.part\r\ne62438b4cb68a5123f2e91c8711b5cd24e1567693b142174321a79c5c9c3e040  guix-build-8d25926643cb/output/arm64-apple-darwin/bitcoin-8d25926643cb-arm64-apple-darwin-unsigned.dmg\r\n3bd0bc61c2f1d8b30db8dc0fb25a6f73d95416115ccd101922e962852d2f2fd4  guix-build-8d25926643cb/output/arm64-apple-darwin/bitcoin-8d25926643cb-arm64-apple-darwin-unsigned.tar.gz\r\n3b987efd79203b0257b1590926106b890d08a0e3d3b0c9ea6e3194c3f4d9cab5  guix-build-8d25926643cb/output/arm64-apple-darwin/bitcoin-8d25926643cb-arm64-apple-darwin.tar.gz\r\n71d86ffaf1b54b1dfb0ee6a978c2d3c800742d82a7845967becdd88b1ba4cbf4  guix-build-8d25926643cb/output/dist-archive/bitcoin-8d25926643cb.tar.gz\r\nbcfbdf2389275b7982a0f0f02ce6a0032b6c4688a56dee882f0b4da5985bffa5  guix-build-8d25926643cb/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n61ec34aa20de6281c4749961e09cbdd133e46397bee882fd2c211554b311bc9b  guix-build-8d25926643cb/output/powerpc64-linux-gnu/bitcoin-8d25926643cb-powerpc64-linux-gnu-debug.tar.gz\r\n8b96152ec8dfde4f2b2046f2c54bd13ea066170a4eaa6b63054fe6e9eabf0427  guix-build-8d25926643cb/output/powerpc64-linux-gnu/bitcoin-8d25926643cb-powerpc64-linux-gnu.tar.gz\r\n78ae0da590b2c174e3875aceccbd8b3195578408770f4c1c29c2d135aa19d638  guix-build-8d25926643cb/output/powerpc64le-linux-gnu/SHA256SUMS.part\r\ne755b3cf2a3c2a1671d3d312ab8b45abc0e544e978b01c7645939bb2d5d16a63  guix-build-8d25926643cb/output/powerpc64le-linux-gnu/bitcoin-8d25926643cb-powerpc64le-linux-gnu-debug.tar.gz\r\n4bdafdc83c7a81cfa152036a5366c09862559002257e1727ff7f930e7f6e6c91  guix-build-8d25926643cb/output/powerpc64le-linux-gnu/bitcoin-8d25926643cb-powerpc64le-linux-gnu.tar.gz\r\n64bfcba320ebcc81bdaecf932807a6f487b32a52b7ddccb6c794c4f2e0c3e1c3  guix-build-8d25926643cb/output/riscv64-linux-gnu/SHA256SUMS.part\r\nc0eebeb9e1fb441db397c33b833138facdde0e984c5a3d48b3957487867c98c7  guix-build-8d25926643cb/output/riscv64-linux-gnu/bitcoin-8d25926643cb-riscv64-linux-gnu-debug.tar.gz\r\n97b2b432cf7c628c9960768057f9c46754c01860c3e77a8baca29465f18ad120  guix-build-8d25926643cb/output/riscv64-linux-gnu/bitcoin-8d25926643cb-riscv64-linux-gnu.tar.gz\r\n1080f0e8e6ee9aff33b47fe90f3f55df368cd3b464bc60eebc1e0092a37bc957  guix-build-8d25926643cb/output/x86_64-apple-darwin/SHA256SUMS.part\r\n7cd7d4b68e2ec47bcec035b77c956a832453ac1589c7f552285623f5ea84a354  guix-build-8d25926643cb/output/x86_64-apple-darwin/bitcoin-8d25926643cb-x86_64-apple-darwin-unsigned.dmg\r\n9283cfe406694d7f1edc78acaddd817aebb7f2c7397b21687e4410ab71078773  guix-build-8d25926643cb/output/x86_64-apple-darwin/bitcoin-8d25926643cb-x86_64-apple-darwin-unsigned.tar.gz\r\ne96b0ad265db5f990c087bc857272c7d6ede32cd89dc8fd201c4fd25b9bdf072  guix-build-8d25926643cb/output/x86_64-apple-darwin/bitcoin-8d25926643cb-x86_64-apple-darwin.tar.gz\r\n74ee4531452feffa90874cfd8c96d3b941627bd5cbb4a6977d393a2b08a13e47  guix-build-8d25926643cb/output/x86_64-linux-gnu/SHA256SUMS.part\r\n15815a3269a2a71047afe635765f79d9b31ba08b62cad09bad17ca865f522afb  guix-build-8d25926643cb/output/x86_64-linux-gnu/bitcoin-8d25926643cb-x86_64-linux-gnu-debug.tar.gz\r\n6146bf0ffba945d4a21e36fa0857c5bedc091e953a79ad5782008d759b579c94  guix-build-8d25926643cb/output/x86_64-linux-gnu/bitcoin-8d25926643cb-x86_64-linux-gnu.tar.gz\r\n4c0fbf62b7b76ec14b41eb10cd2f0ae4ef27028044e029a02abad3aa290a6123  guix-build-8d25926643cb/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n241955fd1c457ba4206814bfdd7652cd4975d68ec905ec9d80a45d3ddd69e0bf  guix-build-8d25926643cb/output/x86_64-w64-mingw32/bitcoin-8d25926643cb-win64-debug.zip\r\n5ae8999fdc66ef75ce87e1824b3fcbbb2278104f3e2a7b50a90d10e92c974673  guix-build-8d25926643cb/output/x86_64-w64-mingw32/bitcoin-8d25926643cb-win64-setup-unsigned.exe\r\n6beb94dbf0c843d80480901880074e7d1bdf9b9dce2153ac8980c27b484d1fe5  guix-build-8d25926643cb/output/x86_64-w64-mingw32/bitcoin-8d25926643cb-win64-unsigned.tar.gz\r\n0eeacc664ad0fb89f177fa6271f8aa573e177804121a7ef2391f06cd56cdc74a  guix-build-8d25926643cb/output/x86_64-w64-mingw32/bitcoin-8d25926643cb-win64.zip\r\n```",
   "closed_at" : "2022-06-25T06:26:49Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 6,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25458/comments",
   "created_at" : "2022-06-23T13:52:27Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25458/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/25458",
   "id" : 1282443913,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25458/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII5846PsRr",
   "number" : 25458,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/25458.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25458",
      "merged_at" : "2022-06-25T06:26:49Z",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/25458.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25458"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25458/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25458/timeline",
   "title" : "guix: parallelize LIEF build",
   "updated_at" : "2022-06-25T07:50:58Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25458",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
