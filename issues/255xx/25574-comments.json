[
   {
      "author_association" : "NONE",
      "body" : "I have tested the PR the command `./bitcoin-cli -signet verifychain 4 1000`  returns true , does it requires tests to be written ? ",
      "created_at" : "2022-07-09T03:31:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1179470404",
      "id" : 1179470404,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GTUpE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179470404/reactions"
      },
      "updated_at" : "2022-07-09T03:31:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179470404",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In the future the RPC can probably be extended with a \"warnings\" and \"error\" field, but this patch lgtm.",
      "created_at" : "2022-07-11T08:29:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1180113435",
      "id" : 1180113435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GVxob",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180113435/reactions"
      },
      "updated_at" : "2022-07-11T08:29:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180113435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "You mean changing the RPC return response prior adding objects for warning and error, \r\n\r\n```\r\nstatic RPCHelpMan verifychain()\r\nif warning then (display Warning)\r\nif error then  (display Error)\r\nor else return response \r\n```\r\n\r\nIt might require to or add new fields in the RPC?\r\n\r\nThis might mean that changing the way return is responding in RPC?",
      "created_at" : "2022-07-11T08:55:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1180138300",
      "id" : 1180138300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GV3s8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180138300/reactions"
      },
      "updated_at" : "2022-07-11T09:02:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180138300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Note that this doesn't only affect the `verifychain` RPC, but is also called as part of the startup (with the default level 3), which prevent the node from starting if validation fails.\r\nI think because of that, the current strategy is to only return an error if we are sure something is invalid, but permit the application to start with just a warning in the debug log if we couldn't complete all checks. If only the RPC was affected, it would be ok to just return an error if we weren't able to do all the checks we asked for.",
      "created_at" : "2022-07-11T14:50:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1180508441",
      "id" : 1180508441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GXSEZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180508441/reactions"
      },
      "updated_at" : "2022-07-11T14:50:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180508441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> verifychain\r\n\r\nThe above methods aborts, the code does produce assertion and thus abort, are you suggesting that it should rather identify for the user to simply ignore or warn the user that there is an issue with the verification of the chain, since we are starting up?\r\n\r\nI was thinking to simply ignore the assertion or probably by pass the assertion by catching it some way rather abort() and probably it will help for the better and cleaner user inspection.",
      "created_at" : "2022-07-12T13:18:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1181750127",
      "id" : 1181750127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GcBNv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181750127/reactions"
      },
      "updated_at" : "2022-07-12T13:19:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181750127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> are you suggesting that it should rather identify for the user to simply ignore or warn the user that there is an issue with the verification of the chain, since we are starting up?\r\n\r\nThis PR reduces the number of checks that are being made when there is not sufficient ccache memory, so that the assertion can't hit anymore (assertions can't be ignored in general).\r\nWhat I was talking about is what `VerifyDB()` should do if it didn't completely verify the blocks at the levels required (but also didn't encounter an actual error), and I explained why I think it is ok to give a warning in the debug log.",
      "created_at" : "2022-07-12T13:38:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1181772789",
      "id" : 1181772789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GcGv1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181772789/reactions"
      },
      "updated_at" : "2022-07-12T13:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181772789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Right, so it should be taken care by default or by input, as in this there is an input , so that means a user is always triggering the output. \r\n\r\nNow, this is my suggestion, that we should perhaps make this part of the default startup and should throw some debut output and continue with the startup process.?\r\n\r\nWhat do you think? @mzumsande ",
      "created_at" : "2022-07-14T09:35:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1184222135",
      "id" : 1184222135,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585Glcu3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184222135/reactions"
      },
      "updated_at" : "2022-07-14T09:35:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184222135",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Now, this is my suggestion, that we should perhaps make this part of the default startup and should throw some debut output and continue with the startup process.?\r\n\r\nNot sure I understand. `VerifyDB()` is already part of the default startup, and this PR adds a debug log entry if we skip some L3 checks because if our ccache is insufficient.",
      "created_at" : "2022-07-14T18:14:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1184755716",
      "id" : 1184755716,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GnfAE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184755716/reactions"
      },
      "updated_at" : "2022-07-14T18:14:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184755716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I was under the assumption that you are talking about VerifyDB() handling the checks like the above on its own on the startup, rather the rpc doing the check !",
      "created_at" : "2022-07-15T10:57:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1185430823",
      "id" : 1185430823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GqD0n",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1185430823/reactions"
      },
      "updated_at" : "2022-07-15T10:57:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1185430823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/25574#pullrequestreview-1207161140), [hernanmarino](https://github.com/bitcoin/bitcoin/pull/25574#pullrequestreview-1209340256) |\n| Stale ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/25574#pullrequestreview-1128499704), [achow101](https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1372674231), [john-moffett](https://github.com/bitcoin/bitcoin/pull/25574#pullrequestreview-1298034137), [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/25574#pullrequestreview-1299546032), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/25574#pullrequestreview-1300321762) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25977](https://github.com/bitcoin/bitcoin/pull/25977) (refactor: Replace `std::optional<bilingual_str>` with `util::Result` by ryanofsky)\n* [#25722](https://github.com/bitcoin/bitcoin/pull/25722) (refactor: Use util::Result class for wallet loading by ryanofsky)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure values, multiple error and warning messages by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-09-23T10:59:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1256070464",
      "id" : 1256070464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585K3h1A",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1256070464/reactions"
      },
      "updated_at" : "2023-02-16T22:41:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1256070464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r985851229"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985851229"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe put `Skipped verification of...` on it's own line:\r\n```bash\r\n2022-10-03T14:00:20Z Verifying last 6 blocks at level 4\r\n2022-10-03T14:00:20Z [0%]...[16%]...[25%]...[33%]...[41%]...[50%]...VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\r\n2022-10-03T14:00:20Z [DONE].\r\n```",
      "commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "created_at" : "2022-10-03T14:26:41Z",
      "diff_hunk" : "@@ -3975,30 +3976,36 @@ bool CVerifyDB::VerifyDB(\n         // check level 3: check for inconsistencies during memory-only disconnect of tip blocks\n         size_t curr_coins_usage = coins.DynamicMemoryUsage() + chainstate.CoinsTip().DynamicMemoryUsage();\n \n-        if (nCheckLevel >= 3 && curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n-            assert(coins.GetBestBlock() == pindex->GetBlockHash());\n-            DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n-            if (res == DISCONNECT_FAILED) {\n-                return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n-            }\n-            if (res == DISCONNECT_UNCLEAN) {\n-                nGoodTransactions = 0;\n-                pindexFailure = pindex;\n+        if (nCheckLevel >= 3) {\n+            if (curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n+                assert(coins.GetBestBlock() == pindex->GetBlockHash());\n+                DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n+                if (res == DISCONNECT_FAILED) {\n+                    return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+                }\n+                if (res == DISCONNECT_UNCLEAN) {\n+                    nGoodTransactions = 0;\n+                    pindexFailure = pindex;\n+                } else {\n+                    nGoodTransactions += block.vtx.size();\n+                }\n             } else {\n-                nGoodTransactions += block.vtx.size();\n+                skipped_l3_checks = true;\n             }\n         }\n         if (ShutdownRequested()) return true;\n     }\n     if (pindexFailure) {\n         return error(\"VerifyDB(): *** coin database inconsistencies found (last %i blocks, %i good transactions before that)\\n\", chainstate.m_chain.Height() - pindexFailure->nHeight + 1, nGoodTransactions);\n     }\n-\n+    if (skipped_l3_checks) {\n+        LogPrintf(\"VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r985851229",
      "id" : 985851229,
      "line" : 4002,
      "node_id" : "PRRC_kwDOABII5846wuVd",
      "original_commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "original_line" : 4002,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 46,
      "pull_request_review_id" : 1128499704,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985851229/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-03T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985851229",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r985930346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985930346"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think we can just put each of `[x%]` on it's own line. This would avoid breaking logging of other threads running at the same time, simplify the code, and also allow to see the timestamps over time.",
      "commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "created_at" : "2022-10-03T15:22:10Z",
      "diff_hunk" : "@@ -3975,30 +3976,36 @@ bool CVerifyDB::VerifyDB(\n         // check level 3: check for inconsistencies during memory-only disconnect of tip blocks\n         size_t curr_coins_usage = coins.DynamicMemoryUsage() + chainstate.CoinsTip().DynamicMemoryUsage();\n \n-        if (nCheckLevel >= 3 && curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n-            assert(coins.GetBestBlock() == pindex->GetBlockHash());\n-            DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n-            if (res == DISCONNECT_FAILED) {\n-                return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n-            }\n-            if (res == DISCONNECT_UNCLEAN) {\n-                nGoodTransactions = 0;\n-                pindexFailure = pindex;\n+        if (nCheckLevel >= 3) {\n+            if (curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n+                assert(coins.GetBestBlock() == pindex->GetBlockHash());\n+                DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n+                if (res == DISCONNECT_FAILED) {\n+                    return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+                }\n+                if (res == DISCONNECT_UNCLEAN) {\n+                    nGoodTransactions = 0;\n+                    pindexFailure = pindex;\n+                } else {\n+                    nGoodTransactions += block.vtx.size();\n+                }\n             } else {\n-                nGoodTransactions += block.vtx.size();\n+                skipped_l3_checks = true;\n             }\n         }\n         if (ShutdownRequested()) return true;\n     }\n     if (pindexFailure) {\n         return error(\"VerifyDB(): *** coin database inconsistencies found (last %i blocks, %i good transactions before that)\\n\", chainstate.m_chain.Height() - pindexFailure->nHeight + 1, nGoodTransactions);\n     }\n-\n+    if (skipped_l3_checks) {\n+        LogPrintf(\"VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r985930346",
      "id" : 985930346,
      "in_reply_to_id" : 985851229,
      "line" : 4002,
      "node_id" : "PRRC_kwDOABII5846xBpq",
      "original_commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "original_line" : 4002,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 46,
      "pull_request_review_id" : 1128592235,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985930346/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-03T15:22:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985930346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Happy to incorporate the suggestions from above here (no need for a follow-up).",
      "created_at" : "2022-10-03T17:48:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1265815195",
      "id" : 1265815195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585Lcs6b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265815195/reactions"
      },
      "updated_at" : "2022-10-03T17:48:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265815195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r986119713"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986119713"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Will add a commit to do that - the downside is obviously is that it makes the progress logging more verbose (up to 10 lines instead of one).",
      "commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "created_at" : "2022-10-03T18:54:19Z",
      "diff_hunk" : "@@ -3975,30 +3976,36 @@ bool CVerifyDB::VerifyDB(\n         // check level 3: check for inconsistencies during memory-only disconnect of tip blocks\n         size_t curr_coins_usage = coins.DynamicMemoryUsage() + chainstate.CoinsTip().DynamicMemoryUsage();\n \n-        if (nCheckLevel >= 3 && curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n-            assert(coins.GetBestBlock() == pindex->GetBlockHash());\n-            DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n-            if (res == DISCONNECT_FAILED) {\n-                return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n-            }\n-            if (res == DISCONNECT_UNCLEAN) {\n-                nGoodTransactions = 0;\n-                pindexFailure = pindex;\n+        if (nCheckLevel >= 3) {\n+            if (curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n+                assert(coins.GetBestBlock() == pindex->GetBlockHash());\n+                DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n+                if (res == DISCONNECT_FAILED) {\n+                    return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+                }\n+                if (res == DISCONNECT_UNCLEAN) {\n+                    nGoodTransactions = 0;\n+                    pindexFailure = pindex;\n+                } else {\n+                    nGoodTransactions += block.vtx.size();\n+                }\n             } else {\n-                nGoodTransactions += block.vtx.size();\n+                skipped_l3_checks = true;\n             }\n         }\n         if (ShutdownRequested()) return true;\n     }\n     if (pindexFailure) {\n         return error(\"VerifyDB(): *** coin database inconsistencies found (last %i blocks, %i good transactions before that)\\n\", chainstate.m_chain.Height() - pindexFailure->nHeight + 1, nGoodTransactions);\n     }\n-\n+    if (skipped_l3_checks) {\n+        LogPrintf(\"VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r986119713",
      "id" : 986119713,
      "in_reply_to_id" : 985851229,
      "line" : 4002,
      "node_id" : "PRRC_kwDOABII5846xv4h",
      "original_commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "original_line" : 4002,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 46,
      "pull_request_review_id" : 1128866200,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986119713/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-03T18:54:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986119713",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I expanded this PR to incorporate the feedback (and rebased):\r\nAdditionally changed behavior:\r\n- The rpc `-verifychain` now returns false if the check can't be completed due to insufficient cache.\r\n- During init, we only log a warning if the default values for `-checkblocks`Â and `-checklevel` are taken and the check doesn't complete. However, if the user actively specifies one of these args, we return with an InitError.\r\n- Logging of verification progress is split over multiple lines. This is more verbose, but now each update has its own timestamp, and other threads logging concurrently will no longer lead to mangled output.\r\n\r\nWill adjust OP and title.",
      "created_at" : "2022-10-07T17:07:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1271841883",
      "id" : 1271841883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585LzsRb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1271841883/reactions"
      },
      "updated_at" : "2022-10-07T17:14:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1271841883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r990321775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/990321775"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2022-10-07T17:08:36Z",
      "diff_hunk" : "@@ -3975,30 +3976,36 @@ bool CVerifyDB::VerifyDB(\n         // check level 3: check for inconsistencies during memory-only disconnect of tip blocks\n         size_t curr_coins_usage = coins.DynamicMemoryUsage() + chainstate.CoinsTip().DynamicMemoryUsage();\n \n-        if (nCheckLevel >= 3 && curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n-            assert(coins.GetBestBlock() == pindex->GetBlockHash());\n-            DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n-            if (res == DISCONNECT_FAILED) {\n-                return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n-            }\n-            if (res == DISCONNECT_UNCLEAN) {\n-                nGoodTransactions = 0;\n-                pindexFailure = pindex;\n+        if (nCheckLevel >= 3) {\n+            if (curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n+                assert(coins.GetBestBlock() == pindex->GetBlockHash());\n+                DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n+                if (res == DISCONNECT_FAILED) {\n+                    return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+                }\n+                if (res == DISCONNECT_UNCLEAN) {\n+                    nGoodTransactions = 0;\n+                    pindexFailure = pindex;\n+                } else {\n+                    nGoodTransactions += block.vtx.size();\n+                }\n             } else {\n-                nGoodTransactions += block.vtx.size();\n+                skipped_l3_checks = true;\n             }\n         }\n         if (ShutdownRequested()) return true;\n     }\n     if (pindexFailure) {\n         return error(\"VerifyDB(): *** coin database inconsistencies found (last %i blocks, %i good transactions before that)\\n\", chainstate.m_chain.Height() - pindexFailure->nHeight + 1, nGoodTransactions);\n     }\n-\n+    if (skipped_l3_checks) {\n+        LogPrintf(\"VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r990321775",
      "id" : 990321775,
      "in_reply_to_id" : 985851229,
      "line" : 4060,
      "node_id" : "PRRC_kwDOABII5847Bxxv",
      "original_commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "original_line" : 4060,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 104,
      "pull_request_review_id" : 1134849287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/990321775/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-07T17:08:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/990321775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1041340020"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041340020"
         }
      },
      "author_association" : "NONE",
      "body" : "nit: not sure about those extra spaces there; could you please double check what's mentioned in the [developer notes](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md) about [AlignAfterOpenBracket](https://clang.llvm.org/docs/ClangFormatStyleOptions.html) style option?\r\n",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2022-12-06T18:53:19Z",
      "diff_hunk" : "@@ -1107,7 +1107,7 @@ static RPCHelpMan verifychain()\n \n     Chainstate& active_chainstate = chainman.ActiveChainstate();\n     return CVerifyDB().VerifyDB(\n-        active_chainstate, chainman.GetParams().GetConsensus(), active_chainstate.CoinsTip(), check_level, check_depth);\n+               active_chainstate, chainman.GetParams().GetConsensus(), active_chainstate.CoinsTip(), check_level, check_depth) == VerifyDBResult::SUCCESS;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1041340020",
      "id" : 1041340020,
      "line" : 1110,
      "node_id" : "PRRC_kwDOABII584-EZZ0",
      "original_commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "original_line" : 1110,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 5,
      "pull_request_review_id" : 1207138496,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041340020/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-06T18:53:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041340020",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Just FYI, I was unable to reproduce the problem with `bitcoin-cli -signet verifychain 4 1000`. However, it did reproduce when I increased the number of blocks to 5000. I'll review this PR soon.",
      "created_at" : "2022-12-07T16:36:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1341247966",
      "id" : 1341247966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585P8dHe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341247966/reactions"
      },
      "updated_at" : "2022-12-07T16:36:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341247966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1042674069"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1042674069"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I ran the Clang formatter script over the commits (as described in `/contrib/devtools/README.txt`) and I'm pretty sure it added the space for me.",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2022-12-07T20:57:59Z",
      "diff_hunk" : "@@ -1107,7 +1107,7 @@ static RPCHelpMan verifychain()\n \n     Chainstate& active_chainstate = chainman.ActiveChainstate();\n     return CVerifyDB().VerifyDB(\n-        active_chainstate, chainman.GetParams().GetConsensus(), active_chainstate.CoinsTip(), check_level, check_depth);\n+               active_chainstate, chainman.GetParams().GetConsensus(), active_chainstate.CoinsTip(), check_level, check_depth) == VerifyDBResult::SUCCESS;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1042674069",
      "id" : 1042674069,
      "in_reply_to_id" : 1041340020,
      "line" : 1110,
      "node_id" : "PRRC_kwDOABII584-JfGV",
      "original_commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "original_line" : 1110,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 5,
      "pull_request_review_id" : 1209109557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1042674069/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-07T20:57:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1042674069",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-05T20:03:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1372674231",
      "id" : 1372674231,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585R0Vi3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1372674231/reactions"
      },
      "updated_at" : "2023-01-05T20:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1372674231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063401107"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063401107"
         }
      },
      "author_association" : "MEMBER",
      "body" : "e7dfc743406bfa0cac94c640dd5eaeac4364c990: Should be switch-case to avoid missing an error value?",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T12:32:51Z",
      "diff_hunk" : "@@ -166,10 +166,11 @@ ChainstateLoadResult VerifyLoadedChainstate(ChainstateManager& chainman, const C\n                                                          \"Only rebuild the block database if you are sure that your computer's date and time are correct\")};\n             }\n \n-            if (!CVerifyDB().VerifyDB(\n-                    *chainstate, chainman.GetConsensus(), chainstate->CoinsDB(),\n-                    options.check_level,\n-                    options.check_blocks)) {\n+            VerifyDBResult result = CVerifyDB().VerifyDB(\n+                *chainstate, chainman.GetConsensus(), chainstate->CoinsDB(),\n+                options.check_level,\n+                options.check_blocks);\n+            if (result == VerifyDBResult::ERROR_CORRUPTED_BLOCK_DB) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063401107",
      "id" : 1063401107,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII584_YjaT",
      "original_commit_id" : "e7dfc743406bfa0cac94c640dd5eaeac4364c990",
      "original_line" : 173,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/node/chainstate.cpp",
      "position" : 12,
      "pull_request_review_id" : 1238784237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063401107/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T12:54:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063401107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063401552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063401552"
         }
      },
      "author_association" : "MEMBER",
      "body" : "e7dfc743406bfa0cac94c640dd5eaeac4364c990: should be nodiscard?",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T12:33:39Z",
      "diff_hunk" : "@@ -343,12 +343,17 @@ bool HasValidProofOfWork(const std::vector<CBlockHeader>& headers, const Consens\n /** Return the sum of the work on a given set of headers */\n arith_uint256 CalculateHeadersWork(const std::vector<CBlockHeader>& headers);\n \n+enum class VerifyDBResult {\n+    SUCCESS,\n+    ERROR_CORRUPTED_BLOCK_DB,\n+};\n+\n /** RAII wrapper for VerifyDB: Verify consistency of the block and coin databases */\n class CVerifyDB {\n public:\n     CVerifyDB();\n     ~CVerifyDB();\n-    bool VerifyDB(\n+    VerifyDBResult VerifyDB(",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063401552",
      "id" : 1063401552,
      "line" : 357,
      "node_id" : "PRRC_kwDOABII584_YjhQ",
      "original_commit_id" : "e7dfc743406bfa0cac94c640dd5eaeac4364c990",
      "original_line" : 356,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 15,
      "pull_request_review_id" : 1238784237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063401552/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T12:54:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063401552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063404592"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063404592"
         }
      },
      "author_association" : "MEMBER",
      "body" : "42402bffda6643346cb2b51c9e85b389f3d19068: Any reason for this bool? The `DEFAULT_CHECKLEVEL` is `3`, presumably because `4` would almost never work anyway. And with `3` the check can't fail due to insufficient cache. Seems better to remove this bool and \"replace\" it with `true`?",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T12:39:12Z",
      "diff_hunk" : "@@ -1438,6 +1438,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         options.prune = node::fPruneMode;\n         options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n         options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n+        options.fail_on_insufficient_dbcache = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063404592",
      "id" : 1063404592,
      "line" : 1441,
      "node_id" : "PRRC_kwDOABII584_YkQw",
      "original_commit_id" : "42402bffda6643346cb2b51c9e85b389f3d19068",
      "original_line" : 1441,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 4,
      "pull_request_review_id" : 1238784237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063404592/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T12:54:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063404592",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063408314"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063408314"
         }
      },
      "author_association" : "MEMBER",
      "body" : "42402bffda6643346cb2b51c9e85b389f3d19068 nit: Maybe order this before/after `FAILURE_INCOMPATIBLE_DB` to group related things into one section?",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T12:45:58Z",
      "diff_hunk" : "@@ -35,7 +36,11 @@ struct ChainstateLoadOptions {\n //! case, and treat other cases as errors. More complex applications may want to\n //! try reindexing in the generic failure case, and pass an interrupt callback\n //! and exit cleanly in the interrupted case.\n-enum class ChainstateLoadStatus { SUCCESS, FAILURE, FAILURE_INCOMPATIBLE_DB, INTERRUPTED };\n+enum class ChainstateLoadStatus { SUCCESS,\n+                                  FAILURE,\n+                                  FAILURE_INCOMPATIBLE_DB,\n+                                  INTERRUPTED,\n+                                  FAILURE_INSUFFICIENT_DBCACHE };",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063408314",
      "id" : 1063408314,
      "line" : 43,
      "node_id" : "PRRC_kwDOABII584_YlK6",
      "original_commit_id" : "42402bffda6643346cb2b51c9e85b389f3d19068",
      "original_line" : 43,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/node/chainstate.h",
      "position" : 17,
      "pull_request_review_id" : 1238784237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063408314/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T12:54:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063408314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063408721"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063408721"
         }
      },
      "author_association" : "MEMBER",
      "body" : " 42402bffda6643346cb2b51c9e85b389f3d19068 nit : missing trailing `,`?",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T12:46:44Z",
      "diff_hunk" : "@@ -346,6 +346,7 @@ arith_uint256 CalculateHeadersWork(const std::vector<CBlockHeader>& headers);\n enum class VerifyDBResult {\n     SUCCESS,\n     ERROR_CORRUPTED_BLOCK_DB,\n+    ERROR_INSUFFICIENT_CACHE",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063408721",
      "id" : 1063408721,
      "line" : 349,
      "node_id" : "PRRC_kwDOABII584_YlRR",
      "original_commit_id" : "42402bffda6643346cb2b51c9e85b389f3d19068",
      "original_line" : 349,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 4,
      "pull_request_review_id" : 1238784237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063408721/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T12:54:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063408721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063411506"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063411506"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit 46ec70affaf6ea9d33a9c403b605c0fb5a0c1d6c: No need for the function name in newly added log message, since `-logsourcelocations` exists.",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T12:51:22Z",
      "diff_hunk" : "@@ -4028,30 +4029,36 @@ bool CVerifyDB::VerifyDB(\n         // check level 3: check for inconsistencies during memory-only disconnect of tip blocks\n         size_t curr_coins_usage = coins.DynamicMemoryUsage() + chainstate.CoinsTip().DynamicMemoryUsage();\n \n-        if (nCheckLevel >= 3 && curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n-            assert(coins.GetBestBlock() == pindex->GetBlockHash());\n-            DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n-            if (res == DISCONNECT_FAILED) {\n-                return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n-            }\n-            if (res == DISCONNECT_UNCLEAN) {\n-                nGoodTransactions = 0;\n-                pindexFailure = pindex;\n+        if (nCheckLevel >= 3) {\n+            if (curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n+                assert(coins.GetBestBlock() == pindex->GetBlockHash());\n+                DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n+                if (res == DISCONNECT_FAILED) {\n+                    return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+                }\n+                if (res == DISCONNECT_UNCLEAN) {\n+                    nGoodTransactions = 0;\n+                    pindexFailure = pindex;\n+                } else {\n+                    nGoodTransactions += block.vtx.size();\n+                }\n             } else {\n-                nGoodTransactions += block.vtx.size();\n+                skipped_l3_checks = true;\n             }\n         }\n         if (ShutdownRequested()) return true;\n     }\n     if (pindexFailure) {\n         return error(\"VerifyDB(): *** coin database inconsistencies found (last %i blocks, %i good transactions before that)\\n\", chainstate.m_chain.Height() - pindexFailure->nHeight + 1, nGoodTransactions);\n     }\n-\n+    if (skipped_l3_checks) {\n+        LogPrintf(\"VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063411506",
      "id" : 1063411506,
      "line" : 4060,
      "node_id" : "PRRC_kwDOABII584_Yl8y",
      "original_commit_id" : "46ec70affaf6ea9d33a9c403b605c0fb5a0c1d6c",
      "original_line" : 4055,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 46,
      "pull_request_review_id" : 1238784237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063411506/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T12:54:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063411506",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063413323"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063413323"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in e7dfc743406bfa0cac94c640dd5eaeac4364c990: (here and elsewhere)\r\n\r\nWhen changing this from `error`, which included `ERROR: ` in the log message, it could make sense to keep some kind of mention of \"error\" and instead remove the function name, which the user can already inject via `-logsourcelocations`.",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T12:54:23Z",
      "diff_hunk" : "@@ -4010,19 +4010,22 @@ bool CVerifyDB::VerifyDB(\n         CBlock block;\n         // check level 0: read from disk\n         if (!ReadBlockFromDisk(block, pindex, consensus_params)) {\n-            return error(\"VerifyDB(): *** ReadBlockFromDisk failed at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+            LogPrintf(\"VerifyDB(): *** ReadBlockFromDisk failed at %d, hash=%s\\n\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+            return VerifyDBResult::ERROR_CORRUPTED_BLOCK_DB;\n         }\n         // check level 1: verify block validity\n         if (nCheckLevel >= 1 && !CheckBlock(block, state, consensus_params)) {\n-            return error(\"%s: *** found bad block at %d, hash=%s (%s)\\n\", __func__,\n-                         pindex->nHeight, pindex->GetBlockHash().ToString(), state.ToString());\n+            LogPrintf(\"%s: *** found bad block at %d, hash=%s (%s)\\n\", __func__,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063413323",
      "id" : 1063413323,
      "line" : 4018,
      "node_id" : "PRRC_kwDOABII584_YmZL",
      "original_commit_id" : "e7dfc743406bfa0cac94c640dd5eaeac4364c990",
      "original_line" : 4018,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 30,
      "pull_request_review_id" : 1238784237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063413323/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T12:54:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063413323",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063419772"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063419772"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah, I see previously insufficient cache on level 3 would silently pass, but in this pull you changed it to an error",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T13:05:15Z",
      "diff_hunk" : "@@ -1438,6 +1438,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         options.prune = node::fPruneMode;\n         options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n         options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n+        options.fail_on_insufficient_dbcache = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063419772",
      "id" : 1063419772,
      "in_reply_to_id" : 1063404592,
      "line" : 1441,
      "node_id" : "PRRC_kwDOABII584_Yn98",
      "original_commit_id" : "42402bffda6643346cb2b51c9e85b389f3d19068",
      "original_line" : 1441,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 4,
      "pull_request_review_id" : 1238813089,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063419772/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T13:19:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063419772",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063433522"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063433522"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in a1c83166f33d44a0909d8789d3a4bc8b2539842e: Since this commit is a fixup (https://github.com/bitcoin/bitcoin/pull/25574#discussion_r985851229) to the first commit, it can be re-ordered right after the first commit, if you re-touch.",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T13:26:37Z",
      "diff_hunk" : "@@ -3986,15 +3986,15 @@ VerifyDBResult CVerifyDB::VerifyDB(\n     BlockValidationState state;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063433522",
      "id" : 1063433522,
      "line" : 3986,
      "node_id" : "PRRC_kwDOABII584_YrUy",
      "original_commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "original_line" : 3986,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 1,
      "pull_request_review_id" : 1238836363,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063433522/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T13:33:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063433522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063438040"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063438040"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I wonder if this requires a release note, or alternatively if the patch would be smaller and easier to review if it only fixed the level 4 issue and left level 3 as-is for now?",
      "commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "created_at" : "2023-01-06T13:33:05Z",
      "diff_hunk" : "@@ -1438,6 +1438,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         options.prune = node::fPruneMode;\n         options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n         options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n+        options.fail_on_insufficient_dbcache = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1063438040",
      "id" : 1063438040,
      "in_reply_to_id" : 1063404592,
      "line" : 1441,
      "node_id" : "PRRC_kwDOABII584_YsbY",
      "original_commit_id" : "42402bffda6643346cb2b51c9e85b389f3d19068",
      "original_line" : 1441,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 4,
      "pull_request_review_id" : 1238836363,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063438040/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-06T13:33:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1063438040",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081853702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081853702"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "changed to use `switch`.",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-01-19T20:54:07Z",
      "diff_hunk" : "@@ -166,10 +166,11 @@ ChainstateLoadResult VerifyLoadedChainstate(ChainstateManager& chainman, const C\n                                                          \"Only rebuild the block database if you are sure that your computer's date and time are correct\")};\n             }\n \n-            if (!CVerifyDB().VerifyDB(\n-                    *chainstate, chainman.GetConsensus(), chainstate->CoinsDB(),\n-                    options.check_level,\n-                    options.check_blocks)) {\n+            VerifyDBResult result = CVerifyDB().VerifyDB(\n+                *chainstate, chainman.GetConsensus(), chainstate->CoinsDB(),\n+                options.check_level,\n+                options.check_blocks);\n+            if (result == VerifyDBResult::ERROR_CORRUPTED_BLOCK_DB) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081853702",
      "id" : 1081853702,
      "in_reply_to_id" : 1063401107,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Ae8cG",
      "original_commit_id" : "e7dfc743406bfa0cac94c640dd5eaeac4364c990",
      "original_line" : 173,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/node/chainstate.cpp",
      "position" : null,
      "pull_request_review_id" : 1262605718,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081853702/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-19T20:54:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081853702",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081853801"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081853801"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-01-19T20:54:14Z",
      "diff_hunk" : "@@ -343,12 +343,17 @@ bool HasValidProofOfWork(const std::vector<CBlockHeader>& headers, const Consens\n /** Return the sum of the work on a given set of headers */\n arith_uint256 CalculateHeadersWork(const std::vector<CBlockHeader>& headers);\n \n+enum class VerifyDBResult {\n+    SUCCESS,\n+    ERROR_CORRUPTED_BLOCK_DB,\n+};\n+\n /** RAII wrapper for VerifyDB: Verify consistency of the block and coin databases */\n class CVerifyDB {\n public:\n     CVerifyDB();\n     ~CVerifyDB();\n-    bool VerifyDB(\n+    VerifyDBResult VerifyDB(",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081853801",
      "id" : 1081853801,
      "in_reply_to_id" : 1063401552,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Ae8dp",
      "original_commit_id" : "e7dfc743406bfa0cac94c640dd5eaeac4364c990",
      "original_line" : 356,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 1262605838,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081853801/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-19T20:54:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081853801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081853994"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081853994"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-01-19T20:54:29Z",
      "diff_hunk" : "@@ -35,7 +36,11 @@ struct ChainstateLoadOptions {\n //! case, and treat other cases as errors. More complex applications may want to\n //! try reindexing in the generic failure case, and pass an interrupt callback\n //! and exit cleanly in the interrupted case.\n-enum class ChainstateLoadStatus { SUCCESS, FAILURE, FAILURE_INCOMPATIBLE_DB, INTERRUPTED };\n+enum class ChainstateLoadStatus { SUCCESS,\n+                                  FAILURE,\n+                                  FAILURE_INCOMPATIBLE_DB,\n+                                  INTERRUPTED,\n+                                  FAILURE_INSUFFICIENT_DBCACHE };",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081853994",
      "id" : 1081853994,
      "in_reply_to_id" : 1063408314,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Ae8gq",
      "original_commit_id" : "42402bffda6643346cb2b51c9e85b389f3d19068",
      "original_line" : 43,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/node/chainstate.h",
      "position" : null,
      "pull_request_review_id" : 1262606111,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081853994/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-19T20:54:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081853994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081854500"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081854500"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "removed the function name.",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-01-19T20:55:08Z",
      "diff_hunk" : "@@ -4028,30 +4029,36 @@ bool CVerifyDB::VerifyDB(\n         // check level 3: check for inconsistencies during memory-only disconnect of tip blocks\n         size_t curr_coins_usage = coins.DynamicMemoryUsage() + chainstate.CoinsTip().DynamicMemoryUsage();\n \n-        if (nCheckLevel >= 3 && curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n-            assert(coins.GetBestBlock() == pindex->GetBlockHash());\n-            DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n-            if (res == DISCONNECT_FAILED) {\n-                return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n-            }\n-            if (res == DISCONNECT_UNCLEAN) {\n-                nGoodTransactions = 0;\n-                pindexFailure = pindex;\n+        if (nCheckLevel >= 3) {\n+            if (curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n+                assert(coins.GetBestBlock() == pindex->GetBlockHash());\n+                DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n+                if (res == DISCONNECT_FAILED) {\n+                    return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+                }\n+                if (res == DISCONNECT_UNCLEAN) {\n+                    nGoodTransactions = 0;\n+                    pindexFailure = pindex;\n+                } else {\n+                    nGoodTransactions += block.vtx.size();\n+                }\n             } else {\n-                nGoodTransactions += block.vtx.size();\n+                skipped_l3_checks = true;\n             }\n         }\n         if (ShutdownRequested()) return true;\n     }\n     if (pindexFailure) {\n         return error(\"VerifyDB(): *** coin database inconsistencies found (last %i blocks, %i good transactions before that)\\n\", chainstate.m_chain.Height() - pindexFailure->nHeight + 1, nGoodTransactions);\n     }\n-\n+    if (skipped_l3_checks) {\n+        LogPrintf(\"VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081854500",
      "id" : 1081854500,
      "in_reply_to_id" : 1063411506,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Ae8ok",
      "original_commit_id" : "46ec70affaf6ea9d33a9c403b605c0fb5a0c1d6c",
      "original_line" : 4055,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1262606836,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081854500/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-19T20:55:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081854500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081856225"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081856225"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed the logs to use \"Verification error: (...)\" everywhere.",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-01-19T20:57:18Z",
      "diff_hunk" : "@@ -4010,19 +4010,22 @@ bool CVerifyDB::VerifyDB(\n         CBlock block;\n         // check level 0: read from disk\n         if (!ReadBlockFromDisk(block, pindex, consensus_params)) {\n-            return error(\"VerifyDB(): *** ReadBlockFromDisk failed at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+            LogPrintf(\"VerifyDB(): *** ReadBlockFromDisk failed at %d, hash=%s\\n\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+            return VerifyDBResult::ERROR_CORRUPTED_BLOCK_DB;\n         }\n         // check level 1: verify block validity\n         if (nCheckLevel >= 1 && !CheckBlock(block, state, consensus_params)) {\n-            return error(\"%s: *** found bad block at %d, hash=%s (%s)\\n\", __func__,\n-                         pindex->nHeight, pindex->GetBlockHash().ToString(), state.ToString());\n+            LogPrintf(\"%s: *** found bad block at %d, hash=%s (%s)\\n\", __func__,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081856225",
      "id" : 1081856225,
      "in_reply_to_id" : 1063413323,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Ae9Dh",
      "original_commit_id" : "e7dfc743406bfa0cac94c640dd5eaeac4364c990",
      "original_line" : 4018,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1262609340,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081856225/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-19T20:57:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081856225",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081856314"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081856314"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-01-19T20:57:26Z",
      "diff_hunk" : "@@ -3986,15 +3986,15 @@ VerifyDBResult CVerifyDB::VerifyDB(\n     BlockValidationState state;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081856314",
      "id" : 1081856314,
      "in_reply_to_id" : 1063433522,
      "line" : 4082,
      "node_id" : "PRRC_kwDOABII585Ae9E6",
      "original_commit_id" : "a1c83166f33d44a0909d8789d3a4bc8b2539842e",
      "original_line" : 4082,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 20,
      "pull_request_review_id" : 1262609500,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081856314/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-19T20:57:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081856314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[a1c8316 ](https://github.com/bitcoin/bitcoin/commit/a1c83166f33d44a0909d8789d3a4bc8b2539842e)to [a96f7cb](https://github.com/bitcoin/bitcoin/commit/a96f7cb551b005aa5f6e68baaa8ba9806bcc504e): Addressed feedback by @MarcoFalke .\r\n\r\n> I wonder if this requires a release note, or alternatively if the patch would be smaller and easier to review if it only fixed the level 4 issue and left level 3 as-is for now?\r\n\r\nI still think that both parts make sense - fixing the assert fail, and changing the error handling to inform the user that the desired checks were not executed in the case of an insufficient cache instead of continuing silently.\r\n\r\nBut if reviewers would prefer it, I could split this into two parts: Reduce this PR to the first two commits (or maybe just the first), and then have a follow-up PR for the rest? Opinions?",
      "created_at" : "2023-01-19T21:03:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1397608175",
      "id" : 1397608175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585TTc7v",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1397608175/reactions"
      },
      "updated_at" : "2023-01-19T21:03:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1397608175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081861539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081861539"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I added a release note, for the rest see the top-level comment below.",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-01-19T21:04:13Z",
      "diff_hunk" : "@@ -1438,6 +1438,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         options.prune = node::fPruneMode;\n         options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n         options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n+        options.fail_on_insufficient_dbcache = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1081861539",
      "id" : 1081861539,
      "in_reply_to_id" : 1063404592,
      "line" : 1505,
      "node_id" : "PRRC_kwDOABII585Ae-Wj",
      "original_commit_id" : "42402bffda6643346cb2b51c9e85b389f3d19068",
      "original_line" : 1505,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 4,
      "pull_request_review_id" : 1262617258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081861539/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-19T21:04:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081861539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm in favor of this change as-is. I'd rather we start returning errors / fail to startup, and let the user know that they are requesting something impossible given their system, than continue to fail silently/not perform the requested checks.\r\n\r\nI think highlighting this in a release note is ok, and if some users have to modify their .conf files/runtime options, because their previously set arguments weren't actually acheiving anything (silent fail), that is also fine.",
      "created_at" : "2023-01-20T10:54:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1398218004",
      "id" : 1398218004,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585TVx0U",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398218004/reactions"
      },
      "updated_at" : "2023-01-20T10:54:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398218004",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> because their previously set arguments weren't actually acheiving anything (silent fail)\r\n\r\nNo, previously it was a silent *pass* on `verifychain` level 3. This pull changes it to the same type of fail (boolean value `false`) that would be occurring when the user ran into disk corruption. Not sure how user friendly that is. I am starting to think that if we want to return more error types from the rpc, it might be better to not cast every possible type into a boolean value.",
      "created_at" : "2023-01-20T12:40:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1398325105",
      "id" : 1398325105,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585TWL9x",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398325105/reactions"
      },
      "updated_at" : "2023-01-20T12:40:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398325105",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> No, previously it was a silent pass on verifychain level 3.\r\n\r\nRight, I misspoke, but I'd also consider it a \"fail\" for us to silently pass, but not actually do anything, if a user tries to perform a verification operation. I'm not sure why that's something we should continue to support, as opposed to telling the user it's not possible. In the worst case, at least it'd start exposing to users that calls they thought were previously doing something / meant something, actually don't.\r\n\r\n> I am starting to think that if we want to return more error types from the rpc, it might be better to not cast every possible type into a boolean value.\r\n\r\nYea, a more explanatory error would be better as opposed to false.",
      "created_at" : "2023-01-20T13:16:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1398364435",
      "id" : 1398364435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585TWVkT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398364435/reactions"
      },
      "updated_at" : "2023-01-20T13:16:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398364435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Yea, a more explanatory error would be better as opposed to false.\r\n\r\nThat's a breaking RPC change, because a call that previously returned true now returns false (or an error message). If the RPC interface is broken, it appears more user-friendly to do only once. (Again, not asking the author to do here, but including the breaking commit here could cause breaking changes to be split over several releases.)",
      "created_at" : "2023-01-20T13:24:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1398378899",
      "id" : 1398378899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585TWZGT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398378899/reactions"
      },
      "updated_at" : "2023-01-20T13:24:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398378899",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> That's a breaking RPC change, because a call that previously returned true now returns false (or an error message).\r\n\r\nI think breaking the RPC would be fine, given the currently returned result is potentially meaningless/unreliable. I'm wondering how much usage `verifychain` would actually get in the wild.",
      "created_at" : "2023-01-20T13:32:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1398398149",
      "id" : 1398398149,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585TWdzF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398398149/reactions"
      },
      "updated_at" : "2023-01-20T13:32:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398398149",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> That's a breaking RPC change, because a call that previously returned true now returns false (or an error message).\r\n\r\nThe RPC doc for `verifychain` says: \r\n```\r\nVerifies blockchain database.\r\n(...)\r\nResult: \r\ntrue|false    (boolean) Verified or not\r\n```\r\nIf the check didn't finish, the blockchain database was not verified, so the documentation is more in line with the behavior after this change than with the current behavior.",
      "created_at" : "2023-01-20T16:17:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1398619425",
      "id" : 1398619425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585TXT0h",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398619425/reactions"
      },
      "updated_at" : "2023-01-20T16:17:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398619425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "To make some progress, I decided to split this in two: I will soon open another PR just for the assertion error fix (would be nice to at least have this fix in 25.0 imo) and put this PR into draft / reopen it after that other PR gets merged.\r\n\r\n[Edit]: See #27009",
      "created_at" : "2023-01-31T15:59:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1410643788",
      "id" : 1410643788,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585UFLdM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410643788/reactions"
      },
      "updated_at" : "2023-01-31T18:42:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410643788",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase",
      "created_at" : "2023-02-06T08:53:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1418722986",
      "id" : 1418722986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585Uj_6q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1418722986/reactions"
      },
      "updated_at" : "2023-02-06T08:53:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1418722986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased and put out of draft.\r\n\r\nIn the discussion of #27009, the issue of checks being left unfinished due to no more data being available in pruning mode came up:\r\n> How is logging a warning for the not-enough-memory case different from logging a warning for the not-enough-storage case (pruning)? I think the warning can be displayed more prominently in a follow-up, but I think doing the same for similar cases seems fine. (https://github.com/bitcoin/bitcoin/pull/27009#issuecomment-1418721284)\r\n\r\nSo the question is should the behavior be analogous in the case where the checks are left uncompleted due to pruning? That is, should we both abort init in this case (if `-checkblocks` and `-checklevel` were overwritten by the user) and also return `false` in the RPC? (@john-moffett @MarcoFalke ).\r\n\r\nI kind of think that there is a small difference between the two cases: If it's due to `-dbcache`, the query makes sense and the user can react by increasing their dbcache, with pruning it might make sense to handle this case gracefully, e.g. by not aborting init.",
      "created_at" : "2023-02-06T21:17:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1419767399",
      "id" : 1419767399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585Un-5n",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419767399/reactions"
      },
      "updated_at" : "2023-02-06T21:17:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419767399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> should we both abort init in this case (if `-checkblocks` and `-checklevel` were overwritten by the user) \r\n\r\nIt's a close call for me. Given that the \"prune failure\" is unlikely to occur except on `-checkblocks` pretty substantially deep (at least 288, right?), I think it probably makes more sense to abort, since presumably they have a reason for it to be that deep. I suppose it also should be contingent on only having `-checkblocks` set. \r\n\r\nAgain, though, it's a close call. I'd be okay with just a more detailed warning (eg - last `n` blocks requested to be checked, but only `m` are available due to pruning).\r\n\r\n> and also return `false` in the RPC?\r\n\r\nI feel pretty strongly that we should, assuming we keep the boolean result, which I'm okay with. I'd also be okay if it were changed to a more expressive result, but maybe it doesn't need the additional complexity.  ",
      "created_at" : "2023-02-06T21:38:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1419797681",
      "id" : 1419797681,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585UoGSx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419797681/reactions"
      },
      "updated_at" : "2023-02-06T21:38:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419797681",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/116917595?v=4",
         "events_url" : "https://api.github.com/users/john-moffett/events{/privacy}",
         "followers_url" : "https://api.github.com/users/john-moffett/followers",
         "following_url" : "https://api.github.com/users/john-moffett/following{/other_user}",
         "gists_url" : "https://api.github.com/users/john-moffett/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/john-moffett",
         "id" : 116917595,
         "login" : "john-moffett",
         "node_id" : "U_kgDOBvgFWw",
         "organizations_url" : "https://api.github.com/users/john-moffett/orgs",
         "received_events_url" : "https://api.github.com/users/john-moffett/received_events",
         "repos_url" : "https://api.github.com/users/john-moffett/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/john-moffett/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/john-moffett/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/john-moffett"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[f5724d1 ](https://github.com/bitcoin/bitcoin/commit/f5724d18878c292e4cdc766ac93d28d4252dd157)to [080f83e](https://github.com/bitcoin/bitcoin/commit/080f83e43ddc1fd2ddc57f6590b9166a373d38c2):\r\n\r\nI added a commit to change the make the RPC return `false` in the case of unavailable data and improved the error messages. I left `init` behavior unchanged in this case (no aborts).",
      "created_at" : "2023-02-13T21:07:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1428684154",
      "id" : 1428684154,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585VJ_16",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428684154/reactions"
      },
      "updated_at" : "2023-02-13T21:07:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428684154",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK https://github.com/bitcoin/bitcoin/commit/080f83e43ddc1fd2ddc57f6590b9166a373d38c2 apart from the incidental test failure, which you've probably already caught:\r\n\r\n```diff\r\ndiff --git a/test/functional/feature_pruning.py b/test/functional/feature_pruning.py\r\nindex 664ed779db2..03f5f2c8037 100755\r\n--- a/test/functional/feature_pruning.py\r\n+++ b/test/functional/feature_pruning.py\r\n@@ -226 +226 @@ class PruneTest(BitcoinTestFramework):\r\n-        with self.nodes[2].assert_debug_log(expected_msgs=['block verification stopping at height', '(pruning, no data)']):\r\n+        with self.nodes[2].assert_debug_log(expected_msgs=['block verification stopping at height', '(no data)']):\r\n```",
      "created_at" : "2023-02-14T14:23:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1429827332",
      "id" : 1429827332,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585VOW8E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429827332/reactions"
      },
      "updated_at" : "2023-02-14T14:23:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429827332",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/116917595?v=4",
         "events_url" : "https://api.github.com/users/john-moffett/events{/privacy}",
         "followers_url" : "https://api.github.com/users/john-moffett/followers",
         "following_url" : "https://api.github.com/users/john-moffett/following{/other_user}",
         "gists_url" : "https://api.github.com/users/john-moffett/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/john-moffett",
         "id" : 116917595,
         "login" : "john-moffett",
         "node_id" : "U_kgDOBvgFWw",
         "organizations_url" : "https://api.github.com/users/john-moffett/orgs",
         "received_events_url" : "https://api.github.com/users/john-moffett/received_events",
         "repos_url" : "https://api.github.com/users/john-moffett/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/john-moffett/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/john-moffett/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/john-moffett"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> which you've probably already caught\r\n\r\nI hadn't, thanks for noticing! Fixed.",
      "created_at" : "2023-02-14T15:50:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1429968540",
      "id" : 1429968540,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585VO5ac",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 1,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429968540/reactions"
      },
      "updated_at" : "2023-02-14T15:50:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429968540",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107159246"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107159246"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 65067ee3d9730b9a121ed36d6a720cc7530a5d77: Could check that the return value is now `false`, instead of `true`?",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-15T13:57:25Z",
      "diff_hunk" : "@@ -223,7 +223,7 @@ def reorg_test(self):\n     def reorg_back(self):\n         # Verify that a block on the old main chain fork has been pruned away\n         assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[2].getblock, self.forkhash)\n-        with self.nodes[2].assert_debug_log(expected_msgs=['block verification stopping at height', '(pruning, no data)']):\n+        with self.nodes[2].assert_debug_log(expected_msgs=['block verification stopping at height', '(no data)']):\n             self.nodes[2].verifychain(checklevel=4, nblocks=0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107159246",
      "id" : 1107159246,
      "line" : 227,
      "node_id" : "PRRC_kwDOABII585B_ejO",
      "original_commit_id" : "65067ee3d9730b9a121ed36d6a720cc7530a5d77",
      "original_line" : 227,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/feature_pruning.py",
      "position" : 6,
      "pull_request_review_id" : 1299546032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107159246/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-15T14:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107159246",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107161592"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107161592"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in cf307244db97e7b9e29a3d0ff948a6fa7877b548: In the future it could make sense to return the error right away for better UX? But would probably be too much for this pull here? :man_shrugging: ",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-15T13:58:56Z",
      "diff_hunk" : "@@ -1110,7 +1110,7 @@ static RPCHelpMan verifychain()\n                     {\"nblocks\", RPCArg::Type::NUM, RPCArg::DefaultHint{strprintf(\"%d, 0=all\", DEFAULT_CHECKBLOCKS)}, \"The number of blocks to check.\"},\n                 },\n                 RPCResult{\n-                    RPCResult::Type::BOOL, \"\", \"Verified or not\"},\n+                    RPCResult::Type::BOOL, \"\", \"Verification finished successfully. If false, check debug.log for reason.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107161592",
      "id" : 1107161592,
      "line" : 1113,
      "node_id" : "PRRC_kwDOABII585B_fH4",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 1113,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 5,
      "pull_request_review_id" : 1299546032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107161592/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-15T14:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107161592",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107162432"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107162432"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in cf307244db97e7b9e29a3d0ff948a6fa7877b548, if you retouch: clang-format?\r\n\r\n\r\n```diff\r\ndiff --git a/src/node/chainstate.h b/src/node/chainstate.h\r\nindex db8b4f945e..1e885a22f1 100644\r\n--- a/src/node/chainstate.h\r\n+++ b/src/node/chainstate.h\r\n@@ -36,11 +36,12 @@ struct ChainstateLoadOptions {\r\n //! case, and treat other cases as errors. More complex applications may want to\r\n //! try reindexing in the generic failure case, and pass an interrupt callback\r\n //! and exit cleanly in the interrupted case.\r\n-enum class ChainstateLoadStatus { SUCCESS,\r\n-                                  FAILURE,\r\n-                                  FAILURE_INCOMPATIBLE_DB,\r\n-                                  FAILURE_INSUFFICIENT_DBCACHE,\r\n-                                  INTERRUPTED,\r\n+enum class ChainstateLoadStatus {\r\n+    SUCCESS,\r\n+    FAILURE,\r\n+    FAILURE_INCOMPATIBLE_DB,\r\n+    FAILURE_INSUFFICIENT_DBCACHE,\r\n+    INTERRUPTED,\r\n };\r\n \r\n //! Chainstate load status code and optional error string.\r\n",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-15T13:59:36Z",
      "diff_hunk" : "@@ -35,7 +36,12 @@ struct ChainstateLoadOptions {\n //! case, and treat other cases as errors. More complex applications may want to\n //! try reindexing in the generic failure case, and pass an interrupt callback\n //! and exit cleanly in the interrupted case.\n-enum class ChainstateLoadStatus { SUCCESS, FAILURE, FAILURE_INCOMPATIBLE_DB, INTERRUPTED };\n+enum class ChainstateLoadStatus { SUCCESS,\n+                                  FAILURE,\n+                                  FAILURE_INCOMPATIBLE_DB,\n+                                  FAILURE_INSUFFICIENT_DBCACHE,\n+                                  INTERRUPTED,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107162432",
      "id" : 1107162432,
      "line" : 43,
      "node_id" : "PRRC_kwDOABII585B_fVA",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 43,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/node/chainstate.h",
      "position" : 17,
      "pull_request_review_id" : 1299546032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107162432/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-15T14:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107162432",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107164412"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107164412"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 42b192f0cbf9c04da111145c921344b0881b3ce3: \r\n```suggestion\r\ndbcache, Bitcoin Core will now return an error at startup. (#25574)\r\n```\r\n\r\n(holds for bitcoin-qt as well)",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-15T14:01:08Z",
      "diff_hunk" : "@@ -0,0 +1,12 @@\n+Updated settings\n+----------------\n+\n+If the `-checkblocks` or `-checklevel` options are explicitly provided by the\n+user, but the verification checks cannot be completed due to an insufficient\n+dbcache, bitcoind will now return an error at startup. (#25574)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107164412",
      "id" : 1107164412,
      "line" : 6,
      "node_id" : "PRRC_kwDOABII585B_fz8",
      "original_commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes-25574.md",
      "position" : 6,
      "pull_request_review_id" : 1299546032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107164412/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-15T14:03:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107164412",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Please let us know if you want to get this merged or address them.\r\n\r\nI'll address the comments later this week!",
      "created_at" : "2023-02-15T15:22:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1431541515",
      "id" : 1431541515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585VU5cL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431541515/reactions"
      },
      "updated_at" : "2023-02-15T15:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431541515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107700526"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107700526"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"init, validation: Improve handling if VerifyDB() fails due to insufficient dbcache\" (cf307244db97e7b9e29a3d0ff948a6fa7877b548)\r\n\r\nThis commit seems to change behavior by no longer logging `No coin database inconsistencies in last %i blocks` in the case where `skipped_l3_checks` is true. I think it would be still be good to log the number of blocks checked and that no inconsistencies were found. Perhaps the easiest way to do that would be to revert the other changes to this function in this commit and just `return skipped_l3_checks ? INSUFFICIENT_CACHE : SUCCESS` at the end.",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-15T20:41:16Z",
      "diff_hunk" : "@@ -4154,13 +4154,14 @@ VerifyDBResult CVerifyDB::VerifyDB(\n     }\n     if (skipped_l3_checks) {\n         LogPrintf(\"Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");\n+        return VerifyDBResult::ERROR_INSUFFICIENT_CACHE;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107700526",
      "id" : 1107700526,
      "line" : 4159,
      "node_id" : "PRRC_kwDOABII585CBisu",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 4157,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 4,
      "pull_request_review_id" : 1300321762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107700526/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T15:29:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107700526",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108588225"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108588225"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "42b192f0cbf9c04da111145c921344b0881b3ce3\r\n\r\nWould suggest dropping two `ERROR_` prefixes here, because reason for inconsistent prefixes is not very clear, and the decision about whether to treat different conditions as errors should depend on the caller, not the implementation.\r\n\r\nI think a simple `{ SUCCESS, CORRUPTED_BLOCK_DB, INSUFFICIENT_CACHE, INSUFFICIENT_BLOCK_DATA }` result would suffice.\r\n\r\nYou could also go further and rename `INSUFFICIENT_CACHE` to `SKIPPED_L3_CHECKS` and rename `INSUFFICIENT_BLOCK_DATA` to `SKIPPED_MISSING_BLOCKS` so the check result plainly reflects the status of the check, not conditions leading to the status of the check. That would look like `{ SUCCESS, INTERRUPTED, SKIPPED_MISSING_BLOCKS, SKIPPED_L3_CHECKS, CORRUPTED_BLOCK_DB }`\r\n",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-16T14:55:38Z",
      "diff_hunk" : "@@ -349,12 +349,19 @@ bool HasValidProofOfWork(const std::vector<CBlockHeader>& headers, const Consens\n /** Return the sum of the work on a given set of headers */\n arith_uint256 CalculateHeadersWork(const std::vector<CBlockHeader>& headers);\n \n+enum class VerifyDBResult {\n+    SUCCESS,\n+    ERROR_CORRUPTED_BLOCK_DB,\n+    ERROR_INSUFFICIENT_CACHE,\n+    INSUFFICIENT_BLOCK_DATA,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108588225",
      "id" : 1108588225,
      "line" : 356,
      "node_id" : "PRRC_kwDOABII585CE7bB",
      "original_commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "original_line" : 356,
      "original_position" : 8,
      "original_start_line" : 354,
      "path" : "src/validation.h",
      "position" : 8,
      "pull_request_review_id" : 1300321762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108588225/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 354,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-16T15:29:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108588225",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108607226"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108607226"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"init, validation: Improve handling if VerifyDB() fails due to insufficient dbcache\" (cf307244db97e7b9e29a3d0ff948a6fa7877b548)\r\n\r\nThis block of code seems to duplicate a block of code in `AppInitMain`, but in the `AppInitMain` block this PR is setting `fail_on_insufficient_dbcache` to `args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\")`, while here it is being set to `false`. Probably both blocks of code should be deduplicated and call a shared function later. But for now it would be better to avoid creating unnecessary differences in the two blocks of code. Or if there is a reason test code is doing something different, there should be a code comment explaining why.",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-16T15:07:45Z",
      "diff_hunk" : "@@ -218,6 +218,7 @@ void TestingSetup::LoadVerifyActivateChainstate()\n     options.prune = chainman.m_blockman.IsPruneMode();\n     options.check_blocks = m_args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = m_args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n+    options.fail_on_insufficient_dbcache = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108607226",
      "id" : 1108607226,
      "line" : 221,
      "node_id" : "PRRC_kwDOABII585CFAD6",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 221,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : 4,
      "pull_request_review_id" : 1300321762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108607226/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T15:29:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108607226",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108613248"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108613248"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"validation: Change return value of VerifyDB to enum type\" (422127b696f390e7cd34e897e7d74f09e3dae2cb)\r\n\r\nIn the interest of preventing future bugs where shutdown could be interpreted as success, it seems like it would be less misleading (and easy) to return a `VerifyDBResult::INTERRUPTED` error code here, analogous to `ChainstateLoadStatus::INTERRUPTED`.",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-16T15:11:33Z",
      "diff_hunk" : "@@ -4142,14 +4146,16 @@ bool CVerifyDB::VerifyDB(\n                 skipped_l3_checks = true;\n             }\n         }\n-        if (ShutdownRequested()) return true;\n+        if (ShutdownRequested()) return VerifyDBResult::SUCCESS;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108613248",
      "id" : 1108613248,
      "line" : 4151,
      "node_id" : "PRRC_kwDOABII585CFBiA",
      "original_commit_id" : "422127b696f390e7cd34e897e7d74f09e3dae2cb",
      "original_line" : 4149,
      "original_position" : 60,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 60,
      "pull_request_review_id" : 1300321762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108613248/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T15:29:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108613248",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108655998"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108655998"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"init, validation: Improve handling if VerifyDB() fails due to insufficient dbcache\" (cf307244db97e7b9e29a3d0ff948a6fa7877b548)\r\n\r\n`true` might be a safer default for libbitcoinkernel. Also the name of this option `ChainstateLoadOptions::fail_on_insufficient_dbcache` seems a little misleading because it seems like it is referring to insuffcient dbcache for loading, not insufficient_dbcache for verification. Would maybe change it to `ChainstateLoadOptions::require_full_verification` with a comment that setting the option to false can allow using a smaller dbcache size.",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-16T15:36:20Z",
      "diff_hunk" : "@@ -25,6 +25,7 @@ struct ChainstateLoadOptions {\n     bool reindex{false};\n     bool reindex_chainstate{false};\n     bool prune{false};\n+    bool fail_on_insufficient_dbcache{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108655998",
      "id" : 1108655998,
      "line" : 28,
      "node_id" : "PRRC_kwDOABII585CFL9-",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 28,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/chainstate.h",
      "position" : 4,
      "pull_request_review_id" : 1301734436,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108655998/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T15:38:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108655998",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108687736"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108687736"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe just drop the hunk? Shouldn't matter either way :man_shrugging: ",
      "commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "created_at" : "2023-02-16T15:56:53Z",
      "diff_hunk" : "@@ -218,6 +218,7 @@ void TestingSetup::LoadVerifyActivateChainstate()\n     options.prune = chainman.m_blockman.IsPruneMode();\n     options.check_blocks = m_args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = m_args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n+    options.fail_on_insufficient_dbcache = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1108687736",
      "id" : 1108687736,
      "in_reply_to_id" : 1108607226,
      "line" : 221,
      "node_id" : "PRRC_kwDOABII585CFTt4",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 221,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : 4,
      "pull_request_review_id" : 1301779015,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108687736/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T15:56:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108687736",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109097868"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109097868"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "8f4753a38f73cdcb77b0d41e7959ec1288d73d66",
      "created_at" : "2023-02-16T22:43:45Z",
      "diff_hunk" : "@@ -223,7 +223,7 @@ def reorg_test(self):\n     def reorg_back(self):\n         # Verify that a block on the old main chain fork has been pruned away\n         assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[2].getblock, self.forkhash)\n-        with self.nodes[2].assert_debug_log(expected_msgs=['block verification stopping at height', '(pruning, no data)']):\n+        with self.nodes[2].assert_debug_log(expected_msgs=['block verification stopping at height', '(no data)']):\n             self.nodes[2].verifychain(checklevel=4, nblocks=0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109097868",
      "id" : 1109097868,
      "in_reply_to_id" : 1107159246,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CG32M",
      "original_commit_id" : "65067ee3d9730b9a121ed36d6a720cc7530a5d77",
      "original_line" : 227,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/feature_pruning.py",
      "position" : null,
      "pull_request_review_id" : 1302395491,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109097868/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T22:43:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109097868",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109098979"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109098979"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "That would break the existing API though - there might be users out there who'd need to adjust automated scripts if -`verifychain` returned a more complicated JSON object instead of a bool. \r\nI think I'd ACK a pull that does that, but would prefer not to include it here unless people really want it.",
      "commit_id" : "8f4753a38f73cdcb77b0d41e7959ec1288d73d66",
      "created_at" : "2023-02-16T22:45:39Z",
      "diff_hunk" : "@@ -1110,7 +1110,7 @@ static RPCHelpMan verifychain()\n                     {\"nblocks\", RPCArg::Type::NUM, RPCArg::DefaultHint{strprintf(\"%d, 0=all\", DEFAULT_CHECKBLOCKS)}, \"The number of blocks to check.\"},\n                 },\n                 RPCResult{\n-                    RPCResult::Type::BOOL, \"\", \"Verified or not\"},\n+                    RPCResult::Type::BOOL, \"\", \"Verification finished successfully. If false, check debug.log for reason.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109098979",
      "id" : 1109098979,
      "in_reply_to_id" : 1107161592,
      "line" : 1113,
      "node_id" : "PRRC_kwDOABII585CG4Hj",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 1113,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 5,
      "pull_request_review_id" : 1302397136,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109098979/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T22:45:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109098979",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109099170"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109099170"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fixed, though my local clang-format didn't complain before.",
      "commit_id" : "8f4753a38f73cdcb77b0d41e7959ec1288d73d66",
      "created_at" : "2023-02-16T22:46:02Z",
      "diff_hunk" : "@@ -35,7 +36,12 @@ struct ChainstateLoadOptions {\n //! case, and treat other cases as errors. More complex applications may want to\n //! try reindexing in the generic failure case, and pass an interrupt callback\n //! and exit cleanly in the interrupted case.\n-enum class ChainstateLoadStatus { SUCCESS, FAILURE, FAILURE_INCOMPATIBLE_DB, INTERRUPTED };\n+enum class ChainstateLoadStatus { SUCCESS,\n+                                  FAILURE,\n+                                  FAILURE_INCOMPATIBLE_DB,\n+                                  FAILURE_INSUFFICIENT_DBCACHE,\n+                                  INTERRUPTED,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109099170",
      "id" : 1109099170,
      "in_reply_to_id" : 1107162432,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CG4Ki",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 43,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/node/chainstate.h",
      "position" : null,
      "pull_request_review_id" : 1302397429,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109099170/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T22:46:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109099170",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109099295"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109099295"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "8f4753a38f73cdcb77b0d41e7959ec1288d73d66",
      "created_at" : "2023-02-16T22:46:14Z",
      "diff_hunk" : "@@ -0,0 +1,12 @@\n+Updated settings\n+----------------\n+\n+If the `-checkblocks` or `-checklevel` options are explicitly provided by the\n+user, but the verification checks cannot be completed due to an insufficient\n+dbcache, bitcoind will now return an error at startup. (#25574)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109099295",
      "id" : 1109099295,
      "in_reply_to_id" : 1107164412,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CG4Mf",
      "original_commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes-25574.md",
      "position" : null,
      "pull_request_review_id" : 1302397595,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109099295/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T22:46:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109099295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109101200"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109101200"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done - decided to use `if` instead of ternary because `skipped_no_block_data` is treated similarly.\r\nI decided to give `skipped_l3_checks` precedence - so if in addition to this, `skipped_no_block_data` is also true, we'd  report `VerifyDBResult::SKIPPED_L3_CHECKS` (which influences whether an InitError might be thrown).",
      "commit_id" : "0af16e7134459e0820ab95d751093876c1ec4c6d",
      "created_at" : "2023-02-16T22:49:21Z",
      "diff_hunk" : "@@ -4154,13 +4154,14 @@ VerifyDBResult CVerifyDB::VerifyDB(\n     }\n     if (skipped_l3_checks) {\n         LogPrintf(\"Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");\n+        return VerifyDBResult::ERROR_INSUFFICIENT_CACHE;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109101200",
      "id" : 1109101200,
      "in_reply_to_id" : 1107700526,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CG4qQ",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 4157,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1302400233,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109101200/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T23:10:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109101200",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109101932"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109101932"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done, using the second suggestion.",
      "commit_id" : "8f4753a38f73cdcb77b0d41e7959ec1288d73d66",
      "created_at" : "2023-02-16T22:50:27Z",
      "diff_hunk" : "@@ -349,12 +349,19 @@ bool HasValidProofOfWork(const std::vector<CBlockHeader>& headers, const Consens\n /** Return the sum of the work on a given set of headers */\n arith_uint256 CalculateHeadersWork(const std::vector<CBlockHeader>& headers);\n \n+enum class VerifyDBResult {\n+    SUCCESS,\n+    ERROR_CORRUPTED_BLOCK_DB,\n+    ERROR_INSUFFICIENT_CACHE,\n+    INSUFFICIENT_BLOCK_DATA,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109101932",
      "id" : 1109101932,
      "in_reply_to_id" : 1108588225,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CG41s",
      "original_commit_id" : "42b192f0cbf9c04da111145c921344b0881b3ce3",
      "original_line" : 356,
      "original_position" : 8,
      "original_start_line" : 354,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 1302401199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109101932/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-16T22:50:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109101932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109103203"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109103203"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "changed to use same setting as in `AppInitMain`.",
      "commit_id" : "8f4753a38f73cdcb77b0d41e7959ec1288d73d66",
      "created_at" : "2023-02-16T22:52:30Z",
      "diff_hunk" : "@@ -218,6 +218,7 @@ void TestingSetup::LoadVerifyActivateChainstate()\n     options.prune = chainman.m_blockman.IsPruneMode();\n     options.check_blocks = m_args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = m_args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n+    options.fail_on_insufficient_dbcache = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109103203",
      "id" : 1109103203,
      "in_reply_to_id" : 1108607226,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CG5Jj",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 221,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : null,
      "pull_request_review_id" : 1302402993,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109103203/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T22:52:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109103203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109104170"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109104170"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good point! I added a commit to do this and adjusted the release notes (since this also changes the behavior of the `-verifydb` RPC)",
      "commit_id" : "8f4753a38f73cdcb77b0d41e7959ec1288d73d66",
      "created_at" : "2023-02-16T22:53:59Z",
      "diff_hunk" : "@@ -4142,14 +4146,16 @@ bool CVerifyDB::VerifyDB(\n                 skipped_l3_checks = true;\n             }\n         }\n-        if (ShutdownRequested()) return true;\n+        if (ShutdownRequested()) return VerifyDBResult::SUCCESS;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109104170",
      "id" : 1109104170,
      "in_reply_to_id" : 1108613248,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CG5Yq",
      "original_commit_id" : "422127b696f390e7cd34e897e7d74f09e3dae2cb",
      "original_line" : 4149,
      "original_position" : 60,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1302404265,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109104170/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T22:54:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109104170",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109110569"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109110569"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "changed to `ChainstateLoadOptions::fail_on_insufficient_dbcache`\r\nalso changed the default, although it's never used because the bool is set during init.\r\n\r\nI don't understand the comment. `require_full_verification` is not an option the user can set, it's value is determined by `-checkblocks` and `-checklevel`. So if a user wants to run with an extremely low dbcache, they should change those parameters (or just keep the default so that init will only warn).",
      "commit_id" : "0af16e7134459e0820ab95d751093876c1ec4c6d",
      "created_at" : "2023-02-16T23:04:00Z",
      "diff_hunk" : "@@ -25,6 +25,7 @@ struct ChainstateLoadOptions {\n     bool reindex{false};\n     bool reindex_chainstate{false};\n     bool prune{false};\n+    bool fail_on_insufficient_dbcache{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109110569",
      "id" : 1109110569,
      "in_reply_to_id" : 1108655998,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CG68p",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 28,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/chainstate.h",
      "position" : null,
      "pull_request_review_id" : 1302412935,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109110569/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T23:07:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109110569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[42b192f ](https://github.com/bitcoin/bitcoin/commit/42b192f0cbf9c04da111145c921344b0881b3ce3)to [0af16e7](https://github.com/bitcoin/bitcoin/commit/0af16e7134459e0820ab95d751093876c1ec4c6d):\r\n\r\nAddressed comments by @MarcoFalke and @ryanofsky, thanks for the reviews!\r\nAlso changed title and adjusted OP since this is no longer just about `-dbcache`-related error handling.",
      "created_at" : "2023-02-16T23:17:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1433870960",
      "id" : 1433870960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585VdyJw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1433870960/reactions"
      },
      "updated_at" : "2023-02-16T23:17:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1433870960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109999734"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109999734"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1107700526\r\n\r\nNice, it's good that returning in one place makes it easier to see what the precedence is, or change what's returned in the future.\r\n\r\n",
      "commit_id" : "0af16e7134459e0820ab95d751093876c1ec4c6d",
      "created_at" : "2023-02-17T15:46:09Z",
      "diff_hunk" : "@@ -4154,13 +4154,14 @@ VerifyDBResult CVerifyDB::VerifyDB(\n     }\n     if (skipped_l3_checks) {\n         LogPrintf(\"Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");\n+        return VerifyDBResult::ERROR_INSUFFICIENT_CACHE;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109999734",
      "id" : 1109999734,
      "in_reply_to_id" : 1107700526,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CKUB2",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 4157,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1303685598,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109999734/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T16:45:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109999734",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1110019015"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110019015"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1109110569\r\n\r\nThanks for implementing the suggestion. This comment was not about `bitcoind`, but about code that uses libbitcoinkernel such as:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/fe1b3256888bd0e70d0c9655f565e139ec87b606/src/bitcoin-chainstate.cpp#L93-L96\r\n\r\nCode like this has it's own options and defaults, and is not aware of `checkblocks` or `checklevel`. It is just calling and using the `LoadChainstate` function directly. From the perspective of a `LoadChainstate` caller, I think `fail_on_insufficient_dbcache` could have been misleading because it sounds like it would allow loading with an insufficient dbcache, not just verifying with an insufficient dbcache. I do think in either case it wouldn't be bad for the option to have a code comment, so I suggested one below.",
      "commit_id" : "0af16e7134459e0820ab95d751093876c1ec4c6d",
      "created_at" : "2023-02-17T16:03:53Z",
      "diff_hunk" : "@@ -25,6 +25,7 @@ struct ChainstateLoadOptions {\n     bool reindex{false};\n     bool reindex_chainstate{false};\n     bool prune{false};\n+    bool fail_on_insufficient_dbcache{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1110019015",
      "id" : 1110019015,
      "in_reply_to_id" : 1108655998,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CKYvH",
      "original_commit_id" : "cf307244db97e7b9e29a3d0ff948a6fa7877b548",
      "original_line" : 28,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/chainstate.h",
      "position" : null,
      "pull_request_review_id" : 1303685598,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110019015/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T16:45:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110019015",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1110031541"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110031541"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"init, validation: Improve handling if VerifyDB() fails due to insufficient dbcache\" (0c7785bb2540b69564104767d38342704230cbc2)\r\n\r\nMight be worth adding a comment to explain why you would set the option. Maybe:\r\n\r\n```c++\r\n//! Setting require_full_verification to true will require all checks at\r\n//! check_level (below) to succeed for loading to succeed. Setting it to\r\n//! false will skip checks if cache is not big enough to run them, so may be\r\n//! helpful for running with a small cache.\r\n```",
      "commit_id" : "0af16e7134459e0820ab95d751093876c1ec4c6d",
      "created_at" : "2023-02-17T16:15:35Z",
      "diff_hunk" : "@@ -25,6 +25,7 @@ struct ChainstateLoadOptions {\n     bool reindex{false};\n     bool reindex_chainstate{false};\n     bool prune{false};\n+    bool require_full_verification{true};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1110031541",
      "id" : 1110031541,
      "line" : 28,
      "node_id" : "PRRC_kwDOABII585CKby1",
      "original_commit_id" : "0c7785bb2540b69564104767d38342704230cbc2",
      "original_line" : 28,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/chainstate.h",
      "position" : 4,
      "pull_request_review_id" : 1303685598,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110031541/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T16:45:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110031541",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1110037026"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110037026"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"validation: Change return value of VerifyDB to enum type\" (6360b5302d2675788de5c4a28ea77d823f6d809e)\r\n\r\nCommit message says this does not change behavior, but this is changing log prints slightly replacing `VerifyDB():` prefix with `Verification error:`. This is probably a good change, but could be clarified in the commit message.",
      "commit_id" : "0af16e7134459e0820ab95d751093876c1ec4c6d",
      "created_at" : "2023-02-17T16:21:10Z",
      "diff_hunk" : "@@ -4106,19 +4106,22 @@ bool CVerifyDB::VerifyDB(\n         CBlock block;\n         // check level 0: read from disk\n         if (!ReadBlockFromDisk(block, pindex, consensus_params)) {\n-            return error(\"VerifyDB(): *** ReadBlockFromDisk failed at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+            LogPrintf(\"Verification error: ReadBlockFromDisk failed at %d, hash=%s\\n\", pindex->nHeight, pindex->GetBlockHash().ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1110037026",
      "id" : 1110037026,
      "line" : 4111,
      "node_id" : "PRRC_kwDOABII585CKdIi",
      "original_commit_id" : "6360b5302d2675788de5c4a28ea77d823f6d809e",
      "original_line" : 4109,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 23,
      "pull_request_review_id" : 1303685598,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110037026/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T16:45:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110037026",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1110050930"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110050930"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"validation: return VerifyDBResult::INTERRUPTED if verification was interrupted\" (d6f781f1cfcbc2c2ad5ee289a0642ed00386d013)\r\n\r\nIt would be less surprising to have `VerifyDBResult::INTERRUPTED` return `ChainstateLoadStatus::INTERRUPTED` than `ChainstateLoadStatus::SUCCESS`. Another potentially good side effect would be that it would avoid the caller printing a misleading load time if the load didn't really succeed:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/fe1b3256888bd0e70d0c9655f565e139ec87b606/src/init.cpp#L1520-L1524\r\n\r\n",
      "commit_id" : "0af16e7134459e0820ab95d751093876c1ec4c6d",
      "created_at" : "2023-02-17T16:34:20Z",
      "diff_hunk" : "@@ -193,6 +193,7 @@ ChainstateLoadResult VerifyLoadedChainstate(ChainstateManager& chainman, const C\n                 options.check_blocks);\n             switch (result) {\n             case VerifyDBResult::SUCCESS:\n+            case VerifyDBResult::INTERRUPTED:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1110050930",
      "id" : 1110050930,
      "line" : 196,
      "node_id" : "PRRC_kwDOABII585CKghy",
      "original_commit_id" : "d6f781f1cfcbc2c2ad5ee289a0642ed00386d013",
      "original_line" : 196,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/chainstate.cpp",
      "position" : 4,
      "pull_request_review_id" : 1303685598,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110050930/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T16:45:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110050930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1114212689"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114212689"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in d6f781f1cfcbc2c2ad5ee289a0642ed00386d013 (commit message), only if you retouch:\r\n\r\nI think the rpc is called `verifychain` and not `-verifydb`?",
      "commit_id" : "0af16e7134459e0820ab95d751093876c1ec4c6d",
      "created_at" : "2023-02-22T11:44:29Z",
      "diff_hunk" : "@@ -352,6 +352,7 @@ arith_uint256 CalculateHeadersWork(const std::vector<CBlockHeader>& headers);\n enum class VerifyDBResult {\n     SUCCESS,\n     CORRUPTED_BLOCK_DB,\n+    INTERRUPTED,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1114212689",
      "id" : 1114212689,
      "line" : 355,
      "node_id" : "PRRC_kwDOABII585CaYlR",
      "original_commit_id" : "d6f781f1cfcbc2c2ad5ee289a0642ed00386d013",
      "original_line" : 355,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 4,
      "pull_request_review_id" : 1309073307,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114212689/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-22T11:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114212689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1115048043"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115048043"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Makes sense - I'll open a small follow-up to address this in a few days.",
      "commit_id" : "0af16e7134459e0820ab95d751093876c1ec4c6d",
      "created_at" : "2023-02-22T22:35:52Z",
      "diff_hunk" : "@@ -193,6 +193,7 @@ ChainstateLoadResult VerifyLoadedChainstate(ChainstateManager& chainman, const C\n                 options.check_blocks);\n             switch (result) {\n             case VerifyDBResult::SUCCESS:\n+            case VerifyDBResult::INTERRUPTED:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r1115048043",
      "id" : 1115048043,
      "in_reply_to_id" : 1110050930,
      "line" : 196,
      "node_id" : "PRRC_kwDOABII585Cdkhr",
      "original_commit_id" : "d6f781f1cfcbc2c2ad5ee289a0642ed00386d013",
      "original_line" : 196,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/chainstate.cpp",
      "position" : 4,
      "pull_request_review_id" : 1310382433,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115048043/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-22T22:35:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115048043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   }
]
