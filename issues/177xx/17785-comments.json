[
   {
      "author_association" : "MEMBER",
      "body" : "> The change in behavior: with this PR VERACK message is sent and received with the common protocol version rather than INIT_PROTO_VERSION.\r\n\r\nHow does this change behavior? verack has no payload, so serialization flags can't possibly change the serialization.",
      "created_at" : "2019-12-20T18:51:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-568043011",
      "id" : 568043011,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODA0MzAxMQ==",
      "updated_at" : "2019-12-20T18:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568043011",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> How does this change behavior? verack has no payload, so serialization flags can't possibly change the serialization.\r\n\r\nYou are right. I did not mean change of external behavior. Bad wording. Mind help me re-word it?\r\nOr just skip it?",
      "created_at" : "2019-12-20T18:54:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-568043803",
      "id" : 568043803,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODA0MzgwMw==",
      "updated_at" : "2019-12-20T18:55:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568043803",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If correct, this is a very nice simplification.",
      "created_at" : "2020-01-13T10:36:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-573599724",
      "id" : 573599724,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MzU5OTcyNA==",
      "updated_at" : "2020-01-13T10:36:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/573599724",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19866 (RFC: eBPF Linux tracepoints by jb55)\n* #19794 (p2p: Remove fGetAddr flag by mzumsande)\n* #19776 (net, rpc: expose high bandwidth mode state via getpeerinfo by theStack)\n* #19509 (Per-Peer Message Logging by troygiorshev)\n* #19107 (p2p: Move all header verification into the network layer, extend logging by troygiorshev)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-01-17T06:57:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-575500379",
      "id" : 575500379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NTUwMDM3OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T15:37:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/575500379",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">   You are right. I did not mean change of external behavior. Bad wording. Mind help me re-word it?\r\nOr just skip it?\r\n\r\nI'd suggest removing that, and explicitly say that there is *no* change in behavior on the P2P network.",
      "created_at" : "2020-02-06T12:13:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-582878136",
      "id" : 582878136,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4Mjg3ODEzNg==",
      "updated_at" : "2020-02-06T12:13:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/582878136",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj \r\n> > You are right. I did not mean change of external behavior. Bad wording. Mind help me re-word it?\r\n> > Or just skip it?\r\n> \r\n> I'd suggest removing that, and explicitly say that there is _no_ change in behavior on the P2P network.\r\n\r\nDone. Thank you for your suggestion.",
      "created_at" : "2020-02-06T16:21:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-582985047",
      "id" : 582985047,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4Mjk4NTA0Nw==",
      "updated_at" : "2020-02-06T16:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/582985047",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-06-04T20:36:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-639102781",
      "id" : 639102781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzOTEwMjc4MQ==",
      "updated_at" : "2020-06-04T20:36:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/639102781",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased 25b93f13f08fba0a25c3480e158d131eea8795e5 -> 5a89c1792ed3658d145c9ed3353e3f596727c2fe ([pr17785.02](https://github.com/hebasto/bitcoin/commits/pr17785.02) -> [pr17785.03](https://github.com/hebasto/bitcoin/commits/pr17785.03)) due to the conflict with #19053.",
      "created_at" : "2020-06-05T07:30:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-639309525",
      "id" : 639309525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzOTMwOTUyNQ==",
      "updated_at" : "2020-06-05T07:30:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/639309525",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased 25b93f13f08fba0a25c3480e158d131eea8795e5 -> cc5dba8e1fd2586dee32e1d19e8867e5f6b03754 ([pr17785.02](https://github.com/hebasto/bitcoin/commits/pr17785.02) -> [pr17785.04](https://github.com/hebasto/bitcoin/commits/pr17785.04)) due to the conflict with #19053.",
      "created_at" : "2020-06-06T06:57:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-639998536",
      "id" : 639998536,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzOTk5ODUzNg==",
      "updated_at" : "2020-06-06T06:57:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/639998536",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased cc5dba8e1fd2586dee32e1d19e8867e5f6b03754 -> e268f6451fd2e5b57e8d7409c2853bea984a1ba9 ([pr17785.04](https://github.com/hebasto/bitcoin/commits/pr17785.04) -> [pr17785.05](https://github.com/hebasto/bitcoin/commits/pr17785.05)) due to the conflict with #14033.",
      "created_at" : "2020-07-10T18:18:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-656815889",
      "id" : 656815889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NjgxNTg4OQ==",
      "updated_at" : "2020-07-10T18:18:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656815889",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery Mind looking into this PR?",
      "created_at" : "2020-07-10T19:57:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-656863304",
      "id" : 656863304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1Njg2MzMwNA==",
      "updated_at" : "2020-07-10T19:57:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656863304",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. The version fields in `CNode` are confusing. After version negotiation, I think we should only need one field to track common version. A couple of comments:\r\n\r\n- there's also an `nVersion` field. Can that also be merged?\r\n- would it make sense for `CNode` or `CNodeState` to store a `CNetMsgMaker` rather than constructing it in every function it needs to use it in?",
      "created_at" : "2020-07-10T20:41:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-656880630",
      "id" : 656880630,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1Njg4MDYzMA==",
      "updated_at" : "2020-07-10T20:41:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656880630",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-07-11T11:47:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-657051764",
      "id" : 657051764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzA1MTc2NA==",
      "updated_at" : "2020-07-11T11:47:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657051764",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-07-15T14:45:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-658812421",
      "id" : 658812421,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1ODgxMjQyMQ==",
      "updated_at" : "2020-07-15T14:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/658812421",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased e268f6451fd2e5b57e8d7409c2853bea984a1ba9 -> 7b12f25d34e7af6a518e17456a48be493282deb3 ([pr17785.05](https://github.com/hebasto/bitcoin/commits/pr17785.05) -> [pr17785.06](https://github.com/hebasto/bitcoin/commits/pr17785.06)) due to the conflicts with #19316, #19174, #18044, #19472, #19512.",
      "created_at" : "2020-08-21T10:50:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-678228850",
      "id" : 678228850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3ODIyODg1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-21T10:50:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/678228850",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery  \r\n>  - there's also an `nVersion` field. Can that also be merged?\r\n\r\nIf our node is not upgraded, comparing to its peer, `nVersion` and `m_greatest_common_version` would differ.",
      "created_at" : "2020-08-21T10:55:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-678231578",
      "id" : 678231578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3ODIzMTU3OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-21T10:55:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/678231578",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery \r\n>  - would it make sense for `CNode` or `CNodeState` to store a `CNetMsgMaker` rather than constructing it in every function it needs to use it in?\r\n\r\nI think yes. The same idea came into my head while was working on this PR. But not in this PR scope.",
      "created_at" : "2020-08-21T10:57:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-678232489",
      "id" : 678232489,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3ODIzMjQ4OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-21T10:57:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/678232489",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> If our node is not upgraded, comparing to its peer, nVersion and m_greatest_common_version would differ.\r\n\r\nRight, but there's nothing we can do with that information. If a node has a higher version than us, it means that it has some functionality that we're unaware of. We can't do anything with that information except perhaps report it in logs and in getpeerinfo. All peer logic in net_processing should be based on the highest common version.",
      "created_at" : "2020-08-24T10:17:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-679040954",
      "id" : 679040954,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTA0MDk1NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T10:17:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679040954",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 7b12f25d34e7af6a518e17456a48be493282deb3 -> 659a90cb93cbe9a894cae461e0401ed32b25caf3 ([pr17785.06](https://github.com/hebasto/bitcoin/commits/pr17785.06) -> [pr17785.07](https://github.com/hebasto/bitcoin/commits/pr17785.07)):\r\n- rebased due to the conflict with #19704\r\n- implemented @jnewbery's [suggestion](https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-679040954):\r\n> All peer logic in net_processing should be based on the highest common version.\r\n\r\n",
      "created_at" : "2020-08-24T23:29:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-679416590",
      "id" : 679416590,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTQxNjU5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T23:29:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679416590",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 659a90cb93cbe9a894cae461e0401ed32b25caf3. Nice tidy-up. Thanks hebasto!",
      "created_at" : "2020-08-25T10:32:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-679944234",
      "id" : 679944234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTk0NDIzNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T10:32:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679944234",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased 659a90cb93cbe9a894cae461e0401ed32b25caf3 -> dc56e956fb988003777a949350f08b7964bd3452 ([pr17785.07](https://github.com/hebasto/bitcoin/commits/pr17785.07) -> [pr17785.08](https://github.com/hebasto/bitcoin/commits/pr17785.08)) due to the conflict with #19668.",
      "created_at" : "2020-09-01T07:30:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-684514491",
      "id" : 684514491,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDUxNDQ5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T07:30:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684514491",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased dc56e956fb988003777a949350f08b7964bd3452 -> e68912bc559197d3c82c581a1f64ec4c06f119da ([pr17785.08](https://github.com/hebasto/bitcoin/commits/pr17785.08) -> [pr17785.09](https://github.com/hebasto/bitcoin/commits/pr17785.09)) due to the conflict with #19067.",
      "created_at" : "2020-09-01T08:09:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-684539373",
      "id" : 684539373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDUzOTM3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T08:09:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684539373",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK e68912bc559197d3c82c581a1f64ec4c06f119da",
      "created_at" : "2020-09-01T08:35:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-684576581",
      "id" : 684576581,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDU3NjU4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T08:35:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684576581",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-09-03T13:22:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-686486821",
      "id" : 686486821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NjQ4NjgyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-03T13:22:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686486821",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased e68912bc559197d3c82c581a1f64ec4c06f119da -> 646ddf115a7d82d5b2e05452e25736fb65cf9f03 ([pr17785.09](https://github.com/hebasto/bitcoin/commits/pr17785.09) -> [pr17785.10](https://github.com/hebasto/bitcoin/commits/pr17785.10)) due to the conflict with #19724.",
      "created_at" : "2020-09-03T18:14:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-686663714",
      "id" : 686663714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NjY2MzcxNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-03T18:14:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686663714",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 646ddf115a7d82d5b2e05452e25736fb65cf9f03\r\n\r\n(verified `git range-diff e68912bc55~4..e68912bc55 646ddf115a~4..646ddf115a`. This was a trivial rebase)",
      "created_at" : "2020-09-04T08:04:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-686987191",
      "id" : 686987191,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Njk4NzE5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T08:04:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686987191",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-09-07T17:41:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-688452377",
      "id" : 688452377,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODQ1MjM3Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T17:41:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688452377",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased 646ddf115a7d82d5b2e05452e25736fb65cf9f03 -> ddefb5c0b759950942ac03f28c43b548af7b4033 ([pr17785.10](https://github.com/hebasto/bitcoin/commits/pr17785.10) -> [pr17785.11](https://github.com/hebasto/bitcoin/commits/pr17785.11)) due to the conflict with #19791.",
      "created_at" : "2020-09-07T18:08:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-688461276",
      "id" : 688461276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODQ2MTI3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T18:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688461276",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK ddefb5c0b759950942ac03f28c43b548af7b4033\r\n\r\nVerified `git range-diff 646ddf115a~4..646ddf115a ddefb5c0b7~4..ddefb5c0b7`",
      "created_at" : "2020-09-08T10:44:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-688784836",
      "id" : 688784836,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODc4NDgzNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T10:44:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688784836",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke @amiti @sipa Mind looking into this PR?",
      "created_at" : "2020-09-08T11:06:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-688795967",
      "id" : 688795967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODc5NTk2Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T11:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688795967",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK ddefb5c0b759950942ac03f28c43b548af7b4033\r\ngood refactoring",
      "created_at" : "2020-09-08T14:31:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-688916758",
      "id" : 688916758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODkxNjc1OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T14:31:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688916758",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485241606"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485241606"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm slightly confused about why this was originally sending `INIT_PROTO_VERSION` (and below). the patch is fixing it to match my expectations, but I think this means a small change in the p2p message right? \r\n\r\nhaven't looked into the history yet, am I missing something? ",
      "commit_id" : "ddefb5c0b759950942ac03f28c43b548af7b4033",
      "created_at" : "2020-09-08T23:01:54Z",
      "diff_hunk" : "@@ -2406,10 +2406,10 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             PushNodeVersion(pfrom, m_connman, GetAdjustedTime());\n \n         if (nVersion >= WTXID_RELAY_VERSION) {\n-            m_connman.PushMessage(&pfrom, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::WTXIDRELAY));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485241606",
      "id" : 485241606,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MTYwNg==",
      "original_commit_id" : "e9a6d8b13b0558b17cdafbd32fd2663b4138ff11",
      "original_line" : 2409,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 105,
      "pull_request_review_id" : 484550800,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-09T00:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485241606",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485249774"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485249774"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: missing newline between functions ",
      "commit_id" : "ddefb5c0b759950942ac03f28c43b548af7b4033",
      "created_at" : "2020-09-08T23:28:28Z",
      "diff_hunk" : "@@ -1065,16 +1064,14 @@ class CNode\n \n     bool ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete);\n \n-    void SetRecvVersion(int nVersionIn)\n+    void SetCommonVersion(int greatest_common_version)\n     {\n-        nRecvVersion = nVersionIn;\n+        m_greatest_common_version = greatest_common_version;\n     }\n-    int GetRecvVersion() const\n+    int GetCommonVersion() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485249774",
      "id" : 485249774,
      "line" : 1071,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0OTc3NA==",
      "original_commit_id" : "ddefb5c0b759950942ac03f28c43b548af7b4033",
      "original_line" : 1071,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 35,
      "pull_request_review_id" : 484550800,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-09T00:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485249774",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485257095"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485257095"
         }
      },
      "author_association" : "MEMBER",
      "body" : "just noting that we lose the error logging previously present for `nSendVersion` (don't set more than once, don't get before setting). I think thats fine though. ",
      "commit_id" : "ddefb5c0b759950942ac03f28c43b548af7b4033",
      "created_at" : "2020-09-08T23:52:45Z",
      "diff_hunk" : "@@ -1065,16 +1064,14 @@ class CNode\n \n     bool ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete);\n \n-    void SetRecvVersion(int nVersionIn)\n+    void SetCommonVersion(int greatest_common_version)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485257095",
      "id" : 485257095,
      "line" : 1067,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1NzA5NQ==",
      "original_commit_id" : "ddefb5c0b759950942ac03f28c43b548af7b4033",
      "original_line" : 1067,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 29,
      "pull_request_review_id" : 484550800,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-09T00:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485257095",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@amitiuttarwar \r\n> I wondering if after these changes we can get rid of the `CNode.nVersion` field entirely. I gave it a quick shot here: [amitiuttarwar@ef2b862](https://github.com/amitiuttarwar/bitcoin/commit/ef2b8620dcc4123a3f62be48943490f72c40cfaf). It compiles & I think it makes sense (maybe one clarification in a log), but haven't evaluated super closely.\r\n\r\n@jnewbery [raised](https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-656880630) the same question. This could be resolved in a follow-up PR.\r\nI think we need smth like `bool CNode::VersionMsgAlreadyReceived()`.",
      "created_at" : "2020-09-09T06:45:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-689343968",
      "id" : 689343968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4OTM0Mzk2OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-09T06:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/689343968",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485384872"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485384872"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> I'm slightly confused about why this was originally sending `INIT_PROTO_VERSION` (and below).\r\n\r\nI don't know the whole historical context, but it seems the reason is that on that stage the `INIT_PROTO_VERSION` is the only known version on which both the node and its peer are agree as version is changed later: https://github.com/bitcoin/bitcoin/blob/4f229d8904f8e3494cab30d61df9f11f1cc06388/src/net_processing.cpp#L2432-L2434\r\n\r\n>  I think this means a small change in the p2p message right?\r\n\r\nSee: https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-568043011",
      "commit_id" : "ddefb5c0b759950942ac03f28c43b548af7b4033",
      "created_at" : "2020-09-09T07:06:18Z",
      "diff_hunk" : "@@ -2406,10 +2406,10 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             PushNodeVersion(pfrom, m_connman, GetAdjustedTime());\n \n         if (nVersion >= WTXID_RELAY_VERSION) {\n-            m_connman.PushMessage(&pfrom, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::WTXIDRELAY));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485384872",
      "id" : 485384872,
      "in_reply_to_id" : 485241606,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM4NDg3Mg==",
      "original_commit_id" : "e9a6d8b13b0558b17cdafbd32fd2663b4138ff11",
      "original_line" : 2409,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 105,
      "pull_request_review_id" : 484716923,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-09T07:06:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485384872",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485434256"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485434256"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe the only object that is serialized differently based on p2p version is a CAddress, so the addresses in the `version` message don't have timestamps.\r\n\r\nChanging the serialization version for a wtxid message has no effect.",
      "commit_id" : "ddefb5c0b759950942ac03f28c43b548af7b4033",
      "created_at" : "2020-09-09T08:32:12Z",
      "diff_hunk" : "@@ -2406,10 +2406,10 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             PushNodeVersion(pfrom, m_connman, GetAdjustedTime());\n \n         if (nVersion >= WTXID_RELAY_VERSION) {\n-            m_connman.PushMessage(&pfrom, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::WTXIDRELAY));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485434256",
      "id" : 485434256,
      "in_reply_to_id" : 485241606,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNDI1Ng==",
      "original_commit_id" : "e9a6d8b13b0558b17cdafbd32fd2663b4138ff11",
      "original_line" : 2409,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 105,
      "pull_request_review_id" : 484779620,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-09T08:32:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485434256",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think `nVersion` is still useful for `getpeerstat` to display which version was received from the peer, although perhaps it could be renamed to `m_version_received` or similar in a future PR.",
      "created_at" : "2020-09-09T08:45:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-689421560",
      "id" : 689421560,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4OTQyMTU2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-09T08:45:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/689421560",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code review ACK ddefb5c0b759950942ac03f28c43b548af7b4033\r\n\r\nNice cleanup!",
      "created_at" : "2020-09-09T13:56:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-689579894",
      "id" : 689579894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4OTU3OTg5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-09T13:56:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/689579894",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485985834"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485985834"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah, okay, that clears up my confusion about possible change. thank you!\r\n\r\nstill doesn't make sense why it was that way,\r\n>  it seems the reason is that on that stage the INIT_PROTO_VERSION is the only known version on which both the node and its peer are agree as version is changed later:\r\n\r\nyeah, but the local `nSendVersion` was set earlier\r\n\r\nbut I don't think that's super important now that I understand the context better. \r\n\r\nthanks! ",
      "commit_id" : "ddefb5c0b759950942ac03f28c43b548af7b4033",
      "created_at" : "2020-09-10T00:01:37Z",
      "diff_hunk" : "@@ -2406,10 +2406,10 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             PushNodeVersion(pfrom, m_connman, GetAdjustedTime());\n \n         if (nVersion >= WTXID_RELAY_VERSION) {\n-            m_connman.PushMessage(&pfrom, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::WTXIDRELAY));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#discussion_r485985834",
      "id" : 485985834,
      "in_reply_to_id" : 485241606,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk4NTgzNA==",
      "original_commit_id" : "e9a6d8b13b0558b17cdafbd32fd2663b4138ff11",
      "original_line" : 2409,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 105,
      "pull_request_review_id" : 485479556,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17785",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-10T00:01:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/485985834",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "code review but untested ACK ddefb5c0b7\r\n\r\n\r\n------\r\n\r\nfor another PR: \r\n\r\n@hebasto \r\n> @jnewbery raised the same question. This could be resolved in a follow-up PR.\r\nI think we need smth like bool CNode::VersionMsgAlreadyReceived().\r\n\r\nyeah, but I got slightly confused because based on [this comment](https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-679416590) I thought you might have been getting rid of `nVersion` entirely. no worries :) I just wanted to highlight for future improvements. \r\n",
      "created_at" : "2020-09-10T00:40:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17785#issuecomment-689899720",
      "id" : 689899720,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17785",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4OTg5OTcyMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-10T00:40:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/689899720",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   }
]
